var XX=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var vUe=XX((PUe,L0)=>{function eee(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function vf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WC={exports:{}},Vp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function tee(){if(hN)return Vp;hN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var a in r)a!=="key"&&(s[a]=r[a])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Vp.Fragment=e,Vp.jsx=t,Vp.jsxs=t,Vp}var mN;function nee(){return mN||(mN=1,WC.exports=tee()),WC.exports}var y=nee(),GC={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function iee(){if(gN)return Et;gN=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function S(V,fe,Pe){this.props=V,this.context=fe,this.refs=x,this.updater=Pe||w}S.prototype.isReactComponent={},S.prototype.setState=function(V,fe){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,fe,"setState")},S.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=S.prototype;function I(V,fe,Pe){this.props=V,this.context=fe,this.refs=x,this.updater=Pe||w}var O=I.prototype=new P;O.constructor=I,A(O,S.prototype),O.isPureReactComponent=!0;var M=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function $(V,fe,Pe,Ae,q,U){return Pe=U.ref,{$$typeof:n,type:V,key:fe,ref:Pe!==void 0?Pe:null,props:U}}function L(V,fe){return $(V.type,fe,void 0,void 0,void 0,V.props)}function ee(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function pe(V){var fe={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Pe){return fe[Pe]})}var Se=/\/+/g;function ge(V,fe){return typeof V=="object"&&V!==null&&V.key!=null?pe(""+V.key):fe.toString(36)}function Ee(){}function Te(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ee,Ee):(V.status="pending",V.then(function(fe){V.status==="pending"&&(V.status="fulfilled",V.value=fe)},function(fe){V.status==="pending"&&(V.status="rejected",V.reason=fe)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Be(V,fe,Pe,Ae,q){var U=typeof V;(U==="undefined"||U==="boolean")&&(V=null);var ce=!1;if(V===null)ce=!0;else switch(U){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(V.$$typeof){case n:case e:ce=!0;break;case f:return ce=V._init,Be(ce(V._payload),fe,Pe,Ae,q)}}if(ce)return q=q(V),ce=Ae===""?"."+ge(V,0):Ae,M(q)?(Pe="",ce!=null&&(Pe=ce.replace(Se,"$&/")+"/"),Be(q,fe,Pe,"",function(Ie){return Ie})):q!=null&&(ee(q)&&(q=L(q,Pe+(q.key==null||V&&V.key===q.key?"":(""+q.key).replace(Se,"$&/")+"/")+ce)),fe.push(q)),1;ce=0;var re=Ae===""?".":Ae+":";if(M(V))for(var we=0;we<V.length;we++)Ae=V[we],U=re+ge(Ae,we),ce+=Be(Ae,fe,Pe,U,q);else if(we=p(V),typeof we=="function")for(V=we.call(V),we=0;!(Ae=V.next()).done;)Ae=Ae.value,U=re+ge(Ae,we++),ce+=Be(Ae,fe,Pe,U,q);else if(U==="object"){if(typeof V.then=="function")return Be(Te(V),fe,Pe,Ae,q);throw fe=String(V),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Y(V,fe,Pe){if(V==null)return V;var Ae=[],q=0;return Be(V,Ae,"","",function(U){return fe.call(Pe,U,q++)}),Ae}function de(V){if(V._status===-1){var fe=V._result;fe=fe(),fe.then(function(Pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=Pe)},function(Pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=Pe)}),V._status===-1&&(V._status=0,V._result=fe)}if(V._status===1)return V._result.default;throw V._result}var Q=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function be(){}return Et.Children={map:Y,forEach:function(V,fe,Pe){Y(V,function(){fe.apply(this,arguments)},Pe)},count:function(V){var fe=0;return Y(V,function(){fe++}),fe},toArray:function(V){return Y(V,function(fe){return fe})||[]},only:function(V){if(!ee(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Et.Component=S,Et.Fragment=t,Et.Profiler=r,Et.PureComponent=I,Et.StrictMode=i,Et.Suspense=l,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Et.__COMPILER_RUNTIME={__proto__:null,c:function(V){return B.H.useMemoCache(V)}},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cloneElement=function(V,fe,Pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Ae=A({},V.props),q=V.key,U=void 0;if(fe!=null)for(ce in fe.ref!==void 0&&(U=void 0),fe.key!==void 0&&(q=""+fe.key),fe)!W.call(fe,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&fe.ref===void 0||(Ae[ce]=fe[ce]);var ce=arguments.length-2;if(ce===1)Ae.children=Pe;else if(1<ce){for(var re=Array(ce),we=0;we<ce;we++)re[we]=arguments[we+2];Ae.children=re}return $(V.type,q,void 0,void 0,U,Ae)},Et.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},Et.createElement=function(V,fe,Pe){var Ae,q={},U=null;if(fe!=null)for(Ae in fe.key!==void 0&&(U=""+fe.key),fe)W.call(fe,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(q[Ae]=fe[Ae]);var ce=arguments.length-2;if(ce===1)q.children=Pe;else if(1<ce){for(var re=Array(ce),we=0;we<ce;we++)re[we]=arguments[we+2];q.children=re}if(V&&V.defaultProps)for(Ae in ce=V.defaultProps,ce)q[Ae]===void 0&&(q[Ae]=ce[Ae]);return $(V,U,void 0,void 0,null,q)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:a,render:V}},Et.isValidElement=ee,Et.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:de}},Et.memo=function(V,fe){return{$$typeof:d,type:V,compare:fe===void 0?null:fe}},Et.startTransition=function(V){var fe=B.T,Pe={};B.T=Pe;try{var Ae=V(),q=B.S;q!==null&&q(Pe,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(be,Q)}catch(U){Q(U)}finally{B.T=fe}},Et.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Et.use=function(V){return B.H.use(V)},Et.useActionState=function(V,fe,Pe){return B.H.useActionState(V,fe,Pe)},Et.useCallback=function(V,fe){return B.H.useCallback(V,fe)},Et.useContext=function(V){return B.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,fe){return B.H.useDeferredValue(V,fe)},Et.useEffect=function(V,fe,Pe){var Ae=B.H;if(typeof Pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ae.useEffect(V,fe)},Et.useId=function(){return B.H.useId()},Et.useImperativeHandle=function(V,fe,Pe){return B.H.useImperativeHandle(V,fe,Pe)},Et.useInsertionEffect=function(V,fe){return B.H.useInsertionEffect(V,fe)},Et.useLayoutEffect=function(V,fe){return B.H.useLayoutEffect(V,fe)},Et.useMemo=function(V,fe){return B.H.useMemo(V,fe)},Et.useOptimistic=function(V,fe){return B.H.useOptimistic(V,fe)},Et.useReducer=function(V,fe,Pe){return B.H.useReducer(V,fe,Pe)},Et.useRef=function(V){return B.H.useRef(V)},Et.useState=function(V){return B.H.useState(V)},Et.useSyncExternalStore=function(V,fe,Pe){return B.H.useSyncExternalStore(V,fe,Pe)},Et.useTransition=function(){return B.H.useTransition()},Et.version="19.1.1",Et}var pN;function Iv(){return pN||(pN=1,GC.exports=iee()),GC.exports}var C=Iv();const Ue=vf(C),CF=eee({__proto__:null,default:Ue},[C]);var YC={exports:{}},Lp={},KC={exports:{}},qC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function ree(){return bN||(bN=1,(function(n){function e(Y,de){var Q=Y.length;Y.push(de);e:for(;0<Q;){var be=Q-1>>>1,V=Y[be];if(0<r(V,de))Y[be]=de,Y[Q]=V,Q=be;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var de=Y[0],Q=Y.pop();if(Q!==de){Y[0]=Q;e:for(var be=0,V=Y.length,fe=V>>>1;be<fe;){var Pe=2*(be+1)-1,Ae=Y[Pe],q=Pe+1,U=Y[q];if(0>r(Ae,Q))q<V&&0>r(U,Ae)?(Y[be]=U,Y[q]=Q,be=q):(Y[be]=Ae,Y[Pe]=Q,be=Pe);else if(q<V&&0>r(U,Q))Y[be]=U,Y[q]=Q,be=q;else break e}}return de}function r(Y,de){var Q=Y.sortIndex-de.sortIndex;return Q!==0?Q:Y.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,m=null,p=3,w=!1,A=!1,x=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var de=t(d);de!==null;){if(de.callback===null)i(d);else if(de.startTime<=Y)i(d),de.sortIndex=de.expirationTime,e(l,de);else break;de=t(d)}}function B(Y){if(x=!1,M(Y),!A)if(t(l)!==null)A=!0,W||(W=!0,ge());else{var de=t(d);de!==null&&Be(B,de.startTime-Y)}}var W=!1,$=-1,L=5,ee=-1;function pe(){return S?!0:!(n.unstable_now()-ee<L)}function Se(){if(S=!1,W){var Y=n.unstable_now();ee=Y;var de=!0;try{e:{A=!1,x&&(x=!1,I($),$=-1),w=!0;var Q=p;try{t:{for(M(Y),m=t(l);m!==null&&!(m.expirationTime>Y&&pe());){var be=m.callback;if(typeof be=="function"){m.callback=null,p=m.priorityLevel;var V=be(m.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){m.callback=V,M(Y),de=!0;break t}m===t(l)&&i(l),M(Y)}else i(l);m=t(l)}if(m!==null)de=!0;else{var fe=t(d);fe!==null&&Be(B,fe.startTime-Y),de=!1}}break e}finally{m=null,p=Q,w=!1}de=void 0}}finally{de?ge():W=!1}}}var ge;if(typeof O=="function")ge=function(){O(Se)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Te=Ee.port2;Ee.port1.onmessage=Se,ge=function(){Te.postMessage(null)}}else ge=function(){P(Se,0)};function Be(Y,de){$=P(function(){Y(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var Q=p;p=de;try{return Y()}finally{p=Q}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(Y,de){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=p;p=Y;try{return de()}finally{p=Q}},n.unstable_scheduleCallback=function(Y,de,Q){var be=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?be+Q:be):Q=be,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Q+V,Y={id:f++,callback:de,priorityLevel:Y,startTime:Q,expirationTime:V,sortIndex:-1},Q>be?(Y.sortIndex=Q,e(d,Y),t(l)===null&&Y===t(d)&&(x?(I($),$=-1):x=!0,Be(B,Q-be))):(Y.sortIndex=V,e(l,Y),A||w||(A=!0,W||(W=!0,ge()))),Y},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(Y){var de=p;return function(){var Q=p;p=de;try{return Y.apply(this,arguments)}finally{p=Q}}}})(qC)),qC}var vN;function see(){return vN||(vN=1,KC.exports=ree()),KC.exports}var ZC={exports:{}},br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function oee(){if(wN)return br;wN=1;var n=Iv();function e(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:l,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,d){if(l==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,br.createPortal=function(l,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(l,d,null,f)},br.flushSync=function(l){var d=o.T,f=i.p;try{if(o.T=null,i.p=2,l)return l()}finally{o.T=d,i.p=f,i.d.f()}},br.preconnect=function(l,d){typeof l=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(l,d))},br.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},br.preinit=function(l,d){if(typeof l=="string"&&d&&typeof d.as=="string"){var f=d.as,m=a(f,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(l,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:w}):f==="script"&&i.d.X(l,{crossOrigin:m,integrity:p,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},br.preinitModule=function(l,d){if(typeof l=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=a(d.as,d.crossOrigin);i.d.M(l,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(l)},br.preload=function(l,d){if(typeof l=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=a(f,d.crossOrigin);i.d.L(l,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},br.preloadModule=function(l,d){if(typeof l=="string")if(d){var f=a(d.as,d.crossOrigin);i.d.m(l,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(l)},br.requestFormReset=function(l){i.d.r(l)},br.unstable_batchedUpdates=function(l,d){return l(d)},br.useFormState=function(l,d,f){return o.H.useFormState(l,d,f)},br.useFormStatus=function(){return o.H.useHostTransitionStatus()},br.version="19.1.1",br}var yN;function SF(){if(yN)return ZC.exports;yN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ZC.exports=oee(),ZC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function aee(){if(_N)return Lp;_N=1;var n=see(),e=Iv(),t=SF();function i(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var u=c,h=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(h=u.return),c=u.return;while(c)}return u.tag===3?h:null}function o(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function a(c){if(s(c)!==c)throw Error(i(188))}function l(c){var u=c.alternate;if(!u){if(u=s(c),u===null)throw Error(i(188));return u!==c?null:c}for(var h=c,g=u;;){var v=h.return;if(v===null)break;var k=v.alternate;if(k===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===k.child){for(k=v.child;k;){if(k===h)return a(v),c;if(k===g)return a(v),u;k=k.sibling}throw Error(i(188))}if(h.return!==g.return)h=v,g=k;else{for(var R=!1,N=v.child;N;){if(N===h){R=!0,h=v,g=k;break}if(N===g){R=!0,g=v,h=k;break}N=N.sibling}if(!R){for(N=k.child;N;){if(N===h){R=!0,h=k,g=v;break}if(N===g){R=!0,g=k,h=v;break}N=N.sibling}if(!R)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?c:u}function d(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=d(c),u!==null)return u;c=c.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ge(c){return c===null||typeof c!="object"?null:(c=Se&&c[Se]||c["@@iterator"],typeof c=="function"?c:null)}var Ee=Symbol.for("react.client.reference");function Te(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Ee?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case W:return"SuspenseList";case ee:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case w:return"Portal";case O:return(c.displayName||"Context")+".Provider";case I:return(c._context.displayName||"Context")+".Consumer";case M:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case $:return u=c.displayName||null,u!==null?u:Te(c.type)||"Memo";case L:u=c._payload,c=c._init;try{return Te(c(u))}catch{}}return null}var Be=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},be=[],V=-1;function fe(c){return{current:c}}function Pe(c){0>V||(c.current=be[V],be[V]=null,V--)}function Ae(c,u){V++,be[V]=c.current,c.current=u}var q=fe(null),U=fe(null),ce=fe(null),re=fe(null);function we(c,u){switch(Ae(ce,u),Ae(U,c),Ae(q,null),u.nodeType){case 9:case 11:c=(c=u.documentElement)&&(c=c.namespaceURI)?j4(c):0;break;default:if(c=u.tagName,u=u.namespaceURI)u=j4(u),c=U4(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Pe(q),Ae(q,c)}function Ie(){Pe(q),Pe(U),Pe(ce)}function ye(c){c.memoizedState!==null&&Ae(re,c);var u=q.current,h=U4(u,c.type);u!==h&&(Ae(U,c),Ae(q,h))}function Fe(c){U.current===c&&(Pe(q),Pe(U)),re.current===c&&(Pe(re),Op._currentValue=Q)}var Oe=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,gn=n.unstable_shouldYield,cn=n.unstable_requestPaint,st=n.unstable_now,Mn=n.unstable_getCurrentPriorityLevel,Ct=n.unstable_ImmediatePriority,F=n.unstable_UserBlockingPriority,J=n.unstable_NormalPriority,ue=n.unstable_LowPriority,Ne=n.unstable_IdlePriority,Z=n.log,se=n.unstable_setDisableYieldValue,me=null,$e=null;function Ke(c){if(typeof Z=="function"&&se(c),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(me,c)}catch{}}var bt=Math.clz32?Math.clz32:It,gt=Math.log,oi=Math.LN2;function It(c){return c>>>=0,c===0?32:31-(gt(c)/oi|0)|0}var wt=256,ki=4194304;function pn(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function xi(c,u,h){var g=c.pendingLanes;if(g===0)return 0;var v=0,k=c.suspendedLanes,R=c.pingedLanes;c=c.warmLanes;var N=g&134217727;return N!==0?(g=N&~k,g!==0?v=pn(g):(R&=N,R!==0?v=pn(R):h||(h=N&~c,h!==0&&(v=pn(h))))):(N=g&~k,N!==0?v=pn(N):R!==0?v=pn(R):h||(h=g&~c,h!==0&&(v=pn(h)))),v===0?0:u!==0&&u!==v&&(u&k)===0&&(k=v&-v,h=u&-u,k>=h||k===32&&(h&4194048)!==0)?u:v}function Ci(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function ta(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var c=wt;return wt<<=1,(wt&4194048)===0&&(wt=256),c}function Dw(){var c=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),c}function nl(c){for(var u=[],h=0;31>h;h++)u.push(c);return u}function Ls(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function hg(c,u,h,g,v,k){var R=c.pendingLanes;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=h,c.entangledLanes&=h,c.errorRecoveryDisabledLanes&=h,c.shellSuspendCounter=0;var N=c.entanglements,j=c.expirationTimes,ie=c.hiddenUpdates;for(h=R&~h;0<h;){var ve=31-bt(h),ke=1<<ve;N[ve]=0,j[ve]=-1;var oe=ie[ve];if(oe!==null)for(ie[ve]=null,ve=0;ve<oe.length;ve++){var le=oe[ve];le!==null&&(le.lane&=-536870913)}h&=~ke}g!==0&&Wu(c,g,0),k!==0&&v===0&&c.tag!==0&&(c.suspendedLanes|=k&~(R&~u))}function Wu(c,u,h){c.pendingLanes|=u,c.suspendedLanes&=~u;var g=31-bt(u);c.entangledLanes|=u,c.entanglements[g]=c.entanglements[g]|1073741824|h&4194090}function Ze(c,u){var h=c.entangledLanes|=u;for(c=c.entanglements;h;){var g=31-bt(h),v=1<<g;v&u|c[g]&u&&(c[g]|=u),h&=~v}}function mg(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function gg(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Fs(){var c=de.p;return c!==0?c:(c=window.event,c===void 0?32:aN(c.type))}function $r(c,u){var h=de.p;try{return de.p=c,u()}finally{de.p=h}}var yt=Math.random().toString(36).slice(2),Si="__reactFiber$"+yt,xt="__reactProps$"+yt,zs="__reactContainer$"+yt,pg="__reactEvents$"+yt,zf="__reactListeners$"+yt,$i="__reactHandles$"+yt,js="__reactResources$"+yt,fr="__reactMarker$"+yt;function Yn(c){delete c[Si],delete c[xt],delete c[pg],delete c[zf],delete c[$i]}function Hi(c){var u=c[Si];if(u)return u;for(var h=c.parentNode;h;){if(u=h[zs]||h[Si]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(c=G4(c);c!==null;){if(h=c[Si])return h;c=G4(c)}return u}c=h,h=c.parentNode}return null}function hr(c){if(c=c[Si]||c[zs]){var u=c.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return c}return null}function os(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c.stateNode;throw Error(i(33))}function Ec(c){var u=c[js];return u||(u=c[js]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ei(c){c[fr]=!0}var Tc=new Set,bg={};function il(c,u){as(c,u),as(c+"Capture",u)}function as(c,u){for(bg[c]=u,c=0;c<u.length;c++)Tc.add(u[c])}var Gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vg={},Nw={};function ax(c){return Oe.call(Nw,c)?!0:Oe.call(vg,c)?!1:Gu.test(c)?Nw[c]=!0:(vg[c]=!0,!1)}function jf(c,u,h){if(ax(u))if(h===null)c.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":c.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){c.removeAttribute(u);return}}c.setAttribute(u,""+h)}}function Cn(c,u,h){if(h===null)c.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(u);return}c.setAttribute(u,""+h)}}function ls(c,u,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttributeNS(u,h,""+g)}}var wg,yg;function rl(c){if(wg===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);wg=u&&u[1]||"",yg=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wg+c+yg}var _g=!1;function Ag(c,u){if(!c||_g)return"";_g=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(le){var oe=le}Reflect.construct(c,[],ke)}else{try{ke.call()}catch(le){oe=le}c.call(ke.prototype)}}else{try{throw Error()}catch(le){oe=le}(ke=c())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(le){if(le&&oe&&typeof le.stack=="string")return[le.stack,oe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=g.DetermineComponentFrameRoot(),R=k[0],N=k[1];if(R&&N){var j=R.split(`
`),ie=N.split(`
`);for(v=g=0;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(g===j.length||v===ie.length)for(g=j.length-1,v=ie.length-1;1<=g&&0<=v&&j[g]!==ie[v];)v--;for(;1<=g&&0<=v;g--,v--)if(j[g]!==ie[v]){if(g!==1||v!==1)do if(g--,v--,0>v||j[g]!==ie[v]){var ve=`
`+j[g].replace(" at new "," at ");return c.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",c.displayName)),ve}while(1<=g&&0<=v);break}}}finally{_g=!1,Error.prepareStackTrace=h}return(h=c?c.displayName||c.name:"")?rl(h):""}function lx(c){switch(c.tag){case 26:case 27:case 5:return rl(c.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 15:return Ag(c.type,!1);case 11:return Ag(c.type.render,!1);case 1:return Ag(c.type,!0);case 31:return rl("Activity");default:return""}}function Mw(c){try{var u="";do u+=lx(c),c=c.return;while(c);return u}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Hr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Bw(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Vw(c){var u=Bw(c)?"checked":"value",h=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),g=""+c[u];if(!c.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,k=h.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return v.call(this)},set:function(R){g=""+R,k.call(this,R)}}),Object.defineProperty(c,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function Yu(c){c._valueTracker||(c._valueTracker=Vw(c))}function Lw(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return c&&(g=Bw(c)?c.checked?"true":"false":c.value),c=g,c!==h?(u.setValue(c),!0):!1}function Uf(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var cx=/[\n"\\]/g;function Cr(c){return c.replace(cx,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function kg(c,u,h,g,v,k,R,N){c.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?c.type=R:c.removeAttribute("type"),u!=null?R==="number"?(u===0&&c.value===""||c.value!=u)&&(c.value=""+Hr(u)):c.value!==""+Hr(u)&&(c.value=""+Hr(u)):R!=="submit"&&R!=="reset"||c.removeAttribute("value"),u!=null?Pc(c,R,Hr(u)):h!=null?Pc(c,R,Hr(h)):g!=null&&c.removeAttribute("value"),v==null&&k!=null&&(c.defaultChecked=!!k),v!=null&&(c.checked=v&&typeof v!="function"&&typeof v!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?c.name=""+Hr(N):c.removeAttribute("name")}function Ic(c,u,h,g,v,k,R,N){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),u!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||u!=null))return;h=h!=null?""+Hr(h):"",u=u!=null?""+Hr(u):h,N||u===c.value||(c.value=u),c.defaultValue=u}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,c.checked=N?c.checked:!!g,c.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(c.name=R)}function Pc(c,u,h){u==="number"&&Uf(c.ownerDocument)===c||c.defaultValue===""+h||(c.defaultValue=""+h)}function sl(c,u,h,g){if(c=c.options,u){u={};for(var v=0;v<h.length;v++)u["$"+h[v]]=!0;for(h=0;h<c.length;h++)v=u.hasOwnProperty("$"+c[h].value),c[h].selected!==v&&(c[h].selected=v),v&&g&&(c[h].defaultSelected=!0)}else{for(h=""+Hr(h),u=null,v=0;v<c.length;v++){if(c[v].value===h){c[v].selected=!0,g&&(c[v].defaultSelected=!0);return}u!==null||c[v].disabled||(u=c[v])}u!==null&&(u.selected=!0)}}function Rc(c,u,h){if(u!=null&&(u=""+Hr(u),u!==c.value&&(c.value=u),h==null)){c.defaultValue!==u&&(c.defaultValue=u);return}c.defaultValue=h!=null?""+Hr(h):""}function Us(c,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(i(92));if(Be(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=Hr(u),c.defaultValue=h,g=c.textContent,g===h&&g!==""&&g!==null&&(c.value=g)}function Oc(c,u){if(u){var h=c.firstChild;if(h&&h===c.lastChild&&h.nodeType===3){h.nodeValue=u;return}}c.textContent=u}var ux=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fw(c,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?c.setProperty(u,""):u==="float"?c.cssFloat="":c[u]="":g?c.setProperty(u,h):typeof h!="number"||h===0||ux.has(u)?u==="float"?c.cssFloat=h:c[u]=(""+h).trim():c[u]=h+"px"}function zw(c,u,h){if(u!=null&&typeof u!="object")throw Error(i(62));if(c=c.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?c.setProperty(g,""):g==="float"?c.cssFloat="":c[g]="");for(var v in u)g=u[v],u.hasOwnProperty(v)&&h[v]!==g&&Fw(c,v,g)}else for(var k in u)u.hasOwnProperty(k)&&Fw(c,k,u[k])}function xg(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $f(c){return fx.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Ku=null;function Cg(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ol=null,Dc=null;function jw(c){var u=hr(c);if(u&&(c=u.stateNode)){var h=c[xt]||null;e:switch(c=u.stateNode,u.type){case"input":if(kg(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=c;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Cr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==c&&g.form===c.form){var v=g[xt]||null;if(!v)throw Error(i(90));kg(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===c.form&&Lw(g)}break e;case"textarea":Rc(c,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&sl(c,!!h.multiple,u,!1)}}}var Sg=!1;function Uw(c,u,h){if(Sg)return c(u,h);Sg=!0;try{var g=c(u);return g}finally{if(Sg=!1,(ol!==null||Dc!==null)&&(Wy(),ol&&(u=ol,c=Dc,Dc=ol=null,jw(u),c)))for(u=0;u<c.length;u++)jw(c[u])}}function qu(c,u){var h=c.stateNode;if(h===null)return null;var g=h[xt]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(c=c.type,g=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!g;break e;default:c=!1}if(c)return null;if(h&&typeof h!="function")throw Error(i(231,u,typeof h));return h}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=!1;if(fo)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{Eg=!1}var na=null,Tg=null,Hf=null;function $w(){if(Hf)return Hf;var c,u=Tg,h=u.length,g,v="value"in na?na.value:na.textContent,k=v.length;for(c=0;c<h&&u[c]===v[c];c++);var R=h-c;for(g=1;g<=R&&u[h-g]===v[k-g];g++);return Hf=v.slice(c,1<g?1-g:void 0)}function Wf(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Gf(){return!0}function Hw(){return!1}function Wi(c){function u(h,g,v,k,R){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var N in c)c.hasOwnProperty(N)&&(h=c[N],this[N]=h?h(k):k[N]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Gf:Hw,this.isPropagationStopped=Hw,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),u}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=Wi(ho),Nc=f({},ho,{view:0,detail:0}),Ww=Wi(Nc),Ig,Pg,Qu,Kf=f({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Qu&&(Qu&&c.type==="mousemove"?(Ig=c.screenX-Qu.screenX,Pg=c.screenY-Qu.screenY):Pg=Ig=0,Qu=c),Ig)},movementY:function(c){return"movementY"in c?c.movementY:Pg}}),Rg=Wi(Kf),Sn=f({},Kf,{dataTransfer:0}),Ju=Wi(Sn),Xu=f({},Nc,{relatedTarget:0}),Og=Wi(Xu),Gw=f({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Wi(Gw),mx=f({},ho,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),qf=Wi(mx),ia=f({},ho,{data:0}),Zf=Wi(ia),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dg(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=px[c])?!!u[c]:!1}function Ng(){return Dg}var bx=f({},Nc,{key:function(c){if(c.key){var u=gx[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Wf(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?mo[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(c){return c.type==="keypress"?Wf(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Wf(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),vx=Wi(bx),Qf=f({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=Wi(Qf),wx=f({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),yx=Wi(wx),_x=f({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=Wi(_x),Ax=f({},Kf,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=Wi(Ax),xx=f({},ho,{newState:0,oldState:0}),Cx=Wi(xx),Sx=[9,13,27,32],Xf=fo&&"CompositionEvent"in window,ed=null;fo&&"documentMode"in document&&(ed=document.documentMode);var Mc=fo&&"TextEvent"in window&&!ed,Kw=fo&&(!Xf||ed&&8<ed&&11>=ed),eh=" ",qw=!1;function th(c,u){switch(c){case"keyup":return Sx.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zw(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Bc=!1;function Ex(c,u){switch(c){case"compositionend":return Zw(u);case"keypress":return u.which!==32?null:(qw=!0,eh);case"textInput":return c=u.data,c===eh&&qw?null:c;default:return null}}function Tx(c,u){if(Bc)return c==="compositionend"||!Xf&&th(c,u)?(c=$w(),Hf=Tg=na=null,Bc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Kw&&u.locale!=="ko"?null:u.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Qw[c.type]:u==="textarea"}function Mg(c,u,h,g){ol?Dc?Dc.push(g):Dc=[g]:ol=g,u=Qy(u,"onChange"),0<u.length&&(h=new Yf("onChange","change",null,h,g),c.push({event:h,listeners:u}))}var rn=null,td=null;function Ix(c){B4(c,0)}function nd(c){var u=os(c);if(Lw(u))return c}function Xw(c,u){if(c==="change")return u}var ey=!1;if(fo){var Bg;if(fo){var al="oninput"in document;if(!al){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),al=typeof ty.oninput=="function"}Bg=al}else Bg=!1;ey=Bg&&(!document.documentMode||9<document.documentMode)}function ny(){rn&&(rn.detachEvent("onpropertychange",iy),td=rn=null)}function iy(c){if(c.propertyName==="value"&&nd(td)){var u=[];Mg(u,td,c,Cg(c)),Uw(Ix,u)}}function nh(c,u,h){c==="focusin"?(ny(),rn=u,td=h,rn.attachEvent("onpropertychange",iy)):c==="focusout"&&ny()}function ih(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return nd(td)}function Vg(c,u){if(c==="click")return nd(u)}function Px(c,u){if(c==="input"||c==="change")return nd(u)}function ry(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var Sr=typeof Object.is=="function"?Object.is:ry;function ll(c,u){if(Sr(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var h=Object.keys(c),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!Oe.call(u,v)||!Sr(c[v],u[v]))return!1}return!0}function rh(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function sh(c,u){var h=rh(c);c=0;for(var g;h;){if(h.nodeType===3){if(g=c+h.textContent.length,c<=u&&g>=u)return{node:h,offset:u-c};c=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=rh(h)}}function sy(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?sy(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function oy(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var u=Uf(c.document);u instanceof c.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)c=u.contentWindow;else break;u=Uf(c.document)}return u}function Lg(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}var Rx=fo&&"documentMode"in document&&11>=document.documentMode,Vc=null,Fg=null,id=null,zg=!1;function ay(c,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;zg||Vc==null||Vc!==Uf(g)||(g=Vc,"selectionStart"in g&&Lg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),id&&ll(id,g)||(id=g,g=Qy(Fg,"onSelect"),0<g.length&&(u=new Yf("onSelect","select",null,u,h),c.push({event:u,listeners:g}),u.target=Vc)))}function cl(c,u){var h={};return h[c.toLowerCase()]=u.toLowerCase(),h["Webkit"+c]="webkit"+u,h["Moz"+c]="moz"+u,h}var ul={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionrun:cl("Transition","TransitionRun"),transitionstart:cl("Transition","TransitionStart"),transitioncancel:cl("Transition","TransitionCancel"),transitionend:cl("Transition","TransitionEnd")},jg={},ly={};fo&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Di(c){if(jg[c])return jg[c];if(!ul[c])return c;var u=ul[c],h;for(h in u)if(u.hasOwnProperty(h)&&h in ly)return jg[c]=u[h];return c}var ra=Di("animationend"),Ug=Di("animationiteration"),cy=Di("animationstart"),uy=Di("transitionrun"),dy=Di("transitionstart"),Ox=Di("transitioncancel"),fy=Di("transitionend"),$g=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hg.push("scrollEnd");function cs(c,u){$g.set(c,u),il(u,[c])}var hy=new WeakMap;function Wr(c,u){if(typeof c=="object"&&c!==null){var h=hy.get(c);return h!==void 0?h:(u={value:c,source:u,stack:Mw(u)},hy.set(c,u),u)}return{value:c,source:u,stack:Mw(u)}}var Gr=[],Lc=0,Wg=0;function oh(){for(var c=Lc,u=Wg=Lc=0;u<c;){var h=Gr[u];Gr[u++]=null;var g=Gr[u];Gr[u++]=null;var v=Gr[u];Gr[u++]=null;var k=Gr[u];if(Gr[u++]=null,g!==null&&v!==null){var R=g.pending;R===null?v.next=v:(v.next=R.next,R.next=v),g.pending=v}k!==0&&my(h,v,k)}}function ah(c,u,h,g){Gr[Lc++]=c,Gr[Lc++]=u,Gr[Lc++]=h,Gr[Lc++]=g,Wg|=g,c.lanes|=g,c=c.alternate,c!==null&&(c.lanes|=g)}function Gg(c,u,h,g){return ah(c,u,h,g),lh(c)}function Fc(c,u){return ah(c,null,null,u),lh(c)}function my(c,u,h){c.lanes|=h;var g=c.alternate;g!==null&&(g.lanes|=h);for(var v=!1,k=c.return;k!==null;)k.childLanes|=h,g=k.alternate,g!==null&&(g.childLanes|=h),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(v=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,v&&u!==null&&(v=31-bt(h),c=k.hiddenUpdates,g=c[v],g===null?c[v]=[u]:g.push(u),u.lane=h|536870912),k):null}function lh(c){if(50<xp)throw xp=0,gC=null,Error(i(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}var zc={};function ch(c,u,h,g){this.tag=c,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(c,u,h,g){return new ch(c,u,h,g)}function Yg(c){return c=c.prototype,!(!c||!c.isReactComponent)}function go(c,u){var h=c.alternate;return h===null?(h=Er(c.tag,u,c.key,c.mode),h.elementType=c.elementType,h.type=c.type,h.stateNode=c.stateNode,h.alternate=c,c.alternate=h):(h.pendingProps=u,h.type=c.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=c.flags&65011712,h.childLanes=c.childLanes,h.lanes=c.lanes,h.child=c.child,h.memoizedProps=c.memoizedProps,h.memoizedState=c.memoizedState,h.updateQueue=c.updateQueue,u=c.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=c.sibling,h.index=c.index,h.ref=c.ref,h.refCleanup=c.refCleanup,h}function gy(c,u){c.flags&=65011714;var h=c.alternate;return h===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,u=h.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function uh(c,u,h,g,v,k){var R=0;if(g=c,typeof c=="function")Yg(c)&&(R=1);else if(typeof c=="string")R=zX(c,h,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case ee:return c=Er(31,h,u,v),c.elementType=ee,c.lanes=k,c;case A:return dl(h.children,v,k,u);case x:R=8,v|=24;break;case S:return c=Er(12,h,u,v|2),c.elementType=S,c.lanes=k,c;case B:return c=Er(13,h,u,v),c.elementType=B,c.lanes=k,c;case W:return c=Er(19,h,u,v),c.elementType=W,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case P:case O:R=10;break e;case I:R=9;break e;case M:R=11;break e;case $:R=14;break e;case L:R=16,g=null;break e}R=29,h=Error(i(130,c===null?"null":typeof c,"")),g=null}return u=Er(R,h,u,v),u.elementType=c,u.type=g,u.lanes=k,u}function dl(c,u,h,g){return c=Er(7,c,g,u),c.lanes=h,c}function Kg(c,u,h){return c=Er(6,c,null,u),c.lanes=h,c}function qg(c,u,h){return u=Er(4,c.children!==null?c.children:[],c.key,u),u.lanes=h,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}var fl=[],hl=0,rd=null,ml=0,Ni=[],tr=0,sa=null,mr=1,$s="";function oa(c,u){fl[hl++]=ml,fl[hl++]=rd,rd=c,ml=u}function py(c,u,h){Ni[tr++]=mr,Ni[tr++]=$s,Ni[tr++]=sa,sa=c;var g=mr;c=$s;var v=32-bt(g)-1;g&=~(1<<v),h+=1;var k=32-bt(u)+v;if(30<k){var R=v-v%5;k=(g&(1<<R)-1).toString(32),g>>=R,v-=R,mr=1<<32-bt(u)+v|h<<v|g,$s=k+c}else mr=1<<k|h<<v|g,$s=c}function Zg(c){c.return!==null&&(oa(c,1),py(c,1,0))}function Qg(c){for(;c===rd;)rd=fl[--hl],fl[hl]=null,ml=fl[--hl],fl[hl]=null;for(;c===sa;)sa=Ni[--tr],Ni[tr]=null,$s=Ni[--tr],Ni[tr]=null,mr=Ni[--tr],Ni[tr]=null}var nr=null,Bn=null,Zt=!1,gl=null,Hs=!1,Jg=Error(i(519));function pl(c){var u=Error(i(418,""));throw ad(Wr(u,c)),Jg}function by(c){var u=c.stateNode,h=c.type,g=c.memoizedProps;switch(u[Si]=c,u[xt]=g,h){case"dialog":Lt("cancel",u),Lt("close",u);break;case"iframe":case"object":case"embed":Lt("load",u);break;case"video":case"audio":for(h=0;h<Sp.length;h++)Lt(Sp[h],u);break;case"source":Lt("error",u);break;case"img":case"image":case"link":Lt("error",u),Lt("load",u);break;case"details":Lt("toggle",u);break;case"input":Lt("invalid",u),Ic(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Yu(u);break;case"select":Lt("invalid",u);break;case"textarea":Lt("invalid",u),Us(u,g.value,g.defaultValue,g.children),Yu(u)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||z4(u.textContent,h)?(g.popover!=null&&(Lt("beforetoggle",u),Lt("toggle",u)),g.onScroll!=null&&Lt("scroll",u),g.onScrollEnd!=null&&Lt("scrollend",u),g.onClick!=null&&(u.onclick=Jy),u=!0):u=!1,u||pl(c)}function vy(c){for(nr=c.return;nr;)switch(nr.tag){case 5:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:nr=nr.return}}function sd(c){if(c!==nr)return!1;if(!Zt)return vy(c),Zt=!0,!1;var u=c.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=c.type,h=!(h!=="form"&&h!=="button")||RC(c.type,c.memoizedProps)),h=!h),h&&Bn&&pl(c),vy(c),u===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8)if(h=c.data,h==="/$"){if(u===0){Bn=_o(c.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;c=c.nextSibling}Bn=null}}else u===27?(u=Bn,iu(c.type)?(c=MC,MC=null,Bn=c):Bn=u):Bn=nr?_o(c.stateNode.nextSibling):null;return!0}function od(){Bn=nr=null,Zt=!1}function wy(){var c=gl;return c!==null&&(qr===null?qr=c:qr.push.apply(qr,c),gl=null),c}function ad(c){gl===null?gl=[c]:gl.push(c)}var Xg=fe(null),bl=null,po=null;function aa(c,u,h){Ae(Xg,u._currentValue),u._currentValue=h}function bo(c){c._currentValue=Xg.current,Pe(Xg)}function ep(c,u,h){for(;c!==null;){var g=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),c===h)break;c=c.return}}function ld(c,u,h,g){var v=c.child;for(v!==null&&(v.return=c);v!==null;){var k=v.dependencies;if(k!==null){var R=v.child;k=k.firstContext;e:for(;k!==null;){var N=k;k=v;for(var j=0;j<u.length;j++)if(N.context===u[j]){k.lanes|=h,N=k.alternate,N!==null&&(N.lanes|=h),ep(k.return,h,c),g||(R=null);break e}k=N.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(i(341));R.lanes|=h,k=R.alternate,k!==null&&(k.lanes|=h),ep(R,h,c),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===c){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function cd(c,u,h,g){c=null;for(var v=u,k=!1;v!==null;){if(!k){if((v.flags&524288)!==0)k=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var N=v.type;Sr(v.pendingProps.value,R.value)||(c!==null?c.push(N):c=[N])}}else if(v===re.current){if(R=v.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(c!==null?c.push(Op):c=[Op])}v=v.return}c!==null&&ld(u,c,h,g),u.flags|=262144}function dh(c){for(c=c.firstContext;c!==null;){if(!Sr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function vl(c){bl=c,po=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ti(c){return yy(bl,c)}function wl(c,u){return bl===null&&vl(c),yy(c,u)}function yy(c,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},po===null){if(c===null)throw Error(i(308));po=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else po=po.next=u;return h}var Dx=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(h,g){c.push(g)}};this.abort=function(){u.aborted=!0,c.forEach(function(h){return h()})}},Nx=n.unstable_scheduleCallback,Mx=n.unstable_NormalPriority,mi={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new Dx,data:new Map,refCount:0}}function jc(c){c.refCount--,c.refCount===0&&Nx(Mx,function(){c.controller.abort()})}var ud=null,np=0,yl=0,Uc=null;function Bx(c,u){if(ud===null){var h=ud=[];np=0,yl=AC(),Uc={status:"pending",value:void 0,then:function(g){h.push(g)}}}return np++,u.then(_y,_y),u}function _y(){if(--np===0&&ud!==null){Uc!==null&&(Uc.status="fulfilled");var c=ud;ud=null,yl=0,Uc=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function la(c,u){var h=[],g={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return c.then(function(){g.status="fulfilled",g.value=u;for(var v=0;v<h.length;v++)(0,h[v])(u)},function(v){for(g.status="rejected",g.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),g}var ip=Y.S;Y.S=function(c,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Bx(c,u),ip!==null&&ip(c,u)};var _l=fe(null);function rp(){var c=_l.current;return c!==null?c:En.pooledCache}function fh(c,u){u===null?Ae(_l,_l.current):Ae(_l,u.pool)}function De(){var c=rp();return c===null?null:{parent:mi._currentValue,pool:c}}var dd=Error(i(460)),Ay=Error(i(474)),fd=Error(i(542)),zt={then:function(){}};function hd(c){return c=c.status,c==="fulfilled"||c==="rejected"}function md(){}function hh(c,u,h){switch(h=c[h],h===void 0?c.push(u):h!==u&&(u.then(md,md),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,xy(c),c;default:if(typeof u.status=="string")u.then(md,md);else{if(c=En,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=u,c.status="pending",c.then(function(g){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=g}},function(g){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,xy(c),c}throw gd=u,dd}}var gd=null;function ky(){if(gd===null)throw Error(i(459));var c=gd;return gd=null,c}function xy(c){if(c===dd||c===fd)throw Error(i(483))}var ca=!1;function sp(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function us(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ua(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function vo(c,u,h){var g=c.updateQueue;if(g===null)return null;if(g=g.shared,(un&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,u=lh(c),my(c,null,h),u}return ah(c,g,u,h),lh(c)}function pd(c,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=c.pendingLanes,h|=g,u.lanes=h,Ze(c,h)}}function op(c,u){var h=c.updateQueue,g=c.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?v=k=R:k=k.next=R,h=h.next}while(h!==null);k===null?v=k=u:k=k.next=u}else v=k=u;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:k,shared:g.shared,callbacks:g.callbacks},c.updateQueue=h;return}c=h.lastBaseUpdate,c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=u}var mh=!1;function bd(){if(mh){var c=Uc;if(c!==null)throw c}}function $c(c,u,h,g){mh=!1;var v=c.updateQueue;ca=!1;var k=v.firstBaseUpdate,R=v.lastBaseUpdate,N=v.shared.pending;if(N!==null){v.shared.pending=null;var j=N,ie=j.next;j.next=null,R===null?k=ie:R.next=ie,R=j;var ve=c.alternate;ve!==null&&(ve=ve.updateQueue,N=ve.lastBaseUpdate,N!==R&&(N===null?ve.firstBaseUpdate=ie:N.next=ie,ve.lastBaseUpdate=j))}if(k!==null){var ke=v.baseState;R=0,ve=ie=j=null,N=k;do{var oe=N.lane&-536870913,le=oe!==N.lane;if(le?($t&oe)===oe:(g&oe)===oe){oe!==0&&oe===yl&&(mh=!0),ve!==null&&(ve=ve.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var mt=c,ut=N;oe=u;var vn=h;switch(ut.tag){case 1:if(mt=ut.payload,typeof mt=="function"){ke=mt.call(vn,ke,oe);break e}ke=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ut.payload,oe=typeof mt=="function"?mt.call(vn,ke,oe):mt,oe==null)break e;ke=f({},ke,oe);break e;case 2:ca=!0}}oe=N.callback,oe!==null&&(c.flags|=64,le&&(c.flags|=8192),le=v.callbacks,le===null?v.callbacks=[oe]:le.push(oe))}else le={lane:oe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ve===null?(ie=ve=le,j=ke):ve=ve.next=le,R|=oe;if(N=N.next,N===null){if(N=v.shared.pending,N===null)break;le=N,N=le.next,le.next=null,v.lastBaseUpdate=le,v.shared.pending=null}}while(!0);ve===null&&(j=ke),v.baseState=j,v.firstBaseUpdate=ie,v.lastBaseUpdate=ve,k===null&&(v.shared.lanes=0),Xc|=R,c.lanes=R,c.memoizedState=ke}}function gh(c,u){if(typeof c!="function")throw Error(i(191,c));c.call(u)}function Cy(c,u){var h=c.callbacks;if(h!==null)for(c.callbacks=null,c=0;c<h.length;c++)gh(h[c],u)}var gr=fe(null),vd=fe(0);function Sy(c,u){c=Tl,Ae(vd,c),Ae(gr,u),Tl=c|u.baseLanes}function ap(){Ae(vd,Tl),Ae(gr,gr.current)}function lp(){Tl=vd.current,Pe(gr),Pe(vd)}var da=0,St=null,on=null,ai=null,ph=!1,Hc=!1,Al=!1,bh=0,ds=0,Wc=null,Vx=0;function Kn(){throw Error(i(321))}function cp(c,u){if(u===null)return!1;for(var h=0;h<u.length&&h<c.length;h++)if(!Sr(c[h],u[h]))return!1;return!0}function up(c,u,h,g,v,k){return da=k,St=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=c===null||c.memoizedState===null?yD:_D,Al=!1,k=h(g,v),Al=!1,Hc&&(k=Ty(u,h,g,v)),Ey(c),k}function Ey(c){Y.H=Oy;var u=on!==null&&on.next!==null;if(da=0,ai=on=St=null,ph=!1,ds=0,Wc=null,u)throw Error(i(300));c===null||Gi||(c=c.dependencies,c!==null&&dh(c)&&(Gi=!0))}function Ty(c,u,h,g){St=c;var v=0;do{if(Hc&&(Wc=null),ds=0,Hc=!1,25<=v)throw Error(i(301));if(v+=1,ai=on=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}Y.H=QJ,k=u(h,g)}while(Hc);return k}function Lx(){var c=Y.H,u=c.useState()[0];return u=typeof u.then=="function"?wd(u):u,c=c.useState()[0],(on!==null?on.memoizedState:null)!==c&&(St.flags|=1024),u}function fs(){var c=bh!==0;return bh=0,c}function fa(c,u,h){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~h}function dp(c){if(ph){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}ph=!1}da=0,ai=on=St=null,Hc=!1,ds=bh=0,Wc=null}function pr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?St.memoizedState=ai=c:ai=ai.next=c,ai}function li(){if(on===null){var c=St.alternate;c=c!==null?c.memoizedState:null}else c=on.next;var u=ai===null?St.memoizedState:ai.next;if(u!==null)ai=u,on=c;else{if(c===null)throw St.alternate===null?Error(i(467)):Error(i(310));on=c,c={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},ai===null?St.memoizedState=ai=c:ai=ai.next=c}return ai}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wd(c){var u=ds;return ds+=1,Wc===null&&(Wc=[]),c=hh(Wc,c,u),u=St,(ai===null?u.memoizedState:ai.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?yD:_D),c}function Gc(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return wd(c);if(c.$$typeof===O)return Ti(c)}throw Error(i(438,String(c)))}function ha(c){var u=null,h=St.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=St.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=fp(),St.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(c),g=0;g<c;g++)h[g]=pe;return u.index++,h}function Yr(c,u){return typeof u=="function"?u(c):u}function Dt(c){var u=li();return b(u,on,c)}function b(c,u,h){var g=c.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var v=c.baseQueue,k=g.pending;if(k!==null){if(v!==null){var R=v.next;v.next=k.next,k.next=R}u.baseQueue=v=k,g.pending=null}if(k=c.baseState,v===null)c.memoizedState=k;else{u=v.next;var N=R=null,j=null,ie=u,ve=!1;do{var ke=ie.lane&-536870913;if(ke!==ie.lane?($t&ke)===ke:(da&ke)===ke){var oe=ie.revertLane;if(oe===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ke===yl&&(ve=!0);else if((da&oe)===oe){ie=ie.next,oe===yl&&(ve=!0);continue}else ke={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},j===null?(N=j=ke,R=k):j=j.next=ke,St.lanes|=oe,Xc|=oe;ke=ie.action,Al&&h(k,ke),k=ie.hasEagerState?ie.eagerState:h(k,ke)}else oe={lane:ke,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},j===null?(N=j=oe,R=k):j=j.next=oe,St.lanes|=ke,Xc|=ke;ie=ie.next}while(ie!==null&&ie!==u);if(j===null?R=k:j.next=N,!Sr(k,c.memoizedState)&&(Gi=!0,ve&&(h=Uc,h!==null)))throw h;c.memoizedState=k,c.baseState=R,c.baseQueue=j,g.lastRenderedState=k}return v===null&&(g.lanes=0),[c.memoizedState,g.dispatch]}function _(c){var u=li(),h=u.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=h.dispatch,v=h.pending,k=u.memoizedState;if(v!==null){h.pending=null;var R=v=v.next;do k=c(k,R.action),R=R.next;while(R!==v);Sr(k,u.memoizedState)||(Gi=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),h.lastRenderedState=k}return[k,g]}function E(c,u,h){var g=St,v=li(),k=Zt;if(k){if(h===void 0)throw Error(i(407));h=h()}else h=u();var R=!Sr((on||v).memoizedState,h);R&&(v.memoizedState=h,Gi=!0),v=v.queue;var N=G.bind(null,g,v,c);if(hp(2048,8,N,[c]),v.getSnapshot!==u||R||ai!==null&&ai.memoizedState.tag&1){if(g.flags|=2048,vh(9,Iy(),D.bind(null,g,v,h,u),null),En===null)throw Error(i(349));k||(da&124)!==0||T(g,u,h)}return h}function T(c,u,h){c.flags|=16384,c={getSnapshot:u,value:h},u=St.updateQueue,u===null?(u=fp(),St.updateQueue=u,u.stores=[c]):(h=u.stores,h===null?u.stores=[c]:h.push(c))}function D(c,u,h,g){u.value=h,u.getSnapshot=g,he(u)&&qe(c)}function G(c,u,h){return h(function(){he(u)&&qe(c)})}function he(c){var u=c.getSnapshot;c=c.value;try{var h=u();return!Sr(c,h)}catch{return!0}}function qe(c){var u=Fc(c,2);u!==null&&bs(u,c,2)}function dt(c){var u=pr();if(typeof c=="function"){var h=c;if(c=h(),Al){Ke(!0);try{h()}finally{Ke(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:c},u}function Mt(c,u,h,g){return c.baseState=h,b(c,on,typeof g=="function"?g:Yr)}function ir(c,u,h,g,v){if(Ry(c))throw Error(i(485));if(c=u.action,c!==null){var k={payload:v,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){k.listeners.push(R)}};Y.T!==null?h(!0):k.isTransition=!1,g(k),h=u.pending,h===null?(k.next=u.pending=k,Ws(u,k)):(k.next=h.next,u.pending=h.next=k)}}function Ws(c,u){var h=u.action,g=u.payload,v=c.state;if(u.isTransition){var k=Y.T,R={};Y.T=R;try{var N=h(v,g),j=Y.S;j!==null&&j(R,N),wo(c,u,N)}catch(ie){Fx(c,u,ie)}finally{Y.T=k}}else try{k=h(v,g),wo(c,u,k)}catch(ie){Fx(c,u,ie)}}function wo(c,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){q5(c,u,g)},function(g){return Fx(c,u,g)}):q5(c,u,h)}function q5(c,u,h){u.status="fulfilled",u.value=h,Z5(u),c.state=h,u=c.pending,u!==null&&(h=u.next,h===u?c.pending=null:(h=h.next,u.next=h,Ws(c,h)))}function Fx(c,u,h){var g=c.pending;if(c.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,Z5(u),u=u.next;while(u!==g)}c.action=null}function Z5(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function Q5(c,u){return u}function J5(c,u){if(Zt){var h=En.formState;if(h!==null){e:{var g=St;if(Zt){if(Bn){t:{for(var v=Bn,k=Hs;v.nodeType!==8;){if(!k){v=null;break t}if(v=_o(v.nextSibling),v===null){v=null;break t}}k=v.data,v=k==="F!"||k==="F"?v:null}if(v){Bn=_o(v.nextSibling),g=v.data==="F!";break e}}pl(g)}g=!1}g&&(u=h[0])}}return h=pr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q5,lastRenderedState:u},h.queue=g,h=bD.bind(null,St,g),g.dispatch=h,g=dt(!1),k=Hx.bind(null,St,!1,g.queue),g=pr(),v={state:u,dispatch:null,action:c,pending:null},g.queue=v,h=ir.bind(null,St,v,k,h),v.dispatch=h,g.memoizedState=c,[u,h,!1]}function X5(c){var u=li();return eD(u,on,c)}function eD(c,u,h){if(u=b(c,u,Q5)[0],c=Dt(Yr)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=wd(u)}catch(R){throw R===dd?fd:R}else g=u;u=li();var v=u.queue,k=v.dispatch;return h!==u.memoizedState&&(St.flags|=2048,vh(9,Iy(),YJ.bind(null,v,h),null)),[g,k,c]}function YJ(c,u){c.action=u}function tD(c){var u=li(),h=on;if(h!==null)return eD(u,h,c);li(),u=u.memoizedState,h=li();var g=h.queue.dispatch;return h.memoizedState=c,[u,g,!1]}function vh(c,u,h,g){return c={tag:c,create:h,deps:g,inst:u,next:null},u=St.updateQueue,u===null&&(u=fp(),St.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=c.next=c:(g=h.next,h.next=c,c.next=g,u.lastEffect=c),c}function Iy(){return{destroy:void 0,resource:void 0}}function nD(){return li().memoizedState}function Py(c,u,h,g){var v=pr();g=g===void 0?null:g,St.flags|=c,v.memoizedState=vh(1|u,Iy(),h,g)}function hp(c,u,h,g){var v=li();g=g===void 0?null:g;var k=v.memoizedState.inst;on!==null&&g!==null&&cp(g,on.memoizedState.deps)?v.memoizedState=vh(u,k,h,g):(St.flags|=c,v.memoizedState=vh(1|u,k,h,g))}function iD(c,u){Py(8390656,8,c,u)}function rD(c,u){hp(2048,8,c,u)}function sD(c,u){return hp(4,2,c,u)}function oD(c,u){return hp(4,4,c,u)}function aD(c,u){if(typeof u=="function"){c=c();var h=u(c);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function lD(c,u,h){h=h!=null?h.concat([c]):null,hp(4,4,aD.bind(null,u,c),h)}function zx(){}function cD(c,u){var h=li();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&cp(u,g[1])?g[0]:(h.memoizedState=[c,u],c)}function uD(c,u){var h=li();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&cp(u,g[1]))return g[0];if(g=c(),Al){Ke(!0);try{c()}finally{Ke(!1)}}return h.memoizedState=[g,u],g}function jx(c,u,h){return h===void 0||(da&1073741824)!==0?c.memoizedState=u:(c.memoizedState=h,c=h4(),St.lanes|=c,Xc|=c,h)}function dD(c,u,h,g){return Sr(h,u)?h:gr.current!==null?(c=jx(c,h,g),Sr(c,u)||(Gi=!0),c):(da&42)===0?(Gi=!0,c.memoizedState=h):(c=h4(),St.lanes|=c,Xc|=c,u)}function fD(c,u,h,g,v){var k=de.p;de.p=k!==0&&8>k?k:8;var R=Y.T,N={};Y.T=N,Hx(c,!1,u,h);try{var j=v(),ie=Y.S;if(ie!==null&&ie(N,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ve=la(j,g);mp(c,u,ve,ps(c))}else mp(c,u,g,ps(c))}catch(ke){mp(c,u,{then:function(){},status:"rejected",reason:ke},ps())}finally{de.p=k,Y.T=R}}function KJ(){}function Ux(c,u,h,g){if(c.tag!==5)throw Error(i(476));var v=hD(c).queue;fD(c,v,u,Q,h===null?KJ:function(){return mD(c),h(g)})}function hD(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:Q},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:h},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function mD(c){var u=hD(c).next.queue;mp(c,u,{},ps())}function $x(){return Ti(Op)}function gD(){return li().memoizedState}function pD(){return li().memoizedState}function qJ(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var h=ps();c=ua(h);var g=vo(u,c,h);g!==null&&(bs(g,u,h),pd(g,u,h)),u={cache:tp()},c.payload=u;return}u=u.return}}function ZJ(c,u,h){var g=ps();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Ry(c)?vD(u,h):(h=Gg(c,u,h,g),h!==null&&(bs(h,c,g),wD(h,u,g)))}function bD(c,u,h){var g=ps();mp(c,u,h,g)}function mp(c,u,h,g){var v={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ry(c))vD(u,v);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var R=u.lastRenderedState,N=k(R,h);if(v.hasEagerState=!0,v.eagerState=N,Sr(N,R))return ah(c,u,v,0),En===null&&oh(),!1}catch{}finally{}if(h=Gg(c,u,v,g),h!==null)return bs(h,c,g),wD(h,u,g),!0}return!1}function Hx(c,u,h,g){if(g={lane:2,revertLane:AC(),action:g,hasEagerState:!1,eagerState:null,next:null},Ry(c)){if(u)throw Error(i(479))}else u=Gg(c,h,g,2),u!==null&&bs(u,c,2)}function Ry(c){var u=c.alternate;return c===St||u!==null&&u===St}function vD(c,u){Hc=ph=!0;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}function wD(c,u,h){if((h&4194048)!==0){var g=u.lanes;g&=c.pendingLanes,h|=g,u.lanes=h,Ze(c,h)}}var Oy={readContext:Ti,use:Gc,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn},yD={readContext:Ti,use:Gc,useCallback:function(c,u){return pr().memoizedState=[c,u===void 0?null:u],c},useContext:Ti,useEffect:iD,useImperativeHandle:function(c,u,h){h=h!=null?h.concat([c]):null,Py(4194308,4,aD.bind(null,u,c),h)},useLayoutEffect:function(c,u){return Py(4194308,4,c,u)},useInsertionEffect:function(c,u){Py(4,2,c,u)},useMemo:function(c,u){var h=pr();u=u===void 0?null:u;var g=c();if(Al){Ke(!0);try{c()}finally{Ke(!1)}}return h.memoizedState=[g,u],g},useReducer:function(c,u,h){var g=pr();if(h!==void 0){var v=h(u);if(Al){Ke(!0);try{h(u)}finally{Ke(!1)}}}else v=u;return g.memoizedState=g.baseState=v,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:v},g.queue=c,c=c.dispatch=ZJ.bind(null,St,c),[g.memoizedState,c]},useRef:function(c){var u=pr();return c={current:c},u.memoizedState=c},useState:function(c){c=dt(c);var u=c.queue,h=bD.bind(null,St,u);return u.dispatch=h,[c.memoizedState,h]},useDebugValue:zx,useDeferredValue:function(c,u){var h=pr();return jx(h,c,u)},useTransition:function(){var c=dt(!1);return c=fD.bind(null,St,c.queue,!0,!1),pr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,h){var g=St,v=pr();if(Zt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=u(),En===null)throw Error(i(349));($t&124)!==0||T(g,u,h)}v.memoizedState=h;var k={value:h,getSnapshot:u};return v.queue=k,iD(G.bind(null,g,k,c),[c]),g.flags|=2048,vh(9,Iy(),D.bind(null,g,k,h,u),null),h},useId:function(){var c=pr(),u=En.identifierPrefix;if(Zt){var h=$s,g=mr;h=(g&~(1<<32-bt(g)-1)).toString(32)+h,u=""+u+"R"+h,h=bh++,0<h&&(u+="H"+h.toString(32)),u+=""}else h=Vx++,u=""+u+"r"+h.toString(32)+"";return c.memoizedState=u},useHostTransitionStatus:$x,useFormState:J5,useActionState:J5,useOptimistic:function(c){var u=pr();u.memoizedState=u.baseState=c;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Hx.bind(null,St,!0,h),h.dispatch=u,[c,u]},useMemoCache:ha,useCacheRefresh:function(){return pr().memoizedState=qJ.bind(null,St)}},_D={readContext:Ti,use:Gc,useCallback:cD,useContext:Ti,useEffect:rD,useImperativeHandle:lD,useInsertionEffect:sD,useLayoutEffect:oD,useMemo:uD,useReducer:Dt,useRef:nD,useState:function(){return Dt(Yr)},useDebugValue:zx,useDeferredValue:function(c,u){var h=li();return dD(h,on.memoizedState,c,u)},useTransition:function(){var c=Dt(Yr)[0],u=li().memoizedState;return[typeof c=="boolean"?c:wd(c),u]},useSyncExternalStore:E,useId:gD,useHostTransitionStatus:$x,useFormState:X5,useActionState:X5,useOptimistic:function(c,u){var h=li();return Mt(h,on,c,u)},useMemoCache:ha,useCacheRefresh:pD},QJ={readContext:Ti,use:Gc,useCallback:cD,useContext:Ti,useEffect:rD,useImperativeHandle:lD,useInsertionEffect:sD,useLayoutEffect:oD,useMemo:uD,useReducer:_,useRef:nD,useState:function(){return _(Yr)},useDebugValue:zx,useDeferredValue:function(c,u){var h=li();return on===null?jx(h,c,u):dD(h,on.memoizedState,c,u)},useTransition:function(){var c=_(Yr)[0],u=li().memoizedState;return[typeof c=="boolean"?c:wd(c),u]},useSyncExternalStore:E,useId:gD,useHostTransitionStatus:$x,useFormState:tD,useActionState:tD,useOptimistic:function(c,u){var h=li();return on!==null?Mt(h,on,c,u):(h.baseState=c,[c,h.queue.dispatch])},useMemoCache:ha,useCacheRefresh:pD},wh=null,gp=0;function Dy(c){var u=gp;return gp+=1,wh===null&&(wh=[]),hh(wh,c,u)}function pp(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function Ny(c,u){throw u.$$typeof===m?Error(i(525)):(c=Object.prototype.toString.call(u),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function AD(c){var u=c._init;return u(c._payload)}function kD(c){function u(X,K){if(c){var ne=X.deletions;ne===null?(X.deletions=[K],X.flags|=16):ne.push(K)}}function h(X,K){if(!c)return null;for(;K!==null;)u(X,K),K=K.sibling;return null}function g(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function v(X,K){return X=go(X,K),X.index=0,X.sibling=null,X}function k(X,K,ne){return X.index=ne,c?(ne=X.alternate,ne!==null?(ne=ne.index,ne<K?(X.flags|=67108866,K):ne):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function R(X){return c&&X.alternate===null&&(X.flags|=67108866),X}function N(X,K,ne,_e){return K===null||K.tag!==6?(K=Kg(ne,X.mode,_e),K.return=X,K):(K=v(K,ne),K.return=X,K)}function j(X,K,ne,_e){var Xe=ne.type;return Xe===A?ve(X,K,ne.props.children,_e,ne.key):K!==null&&(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===L&&AD(Xe)===K.type)?(K=v(K,ne.props),pp(K,ne),K.return=X,K):(K=uh(ne.type,ne.key,ne.props,null,X.mode,_e),pp(K,ne),K.return=X,K)}function ie(X,K,ne,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=qg(ne,X.mode,_e),K.return=X,K):(K=v(K,ne.children||[]),K.return=X,K)}function ve(X,K,ne,_e,Xe){return K===null||K.tag!==7?(K=dl(ne,X.mode,_e,Xe),K.return=X,K):(K=v(K,ne),K.return=X,K)}function ke(X,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Kg(""+K,X.mode,ne),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case p:return ne=uh(K.type,K.key,K.props,null,X.mode,ne),pp(ne,K),ne.return=X,ne;case w:return K=qg(K,X.mode,ne),K.return=X,K;case L:var _e=K._init;return K=_e(K._payload),ke(X,K,ne)}if(Be(K)||ge(K))return K=dl(K,X.mode,ne,null),K.return=X,K;if(typeof K.then=="function")return ke(X,Dy(K),ne);if(K.$$typeof===O)return ke(X,wl(X,K),ne);Ny(X,K)}return null}function oe(X,K,ne,_e){var Xe=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Xe!==null?null:N(X,K,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case p:return ne.key===Xe?j(X,K,ne,_e):null;case w:return ne.key===Xe?ie(X,K,ne,_e):null;case L:return Xe=ne._init,ne=Xe(ne._payload),oe(X,K,ne,_e)}if(Be(ne)||ge(ne))return Xe!==null?null:ve(X,K,ne,_e,null);if(typeof ne.then=="function")return oe(X,K,Dy(ne),_e);if(ne.$$typeof===O)return oe(X,K,wl(X,ne),_e);Ny(X,ne)}return null}function le(X,K,ne,_e,Xe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return X=X.get(ne)||null,N(K,X,""+_e,Xe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case p:return X=X.get(_e.key===null?ne:_e.key)||null,j(K,X,_e,Xe);case w:return X=X.get(_e.key===null?ne:_e.key)||null,ie(K,X,_e,Xe);case L:var Bt=_e._init;return _e=Bt(_e._payload),le(X,K,ne,_e,Xe)}if(Be(_e)||ge(_e))return X=X.get(ne)||null,ve(K,X,_e,Xe,null);if(typeof _e.then=="function")return le(X,K,ne,Dy(_e),Xe);if(_e.$$typeof===O)return le(X,K,ne,wl(K,_e),Xe);Ny(K,_e)}return null}function mt(X,K,ne,_e){for(var Xe=null,Bt=null,ot=K,ft=K=0,Ki=null;ot!==null&&ft<ne.length;ft++){ot.index>ft?(Ki=ot,ot=null):Ki=ot.sibling;var Qt=oe(X,ot,ne[ft],_e);if(Qt===null){ot===null&&(ot=Ki);break}c&&ot&&Qt.alternate===null&&u(X,ot),K=k(Qt,K,ft),Bt===null?Xe=Qt:Bt.sibling=Qt,Bt=Qt,ot=Ki}if(ft===ne.length)return h(X,ot),Zt&&oa(X,ft),Xe;if(ot===null){for(;ft<ne.length;ft++)ot=ke(X,ne[ft],_e),ot!==null&&(K=k(ot,K,ft),Bt===null?Xe=ot:Bt.sibling=ot,Bt=ot);return Zt&&oa(X,ft),Xe}for(ot=g(ot);ft<ne.length;ft++)Ki=le(ot,X,ft,ne[ft],_e),Ki!==null&&(c&&Ki.alternate!==null&&ot.delete(Ki.key===null?ft:Ki.key),K=k(Ki,K,ft),Bt===null?Xe=Ki:Bt.sibling=Ki,Bt=Ki);return c&&ot.forEach(function(lu){return u(X,lu)}),Zt&&oa(X,ft),Xe}function ut(X,K,ne,_e){if(ne==null)throw Error(i(151));for(var Xe=null,Bt=null,ot=K,ft=K=0,Ki=null,Qt=ne.next();ot!==null&&!Qt.done;ft++,Qt=ne.next()){ot.index>ft?(Ki=ot,ot=null):Ki=ot.sibling;var lu=oe(X,ot,Qt.value,_e);if(lu===null){ot===null&&(ot=Ki);break}c&&ot&&lu.alternate===null&&u(X,ot),K=k(lu,K,ft),Bt===null?Xe=lu:Bt.sibling=lu,Bt=lu,ot=Ki}if(Qt.done)return h(X,ot),Zt&&oa(X,ft),Xe;if(ot===null){for(;!Qt.done;ft++,Qt=ne.next())Qt=ke(X,Qt.value,_e),Qt!==null&&(K=k(Qt,K,ft),Bt===null?Xe=Qt:Bt.sibling=Qt,Bt=Qt);return Zt&&oa(X,ft),Xe}for(ot=g(ot);!Qt.done;ft++,Qt=ne.next())Qt=le(ot,X,ft,Qt.value,_e),Qt!==null&&(c&&Qt.alternate!==null&&ot.delete(Qt.key===null?ft:Qt.key),K=k(Qt,K,ft),Bt===null?Xe=Qt:Bt.sibling=Qt,Bt=Qt);return c&&ot.forEach(function(JX){return u(X,JX)}),Zt&&oa(X,ft),Xe}function vn(X,K,ne,_e){if(typeof ne=="object"&&ne!==null&&ne.type===A&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case p:e:{for(var Xe=ne.key;K!==null;){if(K.key===Xe){if(Xe=ne.type,Xe===A){if(K.tag===7){h(X,K.sibling),_e=v(K,ne.props.children),_e.return=X,X=_e;break e}}else if(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===L&&AD(Xe)===K.type){h(X,K.sibling),_e=v(K,ne.props),pp(_e,ne),_e.return=X,X=_e;break e}h(X,K);break}else u(X,K);K=K.sibling}ne.type===A?(_e=dl(ne.props.children,X.mode,_e,ne.key),_e.return=X,X=_e):(_e=uh(ne.type,ne.key,ne.props,null,X.mode,_e),pp(_e,ne),_e.return=X,X=_e)}return R(X);case w:e:{for(Xe=ne.key;K!==null;){if(K.key===Xe)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){h(X,K.sibling),_e=v(K,ne.children||[]),_e.return=X,X=_e;break e}else{h(X,K);break}else u(X,K);K=K.sibling}_e=qg(ne,X.mode,_e),_e.return=X,X=_e}return R(X);case L:return Xe=ne._init,ne=Xe(ne._payload),vn(X,K,ne,_e)}if(Be(ne))return mt(X,K,ne,_e);if(ge(ne)){if(Xe=ge(ne),typeof Xe!="function")throw Error(i(150));return ne=Xe.call(ne),ut(X,K,ne,_e)}if(typeof ne.then=="function")return vn(X,K,Dy(ne),_e);if(ne.$$typeof===O)return vn(X,K,wl(X,ne),_e);Ny(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(h(X,K.sibling),_e=v(K,ne),_e.return=X,X=_e):(h(X,K),_e=Kg(ne,X.mode,_e),_e.return=X,X=_e),R(X)):h(X,K)}return function(X,K,ne,_e){try{gp=0;var Xe=vn(X,K,ne,_e);return wh=null,Xe}catch(ot){if(ot===dd||ot===fd)throw ot;var Bt=Er(29,ot,null,X.mode);return Bt.lanes=_e,Bt.return=X,Bt}finally{}}}var yh=kD(!0),xD=kD(!1),Gs=fe(null),ma=null;function Yc(c){var u=c.alternate;Ae(Mi,Mi.current&1),Ae(Gs,c),ma===null&&(u===null||gr.current!==null||u.memoizedState!==null)&&(ma=c)}function CD(c){if(c.tag===22){if(Ae(Mi,Mi.current),Ae(Gs,c),ma===null){var u=c.alternate;u!==null&&u.memoizedState!==null&&(ma=c)}}else Kc()}function Kc(){Ae(Mi,Mi.current),Ae(Gs,Gs.current)}function kl(c){Pe(Gs),ma===c&&(ma=null),Pe(Mi)}var Mi=fe(0);function My(c){for(var u=c;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||NC(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Wx(c,u,h,g){u=c.memoizedState,h=h(g,u),h=h==null?u:f({},u,h),c.memoizedState=h,c.lanes===0&&(c.updateQueue.baseState=h)}var Gx={enqueueSetState:function(c,u,h){c=c._reactInternals;var g=ps(),v=ua(g);v.payload=u,h!=null&&(v.callback=h),u=vo(c,v,g),u!==null&&(bs(u,c,g),pd(u,c,g))},enqueueReplaceState:function(c,u,h){c=c._reactInternals;var g=ps(),v=ua(g);v.tag=1,v.payload=u,h!=null&&(v.callback=h),u=vo(c,v,g),u!==null&&(bs(u,c,g),pd(u,c,g))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var h=ps(),g=ua(h);g.tag=2,u!=null&&(g.callback=u),u=vo(c,g,h),u!==null&&(bs(u,c,h),pd(u,c,h))}};function SD(c,u,h,g,v,k,R){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(g,k,R):u.prototype&&u.prototype.isPureReactComponent?!ll(h,g)||!ll(v,k):!0}function ED(c,u,h,g){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==c&&Gx.enqueueReplaceState(u,u.state,null)}function yd(c,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(c=c.defaultProps){h===u&&(h=f({},h));for(var v in c)h[v]===void 0&&(h[v]=c[v])}return h}var By=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function TD(c){By(c)}function ID(c){console.error(c)}function PD(c){By(c)}function Vy(c,u){try{var h=c.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function RD(c,u,h){try{var g=c.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Yx(c,u,h){return h=ua(h),h.tag=3,h.payload={element:null},h.callback=function(){Vy(c,u)},h}function OD(c){return c=ua(c),c.tag=3,c}function DD(c,u,h,g){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var k=g.value;c.payload=function(){return v(k)},c.callback=function(){RD(u,h,g)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(c.callback=function(){RD(u,h,g),typeof v!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var N=g.stack;this.componentDidCatch(g.value,{componentStack:N!==null?N:""})})}function JJ(c,u,h,g,v){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&cd(u,h,v,!0),h=Gs.current,h!==null){switch(h.tag){case 13:return ma===null?bC():h.alternate===null&&ci===0&&(ci=3),h.flags&=-257,h.flags|=65536,h.lanes=v,g===zt?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),wC(c,g,v)),!1;case 22:return h.flags|=65536,g===zt?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),wC(c,g,v)),!1}throw Error(i(435,h.tag))}return wC(c,g,v),bC(),!1}if(Zt)return u=Gs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,g!==Jg&&(c=Error(i(422),{cause:g}),ad(Wr(c,h)))):(g!==Jg&&(u=Error(i(423),{cause:g}),ad(Wr(u,h))),c=c.current.alternate,c.flags|=65536,v&=-v,c.lanes|=v,g=Wr(g,h),v=Yx(c.stateNode,g,v),op(c,v),ci!==4&&(ci=2)),!1;var k=Error(i(520),{cause:g});if(k=Wr(k,h),kp===null?kp=[k]:kp.push(k),ci!==4&&(ci=2),u===null)return!0;g=Wr(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,c=v&-v,h.lanes|=c,c=Yx(h.stateNode,g,c),op(h,c),!1;case 1:if(u=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(eu===null||!eu.has(k))))return h.flags|=65536,v&=-v,h.lanes|=v,v=OD(v),DD(v,c,h,g),op(h,v),!1}h=h.return}while(h!==null);return!1}var ND=Error(i(461)),Gi=!1;function rr(c,u,h,g){u.child=c===null?xD(u,null,h,g):yh(u,c.child,h,g)}function MD(c,u,h,g,v){h=h.render;var k=u.ref;if("ref"in g){var R={};for(var N in g)N!=="ref"&&(R[N]=g[N])}else R=g;return vl(u),g=up(c,u,h,R,k,v),N=fs(),c!==null&&!Gi?(fa(c,u,v),xl(c,u,v)):(Zt&&N&&Zg(u),u.flags|=1,rr(c,u,g,v),u.child)}function BD(c,u,h,g,v){if(c===null){var k=h.type;return typeof k=="function"&&!Yg(k)&&k.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=k,VD(c,u,k,g,v)):(c=uh(h.type,null,g,u,u.mode,v),c.ref=u.ref,c.return=u,u.child=c)}if(k=c.child,!tC(c,v)){var R=k.memoizedProps;if(h=h.compare,h=h!==null?h:ll,h(R,g)&&c.ref===u.ref)return xl(c,u,v)}return u.flags|=1,c=go(k,g),c.ref=u.ref,c.return=u,u.child=c}function VD(c,u,h,g,v){if(c!==null){var k=c.memoizedProps;if(ll(k,g)&&c.ref===u.ref)if(Gi=!1,u.pendingProps=g=k,tC(c,v))(c.flags&131072)!==0&&(Gi=!0);else return u.lanes=c.lanes,xl(c,u,v)}return Kx(c,u,h,g,v)}function LD(c,u,h){var g=u.pendingProps,v=g.children,k=c!==null?c.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=k!==null?k.baseLanes|h:h,c!==null){for(v=u.child=c.child,k=0;v!==null;)k=k|v.lanes|v.childLanes,v=v.sibling;u.childLanes=k&~g}else u.childLanes=0,u.child=null;return FD(c,u,g,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&fh(u,k!==null?k.cachePool:null),k!==null?Sy(u,k):ap(),CD(u);else return u.lanes=u.childLanes=536870912,FD(c,u,k!==null?k.baseLanes|h:h,h)}else k!==null?(fh(u,k.cachePool),Sy(u,k),Kc(),u.memoizedState=null):(c!==null&&fh(u,null),ap(),Kc());return rr(c,u,v,h),u.child}function FD(c,u,h,g){var v=rp();return v=v===null?null:{parent:mi._currentValue,pool:v},u.memoizedState={baseLanes:h,cachePool:v},c!==null&&fh(u,null),ap(),CD(u),c!==null&&cd(c,u,g,!0),null}function Ly(c,u){var h=u.ref;if(h===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(c===null||c.ref!==h)&&(u.flags|=4194816)}}function Kx(c,u,h,g,v){return vl(u),h=up(c,u,h,g,void 0,v),g=fs(),c!==null&&!Gi?(fa(c,u,v),xl(c,u,v)):(Zt&&g&&Zg(u),u.flags|=1,rr(c,u,h,v),u.child)}function zD(c,u,h,g,v,k){return vl(u),u.updateQueue=null,h=Ty(u,g,h,v),Ey(c),g=fs(),c!==null&&!Gi?(fa(c,u,k),xl(c,u,k)):(Zt&&g&&Zg(u),u.flags|=1,rr(c,u,h,k),u.child)}function jD(c,u,h,g,v){if(vl(u),u.stateNode===null){var k=zc,R=h.contextType;typeof R=="object"&&R!==null&&(k=Ti(R)),k=new h(g,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Gx,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=g,k.state=u.memoizedState,k.refs={},sp(u),R=h.contextType,k.context=typeof R=="object"&&R!==null?Ti(R):zc,k.state=u.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(Wx(u,h,R,g),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(R=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),R!==k.state&&Gx.enqueueReplaceState(k,k.state,null),$c(u,g,k,v),bd(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(c===null){k=u.stateNode;var N=u.memoizedProps,j=yd(h,N);k.props=j;var ie=k.context,ve=h.contextType;R=zc,typeof ve=="object"&&ve!==null&&(R=Ti(ve));var ke=h.getDerivedStateFromProps;ve=typeof ke=="function"||typeof k.getSnapshotBeforeUpdate=="function",N=u.pendingProps!==N,ve||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N||ie!==R)&&ED(u,k,g,R),ca=!1;var oe=u.memoizedState;k.state=oe,$c(u,g,k,v),bd(),ie=u.memoizedState,N||oe!==ie||ca?(typeof ke=="function"&&(Wx(u,h,ke,g),ie=u.memoizedState),(j=ca||SD(u,h,j,g,oe,ie,R))?(ve||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=ie),k.props=g,k.state=ie,k.context=R,g=j):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{k=u.stateNode,us(c,u),R=u.memoizedProps,ve=yd(h,R),k.props=ve,ke=u.pendingProps,oe=k.context,ie=h.contextType,j=zc,typeof ie=="object"&&ie!==null&&(j=Ti(ie)),N=h.getDerivedStateFromProps,(ie=typeof N=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==ke||oe!==j)&&ED(u,k,g,j),ca=!1,oe=u.memoizedState,k.state=oe,$c(u,g,k,v),bd();var le=u.memoizedState;R!==ke||oe!==le||ca||c!==null&&c.dependencies!==null&&dh(c.dependencies)?(typeof N=="function"&&(Wx(u,h,N,g),le=u.memoizedState),(ve=ca||SD(u,h,ve,g,oe,le,j)||c!==null&&c.dependencies!==null&&dh(c.dependencies))?(ie||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(g,le,j),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(g,le,j)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===c.memoizedProps&&oe===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===c.memoizedProps&&oe===c.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=le),k.props=g,k.state=le,k.context=j,g=ve):(typeof k.componentDidUpdate!="function"||R===c.memoizedProps&&oe===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===c.memoizedProps&&oe===c.memoizedState||(u.flags|=1024),g=!1)}return k=g,Ly(c,u),g=(u.flags&128)!==0,k||g?(k=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,c!==null&&g?(u.child=yh(u,c.child,null,v),u.child=yh(u,null,h,v)):rr(c,u,h,v),u.memoizedState=k.state,c=u.child):c=xl(c,u,v),c}function UD(c,u,h,g){return od(),u.flags|=256,rr(c,u,h,g),u.child}var qx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zx(c){return{baseLanes:c,cachePool:De()}}function Qx(c,u,h){return c=c!==null?c.childLanes&~h:0,u&&(c|=Ys),c}function $D(c,u,h){var g=u.pendingProps,v=!1,k=(u.flags&128)!==0,R;if((R=k)||(R=c!==null&&c.memoizedState===null?!1:(Mi.current&2)!==0),R&&(v=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,c===null){if(Zt){if(v?Yc(u):Kc(),Zt){var N=Bn,j;if(j=N){e:{for(j=N,N=Hs;j.nodeType!==8;){if(!N){N=null;break e}if(j=_o(j.nextSibling),j===null){N=null;break e}}N=j}N!==null?(u.memoizedState={dehydrated:N,treeContext:sa!==null?{id:mr,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},j=Er(18,null,null,0),j.stateNode=N,j.return=u,u.child=j,nr=u,Bn=null,j=!0):j=!1}j||pl(u)}if(N=u.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return NC(N)?u.lanes=32:u.lanes=536870912,null;kl(u)}return N=g.children,g=g.fallback,v?(Kc(),v=u.mode,N=Fy({mode:"hidden",children:N},v),g=dl(g,v,h,null),N.return=u,g.return=u,N.sibling=g,u.child=N,v=u.child,v.memoizedState=Zx(h),v.childLanes=Qx(c,R,h),u.memoizedState=qx,g):(Yc(u),Jx(u,N))}if(j=c.memoizedState,j!==null&&(N=j.dehydrated,N!==null)){if(k)u.flags&256?(Yc(u),u.flags&=-257,u=Xx(c,u,h)):u.memoizedState!==null?(Kc(),u.child=c.child,u.flags|=128,u=null):(Kc(),v=g.fallback,N=u.mode,g=Fy({mode:"visible",children:g.children},N),v=dl(v,N,h,null),v.flags|=2,g.return=u,v.return=u,g.sibling=v,u.child=g,yh(u,c.child,null,h),g=u.child,g.memoizedState=Zx(h),g.childLanes=Qx(c,R,h),u.memoizedState=qx,u=v);else if(Yc(u),NC(N)){if(R=N.nextSibling&&N.nextSibling.dataset,R)var ie=R.dgst;R=ie,g=Error(i(419)),g.stack="",g.digest=R,ad({value:g,source:null,stack:null}),u=Xx(c,u,h)}else if(Gi||cd(c,u,h,!1),R=(h&c.childLanes)!==0,Gi||R){if(R=En,R!==null&&(g=h&-h,g=(g&42)!==0?1:mg(g),g=(g&(R.suspendedLanes|h))!==0?0:g,g!==0&&g!==j.retryLane))throw j.retryLane=g,Fc(c,g),bs(R,c,g),ND;N.data==="$?"||bC(),u=Xx(c,u,h)}else N.data==="$?"?(u.flags|=192,u.child=c.child,u=null):(c=j.treeContext,Bn=_o(N.nextSibling),nr=u,Zt=!0,gl=null,Hs=!1,c!==null&&(Ni[tr++]=mr,Ni[tr++]=$s,Ni[tr++]=sa,mr=c.id,$s=c.overflow,sa=u),u=Jx(u,g.children),u.flags|=4096);return u}return v?(Kc(),v=g.fallback,N=u.mode,j=c.child,ie=j.sibling,g=go(j,{mode:"hidden",children:g.children}),g.subtreeFlags=j.subtreeFlags&65011712,ie!==null?v=go(ie,v):(v=dl(v,N,h,null),v.flags|=2),v.return=u,g.return=u,g.sibling=v,u.child=g,g=v,v=u.child,N=c.child.memoizedState,N===null?N=Zx(h):(j=N.cachePool,j!==null?(ie=mi._currentValue,j=j.parent!==ie?{parent:ie,pool:ie}:j):j=De(),N={baseLanes:N.baseLanes|h,cachePool:j}),v.memoizedState=N,v.childLanes=Qx(c,R,h),u.memoizedState=qx,g):(Yc(u),h=c.child,c=h.sibling,h=go(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,c!==null&&(R=u.deletions,R===null?(u.deletions=[c],u.flags|=16):R.push(c)),u.child=h,u.memoizedState=null,h)}function Jx(c,u){return u=Fy({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function Fy(c,u){return c=Er(22,c,null,u),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Xx(c,u,h){return yh(u,c.child,null,h),c=Jx(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function HD(c,u,h){c.lanes|=u;var g=c.alternate;g!==null&&(g.lanes|=u),ep(c.return,u,h)}function eC(c,u,h,g,v){var k=c.memoizedState;k===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=h,k.tailMode=v)}function WD(c,u,h){var g=u.pendingProps,v=g.revealOrder,k=g.tail;if(rr(c,u,g.children,h),g=Mi.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&HD(c,h,u);else if(c.tag===19)HD(c,h,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}g&=1}switch(Ae(Mi,g),v){case"forwards":for(h=u.child,v=null;h!==null;)c=h.alternate,c!==null&&My(c)===null&&(v=h),h=h.sibling;h=v,h===null?(v=u.child,u.child=null):(v=h.sibling,h.sibling=null),eC(u,!1,v,h,k);break;case"backwards":for(h=null,v=u.child,u.child=null;v!==null;){if(c=v.alternate,c!==null&&My(c)===null){u.child=v;break}c=v.sibling,v.sibling=h,h=v,v=c}eC(u,!0,h,null,k);break;case"together":eC(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xl(c,u,h){if(c!==null&&(u.dependencies=c.dependencies),Xc|=u.lanes,(h&u.childLanes)===0)if(c!==null){if(cd(c,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(i(153));if(u.child!==null){for(c=u.child,h=go(c,c.pendingProps),u.child=h,h.return=u;c.sibling!==null;)c=c.sibling,h=h.sibling=go(c,c.pendingProps),h.return=u;h.sibling=null}return u.child}function tC(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&dh(c)))}function XJ(c,u,h){switch(u.tag){case 3:we(u,u.stateNode.containerInfo),aa(u,mi,c.memoizedState.cache),od();break;case 27:case 5:ye(u);break;case 4:we(u,u.stateNode.containerInfo);break;case 10:aa(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Yc(u),u.flags|=128,null):(h&u.child.childLanes)!==0?$D(c,u,h):(Yc(u),c=xl(c,u,h),c!==null?c.sibling:null);Yc(u);break;case 19:var v=(c.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(cd(c,u,h,!1),g=(h&u.childLanes)!==0),v){if(g)return WD(c,u,h);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ae(Mi,Mi.current),g)break;return null;case 22:case 23:return u.lanes=0,LD(c,u,h);case 24:aa(u,mi,c.memoizedState.cache)}return xl(c,u,h)}function GD(c,u,h){if(c!==null)if(c.memoizedProps!==u.pendingProps)Gi=!0;else{if(!tC(c,h)&&(u.flags&128)===0)return Gi=!1,XJ(c,u,h);Gi=(c.flags&131072)!==0}else Gi=!1,Zt&&(u.flags&1048576)!==0&&py(u,ml,u.index);switch(u.lanes=0,u.tag){case 16:e:{c=u.pendingProps;var g=u.elementType,v=g._init;if(g=v(g._payload),u.type=g,typeof g=="function")Yg(g)?(c=yd(g,c),u.tag=1,u=jD(null,u,g,c,h)):(u.tag=0,u=Kx(null,u,g,c,h));else{if(g!=null){if(v=g.$$typeof,v===M){u.tag=11,u=MD(null,u,g,c,h);break e}else if(v===$){u.tag=14,u=BD(null,u,g,c,h);break e}}throw u=Te(g)||g,Error(i(306,u,""))}}return u;case 0:return Kx(c,u,u.type,u.pendingProps,h);case 1:return g=u.type,v=yd(g,u.pendingProps),jD(c,u,g,v,h);case 3:e:{if(we(u,u.stateNode.containerInfo),c===null)throw Error(i(387));g=u.pendingProps;var k=u.memoizedState;v=k.element,us(c,u),$c(u,g,null,h);var R=u.memoizedState;if(g=R.cache,aa(u,mi,g),g!==k.cache&&ld(u,[mi],h,!0),bd(),g=R.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=UD(c,u,g,h);break e}else if(g!==v){v=Wr(Error(i(424)),u),ad(v),u=UD(c,u,g,h);break e}else{switch(c=u.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Bn=_o(c.firstChild),nr=u,Zt=!0,gl=null,Hs=!0,h=xD(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(od(),g===v){u=xl(c,u,h);break e}rr(c,u,g,h)}u=u.child}return u;case 26:return Ly(c,u),c===null?(h=Z4(u.type,null,u.pendingProps,null))?u.memoizedState=h:Zt||(h=u.type,c=u.pendingProps,g=Xy(ce.current).createElement(h),g[Si]=u,g[xt]=c,or(g,h,c),Ei(g),u.stateNode=g):u.memoizedState=Z4(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:return ye(u),c===null&&Zt&&(g=u.stateNode=Y4(u.type,u.pendingProps,ce.current),nr=u,Hs=!0,v=Bn,iu(u.type)?(MC=v,Bn=_o(g.firstChild)):Bn=v),rr(c,u,u.pendingProps.children,h),Ly(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&Zt&&((v=g=Bn)&&(g=EX(g,u.type,u.pendingProps,Hs),g!==null?(u.stateNode=g,nr=u,Bn=_o(g.firstChild),Hs=!1,v=!0):v=!1),v||pl(u)),ye(u),v=u.type,k=u.pendingProps,R=c!==null?c.memoizedProps:null,g=k.children,RC(v,k)?g=null:R!==null&&RC(v,R)&&(u.flags|=32),u.memoizedState!==null&&(v=up(c,u,Lx,null,null,h),Op._currentValue=v),Ly(c,u),rr(c,u,g,h),u.child;case 6:return c===null&&Zt&&((c=h=Bn)&&(h=TX(h,u.pendingProps,Hs),h!==null?(u.stateNode=h,nr=u,Bn=null,c=!0):c=!1),c||pl(u)),null;case 13:return $D(c,u,h);case 4:return we(u,u.stateNode.containerInfo),g=u.pendingProps,c===null?u.child=yh(u,null,g,h):rr(c,u,g,h),u.child;case 11:return MD(c,u,u.type,u.pendingProps,h);case 7:return rr(c,u,u.pendingProps,h),u.child;case 8:return rr(c,u,u.pendingProps.children,h),u.child;case 12:return rr(c,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,aa(u,u.type,g.value),rr(c,u,g.children,h),u.child;case 9:return v=u.type._context,g=u.pendingProps.children,vl(u),v=Ti(v),g=g(v),u.flags|=1,rr(c,u,g,h),u.child;case 14:return BD(c,u,u.type,u.pendingProps,h);case 15:return VD(c,u,u.type,u.pendingProps,h);case 19:return WD(c,u,h);case 31:return g=u.pendingProps,h=u.mode,g={mode:g.mode,children:g.children},c===null?(h=Fy(g,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=go(c.child,g),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return LD(c,u,h);case 24:return vl(u),g=Ti(mi),c===null?(v=rp(),v===null&&(v=En,k=tp(),v.pooledCache=k,k.refCount++,k!==null&&(v.pooledCacheLanes|=h),v=k),u.memoizedState={parent:g,cache:v},sp(u),aa(u,mi,v)):((c.lanes&h)!==0&&(us(c,u),$c(u,null,null,h),bd()),v=c.memoizedState,k=u.memoizedState,v.parent!==g?(v={parent:g,cache:g},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),aa(u,mi,g)):(g=k.cache,aa(u,mi,g),g!==v.cache&&ld(u,[mi],h,!0))),rr(c,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Cl(c){c.flags|=4}function YD(c,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!tN(u)){if(u=Gs.current,u!==null&&(($t&4194048)===$t?ma!==null:($t&62914560)!==$t&&($t&536870912)===0||u!==ma))throw gd=zt,Ay;c.flags|=8192}}function zy(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?Dw():536870912,c.lanes|=u,xh|=u)}function bp(c,u){if(!Zt)switch(c.tailMode){case"hidden":u=c.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?c.tail=null:h.sibling=null;break;case"collapsed":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:g.sibling=null}}function qn(c){var u=c.alternate!==null&&c.alternate.child===c.child,h=0,g=0;if(u)for(var v=c.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=c,v=v.sibling;else for(v=c.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=c,v=v.sibling;return c.subtreeFlags|=g,c.childLanes=h,u}function eX(c,u,h){var g=u.pendingProps;switch(Qg(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(u),null;case 1:return qn(u),null;case 3:return h=u.stateNode,g=null,c!==null&&(g=c.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),bo(mi),Ie(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(c===null||c.child===null)&&(sd(u)?Cl(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,wy())),qn(u),null;case 26:return h=u.memoizedState,c===null?(Cl(u),h!==null?(qn(u),YD(u,h)):(qn(u),u.flags&=-16777217)):h?h!==c.memoizedState?(Cl(u),qn(u),YD(u,h)):(qn(u),u.flags&=-16777217):(c.memoizedProps!==g&&Cl(u),qn(u),u.flags&=-16777217),null;case 27:Fe(u),h=ce.current;var v=u.type;if(c!==null&&u.stateNode!=null)c.memoizedProps!==g&&Cl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return qn(u),null}c=q.current,sd(u)?by(u):(c=Y4(v,g,h),u.stateNode=c,Cl(u))}return qn(u),null;case 5:if(Fe(u),h=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==g&&Cl(u);else{if(!g){if(u.stateNode===null)throw Error(i(166));return qn(u),null}if(c=q.current,sd(u))by(u);else{switch(v=Xy(ce.current),c){case 1:c=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:c=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":c=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":c=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":c=v.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof g.is=="string"?v.createElement("select",{is:g.is}):v.createElement("select"),g.multiple?c.multiple=!0:g.size&&(c.size=g.size);break;default:c=typeof g.is=="string"?v.createElement(h,{is:g.is}):v.createElement(h)}}c[Si]=u,c[xt]=g;e:for(v=u.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break e;for(;v.sibling===null;){if(v.return===null||v.return===u)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}u.stateNode=c;e:switch(or(c,h,g),h){case"button":case"input":case"select":case"textarea":c=!!g.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Cl(u)}}return qn(u),u.flags&=-16777217,null;case 6:if(c&&u.stateNode!=null)c.memoizedProps!==g&&Cl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(i(166));if(c=ce.current,sd(u)){if(c=u.stateNode,h=u.memoizedProps,g=null,v=nr,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}c[Si]=u,c=!!(c.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||z4(c.nodeValue,h)),c||pl(u)}else c=Xy(c).createTextNode(g),c[Si]=u,u.stateNode=c}return qn(u),null;case 13:if(g=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(v=sd(u),g!==null&&g.dehydrated!==null){if(c===null){if(!v)throw Error(i(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Si]=u}else od(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;qn(u),v=!1}else v=wy(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(kl(u),u):(kl(u),null)}if(kl(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=g!==null,c=c!==null&&c.memoizedState!==null,h){g=u.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool);var k=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(k=g.memoizedState.cachePool.pool),k!==v&&(g.flags|=2048)}return h!==c&&h&&(u.child.flags|=8192),zy(u,u.updateQueue),qn(u),null;case 4:return Ie(),c===null&&SC(u.stateNode.containerInfo),qn(u),null;case 10:return bo(u.type),qn(u),null;case 19:if(Pe(Mi),v=u.memoizedState,v===null)return qn(u),null;if(g=(u.flags&128)!==0,k=v.rendering,k===null)if(g)bp(v,!1);else{if(ci!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(k=My(c),k!==null){for(u.flags|=128,bp(v,!1),c=k.updateQueue,u.updateQueue=c,zy(u,c),u.subtreeFlags=0,c=h,h=u.child;h!==null;)gy(h,c),h=h.sibling;return Ae(Mi,Mi.current&1|2),u.child}c=c.sibling}v.tail!==null&&st()>$y&&(u.flags|=128,g=!0,bp(v,!1),u.lanes=4194304)}else{if(!g)if(c=My(k),c!==null){if(u.flags|=128,g=!0,c=c.updateQueue,u.updateQueue=c,zy(u,c),bp(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Zt)return qn(u),null}else 2*st()-v.renderingStartTime>$y&&h!==536870912&&(u.flags|=128,g=!0,bp(v,!1),u.lanes=4194304);v.isBackwards?(k.sibling=u.child,u.child=k):(c=v.last,c!==null?c.sibling=k:u.child=k,v.last=k)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=st(),u.sibling=null,c=Mi.current,Ae(Mi,g?c&1|2:c&1),u):(qn(u),null);case 22:case 23:return kl(u),lp(),g=u.memoizedState!==null,c!==null?c.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(qn(u),u.subtreeFlags&6&&(u.flags|=8192)):qn(u),h=u.updateQueue,h!==null&&zy(u,h.retryQueue),h=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),c!==null&&Pe(_l),null;case 24:return h=null,c!==null&&(h=c.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),bo(mi),qn(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function tX(c,u){switch(Qg(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return bo(mi),Ie(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return Fe(u),null;case 13:if(kl(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(i(340));od()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Pe(Mi),null;case 4:return Ie(),null;case 10:return bo(u.type),null;case 22:case 23:return kl(u),lp(),c!==null&&Pe(_l),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return bo(mi),null;case 25:return null;default:return null}}function KD(c,u){switch(Qg(u),u.tag){case 3:bo(mi),Ie();break;case 26:case 27:case 5:Fe(u);break;case 4:Ie();break;case 13:kl(u);break;case 19:Pe(Mi);break;case 10:bo(u.type);break;case 22:case 23:kl(u),lp(),c!==null&&Pe(_l);break;case 24:bo(mi)}}function vp(c,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&c)===c){g=void 0;var k=h.create,R=h.inst;g=k(),R.destroy=g}h=h.next}while(h!==v)}}catch(N){An(u,u.return,N)}}function qc(c,u,h){try{var g=u.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var k=v.next;g=k;do{if((g.tag&c)===c){var R=g.inst,N=R.destroy;if(N!==void 0){R.destroy=void 0,v=u;var j=h,ie=N;try{ie()}catch(ve){An(v,j,ve)}}}g=g.next}while(g!==k)}}catch(ve){An(u,u.return,ve)}}function qD(c){var u=c.updateQueue;if(u!==null){var h=c.stateNode;try{Cy(u,h)}catch(g){An(c,c.return,g)}}}function ZD(c,u,h){h.props=yd(c.type,c.memoizedProps),h.state=c.memoizedState;try{h.componentWillUnmount()}catch(g){An(c,u,g)}}function wp(c,u){try{var h=c.ref;if(h!==null){switch(c.tag){case 26:case 27:case 5:var g=c.stateNode;break;case 30:g=c.stateNode;break;default:g=c.stateNode}typeof h=="function"?c.refCleanup=h(g):h.current=g}}catch(v){An(c,u,v)}}function ga(c,u){var h=c.ref,g=c.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(v){An(c,u,v)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){An(c,u,v)}else h.current=null}function QD(c){var u=c.type,h=c.memoizedProps,g=c.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(v){An(c,c.return,v)}}function nC(c,u,h){try{var g=c.stateNode;AX(g,c.type,h,u),g[xt]=u}catch(v){An(c,c.return,v)}}function JD(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&iu(c.type)||c.tag===4}function iC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||JD(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&iu(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function rC(c,u,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(c,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(c),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Jy));else if(g!==4&&(g===27&&iu(c.type)&&(h=c.stateNode,u=null),c=c.child,c!==null))for(rC(c,u,h),c=c.sibling;c!==null;)rC(c,u,h),c=c.sibling}function jy(c,u,h){var g=c.tag;if(g===5||g===6)c=c.stateNode,u?h.insertBefore(c,u):h.appendChild(c);else if(g!==4&&(g===27&&iu(c.type)&&(h=c.stateNode),c=c.child,c!==null))for(jy(c,u,h),c=c.sibling;c!==null;)jy(c,u,h),c=c.sibling}function XD(c){var u=c.stateNode,h=c.memoizedProps;try{for(var g=c.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);or(u,g,h),u[Si]=c,u[xt]=h}catch(k){An(c,c.return,k)}}var Sl=!1,gi=!1,sC=!1,e4=typeof WeakSet=="function"?WeakSet:Set,Yi=null;function nX(c,u){if(c=c.containerInfo,IC=s_,c=oy(c),Lg(c)){if("selectionStart"in c)var h={start:c.selectionStart,end:c.selectionEnd};else e:{h=(h=c.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var R=0,N=-1,j=-1,ie=0,ve=0,ke=c,oe=null;t:for(;;){for(var le;ke!==h||v!==0&&ke.nodeType!==3||(N=R+v),ke!==k||g!==0&&ke.nodeType!==3||(j=R+g),ke.nodeType===3&&(R+=ke.nodeValue.length),(le=ke.firstChild)!==null;)oe=ke,ke=le;for(;;){if(ke===c)break t;if(oe===h&&++ie===v&&(N=R),oe===k&&++ve===g&&(j=R),(le=ke.nextSibling)!==null)break;ke=oe,oe=ke.parentNode}ke=le}h=N===-1||j===-1?null:{start:N,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(PC={focusedElem:c,selectionRange:h},s_=!1,Yi=u;Yi!==null;)if(u=Yi,c=u.child,(u.subtreeFlags&1024)!==0&&c!==null)c.return=u,Yi=c;else for(;Yi!==null;){switch(u=Yi,k=u.alternate,c=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,h=u,v=k.memoizedProps,k=k.memoizedState,g=h.stateNode;try{var mt=yd(h.type,v,h.elementType===h.type);c=g.getSnapshotBeforeUpdate(mt,k),g.__reactInternalSnapshotBeforeUpdate=c}catch(ut){An(h,h.return,ut)}}break;case 3:if((c&1024)!==0){if(c=u.stateNode.containerInfo,h=c.nodeType,h===9)DC(c);else if(h===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":DC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=u.sibling,c!==null){c.return=u.return,Yi=c;break}Yi=u.return}}function t4(c,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Zc(c,h),g&4&&vp(5,h);break;case 1:if(Zc(c,h),g&4)if(c=h.stateNode,u===null)try{c.componentDidMount()}catch(R){An(h,h.return,R)}else{var v=yd(h.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(v,u,c.__reactInternalSnapshotBeforeUpdate)}catch(R){An(h,h.return,R)}}g&64&&qD(h),g&512&&wp(h,h.return);break;case 3:if(Zc(c,h),g&64&&(c=h.updateQueue,c!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Cy(c,u)}catch(R){An(h,h.return,R)}}break;case 27:u===null&&g&4&&XD(h);case 26:case 5:Zc(c,h),u===null&&g&4&&QD(h),g&512&&wp(h,h.return);break;case 12:Zc(c,h);break;case 13:Zc(c,h),g&4&&r4(c,h),g&64&&(c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(h=dX.bind(null,h),IX(c,h))));break;case 22:if(g=h.memoizedState!==null||Sl,!g){u=u!==null&&u.memoizedState!==null||gi,v=Sl;var k=gi;Sl=g,(gi=u)&&!k?Qc(c,h,(h.subtreeFlags&8772)!==0):Zc(c,h),Sl=v,gi=k}break;case 30:break;default:Zc(c,h)}}function n4(c){var u=c.alternate;u!==null&&(c.alternate=null,n4(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&Yn(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Vn=null,Kr=!1;function El(c,u,h){for(h=h.child;h!==null;)i4(c,u,h),h=h.sibling}function i4(c,u,h){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(me,h)}catch{}switch(h.tag){case 26:gi||ga(h,u),El(c,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:gi||ga(h,u);var g=Vn,v=Kr;iu(h.type)&&(Vn=h.stateNode,Kr=!1),El(c,u,h),Tp(h.stateNode),Vn=g,Kr=v;break;case 5:gi||ga(h,u);case 6:if(g=Vn,v=Kr,Vn=null,El(c,u,h),Vn=g,Kr=v,Vn!==null)if(Kr)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(h.stateNode)}catch(k){An(h,u,k)}else try{Vn.removeChild(h.stateNode)}catch(k){An(h,u,k)}break;case 18:Vn!==null&&(Kr?(c=Vn,W4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,h.stateNode),Bp(c)):W4(Vn,h.stateNode));break;case 4:g=Vn,v=Kr,Vn=h.stateNode.containerInfo,Kr=!0,El(c,u,h),Vn=g,Kr=v;break;case 0:case 11:case 14:case 15:gi||qc(2,h,u),gi||qc(4,h,u),El(c,u,h);break;case 1:gi||(ga(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&ZD(h,u,g)),El(c,u,h);break;case 21:El(c,u,h);break;case 22:gi=(g=gi)||h.memoizedState!==null,El(c,u,h),gi=g;break;default:El(c,u,h)}}function r4(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Bp(c)}catch(h){An(u,u.return,h)}}function iX(c){switch(c.tag){case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new e4),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new e4),u;default:throw Error(i(435,c.tag))}}function oC(c,u){var h=iX(c);u.forEach(function(g){var v=fX.bind(null,c,g);h.has(g)||(h.add(g),g.then(v,v))})}function hs(c,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g],k=c,R=u,N=R;e:for(;N!==null;){switch(N.tag){case 27:if(iu(N.type)){Vn=N.stateNode,Kr=!1;break e}break;case 5:Vn=N.stateNode,Kr=!1;break e;case 3:case 4:Vn=N.stateNode.containerInfo,Kr=!0;break e}N=N.return}if(Vn===null)throw Error(i(160));i4(k,R,v),Vn=null,Kr=!1,k=v.alternate,k!==null&&(k.return=null),v.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)s4(u,c),u=u.sibling}var yo=null;function s4(c,u){var h=c.alternate,g=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:hs(u,c),ms(c),g&4&&(qc(3,c,c.return),vp(3,c),qc(5,c,c.return));break;case 1:hs(u,c),ms(c),g&512&&(gi||h===null||ga(h,h.return)),g&64&&Sl&&(c=c.updateQueue,c!==null&&(g=c.callbacks,g!==null&&(h=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var v=yo;if(hs(u,c),ms(c),g&512&&(gi||h===null||ga(h,h.return)),g&4){var k=h!==null?h.memoizedState:null;if(g=c.memoizedState,h===null)if(g===null)if(c.stateNode===null){e:{g=c.type,h=c.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":k=v.getElementsByTagName("title")[0],(!k||k[fr]||k[Si]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=v.createElement(g),v.head.insertBefore(k,v.querySelector("head > title"))),or(k,g,h),k[Si]=c,Ei(k),g=k;break e;case"link":var R=X4("link","href",v).get(g+(h.href||""));if(R){for(var N=0;N<R.length;N++)if(k=R[N],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(N,1);break t}}k=v.createElement(g),or(k,g,h),v.head.appendChild(k);break;case"meta":if(R=X4("meta","content",v).get(g+(h.content||""))){for(N=0;N<R.length;N++)if(k=R[N],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(N,1);break t}}k=v.createElement(g),or(k,g,h),v.head.appendChild(k);break;default:throw Error(i(468,g))}k[Si]=c,Ei(k),g=k}c.stateNode=g}else eN(v,c.type,c.stateNode);else c.stateNode=J4(v,g,c.memoizedProps);else k!==g?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,g===null?eN(v,c.type,c.stateNode):J4(v,g,c.memoizedProps)):g===null&&c.stateNode!==null&&nC(c,c.memoizedProps,h.memoizedProps)}break;case 27:hs(u,c),ms(c),g&512&&(gi||h===null||ga(h,h.return)),h!==null&&g&4&&nC(c,c.memoizedProps,h.memoizedProps);break;case 5:if(hs(u,c),ms(c),g&512&&(gi||h===null||ga(h,h.return)),c.flags&32){v=c.stateNode;try{Oc(v,"")}catch(le){An(c,c.return,le)}}g&4&&c.stateNode!=null&&(v=c.memoizedProps,nC(c,v,h!==null?h.memoizedProps:v)),g&1024&&(sC=!0);break;case 6:if(hs(u,c),ms(c),g&4){if(c.stateNode===null)throw Error(i(162));g=c.memoizedProps,h=c.stateNode;try{h.nodeValue=g}catch(le){An(c,c.return,le)}}break;case 3:if(n_=null,v=yo,yo=e_(u.containerInfo),hs(u,c),yo=v,ms(c),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Bp(u.containerInfo)}catch(le){An(c,c.return,le)}sC&&(sC=!1,o4(c));break;case 4:g=yo,yo=e_(c.stateNode.containerInfo),hs(u,c),ms(c),yo=g;break;case 12:hs(u,c),ms(c);break;case 13:hs(u,c),ms(c),c.child.flags&8192&&c.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(fC=st()),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,oC(c,g)));break;case 22:v=c.memoizedState!==null;var j=h!==null&&h.memoizedState!==null,ie=Sl,ve=gi;if(Sl=ie||v,gi=ve||j,hs(u,c),gi=ve,Sl=ie,ms(c),g&8192)e:for(u=c.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(h===null||j||Sl||gi||_d(c)),h=null,u=c;;){if(u.tag===5||u.tag===26){if(h===null){j=h=u;try{if(k=j.stateNode,v)R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{N=j.stateNode;var ke=j.memoizedProps.style,oe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;N.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(le){An(j,j.return,le)}}}else if(u.tag===6){if(h===null){j=u;try{j.stateNode.nodeValue=v?"":j.memoizedProps}catch(le){An(j,j.return,le)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=c.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,oC(c,h))));break;case 19:hs(u,c),ms(c),g&4&&(g=c.updateQueue,g!==null&&(c.updateQueue=null,oC(c,g)));break;case 30:break;case 21:break;default:hs(u,c),ms(c)}}function ms(c){var u=c.flags;if(u&2){try{for(var h,g=c.return;g!==null;){if(JD(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var v=h.stateNode,k=iC(c);jy(c,k,v);break;case 5:var R=h.stateNode;h.flags&32&&(Oc(R,""),h.flags&=-33);var N=iC(c);jy(c,N,R);break;case 3:case 4:var j=h.stateNode.containerInfo,ie=iC(c);rC(c,ie,j);break;default:throw Error(i(161))}}catch(ve){An(c,c.return,ve)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function o4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;o4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),c=c.sibling}}function Zc(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)t4(c,u.alternate,u),u=u.sibling}function _d(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:qc(4,u,u.return),_d(u);break;case 1:ga(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&ZD(u,u.return,h),_d(u);break;case 27:Tp(u.stateNode);case 26:case 5:ga(u,u.return),_d(u);break;case 22:u.memoizedState===null&&_d(u);break;case 30:_d(u);break;default:_d(u)}c=c.sibling}}function Qc(c,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,v=c,k=u,R=k.flags;switch(k.tag){case 0:case 11:case 15:Qc(v,k,h),vp(4,k);break;case 1:if(Qc(v,k,h),g=k,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){An(g,g.return,ie)}if(g=k,v=g.updateQueue,v!==null){var N=g.stateNode;try{var j=v.shared.hiddenCallbacks;if(j!==null)for(v.shared.hiddenCallbacks=null,v=0;v<j.length;v++)gh(j[v],N)}catch(ie){An(g,g.return,ie)}}h&&R&64&&qD(k),wp(k,k.return);break;case 27:XD(k);case 26:case 5:Qc(v,k,h),h&&g===null&&R&4&&QD(k),wp(k,k.return);break;case 12:Qc(v,k,h);break;case 13:Qc(v,k,h),h&&R&4&&r4(v,k);break;case 22:k.memoizedState===null&&Qc(v,k,h),wp(k,k.return);break;case 30:break;default:Qc(v,k,h)}u=u.sibling}}function aC(c,u){var h=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==h&&(c!=null&&c.refCount++,h!=null&&jc(h))}function lC(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&jc(c))}function pa(c,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)a4(c,u,h,g),u=u.sibling}function a4(c,u,h,g){var v=u.flags;switch(u.tag){case 0:case 11:case 15:pa(c,u,h,g),v&2048&&vp(9,u);break;case 1:pa(c,u,h,g);break;case 3:pa(c,u,h,g),v&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&jc(c)));break;case 12:if(v&2048){pa(c,u,h,g),c=u.stateNode;try{var k=u.memoizedProps,R=k.id,N=k.onPostCommit;typeof N=="function"&&N(R,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(j){An(u,u.return,j)}}else pa(c,u,h,g);break;case 13:pa(c,u,h,g);break;case 23:break;case 22:k=u.stateNode,R=u.alternate,u.memoizedState!==null?k._visibility&2?pa(c,u,h,g):yp(c,u):k._visibility&2?pa(c,u,h,g):(k._visibility|=2,_h(c,u,h,g,(u.subtreeFlags&10256)!==0)),v&2048&&aC(R,u);break;case 24:pa(c,u,h,g),v&2048&&lC(u.alternate,u);break;default:pa(c,u,h,g)}}function _h(c,u,h,g,v){for(v=v&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var k=c,R=u,N=h,j=g,ie=R.flags;switch(R.tag){case 0:case 11:case 15:_h(k,R,N,j,v),vp(8,R);break;case 23:break;case 22:var ve=R.stateNode;R.memoizedState!==null?ve._visibility&2?_h(k,R,N,j,v):yp(k,R):(ve._visibility|=2,_h(k,R,N,j,v)),v&&ie&2048&&aC(R.alternate,R);break;case 24:_h(k,R,N,j,v),v&&ie&2048&&lC(R.alternate,R);break;default:_h(k,R,N,j,v)}u=u.sibling}}function yp(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=c,g=u,v=g.flags;switch(g.tag){case 22:yp(h,g),v&2048&&aC(g.alternate,g);break;case 24:yp(h,g),v&2048&&lC(g.alternate,g);break;default:yp(h,g)}u=u.sibling}}var _p=8192;function Ah(c){if(c.subtreeFlags&_p)for(c=c.child;c!==null;)l4(c),c=c.sibling}function l4(c){switch(c.tag){case 26:Ah(c),c.flags&_p&&c.memoizedState!==null&&UX(yo,c.memoizedState,c.memoizedProps);break;case 5:Ah(c);break;case 3:case 4:var u=yo;yo=e_(c.stateNode.containerInfo),Ah(c),yo=u;break;case 22:c.memoizedState===null&&(u=c.alternate,u!==null&&u.memoizedState!==null?(u=_p,_p=16777216,Ah(c),_p=u):Ah(c));break;default:Ah(c)}}function c4(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function Ap(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Yi=g,d4(g,c)}c4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)u4(c),c=c.sibling}function u4(c){switch(c.tag){case 0:case 11:case 15:Ap(c),c.flags&2048&&qc(9,c,c.return);break;case 3:Ap(c);break;case 12:Ap(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,Uy(c)):Ap(c);break;default:Ap(c)}}function Uy(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Yi=g,d4(g,c)}c4(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:qc(8,u,u.return),Uy(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Uy(u));break;default:Uy(u)}c=c.sibling}}function d4(c,u){for(;Yi!==null;){var h=Yi;switch(h.tag){case 0:case 11:case 15:qc(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:jc(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Yi=g;else e:for(h=c;Yi!==null;){g=Yi;var v=g.sibling,k=g.return;if(n4(g),g===h){Yi=null;break e}if(v!==null){v.return=k,Yi=v;break e}Yi=k}}}var rX={getCacheForType:function(c){var u=Ti(mi),h=u.data.get(c);return h===void 0&&(h=c(),u.data.set(c,h)),h}},sX=typeof WeakMap=="function"?WeakMap:Map,un=0,En=null,Vt=null,$t=0,dn=0,gs=null,Jc=!1,kh=!1,cC=!1,Tl=0,ci=0,Xc=0,Ad=0,uC=0,Ys=0,xh=0,kp=null,qr=null,dC=!1,fC=0,$y=1/0,Hy=null,eu=null,sr=0,tu=null,Ch=null,Sh=0,hC=0,mC=null,f4=null,xp=0,gC=null;function ps(){if((un&2)!==0&&$t!==0)return $t&-$t;if(Y.T!==null){var c=yl;return c!==0?c:AC()}return Fs()}function h4(){Ys===0&&(Ys=($t&536870912)===0||Zt?tl():536870912);var c=Gs.current;return c!==null&&(c.flags|=32),Ys}function bs(c,u,h){(c===En&&(dn===2||dn===9)||c.cancelPendingCommit!==null)&&(Eh(c,0),nu(c,$t,Ys,!1)),Ls(c,h),((un&2)===0||c!==En)&&(c===En&&((un&2)===0&&(Ad|=h),ci===4&&nu(c,$t,Ys,!1)),ba(c))}function m4(c,u,h){if((un&6)!==0)throw Error(i(327));var g=!h&&(u&124)===0&&(u&c.expiredLanes)===0||Ci(c,u),v=g?lX(c,u):vC(c,u,!0),k=g;do{if(v===0){kh&&!g&&nu(c,u,0,!1);break}else{if(h=c.current.alternate,k&&!oX(h)){v=vC(c,u,!1),k=!1;continue}if(v===2){if(k=u,c.errorRecoveryDisabledLanes&k)var R=0;else R=c.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var N=c;v=kp;var j=N.current.memoizedState.isDehydrated;if(j&&(Eh(N,R).flags|=256),R=vC(N,R,!1),R!==2){if(cC&&!j){N.errorRecoveryDisabledLanes|=k,Ad|=k,v=4;break e}k=qr,qr=v,k!==null&&(qr===null?qr=k:qr.push.apply(qr,k))}v=R}if(k=!1,v!==2)continue}}if(v===1){Eh(c,0),nu(c,u,0,!0);break}e:{switch(g=c,k=v,k){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:nu(g,u,Ys,!Jc);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(v=fC+300-st(),10<v)){if(nu(g,u,Ys,!Jc),xi(g,0,!0)!==0)break e;g.timeoutHandle=$4(g4.bind(null,g,h,qr,Hy,dC,u,Ys,Ad,xh,Jc,k,2,-0,0),v);break e}g4(g,h,qr,Hy,dC,u,Ys,Ad,xh,Jc,k,0,-0,0)}}break}while(!0);ba(c)}function g4(c,u,h,g,v,k,R,N,j,ie,ve,ke,oe,le){if(c.timeoutHandle=-1,ke=u.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(Rp={stylesheets:null,count:0,unsuspend:jX},l4(u),ke=$X(),ke!==null)){c.cancelPendingCommit=ke(A4.bind(null,c,u,k,h,g,v,R,N,j,ve,1,oe,le)),nu(c,k,R,!ie);return}A4(c,u,k,h,g,v,R,N,j)}function oX(c){for(var u=c;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var v=h[g],k=v.getSnapshot;v=v.value;try{if(!Sr(k(),v))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function nu(c,u,h,g){u&=~uC,u&=~Ad,c.suspendedLanes|=u,c.pingedLanes&=~u,g&&(c.warmLanes|=u),g=c.expirationTimes;for(var v=u;0<v;){var k=31-bt(v),R=1<<k;g[k]=-1,v&=~R}h!==0&&Wu(c,h,u)}function Wy(){return(un&6)===0?(Cp(0),!1):!0}function pC(){if(Vt!==null){if(dn===0)var c=Vt.return;else c=Vt,po=bl=null,dp(c),wh=null,gp=0,c=Vt;for(;c!==null;)KD(c.alternate,c),c=c.return;Vt=null}}function Eh(c,u){var h=c.timeoutHandle;h!==-1&&(c.timeoutHandle=-1,xX(h)),h=c.cancelPendingCommit,h!==null&&(c.cancelPendingCommit=null,h()),pC(),En=c,Vt=h=go(c.current,null),$t=u,dn=0,gs=null,Jc=!1,kh=Ci(c,u),cC=!1,xh=Ys=uC=Ad=Xc=ci=0,qr=kp=null,dC=!1,(u&8)!==0&&(u|=u&32);var g=c.entangledLanes;if(g!==0)for(c=c.entanglements,g&=u;0<g;){var v=31-bt(g),k=1<<v;u|=c[v],g&=~k}return Tl=u,oh(),h}function p4(c,u){St=null,Y.H=Oy,u===dd||u===fd?(u=ky(),dn=3):u===Ay?(u=ky(),dn=4):dn=u===ND?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,gs=u,Vt===null&&(ci=1,Vy(c,Wr(u,c.current)))}function b4(){var c=Y.H;return Y.H=Oy,c===null?Oy:c}function v4(){var c=Y.A;return Y.A=rX,c}function bC(){ci=4,Jc||($t&4194048)!==$t&&Gs.current!==null||(kh=!0),(Xc&134217727)===0&&(Ad&134217727)===0||En===null||nu(En,$t,Ys,!1)}function vC(c,u,h){var g=un;un|=2;var v=b4(),k=v4();(En!==c||$t!==u)&&(Hy=null,Eh(c,u)),u=!1;var R=ci;e:do try{if(dn!==0&&Vt!==null){var N=Vt,j=gs;switch(dn){case 8:pC(),R=6;break e;case 3:case 2:case 9:case 6:Gs.current===null&&(u=!0);var ie=dn;if(dn=0,gs=null,Th(c,N,j,ie),h&&kh){R=0;break e}break;default:ie=dn,dn=0,gs=null,Th(c,N,j,ie)}}aX(),R=ci;break}catch(ve){p4(c,ve)}while(!0);return u&&c.shellSuspendCounter++,po=bl=null,un=g,Y.H=v,Y.A=k,Vt===null&&(En=null,$t=0,oh()),R}function aX(){for(;Vt!==null;)w4(Vt)}function lX(c,u){var h=un;un|=2;var g=b4(),v=v4();En!==c||$t!==u?(Hy=null,$y=st()+500,Eh(c,u)):kh=Ci(c,u);e:do try{if(dn!==0&&Vt!==null){u=Vt;var k=gs;t:switch(dn){case 1:dn=0,gs=null,Th(c,u,k,1);break;case 2:case 9:if(hd(k)){dn=0,gs=null,y4(u);break}u=function(){dn!==2&&dn!==9||En!==c||(dn=7),ba(c)},k.then(u,u);break e;case 3:dn=7;break e;case 4:dn=5;break e;case 7:hd(k)?(dn=0,gs=null,y4(u)):(dn=0,gs=null,Th(c,u,k,7));break;case 5:var R=null;switch(Vt.tag){case 26:R=Vt.memoizedState;case 5:case 27:var N=Vt;if(!R||tN(R)){dn=0,gs=null;var j=N.sibling;if(j!==null)Vt=j;else{var ie=N.return;ie!==null?(Vt=ie,Gy(ie)):Vt=null}break t}}dn=0,gs=null,Th(c,u,k,5);break;case 6:dn=0,gs=null,Th(c,u,k,6);break;case 8:pC(),ci=6;break e;default:throw Error(i(462))}}cX();break}catch(ve){p4(c,ve)}while(!0);return po=bl=null,Y.H=g,Y.A=v,un=h,Vt!==null?0:(En=null,$t=0,oh(),ci)}function cX(){for(;Vt!==null&&!gn();)w4(Vt)}function w4(c){var u=GD(c.alternate,c,Tl);c.memoizedProps=c.pendingProps,u===null?Gy(c):Vt=u}function y4(c){var u=c,h=u.alternate;switch(u.tag){case 15:case 0:u=zD(h,u,u.pendingProps,u.type,void 0,$t);break;case 11:u=zD(h,u,u.pendingProps,u.type.render,u.ref,$t);break;case 5:dp(u);default:KD(h,u),u=Vt=gy(u,Tl),u=GD(h,u,Tl)}c.memoizedProps=c.pendingProps,u===null?Gy(c):Vt=u}function Th(c,u,h,g){po=bl=null,dp(u),wh=null,gp=0;var v=u.return;try{if(JJ(c,v,u,h,$t)){ci=1,Vy(c,Wr(h,c.current)),Vt=null;return}}catch(k){if(v!==null)throw Vt=v,k;ci=1,Vy(c,Wr(h,c.current)),Vt=null;return}u.flags&32768?(Zt||g===1?c=!0:kh||($t&536870912)!==0?c=!1:(Jc=c=!0,(g===2||g===9||g===3||g===6)&&(g=Gs.current,g!==null&&g.tag===13&&(g.flags|=16384))),_4(u,c)):Gy(u)}function Gy(c){var u=c;do{if((u.flags&32768)!==0){_4(u,Jc);return}c=u.return;var h=eX(u.alternate,u,Tl);if(h!==null){Vt=h;return}if(u=u.sibling,u!==null){Vt=u;return}Vt=u=c}while(u!==null);ci===0&&(ci=5)}function _4(c,u){do{var h=tX(c.alternate,c);if(h!==null){h.flags&=32767,Vt=h;return}if(h=c.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(c=c.sibling,c!==null)){Vt=c;return}Vt=c=h}while(c!==null);ci=6,Vt=null}function A4(c,u,h,g,v,k,R,N,j){c.cancelPendingCommit=null;do Yy();while(sr!==0);if((un&6)!==0)throw Error(i(327));if(u!==null){if(u===c.current)throw Error(i(177));if(k=u.lanes|u.childLanes,k|=Wg,hg(c,h,k,R,N,j),c===En&&(Vt=En=null,$t=0),Ch=u,tu=c,Sh=h,hC=k,mC=v,f4=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,hX(J,function(){return E4(),null})):(c.callbackNode=null,c.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=Y.T,Y.T=null,v=de.p,de.p=2,R=un,un|=4;try{nX(c,u,h)}finally{un=R,de.p=v,Y.T=g}}sr=1,k4(),x4(),C4()}}function k4(){if(sr===1){sr=0;var c=tu,u=Ch,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null;var g=de.p;de.p=2;var v=un;un|=4;try{s4(u,c);var k=PC,R=oy(c.containerInfo),N=k.focusedElem,j=k.selectionRange;if(R!==N&&N&&N.ownerDocument&&sy(N.ownerDocument.documentElement,N)){if(j!==null&&Lg(N)){var ie=j.start,ve=j.end;if(ve===void 0&&(ve=ie),"selectionStart"in N)N.selectionStart=ie,N.selectionEnd=Math.min(ve,N.value.length);else{var ke=N.ownerDocument||document,oe=ke&&ke.defaultView||window;if(oe.getSelection){var le=oe.getSelection(),mt=N.textContent.length,ut=Math.min(j.start,mt),vn=j.end===void 0?ut:Math.min(j.end,mt);!le.extend&&ut>vn&&(R=vn,vn=ut,ut=R);var X=sh(N,ut),K=sh(N,vn);if(X&&K&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==K.node||le.focusOffset!==K.offset)){var ne=ke.createRange();ne.setStart(X.node,X.offset),le.removeAllRanges(),ut>vn?(le.addRange(ne),le.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),le.addRange(ne))}}}}for(ke=[],le=N;le=le.parentNode;)le.nodeType===1&&ke.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ke.length;N++){var _e=ke[N];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}s_=!!IC,PC=IC=null}finally{un=v,de.p=g,Y.T=h}}c.current=u,sr=2}}function x4(){if(sr===2){sr=0;var c=tu,u=Ch,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=Y.T,Y.T=null;var g=de.p;de.p=2;var v=un;un|=4;try{t4(c,u.alternate,u)}finally{un=v,de.p=g,Y.T=h}}sr=3}}function C4(){if(sr===4||sr===3){sr=0,cn();var c=tu,u=Ch,h=Sh,g=f4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?sr=5:(sr=0,Ch=tu=null,S4(c,c.pendingLanes));var v=c.pendingLanes;if(v===0&&(eu=null),gg(h),u=u.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(me,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=Y.T,v=de.p,de.p=2,Y.T=null;try{for(var k=c.onRecoverableError,R=0;R<g.length;R++){var N=g[R];k(N.value,{componentStack:N.stack})}}finally{Y.T=u,de.p=v}}(Sh&3)!==0&&Yy(),ba(c),v=c.pendingLanes,(h&4194090)!==0&&(v&42)!==0?c===gC?xp++:(xp=0,gC=c):xp=0,Cp(0)}}function S4(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,jc(u)))}function Yy(c){return k4(),x4(),C4(),E4()}function E4(){if(sr!==5)return!1;var c=tu,u=hC;hC=0;var h=gg(Sh),g=Y.T,v=de.p;try{de.p=32>h?32:h,Y.T=null,h=mC,mC=null;var k=tu,R=Sh;if(sr=0,Ch=tu=null,Sh=0,(un&6)!==0)throw Error(i(331));var N=un;if(un|=4,u4(k.current),a4(k,k.current,R,h),un=N,Cp(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(me,k)}catch{}return!0}finally{de.p=v,Y.T=g,S4(c,u)}}function T4(c,u,h){u=Wr(h,u),u=Yx(c.stateNode,u,2),c=vo(c,u,2),c!==null&&(Ls(c,2),ba(c))}function An(c,u,h){if(c.tag===3)T4(c,c,h);else for(;u!==null;){if(u.tag===3){T4(u,c,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(eu===null||!eu.has(g))){c=Wr(h,c),h=OD(2),g=vo(u,h,2),g!==null&&(DD(h,g,u,c),Ls(g,2),ba(g));break}}u=u.return}}function wC(c,u,h){var g=c.pingCache;if(g===null){g=c.pingCache=new sX;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(h)||(cC=!0,v.add(h),c=uX.bind(null,c,u,h),u.then(c,c))}function uX(c,u,h){var g=c.pingCache;g!==null&&g.delete(u),c.pingedLanes|=c.suspendedLanes&h,c.warmLanes&=~h,En===c&&($t&h)===h&&(ci===4||ci===3&&($t&62914560)===$t&&300>st()-fC?(un&2)===0&&Eh(c,0):uC|=h,xh===$t&&(xh=0)),ba(c)}function I4(c,u){u===0&&(u=Dw()),c=Fc(c,u),c!==null&&(Ls(c,u),ba(c))}function dX(c){var u=c.memoizedState,h=0;u!==null&&(h=u.retryLane),I4(c,h)}function fX(c,u){var h=0;switch(c.tag){case 13:var g=c.stateNode,v=c.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=c.stateNode;break;case 22:g=c.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(u),I4(c,h)}function hX(c,u){return at(c,u)}var Ky=null,Ih=null,yC=!1,qy=!1,_C=!1,kd=0;function ba(c){c!==Ih&&c.next===null&&(Ih===null?Ky=Ih=c:Ih=Ih.next=c),qy=!0,yC||(yC=!0,gX())}function Cp(c,u){if(!_C&&qy){_C=!0;do for(var h=!1,g=Ky;g!==null;){if(c!==0){var v=g.pendingLanes;if(v===0)var k=0;else{var R=g.suspendedLanes,N=g.pingedLanes;k=(1<<31-bt(42|c)+1)-1,k&=v&~(R&~N),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,D4(g,k))}else k=$t,k=xi(g,g===En?k:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(k&3)===0||Ci(g,k)||(h=!0,D4(g,k));g=g.next}while(h);_C=!1}}function mX(){P4()}function P4(){qy=yC=!1;var c=0;kd!==0&&(kX()&&(c=kd),kd=0);for(var u=st(),h=null,g=Ky;g!==null;){var v=g.next,k=R4(g,u);k===0?(g.next=null,h===null?Ky=v:h.next=v,v===null&&(Ih=h)):(h=g,(c!==0||(k&3)!==0)&&(qy=!0)),g=v}Cp(c)}function R4(c,u){for(var h=c.suspendedLanes,g=c.pingedLanes,v=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var R=31-bt(k),N=1<<R,j=v[R];j===-1?((N&h)===0||(N&g)!==0)&&(v[R]=ta(N,u)):j<=u&&(c.expiredLanes|=N),k&=~N}if(u=En,h=$t,h=xi(c,c===u?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g=c.callbackNode,h===0||c===u&&(dn===2||dn===9)||c.cancelPendingCommit!==null)return g!==null&&g!==null&&ct(g),c.callbackNode=null,c.callbackPriority=0;if((h&3)===0||Ci(c,h)){if(u=h&-h,u===c.callbackPriority)return u;switch(g!==null&&ct(g),gg(h)){case 2:case 8:h=F;break;case 32:h=J;break;case 268435456:h=Ne;break;default:h=J}return g=O4.bind(null,c),h=at(h,g),c.callbackPriority=u,c.callbackNode=h,u}return g!==null&&g!==null&&ct(g),c.callbackPriority=2,c.callbackNode=null,2}function O4(c,u){if(sr!==0&&sr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var h=c.callbackNode;if(Yy()&&c.callbackNode!==h)return null;var g=$t;return g=xi(c,c===En?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),g===0?null:(m4(c,g,u),R4(c,st()),c.callbackNode!=null&&c.callbackNode===h?O4.bind(null,c):null)}function D4(c,u){if(Yy())return null;m4(c,u,!0)}function gX(){CX(function(){(un&6)!==0?at(Ct,mX):P4()})}function AC(){return kd===0&&(kd=tl()),kd}function N4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$f(""+c)}function M4(c,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,c.id&&h.setAttribute("form",c.id),u.parentNode.insertBefore(h,u),c=new FormData(c),h.parentNode.removeChild(h),c}function pX(c,u,h,g,v){if(u==="submit"&&h&&h.stateNode===v){var k=N4((v[xt]||null).action),R=g.submitter;R&&(u=(u=R[xt]||null)?N4(u.formAction):R.getAttribute("formAction"),u!==null&&(k=u,R=null));var N=new Yf("action","action",null,g,v);c.push({event:N,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(kd!==0){var j=R?M4(v,R):new FormData(v);Ux(h,{pending:!0,data:j,method:v.method,action:k},null,j)}}else typeof k=="function"&&(N.preventDefault(),j=R?M4(v,R):new FormData(v),Ux(h,{pending:!0,data:j,method:v.method,action:k},k,j))},currentTarget:v}]})}}for(var kC=0;kC<Hg.length;kC++){var xC=Hg[kC],bX=xC.toLowerCase(),vX=xC[0].toUpperCase()+xC.slice(1);cs(bX,"on"+vX)}cs(ra,"onAnimationEnd"),cs(Ug,"onAnimationIteration"),cs(cy,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(uy,"onTransitionRun"),cs(dy,"onTransitionStart"),cs(Ox,"onTransitionCancel"),cs(fy,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),il("onBeforeInput",["compositionend","keypress","textInput","paste"]),il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sp));function B4(c,u){u=(u&4)!==0;for(var h=0;h<c.length;h++){var g=c[h],v=g.event;g=g.listeners;e:{var k=void 0;if(u)for(var R=g.length-1;0<=R;R--){var N=g[R],j=N.instance,ie=N.currentTarget;if(N=N.listener,j!==k&&v.isPropagationStopped())break e;k=N,v.currentTarget=ie;try{k(v)}catch(ve){By(ve)}v.currentTarget=null,k=j}else for(R=0;R<g.length;R++){if(N=g[R],j=N.instance,ie=N.currentTarget,N=N.listener,j!==k&&v.isPropagationStopped())break e;k=N,v.currentTarget=ie;try{k(v)}catch(ve){By(ve)}v.currentTarget=null,k=j}}}}function Lt(c,u){var h=u[pg];h===void 0&&(h=u[pg]=new Set);var g=c+"__bubble";h.has(g)||(V4(u,c,2,!1),h.add(g))}function CC(c,u,h){var g=0;u&&(g|=4),V4(h,c,g,u)}var Zy="_reactListening"+Math.random().toString(36).slice(2);function SC(c){if(!c[Zy]){c[Zy]=!0,Tc.forEach(function(h){h!=="selectionchange"&&(wX.has(h)||CC(h,!1,c),CC(h,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Zy]||(u[Zy]=!0,CC("selectionchange",!1,u))}}function V4(c,u,h,g){switch(aN(u)){case 2:var v=GX;break;case 8:v=YX;break;default:v=zC}h=v.bind(null,u,h,c),v=void 0,!Eg||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?c.addEventListener(u,h,{capture:!0,passive:v}):c.addEventListener(u,h,!0):v!==void 0?c.addEventListener(u,h,{passive:v}):c.addEventListener(u,h,!1)}function EC(c,u,h,g,v){var k=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var N=g.stateNode.containerInfo;if(N===v)break;if(R===4)for(R=g.return;R!==null;){var j=R.tag;if((j===3||j===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;N!==null;){if(R=Hi(N),R===null)return;if(j=R.tag,j===5||j===6||j===26||j===27){g=k=R;continue e}N=N.parentNode}}g=g.return}Uw(function(){var ie=k,ve=Cg(h),ke=[];e:{var oe=$g.get(c);if(oe!==void 0){var le=Yf,mt=c;switch(c){case"keypress":if(Wf(h)===0)break e;case"keydown":case"keyup":le=vx;break;case"focusin":mt="focus",le=Og;break;case"focusout":mt="blur",le=Og;break;case"beforeblur":case"afterblur":le=Og;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=yx;break;case ra:case Ug:case cy:le=hx;break;case fy:le=Yw;break;case"scroll":case"scrollend":le=Ww;break;case"wheel":le=kx;break;case"copy":case"cut":case"paste":le=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Jf;break;case"toggle":case"beforetoggle":le=Cx}var ut=(u&4)!==0,vn=!ut&&(c==="scroll"||c==="scrollend"),X=ut?oe!==null?oe+"Capture":null:oe;ut=[];for(var K=ie,ne;K!==null;){var _e=K;if(ne=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ne===null||X===null||(_e=qu(K,X),_e!=null&&ut.push(Ep(K,_e,ne))),vn)break;K=K.return}0<ut.length&&(oe=new le(oe,mt,null,h,ve),ke.push({event:oe,listeners:ut}))}}if((u&7)===0){e:{if(oe=c==="mouseover"||c==="pointerover",le=c==="mouseout"||c==="pointerout",oe&&h!==Ku&&(mt=h.relatedTarget||h.fromElement)&&(Hi(mt)||mt[zs]))break e;if((le||oe)&&(oe=ve.window===ve?ve:(oe=ve.ownerDocument)?oe.defaultView||oe.parentWindow:window,le?(mt=h.relatedTarget||h.toElement,le=ie,mt=mt?Hi(mt):null,mt!==null&&(vn=s(mt),ut=mt.tag,mt!==vn||ut!==5&&ut!==27&&ut!==6)&&(mt=null)):(le=null,mt=ie),le!==mt)){if(ut=Rg,_e="onMouseLeave",X="onMouseEnter",K="mouse",(c==="pointerout"||c==="pointerover")&&(ut=Jf,_e="onPointerLeave",X="onPointerEnter",K="pointer"),vn=le==null?oe:os(le),ne=mt==null?oe:os(mt),oe=new ut(_e,K+"leave",le,h,ve),oe.target=vn,oe.relatedTarget=ne,_e=null,Hi(ve)===ie&&(ut=new ut(X,K+"enter",mt,h,ve),ut.target=ne,ut.relatedTarget=vn,_e=ut),vn=_e,le&&mt)t:{for(ut=le,X=mt,K=0,ne=ut;ne;ne=Ph(ne))K++;for(ne=0,_e=X;_e;_e=Ph(_e))ne++;for(;0<K-ne;)ut=Ph(ut),K--;for(;0<ne-K;)X=Ph(X),ne--;for(;K--;){if(ut===X||X!==null&&ut===X.alternate)break t;ut=Ph(ut),X=Ph(X)}ut=null}else ut=null;le!==null&&L4(ke,oe,le,ut,!1),mt!==null&&vn!==null&&L4(ke,vn,mt,ut,!0)}}e:{if(oe=ie?os(ie):window,le=oe.nodeName&&oe.nodeName.toLowerCase(),le==="select"||le==="input"&&oe.type==="file")var Xe=Xw;else if(Jw(oe))if(ey)Xe=Px;else{Xe=ih;var Bt=nh}else le=oe.nodeName,!le||le.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&xg(ie.elementType)&&(Xe=Xw):Xe=Vg;if(Xe&&(Xe=Xe(c,ie))){Mg(ke,Xe,h,ve);break e}Bt&&Bt(c,oe,ie),c==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Pc(oe,"number",oe.value)}switch(Bt=ie?os(ie):window,c){case"focusin":(Jw(Bt)||Bt.contentEditable==="true")&&(Vc=Bt,Fg=ie,id=null);break;case"focusout":id=Fg=Vc=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,ay(ke,h,ve);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":ay(ke,h,ve)}var ot;if(Xf)e:{switch(c){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Bc?th(c,h)&&(ft="onCompositionEnd"):c==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(Kw&&h.locale!=="ko"&&(Bc||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Bc&&(ot=$w()):(na=ve,Tg="value"in na?na.value:na.textContent,Bc=!0)),Bt=Qy(ie,ft),0<Bt.length&&(ft=new Zf(ft,c,null,h,ve),ke.push({event:ft,listeners:Bt}),ot?ft.data=ot:(ot=Zw(h),ot!==null&&(ft.data=ot)))),(ot=Mc?Ex(c,h):Tx(c,h))&&(ft=Qy(ie,"onBeforeInput"),0<ft.length&&(Bt=new Zf("onBeforeInput","beforeinput",null,h,ve),ke.push({event:Bt,listeners:ft}),Bt.data=ot)),pX(ke,c,ie,h,ve)}B4(ke,u)})}function Ep(c,u,h){return{instance:c,listener:u,currentTarget:h}}function Qy(c,u){for(var h=u+"Capture",g=[];c!==null;){var v=c,k=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||k===null||(v=qu(c,h),v!=null&&g.unshift(Ep(c,v,k)),v=qu(c,u),v!=null&&g.push(Ep(c,v,k))),c.tag===3)return g;c=c.return}return[]}function Ph(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function L4(c,u,h,g,v){for(var k=u._reactName,R=[];h!==null&&h!==g;){var N=h,j=N.alternate,ie=N.stateNode;if(N=N.tag,j!==null&&j===g)break;N!==5&&N!==26&&N!==27||ie===null||(j=ie,v?(ie=qu(h,k),ie!=null&&R.unshift(Ep(h,ie,j))):v||(ie=qu(h,k),ie!=null&&R.push(Ep(h,ie,j)))),h=h.return}R.length!==0&&c.push({event:u,listeners:R})}var yX=/\r\n?/g,_X=/\u0000|\uFFFD/g;function F4(c){return(typeof c=="string"?c:""+c).replace(yX,`
`).replace(_X,"")}function z4(c,u){return u=F4(u),F4(c)===u}function Jy(){}function bn(c,u,h,g,v,k){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Oc(c,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Oc(c,""+g);break;case"className":Cn(c,"class",g);break;case"tabIndex":Cn(c,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(c,h,g);break;case"style":zw(c,g,k);break;case"data":if(u!=="object"){Cn(c,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){c.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=$f(""+g),c.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){c.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(u!=="input"&&bn(c,u,"name",v.name,v,null),bn(c,u,"formEncType",v.formEncType,v,null),bn(c,u,"formMethod",v.formMethod,v,null),bn(c,u,"formTarget",v.formTarget,v,null)):(bn(c,u,"encType",v.encType,v,null),bn(c,u,"method",v.method,v,null),bn(c,u,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){c.removeAttribute(h);break}g=$f(""+g),c.setAttribute(h,g);break;case"onClick":g!=null&&(c.onclick=Jy);break;case"onScroll":g!=null&&Lt("scroll",c);break;case"onScrollEnd":g!=null&&Lt("scrollend",c);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"multiple":c.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":c.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){c.removeAttribute("xlink:href");break}h=$f(""+g),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""+g):c.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,""):c.removeAttribute(h);break;case"capture":case"download":g===!0?c.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?c.setAttribute(h,g):c.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?c.setAttribute(h,g):c.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?c.removeAttribute(h):c.setAttribute(h,g);break;case"popover":Lt("beforetoggle",c),Lt("toggle",c),jf(c,"popover",g);break;case"xlinkActuate":ls(c,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ls(c,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ls(c,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ls(c,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ls(c,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ls(c,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ls(c,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ls(c,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ls(c,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":jf(c,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=dx.get(h)||h,jf(c,h,g))}}function TC(c,u,h,g,v,k){switch(h){case"style":zw(c,g,k);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(v.children!=null)throw Error(i(60));c.innerHTML=h}}break;case"children":typeof g=="string"?Oc(c,g):(typeof g=="number"||typeof g=="bigint")&&Oc(c,""+g);break;case"onScroll":g!=null&&Lt("scroll",c);break;case"onScrollEnd":g!=null&&Lt("scrollend",c);break;case"onClick":g!=null&&(c.onclick=Jy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),u=h.slice(2,v?h.length-7:void 0),k=c[xt]||null,k=k!=null?k[h]:null,typeof k=="function"&&c.removeEventListener(u,k,v),typeof g=="function")){typeof k!="function"&&k!==null&&(h in c?c[h]=null:c.hasAttribute(h)&&c.removeAttribute(h)),c.addEventListener(u,g,v);break e}h in c?c[h]=g:g===!0?c.setAttribute(h,""):jf(c,h,g)}}}function or(c,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",c),Lt("load",c);var g=!1,v=!1,k;for(k in h)if(h.hasOwnProperty(k)){var R=h[k];if(R!=null)switch(k){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:bn(c,u,k,R,h,null)}}v&&bn(c,u,"srcSet",h.srcSet,h,null),g&&bn(c,u,"src",h.src,h,null);return;case"input":Lt("invalid",c);var N=k=R=v=null,j=null,ie=null;for(g in h)if(h.hasOwnProperty(g)){var ve=h[g];if(ve!=null)switch(g){case"name":v=ve;break;case"type":R=ve;break;case"checked":j=ve;break;case"defaultChecked":ie=ve;break;case"value":k=ve;break;case"defaultValue":N=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,u));break;default:bn(c,u,g,ve,h,null)}}Ic(c,k,N,j,ie,R,v,!1),Yu(c);return;case"select":Lt("invalid",c),g=R=k=null;for(v in h)if(h.hasOwnProperty(v)&&(N=h[v],N!=null))switch(v){case"value":k=N;break;case"defaultValue":R=N;break;case"multiple":g=N;default:bn(c,u,v,N,h,null)}u=k,h=R,c.multiple=!!g,u!=null?sl(c,!!g,u,!1):h!=null&&sl(c,!!g,h,!0);return;case"textarea":Lt("invalid",c),k=v=g=null;for(R in h)if(h.hasOwnProperty(R)&&(N=h[R],N!=null))switch(R){case"value":g=N;break;case"defaultValue":v=N;break;case"children":k=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:bn(c,u,R,N,h,null)}Us(c,g,v,k),Yu(c);return;case"option":for(j in h)if(h.hasOwnProperty(j)&&(g=h[j],g!=null))switch(j){case"selected":c.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:bn(c,u,j,g,h,null)}return;case"dialog":Lt("beforetoggle",c),Lt("toggle",c),Lt("cancel",c),Lt("close",c);break;case"iframe":case"object":Lt("load",c);break;case"video":case"audio":for(g=0;g<Sp.length;g++)Lt(Sp[g],c);break;case"image":Lt("error",c),Lt("load",c);break;case"details":Lt("toggle",c);break;case"embed":case"source":case"link":Lt("error",c),Lt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in h)if(h.hasOwnProperty(ie)&&(g=h[ie],g!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:bn(c,u,ie,g,h,null)}return;default:if(xg(u)){for(ve in h)h.hasOwnProperty(ve)&&(g=h[ve],g!==void 0&&TC(c,u,ve,g,h,void 0));return}}for(N in h)h.hasOwnProperty(N)&&(g=h[N],g!=null&&bn(c,u,N,g,h,null))}function AX(c,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,k=null,R=null,N=null,j=null,ie=null,ve=null;for(le in h){var ke=h[le];if(h.hasOwnProperty(le)&&ke!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":j=ke;default:g.hasOwnProperty(le)||bn(c,u,le,null,g,ke)}}for(var oe in g){var le=g[oe];if(ke=h[oe],g.hasOwnProperty(oe)&&(le!=null||ke!=null))switch(oe){case"type":k=le;break;case"name":v=le;break;case"checked":ie=le;break;case"defaultChecked":ve=le;break;case"value":R=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,u));break;default:le!==ke&&bn(c,u,oe,le,g,ke)}}kg(c,R,N,j,ie,ve,k,v);return;case"select":le=R=N=oe=null;for(k in h)if(j=h[k],h.hasOwnProperty(k)&&j!=null)switch(k){case"value":break;case"multiple":le=j;default:g.hasOwnProperty(k)||bn(c,u,k,null,g,j)}for(v in g)if(k=g[v],j=h[v],g.hasOwnProperty(v)&&(k!=null||j!=null))switch(v){case"value":oe=k;break;case"defaultValue":N=k;break;case"multiple":R=k;default:k!==j&&bn(c,u,v,k,g,j)}u=N,h=R,g=le,oe!=null?sl(c,!!h,oe,!1):!!g!=!!h&&(u!=null?sl(c,!!h,u,!0):sl(c,!!h,h?[]:"",!1));return;case"textarea":le=oe=null;for(N in h)if(v=h[N],h.hasOwnProperty(N)&&v!=null&&!g.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bn(c,u,N,null,g,v)}for(R in g)if(v=g[R],k=h[R],g.hasOwnProperty(R)&&(v!=null||k!=null))switch(R){case"value":oe=v;break;case"defaultValue":le=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==k&&bn(c,u,R,v,g,k)}Rc(c,oe,le);return;case"option":for(var mt in h)if(oe=h[mt],h.hasOwnProperty(mt)&&oe!=null&&!g.hasOwnProperty(mt))switch(mt){case"selected":c.selected=!1;break;default:bn(c,u,mt,null,g,oe)}for(j in g)if(oe=g[j],le=h[j],g.hasOwnProperty(j)&&oe!==le&&(oe!=null||le!=null))switch(j){case"selected":c.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:bn(c,u,j,oe,g,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in h)oe=h[ut],h.hasOwnProperty(ut)&&oe!=null&&!g.hasOwnProperty(ut)&&bn(c,u,ut,null,g,oe);for(ie in g)if(oe=g[ie],le=h[ie],g.hasOwnProperty(ie)&&oe!==le&&(oe!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,u));break;default:bn(c,u,ie,oe,g,le)}return;default:if(xg(u)){for(var vn in h)oe=h[vn],h.hasOwnProperty(vn)&&oe!==void 0&&!g.hasOwnProperty(vn)&&TC(c,u,vn,void 0,g,oe);for(ve in g)oe=g[ve],le=h[ve],!g.hasOwnProperty(ve)||oe===le||oe===void 0&&le===void 0||TC(c,u,ve,oe,g,le);return}}for(var X in h)oe=h[X],h.hasOwnProperty(X)&&oe!=null&&!g.hasOwnProperty(X)&&bn(c,u,X,null,g,oe);for(ke in g)oe=g[ke],le=h[ke],!g.hasOwnProperty(ke)||oe===le||oe==null&&le==null||bn(c,u,ke,oe,g,le)}var IC=null,PC=null;function Xy(c){return c.nodeType===9?c:c.ownerDocument}function j4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U4(c,u){if(c===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&u==="foreignObject"?0:c}function RC(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var OC=null;function kX(){var c=window.event;return c&&c.type==="popstate"?c===OC?!1:(OC=c,!0):(OC=null,!1)}var $4=typeof setTimeout=="function"?setTimeout:void 0,xX=typeof clearTimeout=="function"?clearTimeout:void 0,H4=typeof Promise=="function"?Promise:void 0,CX=typeof queueMicrotask=="function"?queueMicrotask:typeof H4<"u"?function(c){return H4.resolve(null).then(c).catch(SX)}:$4;function SX(c){setTimeout(function(){throw c})}function iu(c){return c==="head"}function W4(c,u){var h=u,g=0,v=0;do{var k=h.nextSibling;if(c.removeChild(h),k&&k.nodeType===8)if(h=k.data,h==="/$"){if(0<g&&8>g){h=g;var R=c.ownerDocument;if(h&1&&Tp(R.documentElement),h&2&&Tp(R.body),h&4)for(h=R.head,Tp(h),R=h.firstChild;R;){var N=R.nextSibling,j=R.nodeName;R[fr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=N}}if(v===0){c.removeChild(k),Bp(u);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:g=h.charCodeAt(0)-48;else g=0;h=k}while(h);Bp(u)}function DC(c){var u=c.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":DC(h),Yn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}c.removeChild(h)}}function EX(c,u,h,g){for(;c.nodeType===1;){var v=h;if(c.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(g){if(!c[fr])switch(u){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==v.rel||c.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||c.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||c.getAttribute("title")!==(v.title==null?null:v.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(v.src==null?null:v.src)||c.getAttribute("type")!==(v.type==null?null:v.type)||c.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(u==="input"&&c.type==="hidden"){var k=v.name==null?null:""+v.name;if(v.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=_o(c.nextSibling),c===null)break}return null}function TX(c,u,h){if(u==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=_o(c.nextSibling),c===null))return null;return c}function NC(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function IX(c,u){var h=c.ownerDocument;if(c.data!=="$?"||h.readyState==="complete")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),c._reactRetry=g}}function _o(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return c}var MC=null;function G4(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var h=c.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return c;u--}else h==="/$"&&u++}c=c.previousSibling}return null}function Y4(c,u,h){switch(u=Xy(h),c){case"html":if(c=u.documentElement,!c)throw Error(i(452));return c;case"head":if(c=u.head,!c)throw Error(i(453));return c;case"body":if(c=u.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Tp(c){for(var u=c.attributes;u.length;)c.removeAttributeNode(u[0]);Yn(c)}var Ks=new Map,K4=new Set;function e_(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Il=de.d;de.d={f:PX,r:RX,D:OX,C:DX,L:NX,m:MX,X:VX,S:BX,M:LX};function PX(){var c=Il.f(),u=Wy();return c||u}function RX(c){var u=hr(c);u!==null&&u.tag===5&&u.type==="form"?mD(u):Il.r(c)}var Rh=typeof document>"u"?null:document;function q4(c,u,h){var g=Rh;if(g&&typeof u=="string"&&u){var v=Cr(u);v='link[rel="'+c+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),K4.has(v)||(K4.add(v),c={rel:c,crossOrigin:h,href:u},g.querySelector(v)===null&&(u=g.createElement("link"),or(u,"link",c),Ei(u),g.head.appendChild(u)))}}function OX(c){Il.D(c),q4("dns-prefetch",c,null)}function DX(c,u){Il.C(c,u),q4("preconnect",c,u)}function NX(c,u,h){Il.L(c,u,h);var g=Rh;if(g&&c&&u){var v='link[rel="preload"][as="'+Cr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+Cr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+Cr(h.imageSizes)+'"]')):v+='[href="'+Cr(c)+'"]';var k=v;switch(u){case"style":k=Oh(c);break;case"script":k=Dh(c)}Ks.has(k)||(c=f({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:c,as:u},h),Ks.set(k,c),g.querySelector(v)!==null||u==="style"&&g.querySelector(Ip(k))||u==="script"&&g.querySelector(Pp(k))||(u=g.createElement("link"),or(u,"link",c),Ei(u),g.head.appendChild(u)))}}function MX(c,u){Il.m(c,u);var h=Rh;if(h&&c){var g=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+Cr(g)+'"][href="'+Cr(c)+'"]',k=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Dh(c)}if(!Ks.has(k)&&(c=f({rel:"modulepreload",href:c},u),Ks.set(k,c),h.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Pp(k)))return}g=h.createElement("link"),or(g,"link",c),Ei(g),h.head.appendChild(g)}}}function BX(c,u,h){Il.S(c,u,h);var g=Rh;if(g&&c){var v=Ec(g).hoistableStyles,k=Oh(c);u=u||"default";var R=v.get(k);if(!R){var N={loading:0,preload:null};if(R=g.querySelector(Ip(k)))N.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":u},h),(h=Ks.get(k))&&BC(c,h);var j=R=g.createElement("link");Ei(j),or(j,"link",c),j._p=new Promise(function(ie,ve){j.onload=ie,j.onerror=ve}),j.addEventListener("load",function(){N.loading|=1}),j.addEventListener("error",function(){N.loading|=2}),N.loading|=4,t_(R,u,g)}R={type:"stylesheet",instance:R,count:1,state:N},v.set(k,R)}}}function VX(c,u){Il.X(c,u);var h=Rh;if(h&&c){var g=Ec(h).hoistableScripts,v=Dh(c),k=g.get(v);k||(k=h.querySelector(Pp(v)),k||(c=f({src:c,async:!0},u),(u=Ks.get(v))&&VC(c,u),k=h.createElement("script"),Ei(k),or(k,"link",c),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(v,k))}}function LX(c,u){Il.M(c,u);var h=Rh;if(h&&c){var g=Ec(h).hoistableScripts,v=Dh(c),k=g.get(v);k||(k=h.querySelector(Pp(v)),k||(c=f({src:c,async:!0,type:"module"},u),(u=Ks.get(v))&&VC(c,u),k=h.createElement("script"),Ei(k),or(k,"link",c),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(v,k))}}function Z4(c,u,h,g){var v=(v=ce.current)?e_(v):null;if(!v)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Oh(h.href),h=Ec(v).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){c=Oh(h.href);var k=Ec(v).hoistableStyles,R=k.get(c);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,R),(k=v.querySelector(Ip(c)))&&!k._p&&(R.instance=k,R.state.loading=5),Ks.has(c)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ks.set(c,h),k||FX(v,c,h,R.state))),u&&g===null)throw Error(i(528,""));return R}if(u&&g!==null)throw Error(i(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Dh(h),h=Ec(v).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Oh(c){return'href="'+Cr(c)+'"'}function Ip(c){return'link[rel="stylesheet"]['+c+"]"}function Q4(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function FX(c,u,h,g){c.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=c.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),or(u,"link",h),Ei(u),c.head.appendChild(u))}function Dh(c){return'[src="'+Cr(c)+'"]'}function Pp(c){return"script[async]"+c}function J4(c,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=c.querySelector('style[data-href~="'+Cr(h.href)+'"]');if(g)return u.instance=g,Ei(g),g;var v=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(c.ownerDocument||c).createElement("style"),Ei(g),or(g,"style",v),t_(g,h.precedence,c),u.instance=g;case"stylesheet":v=Oh(h.href);var k=c.querySelector(Ip(v));if(k)return u.state.loading|=4,u.instance=k,Ei(k),k;g=Q4(h),(v=Ks.get(v))&&BC(g,v),k=(c.ownerDocument||c).createElement("link"),Ei(k);var R=k;return R._p=new Promise(function(N,j){R.onload=N,R.onerror=j}),or(k,"link",g),u.state.loading|=4,t_(k,h.precedence,c),u.instance=k;case"script":return k=Dh(h.src),(v=c.querySelector(Pp(k)))?(u.instance=v,Ei(v),v):(g=h,(v=Ks.get(k))&&(g=f({},h),VC(g,v)),c=c.ownerDocument||c,v=c.createElement("script"),Ei(v),or(v,"link",g),c.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,t_(g,h.precedence,c));return u.instance}function t_(c,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,k=v,R=0;R<g.length;R++){var N=g[R];if(N.dataset.precedence===u)k=N;else if(k!==v)break}k?k.parentNode.insertBefore(c,k.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(c,u.firstChild))}function BC(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.title==null&&(c.title=u.title)}function VC(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.integrity==null&&(c.integrity=u.integrity)}var n_=null;function X4(c,u,h){if(n_===null){var g=new Map,v=n_=new Map;v.set(h,g)}else v=n_,g=v.get(h),g||(g=new Map,v.set(h,g));if(g.has(c))return g;for(g.set(c,null),h=h.getElementsByTagName(c),v=0;v<h.length;v++){var k=h[v];if(!(k[fr]||k[Si]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var R=k.getAttribute(u)||"";R=c+R;var N=g.get(R);N?N.push(k):g.set(R,[k])}}return g}function eN(c,u,h){c=c.ownerDocument||c,c.head.insertBefore(h,u==="title"?c.querySelector("head > title"):null)}function zX(c,u,h){if(h===1||u.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return c=u.disabled,typeof u.precedence=="string"&&c==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function tN(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Rp=null;function jX(){}function UX(c,u,h){if(Rp===null)throw Error(i(475));var g=Rp;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Oh(h.href),k=c.querySelector(Ip(v));if(k){c=k._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(g.count++,g=i_.bind(g),c.then(g,g)),u.state.loading|=4,u.instance=k,Ei(k);return}k=c.ownerDocument||c,h=Q4(h),(v=Ks.get(v))&&BC(h,v),k=k.createElement("link"),Ei(k);var R=k;R._p=new Promise(function(N,j){R.onload=N,R.onerror=j}),or(k,"link",h),u.instance=k}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,c),(c=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=i_.bind(g),c.addEventListener("load",u),c.addEventListener("error",u))}}function $X(){if(Rp===null)throw Error(i(475));var c=Rp;return c.stylesheets&&c.count===0&&LC(c,c.stylesheets),0<c.count?function(u){var h=setTimeout(function(){if(c.stylesheets&&LC(c,c.stylesheets),c.unsuspend){var g=c.unsuspend;c.unsuspend=null,g()}},6e4);return c.unsuspend=u,function(){c.unsuspend=null,clearTimeout(h)}}:null}function i_(){if(this.count--,this.count===0){if(this.stylesheets)LC(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var r_=null;function LC(c,u){c.stylesheets=null,c.unsuspend!==null&&(c.count++,r_=new Map,u.forEach(HX,c),r_=null,i_.call(c))}function HX(c,u){if(!(u.state.loading&4)){var h=r_.get(c);if(h)var g=h.get(null);else{h=new Map,r_.set(c,h);for(var v=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<v.length;k++){var R=v[k];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),g=R)}g&&h.set(null,g)}v=u.instance,R=v.getAttribute("data-precedence"),k=h.get(R)||g,k===g&&h.set(null,v),h.set(R,v),this.count++,g=i_.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),k?k.parentNode.insertBefore(v,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(v,c.firstChild)),u.state.loading|=4}}var Op={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function WX(c,u,h,g,v,k,R,N){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=k,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function nN(c,u,h,g,v,k,R,N,j,ie,ve,ke){return c=new WX(c,u,h,R,N,j,ie,ke),u=1,k===!0&&(u|=24),k=Er(3,null,null,u),c.current=k,k.stateNode=c,u=tp(),u.refCount++,c.pooledCache=u,u.refCount++,k.memoizedState={element:g,isDehydrated:h,cache:u},sp(k),c}function iN(c){return c?(c=zc,c):zc}function rN(c,u,h,g,v,k){v=iN(v),g.context===null?g.context=v:g.pendingContext=v,g=ua(u),g.payload={element:h},k=k===void 0?null:k,k!==null&&(g.callback=k),h=vo(c,g,u),h!==null&&(bs(h,c,u),pd(h,c,u))}function sN(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var h=c.retryLane;c.retryLane=h!==0&&h<u?h:u}}function FC(c,u){sN(c,u),(c=c.alternate)&&sN(c,u)}function oN(c){if(c.tag===13){var u=Fc(c,67108864);u!==null&&bs(u,c,67108864),FC(c,67108864)}}var s_=!0;function GX(c,u,h,g){var v=Y.T;Y.T=null;var k=de.p;try{de.p=2,zC(c,u,h,g)}finally{de.p=k,Y.T=v}}function YX(c,u,h,g){var v=Y.T;Y.T=null;var k=de.p;try{de.p=8,zC(c,u,h,g)}finally{de.p=k,Y.T=v}}function zC(c,u,h,g){if(s_){var v=jC(g);if(v===null)EC(c,u,g,o_,h),lN(c,g);else if(qX(v,c,u,h,g))g.stopPropagation();else if(lN(c,g),u&4&&-1<KX.indexOf(c)){for(;v!==null;){var k=hr(v);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var R=pn(k.pendingLanes);if(R!==0){var N=k;for(N.pendingLanes|=2,N.entangledLanes|=2;R;){var j=1<<31-bt(R);N.entanglements[1]|=j,R&=~j}ba(k),(un&6)===0&&($y=st()+500,Cp(0))}}break;case 13:N=Fc(k,2),N!==null&&bs(N,k,2),Wy(),FC(k,2)}if(k=jC(g),k===null&&EC(c,u,g,o_,h),k===v)break;v=k}v!==null&&g.stopPropagation()}else EC(c,u,g,null,h)}}function jC(c){return c=Cg(c),UC(c)}var o_=null;function UC(c){if(o_=null,c=Hi(c),c!==null){var u=s(c);if(u===null)c=null;else{var h=u.tag;if(h===13){if(c=o(u),c!==null)return c;c=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null)}}return o_=c,null}function aN(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case Ct:return 2;case F:return 8;case J:case ue:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var $C=!1,ru=null,su=null,ou=null,Dp=new Map,Np=new Map,au=[],KX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lN(c,u){switch(c){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":su=null;break;case"mouseover":case"mouseout":ou=null;break;case"pointerover":case"pointerout":Dp.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Np.delete(u.pointerId)}}function Mp(c,u,h,g,v,k){return c===null||c.nativeEvent!==k?(c={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[v]},u!==null&&(u=hr(u),u!==null&&oN(u)),c):(c.eventSystemFlags|=g,u=c.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),c)}function qX(c,u,h,g,v){switch(u){case"focusin":return ru=Mp(ru,c,u,h,g,v),!0;case"dragenter":return su=Mp(su,c,u,h,g,v),!0;case"mouseover":return ou=Mp(ou,c,u,h,g,v),!0;case"pointerover":var k=v.pointerId;return Dp.set(k,Mp(Dp.get(k)||null,c,u,h,g,v)),!0;case"gotpointercapture":return k=v.pointerId,Np.set(k,Mp(Np.get(k)||null,c,u,h,g,v)),!0}return!1}function cN(c){var u=Hi(c.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){c.blockedOn=u,$r(c.priority,function(){if(h.tag===13){var g=ps();g=mg(g);var v=Fc(h,g);v!==null&&bs(v,h,g),FC(h,g)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){c.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}c.blockedOn=null}function a_(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var h=jC(c.nativeEvent);if(h===null){h=c.nativeEvent;var g=new h.constructor(h.type,h);Ku=g,h.target.dispatchEvent(g),Ku=null}else return u=hr(h),u!==null&&oN(u),c.blockedOn=h,!1;u.shift()}return!0}function uN(c,u,h){a_(c)&&h.delete(u)}function ZX(){$C=!1,ru!==null&&a_(ru)&&(ru=null),su!==null&&a_(su)&&(su=null),ou!==null&&a_(ou)&&(ou=null),Dp.forEach(uN),Np.forEach(uN)}function l_(c,u){c.blockedOn===u&&(c.blockedOn=null,$C||($C=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ZX)))}var c_=null;function dN(c){c_!==c&&(c_=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){c_===c&&(c_=null);for(var u=0;u<c.length;u+=3){var h=c[u],g=c[u+1],v=c[u+2];if(typeof g!="function"){if(UC(g||h)===null)continue;break}var k=hr(h);k!==null&&(c.splice(u,3),u-=3,Ux(k,{pending:!0,data:v,method:h.method,action:g},g,v))}}))}function Bp(c){function u(j){return l_(j,c)}ru!==null&&l_(ru,c),su!==null&&l_(su,c),ou!==null&&l_(ou,c),Dp.forEach(u),Np.forEach(u);for(var h=0;h<au.length;h++){var g=au[h];g.blockedOn===c&&(g.blockedOn=null)}for(;0<au.length&&(h=au[0],h.blockedOn===null);)cN(h),h.blockedOn===null&&au.shift();if(h=(c.ownerDocument||c).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var v=h[g],k=h[g+1],R=v[xt]||null;if(typeof k=="function")R||dN(h);else if(R){var N=null;if(k&&k.hasAttribute("formAction")){if(v=k,R=k[xt]||null)N=R.formAction;else if(UC(v)!==null)continue}else N=R.action;typeof N=="function"?h[g+1]=N:(h.splice(g,3),g-=3),dN(h)}}}function HC(c){this._internalRoot=c}u_.prototype.render=HC.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(i(409));var h=u.current,g=ps();rN(h,g,c,u,null,null)},u_.prototype.unmount=HC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;rN(c.current,2,null,c,null,null),Wy(),u[zs]=null}};function u_(c){this._internalRoot=c}u_.prototype.unstable_scheduleHydration=function(c){if(c){var u=Fs();c={blockedOn:null,target:c,priority:u};for(var h=0;h<au.length&&u!==0&&u<au[h].priority;h++);au.splice(h,0,c),h===0&&cN(c)}};var fN=e.version;if(fN!=="19.1.1")throw Error(i(527,fN,"19.1.1"));de.findDOMNode=function(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=l(u),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var QX={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d_.isDisabled&&d_.supportsFiber)try{me=d_.inject(QX),$e=d_}catch{}}return Lp.createRoot=function(c,u){if(!r(c))throw Error(i(299));var h=!1,g="",v=TD,k=ID,R=PD,N=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(N=u.unstable_transitionCallbacks)),u=nN(c,1,!1,null,null,h,g,v,k,R,N,null),c[zs]=u.current,SC(c),new HC(u)},Lp.hydrateRoot=function(c,u,h){if(!r(c))throw Error(i(299));var g=!1,v="",k=TD,R=ID,N=PD,j=null,ie=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(N=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(j=h.unstable_transitionCallbacks),h.formState!==void 0&&(ie=h.formState)),u=nN(c,1,!0,u,h??null,g,v,k,R,N,j,ie),u.context=iN(null),h=u.current,g=ps(),g=mg(g),v=ua(g),v.callback=null,vo(h,v,g),h=g,u.current.lanes=h,Ls(u,h),ba(u),c[zs]=u.current,SC(c),new u_(u)},Lp.version="19.1.1",Lp}var AN;function lee(){if(AN)return YC.exports;AN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YC.exports=aee(),YC.exports}var cee=lee();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kN="popstate";function uee(n={}){function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return zE("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Lb(r)}return fee(e,t,null,n)}function Gn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function to(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dee(){return Math.random().toString(36).substring(2,10)}function xN(n,e){return{usr:n.state,key:n.key,idx:e}}function zE(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Km(e):e,state:t,key:e&&e.key||i||dee()}}function Lb({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Km(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fee(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",l=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){a="POP";let S=f(),P=S==null?null:S-d;d=S,l&&l({action:a,location:x.location,delta:P})}function p(S,P){a="PUSH";let I=zE(x.location,S,P);d=f()+1;let O=xN(I,d),M=x.createHref(I);try{o.pushState(O,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function w(S,P){a="REPLACE";let I=zE(x.location,S,P);d=f();let O=xN(I,d),M=x.createHref(I);o.replaceState(O,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function A(S){return hee(S)}let x={get action(){return a},get location(){return n(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(kN,m),l=S,()=>{r.removeEventListener(kN,m),l=null}},createHref(S){return e(r,S)},createURL:A,encodeLocation(S){let P=A(S);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:p,replace:w,go(S){return o.go(S)}};return x}function hee(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Gn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Lb(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function EF(n,e,t="/"){return mee(n,e,t,!1)}function mee(n,e,t,i){let r=typeof e=="string"?Km(e):e,s=rc(r.pathname||"/",t);if(s==null)return null;let o=TF(n);gee(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=See(s);a=xee(o[l],d,i)}return a}function TF(n,e=[],t=[],i="",r=!1){let s=(o,a,l=r,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&l)return;Gn(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=ql([i,f.relativePath]),p=t.concat(f);o.children&&o.children.length>0&&(Gn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),TF(o.children,e,p,m,l)),!(o.path==null&&!o.index)&&e.push({path:m,score:Aee(m,o.index),routesMeta:p})};return n.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of IF(o.path))s(o,a,!0,l)}),e}function IF(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=IF(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function gee(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kee(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pee=/^:[\w-]+$/,bee=3,vee=2,wee=1,yee=10,_ee=-2,CN=n=>n==="*";function Aee(n,e){let t=n.split("/"),i=t.length;return t.some(CN)&&(i+=_ee),e&&(i+=vee),t.filter(r=>!CN(r)).reduce((r,s)=>r+(pee.test(s)?bee:s===""?wee:yee),i)}function kee(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function xee(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],d=a===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=F0({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),p=l.route;if(!m&&d&&t&&!i[i.length-1].route.index&&(m=F0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:ql([s,m.pathname]),pathnameBase:Pee(ql([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=ql([s,m.pathnameBase]))}return o}function F0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Cee(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let A=a[p]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const w=a[p];return m&&!w?d[f]=void 0:d[f]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function Cee(n,e=!1,t=!0){to(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function See(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return to(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Eee(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Km(n):n;return{pathname:t?t.startsWith("/")?t:Tee(t,e):e,search:Ree(i),hash:Oee(r)}}function Tee(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function QC(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iee(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qI(n){let e=Iee(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ZI(n,e,t,i=!1){let r;typeof n=="string"?r=Km(n):(r={...n},Gn(!r.pathname||!r.pathname.includes("?"),QC("?","pathname","search",r)),Gn(!r.pathname||!r.pathname.includes("#"),QC("#","pathname","hash",r)),Gn(!r.search||!r.search.includes("#"),QC("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let m=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}a=m>=0?e[m]:"/"}let l=Eee(r,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}var ql=n=>n.join("/").replace(/\/\/+/g,"/"),Pee=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ree=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Oee=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Dee(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PF=["POST","PUT","PATCH","DELETE"];new Set(PF);var Nee=["GET",...PF];new Set(Nee);var qm=C.createContext(null);qm.displayName="DataRouter";var d1=C.createContext(null);d1.displayName="DataRouterState";C.createContext(!1);var RF=C.createContext({isTransitioning:!1});RF.displayName="ViewTransition";var Mee=C.createContext(new Map);Mee.displayName="Fetchers";var Bee=C.createContext(null);Bee.displayName="Await";var Yo=C.createContext(null);Yo.displayName="Navigation";var Pv=C.createContext(null);Pv.displayName="Location";var so=C.createContext({outlet:null,matches:[],isDataRoute:!1});so.displayName="Route";var QI=C.createContext(null);QI.displayName="RouteError";function Vee(n,{relative:e}={}){Gn(Zm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(Yo),{hash:r,pathname:s,search:o}=Rv(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:ql([t,s])),i.createHref({pathname:a,search:o,hash:r})}function Zm(){return C.useContext(Pv)!=null}function oo(){return Gn(Zm(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Pv).location}var OF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DF(n){C.useContext(Yo).static||C.useLayoutEffect(n)}function Ko(){let{isDataRoute:n}=C.useContext(so);return n?Jee():Lee()}function Lee(){Gn(Zm(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(qm),{basename:e,navigator:t}=C.useContext(Yo),{matches:i}=C.useContext(so),{pathname:r}=oo(),s=JSON.stringify(qI(i)),o=C.useRef(!1);return DF(()=>{o.current=!0}),C.useCallback((l,d={})=>{if(to(o.current,OF),!o.current)return;if(typeof l=="number"){t.go(l);return}let f=ZI(l,JSON.parse(s),r,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ql([e,f.pathname])),(d.replace?t.replace:t.push)(f,d.state,d)},[e,t,s,r,n])}var Fee=C.createContext(null);function zee(n){let e=C.useContext(so).outlet;return e&&C.createElement(Fee.Provider,{value:n},e)}function NF(){let{matches:n}=C.useContext(so),e=n[n.length-1];return e?e.params:{}}function Rv(n,{relative:e}={}){let{matches:t}=C.useContext(so),{pathname:i}=oo(),r=JSON.stringify(qI(t));return C.useMemo(()=>ZI(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function jee(n,e){return MF(n,e)}function MF(n,e,t,i,r){Gn(Zm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Yo),{matches:o}=C.useContext(so),a=o[o.length-1],l=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",m=a&&a.route;{let I=m&&m.path||"";BF(d,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let p=oo(),w;if(e){let I=typeof e=="string"?Km(e):e;Gn(f==="/"||I.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),w=I}else w=p;let A=w.pathname||"/",x=A;if(f!=="/"){let I=f.replace(/^\//,"").split("/");x="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=EF(n,{pathname:x});to(m||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),to(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Gee(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:ql([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:ql([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,t,i,r);return e&&P?C.createElement(Pv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function Uee(){let n=Qee(),e=Dee(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:r},t):null,o)}var $ee=C.createElement(Uee,null),Hee=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?C.createElement(so.Provider,{value:this.props.routeContext},C.createElement(QI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wee({routeContext:n,match:e,children:t}){let i=C.useContext(qm);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(so.Provider,{value:n},t)}function Gee(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Gn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:m,errors:p}=t,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let p,w=!1,A=null,x=null;t&&(p=o&&f.route.id?o[f.route.id]:void 0,A=f.route.errorElement||$ee,a&&(l<0&&m===0?(BF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):l===m&&(w=!0,x=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),P=()=>{let I;return p?I=A:w?I=x:f.route.Component?I=C.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=d,C.createElement(Wee,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:I})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(Hee,{location:t.location,revalidation:t.revalidation,component:A,error:p,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):P()},null)}function JI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yee(n){let e=C.useContext(qm);return Gn(e,JI(n)),e}function Kee(n){let e=C.useContext(d1);return Gn(e,JI(n)),e}function qee(n){let e=C.useContext(so);return Gn(e,JI(n)),e}function XI(n){let e=qee(n),t=e.matches[e.matches.length-1];return Gn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Zee(){return XI("useRouteId")}function Qee(){let n=C.useContext(QI),e=Kee("useRouteError"),t=XI("useRouteError");return n!==void 0?n:e.errors?.[t]}function Jee(){let{router:n}=Yee("useNavigate"),e=XI("useNavigate"),t=C.useRef(!1);return DF(()=>{t.current=!0}),C.useCallback(async(r,s={})=>{to(t.current,OF),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var SN={};function BF(n,e,t){!e&&!SN[n]&&(SN[n]=!0,to(!1,t))}C.memo(Xee);function Xee({routes:n,future:e,state:t,unstable_onError:i}){return MF(n,void 0,t,i,e)}function VF({to:n,replace:e,state:t,relative:i}){Gn(Zm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(Yo);to(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(so),{pathname:o}=oo(),a=Ko(),l=ZI(n,qI(s),o,i==="path"),d=JSON.stringify(l);return C.useEffect(()=>{a(JSON.parse(d),{replace:e,state:t,relative:i})},[a,d,i,e,t]),null}function f1(n){return zee(n.context)}function pi(n){Gn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ete({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Gn(!Zm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=C.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=Km(t));let{pathname:l="/",search:d="",hash:f="",state:m=null,key:p="default"}=t,w=C.useMemo(()=>{let A=rc(l,o);return A==null?null:{location:{pathname:A,search:d,hash:f,state:m,key:p},navigationType:i}},[o,l,d,f,m,p,i]);return to(w!=null,`<Router basename="${o}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(Yo.Provider,{value:a},C.createElement(Pv.Provider,{children:e,value:w}))}function tte({children:n,location:e}){return jee(jE(n),e)}function jE(n,e=[]){let t=[];return C.Children.forEach(n,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){t.push.apply(t,jE(i.props.children,s));return}Gn(i.type===pi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=jE(i.props.children,s)),t.push(o)}),t}var s0="get",o0="application/x-www-form-urlencoded";function h1(n){return n!=null&&typeof n.tagName=="string"}function nte(n){return h1(n)&&n.tagName.toLowerCase()==="button"}function ite(n){return h1(n)&&n.tagName.toLowerCase()==="form"}function rte(n){return h1(n)&&n.tagName.toLowerCase()==="input"}function ste(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ote(n,e){return n.button===0&&(!e||e==="_self")&&!ste(n)}function UE(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function ate(n,e){let t=UE(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}var f_=null;function lte(){if(f_===null)try{new FormData(document.createElement("form"),0),f_=!1}catch{f_=!0}return f_}var cte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function JC(n){return n!=null&&!cte.has(n)?(to(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o0}"`),null):n}function ute(n,e){let t,i,r,s,o;if(ite(n)){let a=n.getAttribute("action");i=a?rc(a,e):null,t=n.getAttribute("method")||s0,r=JC(n.getAttribute("enctype"))||o0,s=new FormData(n)}else if(nte(n)||rte(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(i=l?rc(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||s0,r=JC(n.getAttribute("formenctype"))||JC(a.getAttribute("enctype"))||o0,s=new FormData(a,n),!lte()){let{name:d,type:f,value:m}=n;if(f==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if(h1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=s0,i=null,r=o0,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dte(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&rc(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function fte(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hte(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mte(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await fte(s,t);return o.links?o.links():[]}return[]}));return vte(i.flat(1).filter(hte).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function EN(n,e,t,i,r,s){let o=(l,d)=>t[d]?l.route.id!==t[d].route.id:!0,a=(l,d)=>t[d].pathname!==l.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,d)=>o(l,d)||a(l,d)):s==="data"?e.filter((l,d)=>{let f=i.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,d)||a(l,d))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function gte(n,e,{includeHydrateFallback:t}={}){return pte(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function pte(n){return[...new Set(n)]}function bte(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vte(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(bte(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function LF(){let n=C.useContext(qm);return e2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wte(){let n=C.useContext(d1);return e2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var t2=C.createContext(void 0);t2.displayName="FrameworkContext";function FF(){let n=C.useContext(t2);return e2(n,"You must render this element inside a <HydratedRouter> element"),n}function yte(n,e){let t=C.useContext(t2),[i,r]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,p=C.useRef(null);C.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=P=>{P.forEach(I=>{o(I.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[n]),C.useEffect(()=>{if(i){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[i]);let w=()=>{r(!0)},A=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:Fp(a,w),onBlur:Fp(l,A),onMouseEnter:Fp(d,w),onMouseLeave:Fp(f,A),onTouchStart:Fp(m,w)}]:[!1,p,{}]}function Fp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _te({page:n,...e}){let{router:t}=LF(),i=C.useMemo(()=>EF(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?C.createElement(kte,{page:n,matches:i,...e}):null}function Ate(n){let{manifest:e,routeModules:t}=FF(),[i,r]=C.useState([]);return C.useEffect(()=>{let s=!1;return mte(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function kte({page:n,matches:e,...t}){let i=oo(),{manifest:r,routeModules:s}=FF(),{basename:o}=LF(),{loaderData:a,matches:l}=wte(),d=C.useMemo(()=>EN(n,e,l,r,i,"data"),[n,e,l,r,i]),f=C.useMemo(()=>EN(n,e,l,r,i,"assets"),[n,e,l,r,i]),m=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,x=!1;if(e.forEach(P=>{let I=r.routes[P.route.id];!I||!I.hasLoader||(!d.some(O=>O.route.id===P.route.id)&&P.route.id in a&&s[P.route.id]?.shouldRevalidate||I.hasClientLoader?x=!0:A.add(P.route.id))}),A.size===0)return[];let S=dte(n,o,"data");return x&&A.size>0&&S.searchParams.set("_routes",e.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[S.pathname+S.search]},[o,a,i,r,d,e,n,s]),p=C.useMemo(()=>gte(f,r),[f,r]),w=Ate(f);return C.createElement(C.Fragment,null,m.map(A=>C.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),p.map(A=>C.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),w.map(({key:A,link:x})=>C.createElement("link",{key:A,nonce:t.nonce,...x})))}function xte(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zF&&(window.__reactRouterVersion="7.8.2")}catch{}function Cte({basename:n,children:e,window:t}){let i=C.useRef();i.current==null&&(i.current=uee({window:t,v5Compat:!0}));let r=i.current,[s,o]=C.useState({action:r.action,location:r.location}),a=C.useCallback(l=>{C.startTransition(()=>o(l))},[o]);return C.useLayoutEffect(()=>r.listen(a),[r,a]),C.createElement(ete,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var jF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,viewTransition:m,...p},w){let{basename:A}=C.useContext(Yo),x=typeof d=="string"&&jF.test(d),S,P=!1;if(typeof d=="string"&&x&&(S=d,zF))try{let ee=new URL(window.location.href),pe=d.startsWith("//")?new URL(ee.protocol+d):new URL(d),Se=rc(pe.pathname,A);pe.origin===ee.origin&&Se!=null?d=Se+pe.search+pe.hash:P=!0}catch{to(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Vee(d,{relative:r}),[O,M,B]=yte(i,p),W=Ite(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:r,viewTransition:m});function $(ee){e&&e(ee),ee.defaultPrevented||W(ee)}let L=C.createElement("a",{...p,...B,href:S||I,onClick:P||s?e:$,ref:xte(w,M),target:l,"data-discover":!x&&t==="render"?"true":void 0});return O&&!x?C.createElement(C.Fragment,null,L,C.createElement(_te,{page:I})):L});ei.displayName="Link";var Ste=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:l,...d},f){let m=Rv(o,{relative:d.relative}),p=oo(),w=C.useContext(d1),{navigator:A,basename:x}=C.useContext(Yo),S=w!=null&&Mte(m)&&a===!0,P=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,I=p.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(I=I.toLowerCase(),O=O?O.toLowerCase():null,P=P.toLowerCase()),O&&x&&(O=rc(O,x)||O);const M=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let B=I===P||!r&&I.startsWith(P)&&I.charAt(M)==="/",W=O!=null&&(O===P||!r&&O.startsWith(P)&&O.charAt(P.length)==="/"),$={isActive:B,isPending:W,isTransitioning:S},L=B?e:void 0,ee;typeof i=="function"?ee=i($):ee=[i,B?"active":null,W?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let pe=typeof s=="function"?s($):s;return C.createElement(ei,{...d,"aria-current":L,className:ee,ref:f,style:pe,to:o,viewTransition:a},typeof l=="function"?l($):l)});Ste.displayName="NavLink";var Ete=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=s0,action:a,onSubmit:l,relative:d,preventScrollReset:f,viewTransition:m,...p},w)=>{let A=Dte(),x=Nte(a,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",P=typeof a=="string"&&jF.test(a),I=O=>{if(l&&l(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,B=M?.getAttribute("formmethod")||o;A(M||O.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:r,state:s,relative:d,preventScrollReset:f,viewTransition:m})};return C.createElement("form",{ref:w,method:S,action:x,onSubmit:i?l:I,...p,"data-discover":!P&&n==="render"?"true":void 0})});Ete.displayName="Form";function Tte(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UF(n){let e=C.useContext(qm);return Gn(e,Tte(n)),e}function Ite(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let a=Ko(),l=oo(),d=Rv(n,{relative:s});return C.useCallback(f=>{if(ote(f,e)){f.preventDefault();let m=t!==void 0?t:Lb(l)===Lb(d);a(n,{replace:m,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[l,a,d,t,i,e,n,r,s,o])}function Pte(n){to(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(UE(n)),t=C.useRef(!1),i=oo(),r=C.useMemo(()=>ate(i.search,t.current?null:e.current),[i.search]),s=Ko(),o=C.useCallback((a,l)=>{const d=UE(typeof a=="function"?a(new URLSearchParams(r)):a);t.current=!0,s("?"+d,l)},[s,r]);return[r,o]}var Rte=0,Ote=()=>`__${String(++Rte)}__`;function Dte(){let{router:n}=UF("useSubmit"),{basename:e}=C.useContext(Yo),t=Zee();return C.useCallback(async(i,r={})=>{let{action:s,method:o,encType:a,formData:l,body:d}=ute(i,e);if(r.navigate===!1){let f=r.fetcherKey||Ote();await n.fetch(f,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:l,body:d,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function Nte(n,{relative:e}={}){let{basename:t}=C.useContext(Yo),i=C.useContext(so);Gn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Rv(n||".",{relative:e})},o=oo();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ql([t,s.pathname])),Lb(s)}function Mte(n,{relative:e}={}){let t=C.useContext(RF);Gn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=UF("useViewTransitionState"),r=Rv(n,{relative:e});if(!t.isTransitioning)return!1;let s=rc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=rc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return F0(r.pathname,o)!=null||F0(r.pathname,s)!=null}var Ov=SF();const Bte=vf(Ov),Fb="/",Xd="/signin",n2="/signup",$F="/profile",z0="/categories",HF="/category/add",WF="/category/edit",zb="/blog",i2="/blog/add",GF="/blog/edit",r2=(n,e)=>n&&e?`/blog/${n}/${e}`:"/blog/:category/:blog",$E=n=>n?`/blog/get-category-related-blog/${n}`:"/blog/get-category-related-blog/:category",YF=n=>n?`/search?q=${n}`:"/search",HE="/comment/get-all-comments",WE="/user/get-all-user";function KF(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=KF(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Zl(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=KF(n))&&(i&&(i+=" "),i+=e);return i}const s2="-",Vte=n=>{const e=Fte(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(s2);return a[0]===""&&a.length!==1&&a.shift(),qF(a,e)||Lte(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},qF=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?qF(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(s2);return e.validators.find(({validator:o})=>o(s))?.classGroupId},TN=/^\[(.+)\]$/,Lte=n=>{if(TN.test(n)){const e=TN.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Fte=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const r in t)GE(t[r],i,r,e);return i},GE=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:IN(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(zte(r)){GE(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{GE(o,IN(e,s),t,i)})})},IN=(n,e)=>{let t=n;return e.split(s2).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},zte=n=>n.isThemeGetter,jte=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},YE="!",KE=":",Ute=KE.length,$te=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=r=>{const s=[];let o=0,a=0,l=0,d;for(let A=0;A<r.length;A++){let x=r[A];if(o===0&&a===0){if(x===KE){s.push(r.slice(l,A)),l=A+Ute;continue}if(x==="/"){d=A;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const f=s.length===0?r:r.substring(l),m=Hte(f),p=m!==f,w=d&&d>l?d-l:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const r=e+KE,s=i;i=o=>o.startsWith(r)?s(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const r=i;i=s=>t({className:s,parseClassName:r})}return i},Hte=n=>n.endsWith(YE)?n.substring(0,n.length-1):n.startsWith(YE)?n.substring(1):n,Wte=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(o=>{o[0]==="["||e[o]?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r}},Gte=n=>({cache:jte(n.cacheSize),parseClassName:$te(n),sortModifiers:Wte(n),...Vte(n)}),Yte=/\s+/,Kte=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,o=[],a=n.trim().split(Yte);let l="";for(let d=a.length-1;d>=0;d-=1){const f=a[d],{isExternal:m,modifiers:p,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:x}=t(f);if(m){l=f+(l.length>0?" "+l:l);continue}let S=!!x,P=i(S?A.substring(0,x):A);if(!P){if(!S){l=f+(l.length>0?" "+l:l);continue}if(P=i(A),!P){l=f+(l.length>0?" "+l:l);continue}S=!1}const I=s(p).join(":"),O=w?I+YE:I,M=O+P;if(o.includes(M))continue;o.push(M);const B=r(P,S);for(let W=0;W<B.length;++W){const $=B[W];o.push(O+$)}l=f+(l.length>0?" "+l:l)}return l};function qte(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=ZF(e))&&(i&&(i+=" "),i+=t);return i}const ZF=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=ZF(n[i]))&&(t&&(t+=" "),t+=e);return t};function Zte(n,...e){let t,i,r,s=o;function o(l){const d=e.reduce((f,m)=>m(f),n());return t=Gte(d),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const d=i(l);if(d)return d;const f=Kte(l,t);return r(l,f),f}return function(){return s(qte.apply(null,arguments))}}const Bi=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},QF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qte=/^\d+\/\d+$/,Jte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ene=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nh=n=>Qte.test(n),Nt=n=>!!n&&!Number.isNaN(Number(n)),cu=n=>!!n&&Number.isInteger(Number(n)),XC=n=>n.endsWith("%")&&Nt(n.slice(0,-1)),Pl=n=>Jte.test(n),ine=()=>!0,rne=n=>Xte.test(n)&&!ene.test(n),XF=()=>!1,sne=n=>tne.test(n),one=n=>nne.test(n),ane=n=>!et(n)&&!tt(n),lne=n=>Qm(n,nz,XF),et=n=>QF.test(n),xd=n=>Qm(n,iz,rne),eS=n=>Qm(n,hne,Nt),PN=n=>Qm(n,ez,XF),cne=n=>Qm(n,tz,one),h_=n=>Qm(n,rz,sne),tt=n=>JF.test(n),zp=n=>Jm(n,iz),une=n=>Jm(n,mne),RN=n=>Jm(n,ez),dne=n=>Jm(n,nz),fne=n=>Jm(n,tz),m_=n=>Jm(n,rz,!0),Qm=(n,e,t)=>{const i=QF.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Jm=(n,e,t=!1)=>{const i=JF.exec(n);return i?i[1]?e(i[1]):t:!1},ez=n=>n==="position"||n==="percentage",tz=n=>n==="image"||n==="url",nz=n=>n==="length"||n==="size"||n==="bg-size",iz=n=>n==="length",hne=n=>n==="number",mne=n=>n==="family-name",rz=n=>n==="shadow",gne=()=>{const n=Bi("color"),e=Bi("font"),t=Bi("text"),i=Bi("font-weight"),r=Bi("tracking"),s=Bi("leading"),o=Bi("breakpoint"),a=Bi("container"),l=Bi("spacing"),d=Bi("radius"),f=Bi("shadow"),m=Bi("inset-shadow"),p=Bi("text-shadow"),w=Bi("drop-shadow"),A=Bi("blur"),x=Bi("perspective"),S=Bi("aspect"),P=Bi("ease"),I=Bi("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...M(),tt,et],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],L=()=>[tt,et,l],ee=()=>[Nh,"full","auto",...L()],pe=()=>[cu,"none","subgrid",tt,et],Se=()=>["auto",{span:["full",cu,tt,et]},cu,tt,et],ge=()=>[cu,"auto",tt,et],Ee=()=>["auto","min","max","fr",tt,et],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...L()],de=()=>[Nh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],Q=()=>[n,tt,et],be=()=>[...M(),RN,PN,{position:[tt,et]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",dne,lne,{size:[tt,et]}],Pe=()=>[XC,zp,xd],Ae=()=>["","none","full",d,tt,et],q=()=>["",Nt,zp,xd],U=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Nt,XC,RN,PN],we=()=>["","none",A,tt,et],Ie=()=>["none",Nt,tt,et],ye=()=>["none",Nt,tt,et],Fe=()=>[Nt,tt,et],Oe=()=>[Nh,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pl],breakpoint:[Pl],color:[ine],container:[Pl],"drop-shadow":[Pl],ease:["in","out","in-out"],font:[ane],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pl],shadow:[Pl],spacing:["px",Nt],text:[Pl],"text-shadow":[Pl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nh,et,tt,S]}],container:["container"],columns:[{columns:[Nt,et,tt,a]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[cu,"auto",tt,et]}],basis:[{basis:[Nh,"full","auto",a,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nt,Nh,"auto","initial","none",et]}],grow:[{grow:["",Nt,tt,et]}],shrink:[{shrink:["",Nt,tt,et]}],order:[{order:[cu,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:Se()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:Se()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ee()}],"auto-rows":[{"auto-rows":Ee()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[a,"screen",...de()]}],"min-w":[{"min-w":[a,"screen","none",...de()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",t,zp,xd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,tt,eS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",XC,et]}],"font-family":[{font:[une,et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,tt,et]}],"line-clamp":[{"line-clamp":[Nt,"none",tt,eS]}],leading:[{leading:[s,...L()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nt,"from-font","auto",tt,xd]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Nt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},cu,tt,et],radial:["",tt,et],conic:[cu,tt,et]},fne,cne]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:Pe()}],"gradient-via-pos":[{via:Pe()}],"gradient-to-pos":[{to:Pe()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:Ae()}],"rounded-s":[{"rounded-s":Ae()}],"rounded-e":[{"rounded-e":Ae()}],"rounded-t":[{"rounded-t":Ae()}],"rounded-r":[{"rounded-r":Ae()}],"rounded-b":[{"rounded-b":Ae()}],"rounded-l":[{"rounded-l":Ae()}],"rounded-ss":[{"rounded-ss":Ae()}],"rounded-se":[{"rounded-se":Ae()}],"rounded-ee":[{"rounded-ee":Ae()}],"rounded-es":[{"rounded-es":Ae()}],"rounded-tl":[{"rounded-tl":Ae()}],"rounded-tr":[{"rounded-tr":Ae()}],"rounded-br":[{"rounded-br":Ae()}],"rounded-bl":[{"rounded-bl":Ae()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nt,tt,et]}],"outline-w":[{outline:["",Nt,zp,xd]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",f,m_,h_]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",m,m_,h_]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Nt,xd]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",p,m_,h_]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Nt,tt,et]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:we()}],brightness:[{brightness:[Nt,tt,et]}],contrast:[{contrast:[Nt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",w,m_,h_]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Nt,tt,et]}],"hue-rotate":[{"hue-rotate":[Nt,tt,et]}],invert:[{invert:["",Nt,tt,et]}],saturate:[{saturate:[Nt,tt,et]}],sepia:[{sepia:["",Nt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Nt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Nt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Nt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Nt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Nt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Nt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nt,"initial",tt,et]}],ease:[{ease:["linear","initial",P,tt,et]}],delay:[{delay:[Nt,tt,et]}],animate:[{animate:["none",I,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,tt,et]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Fe()}],"skew-x":[{"skew-x":Fe()}],"skew-y":[{"skew-y":Fe()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Nt,zp,xd,eS]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pne=Zte(gne);function Ye(...n){return pne(Zl(n))}const Ha=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Ha.displayName="Card";const Nu=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("flex flex-col space-y-1.5 p-6",n),...e}));Nu.displayName="CardHeader";const Dv=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("font-semibold leading-none tracking-tight",n),...e}));Dv.displayName="CardTitle";const bne=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("text-sm text-muted-foreground",n),...e}));bne.displayName="CardDescription";const Wa=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("p-6 pt-0",n),...e}));Wa.displayName="CardContent";const vne=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Ye("flex items-center p-6 pt-0",n),...e}));vne.displayName="CardFooter";const ON=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,DN=Zl,Nv=(n,e)=>t=>{var i;if(e?.variants==null)return DN(n,t?.class,t?.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(d=>{const f=t?.[d],m=s?.[d];if(f===null)return null;const p=ON(f)||ON(m);return r[d][p]}),a=t&&Object.entries(t).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:m,className:p,...w}=f;return Object.entries(w).every(A=>{let[x,S]=A;return Array.isArray(S)?S.includes({...s,...a}[x]):{...s,...a}[x]===S})?[...d,m,p]:d},[]);return DN(n,o,l,t?.class,t?.className)},wne=Nv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yne({className:n,variant:e,...t}){return y.jsx("div",{className:Ye(wne({variant:e}),n),...t})}var tS={exports:{}},nS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function _ne(){if(NN)return nS;NN=1;var n=Iv();function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,o=n.useMemo,a=n.useDebugValue;return nS.useSyncExternalStoreWithSelector=function(l,d,f,m,p){var w=r(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=o(function(){function S(B){if(!P){if(P=!0,I=B,B=m(B),p!==void 0&&A.hasValue){var W=A.value;if(p(W,B))return O=W}return O=B}if(W=O,t(I,B))return W;var $=m(B);return p!==void 0&&p(W,$)?(I=B,W):(I=B,O=$)}var P=!1,I,O,M=f===void 0?null:f;return[function(){return S(d())},M===null?void 0:function(){return S(M())}]},[d,f,m,p]);var x=i(l,w[0],w[1]);return s(function(){A.hasValue=!0,A.value=x},[x]),a(x),x},nS}var MN;function Ane(){return MN||(MN=1,tS.exports=_ne()),tS.exports}var kne=Ane();function xne(n){n()}function Cne(){let n=null,e=null;return{clear(){n=null,e=null},notify(){xne(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var BN={notify(){},get:()=>[]};function Sne(n,e){let t,i=BN,r=0,s=!1;function o(x){f();const S=i.subscribe(x);let P=!1;return()=>{P||(P=!0,S(),m())}}function a(){i.notify()}function l(){A.onStateChange&&A.onStateChange()}function d(){return s}function f(){r++,t||(t=n.subscribe(l),i=Cne())}function m(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=BN)}function p(){s||(s=!0,f())}function w(){s&&(s=!1,m())}const A={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:d,trySubscribe:p,tryUnsubscribe:w,getListeners:()=>i};return A}var Ene=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tne=Ene(),Ine=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pne=Ine(),Rne=()=>Tne||Pne?C.useLayoutEffect:C.useEffect,One=Rne(),Dne=Symbol.for("react-redux-context"),Nne=typeof globalThis<"u"?globalThis:{};function Mne(){if(!C.createContext)return{};const n=Nne[Dne]??=new Map;let e=n.get(C.createContext);return e||(e=C.createContext(null),n.set(C.createContext,e)),e}var Eu=Mne();function Bne(n){const{children:e,context:t,serverState:i,store:r}=n,s=C.useMemo(()=>{const l=Sne(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),o=C.useMemo(()=>r.getState(),[r]);One(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=t||Eu;return C.createElement(a.Provider,{value:s},e)}var Vne=Bne;function o2(n=Eu){return function(){return C.useContext(n)}}var sz=o2();function oz(n=Eu){const e=n===Eu?sz:o2(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var Lne=oz();function Fne(n=Eu){const e=n===Eu?Lne:oz(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var wf=Fne(),zne=(n,e)=>n===e;function jne(n=Eu){const e=n===Eu?sz:o2(n),t=(i,r={})=>{const{equalityFn:s=zne}=typeof r=="function"?{equalityFn:r}:r,o=e(),{store:a,subscription:l,getServerState:d}=o;C.useRef(!0);const f=C.useCallback({[i.name](p){return i(p)}}[i.name],[i]),m=kne.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,d||a.getState,f,s);return C.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var Es=jne();function Une(n,e){const t=C.createContext(e),i=s=>{const{children:o,...a}=s,l=C.useMemo(()=>a,Object.values(a));return y.jsx(t.Provider,{value:l,children:o})};i.displayName=n+"Provider";function r(s){const o=C.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function wc(n,e=[]){let t=[];function i(s,o){const a=C.createContext(o),l=t.length;t=[...t,o];const d=m=>{const{scope:p,children:w,...A}=m,x=p?.[n]?.[l]||a,S=C.useMemo(()=>A,Object.values(A));return y.jsx(x.Provider,{value:S,children:w})};d.displayName=s+"Provider";function f(m,p){const w=p?.[n]?.[l]||a,A=C.useContext(w);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const r=()=>{const s=t.map(o=>C.createContext(o));return function(a){const l=a?.[n]||s;return C.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,$ne(r,...e)]}function $ne(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:d})=>{const m=l(s)[`__scope${d}`];return{...a,...m}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Vo(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>e.current?.(...t),[])}var ji=globalThis?.document?C.useLayoutEffect:()=>{};function VN(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function m1(...n){return e=>{let t=!1;const i=n.map(r=>{const s=VN(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():VN(n[r],null)}}}}function mn(...n){return C.useCallback(m1(...n),n)}function ef(n){const e=Hne(n),t=C.forwardRef((i,r)=>{const{children:s,...o}=i,a=C.Children.toArray(s),l=a.find(Gne);if(l){const d=l.props.children,f=a.map(m=>m===l?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:m);return y.jsx(e,{...o,ref:r,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return y.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var yf=ef("Slot");function Hne(n){const e=C.forwardRef((t,i)=>{const{children:r,...s}=t;if(C.isValidElement(r)){const o=Kne(r),a=Yne(s,r.props);return r.type!==C.Fragment&&(a.ref=i?m1(i,o):o),C.cloneElement(r,a)}return C.Children.count(r)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var az=Symbol("radix.slottable");function Wne(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=az,e}function Gne(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===az}function Yne(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function Kne(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var qne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rt=qne.reduce((n,e)=>{const t=ef(`Primitive.${e}`),i=C.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function lz(n,e){n&&Ov.flushSync(()=>n.dispatchEvent(e))}var iS={exports:{}},rS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function Zne(){if(LN)return rS;LN=1;var n=Iv();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(m,p){var w=p(),A=i({inst:{value:w,getSnapshot:p}}),x=A[0].inst,S=A[1];return s(function(){x.value=w,x.getSnapshot=p,l(x)&&S({inst:x})},[m,w,p]),r(function(){return l(x)&&S({inst:x}),m(function(){l(x)&&S({inst:x})})},[m]),o(w),w}function l(m){var p=m.getSnapshot;m=m.value;try{var w=p();return!t(m,w)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return rS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,rS}var FN;function Qne(){return FN||(FN=1,iS.exports=Zne()),iS.exports}var Jne=Qne();function Xne(){return Jne.useSyncExternalStore(eie,()=>!0,()=>!1)}function eie(){return()=>{}}var a2="Avatar",[tie,yUe]=wc(a2),[nie,cz]=tie(a2),jb=C.forwardRef((n,e)=>{const{__scopeAvatar:t,...i}=n,[r,s]=C.useState("idle");return y.jsx(nie,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:s,children:y.jsx(Rt.span,{...i,ref:e})})});jb.displayName=a2;var uz="AvatarImage",Ub=C.forwardRef((n,e)=>{const{__scopeAvatar:t,src:i,onLoadingStatusChange:r=()=>{},...s}=n,o=cz(uz,t),a=iie(i,s),l=Vo(d=>{r(d),o.onImageLoadingStatusChange(d)});return ji(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?y.jsx(Rt.img,{...s,ref:e,src:i}):null});Ub.displayName=uz;var dz="AvatarFallback",fz=C.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:i,...r}=n,s=cz(dz,t),[o,a]=C.useState(i===void 0);return C.useEffect(()=>{if(i!==void 0){const l=window.setTimeout(()=>a(!0),i);return()=>window.clearTimeout(l)}},[i]),o&&s.imageLoadingStatus!=="loaded"?y.jsx(Rt.span,{...r,ref:e}):null});fz.displayName=dz;function zN(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iie(n,{referrerPolicy:e,crossOrigin:t}){const i=Xne(),r=C.useRef(null),s=i?(r.current||(r.current=new window.Image),r.current):null,[o,a]=C.useState(()=>zN(s,n));return ji(()=>{a(zN(s,n))},[s,n]),ji(()=>{const l=m=>()=>{a(m)};if(!s)return;const d=l("loaded"),f=l("error");return s.addEventListener("load",d),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof t=="string"&&(s.crossOrigin=t),()=>{s.removeEventListener("load",d),s.removeEventListener("error",f)}},[s,t,e]),o}var hz=jb,mz=Ub,gz=fz;const g1=C.forwardRef(({className:n,...e},t)=>y.jsx(hz,{ref:t,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));g1.displayName=hz.displayName;const p1=C.forwardRef(({className:n,...e},t)=>y.jsx(mz,{ref:t,className:Ye("aspect-square h-full w-full",n),...e}));p1.displayName=mz.displayName;const b1=C.forwardRef(({className:n,...e},t)=>y.jsx(gz,{ref:t,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));b1.displayName=gz.displayName;var pz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jN=Ue.createContext&&Ue.createContext(pz),rie=["attr","size","title"];function sie(n,e){if(n==null)return{};var t=oie(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function oie(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function j0(){return j0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},j0.apply(this,arguments)}function UN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(t),!0).forEach(function(i){aie(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UN(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aie(n,e,t){return e=lie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lie(n){var e=cie(n,"string");return typeof e=="symbol"?e:e+""}function cie(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bz(n){return n&&n.map((e,t)=>Ue.createElement(e.tag,U0({key:t},e.attr),bz(e.child)))}function Ui(n){return e=>Ue.createElement(uie,j0({attr:U0({},n.attr)},e),bz(n.child))}function uie(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=sie(n,rie),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ue.createElement("svg",j0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:U0(U0({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ue.createElement("title",null,s),n.children)};return jN!==void 0?Ue.createElement(jN.Consumer,null,t=>e(t)):e(pz)}function die(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function fie(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(n)}function hie(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function mie(n){return Ui({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function gie(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function pie(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function bie(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(n)}function vz(n){return Ui({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},child:[]}]})(n)}function v1(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"},child:[]}]})(n)}function vie(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(n)}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var wz;function We(){return wz.apply(null,arguments)}function wie(n){wz=n}function Lo(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function qd(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function en(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function l2(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(en(n,e))return!1;return!0}function Zr(n){return n===void 0}function sc(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function Mv(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function yz(n,e){var t=[],i,r=n.length;for(i=0;i<r;++i)t.push(e(n[i],i));return t}function yu(n,e){for(var t in e)en(e,t)&&(n[t]=e[t]);return en(e,"toString")&&(n.toString=e.toString),en(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Ga(n,e,t,i){return $z(n,e,t,i,!0).utc()}function yie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Tt(n){return n._pf==null&&(n._pf=yie()),n._pf}var qE;Array.prototype.some?qE=Array.prototype.some:qE=function(n){var e=Object(this),t=e.length>>>0,i;for(i=0;i<t;i++)if(i in e&&n.call(this,e[i],i,e))return!0;return!1};function c2(n){var e=null,t=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(e=Tt(n),t=qE.call(e.parsedDateParts,function(r){return r!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function w1(n){var e=Ga(NaN);return n!=null?yu(Tt(e),n):Tt(e).userInvalidated=!0,e}var $N=We.momentProperties=[],sS=!1;function u2(n,e){var t,i,r,s=$N.length;if(Zr(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),Zr(e._i)||(n._i=e._i),Zr(e._f)||(n._f=e._f),Zr(e._l)||(n._l=e._l),Zr(e._strict)||(n._strict=e._strict),Zr(e._tzm)||(n._tzm=e._tzm),Zr(e._isUTC)||(n._isUTC=e._isUTC),Zr(e._offset)||(n._offset=e._offset),Zr(e._pf)||(n._pf=Tt(e)),Zr(e._locale)||(n._locale=e._locale),s>0)for(t=0;t<s;t++)i=$N[t],r=e[i],Zr(r)||(n[i]=r);return n}function Bv(n){u2(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),sS===!1&&(sS=!0,We.updateOffset(this),sS=!1)}function Fo(n){return n instanceof Bv||n!=null&&n._isAMomentObject!=null}function _z(n){We.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function ao(n,e){var t=!0;return yu(function(){if(We.deprecationHandler!=null&&We.deprecationHandler(null,n),t){var i=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])en(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}_z(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var HN={};function Az(n,e){We.deprecationHandler!=null&&We.deprecationHandler(n,e),HN[n]||(_z(e),HN[n]=!0)}We.suppressDeprecationWarnings=!1;We.deprecationHandler=null;function Ya(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function _ie(n){var e,t;for(t in n)en(n,t)&&(e=n[t],Ya(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ZE(n,e){var t=yu({},n),i;for(i in e)en(e,i)&&(qd(n[i])&&qd(e[i])?(t[i]={},yu(t[i],n[i]),yu(t[i],e[i])):e[i]!=null?t[i]=e[i]:delete t[i]);for(i in n)en(n,i)&&!en(e,i)&&qd(n[i])&&(t[i]=yu({},t[i]));return t}function d2(n){n!=null&&this.set(n)}var QE;Object.keys?QE=Object.keys:QE=function(n){var e,t=[];for(e in n)en(n,e)&&t.push(e);return t};var Aie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kie(n,e,t){var i=this._calendar[n]||this._calendar.sameElse;return Ya(i)?i.call(e,t):i}function Va(n,e,t){var i=""+Math.abs(n),r=e-i.length,s=n>=0;return(s?t?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var f2=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,g_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oS={},cm={};function lt(n,e,t,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),n&&(cm[n]=r),e&&(cm[e[0]]=function(){return Va(r.apply(this,arguments),e[1],e[2])}),t&&(cm[t]=function(){return this.localeData().ordinal(r.apply(this,arguments),n)})}function xie(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function Cie(n){var e=n.match(f2),t,i;for(t=0,i=e.length;t<i;t++)cm[e[t]]?e[t]=cm[e[t]]:e[t]=xie(e[t]);return function(r){var s="",o;for(o=0;o<i;o++)s+=Ya(e[o])?e[o].call(r,n):e[o];return s}}function a0(n,e){return n.isValid()?(e=kz(e,n.localeData()),oS[e]=oS[e]||Cie(e),oS[e](n)):n.localeData().invalidDate()}function kz(n,e){var t=5;function i(r){return e.longDateFormat(r)||r}for(g_.lastIndex=0;t>=0&&g_.test(n);)n=n.replace(g_,i),g_.lastIndex=0,t-=1;return n}var Sie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Eie(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(f2).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var Tie="Invalid date";function Iie(){return this._invalidDate}var Pie="%d",Rie=/\d{1,2}/;function Oie(n){return this._ordinal.replace("%d",n)}var Die={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Nie(n,e,t,i){var r=this._relativeTime[t];return Ya(r)?r(n,e,t,i):r.replace(/%d/i,n)}function Mie(n,e){var t=this._relativeTime[n>0?"future":"past"];return Ya(t)?t(e):t.replace(/%s/i,e)}var WN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function lo(n){return typeof n=="string"?WN[n]||WN[n.toLowerCase()]:void 0}function h2(n){var e={},t,i;for(i in n)en(n,i)&&(t=lo(i),t&&(e[t]=n[i]));return e}var Bie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Vie(n){var e=[],t;for(t in n)en(n,t)&&e.push({unit:t,priority:Bie[t]});return e.sort(function(i,r){return i.priority-r.priority}),e}var xz=/\d/,Ds=/\d\d/,Cz=/\d{3}/,m2=/\d{4}/,y1=/[+-]?\d{6}/,Dn=/\d\d?/,Sz=/\d\d\d\d?/,Ez=/\d\d\d\d\d\d?/,_1=/\d{1,3}/,g2=/\d{1,4}/,A1=/[+-]?\d{1,6}/,Xm=/\d+/,k1=/[+-]?\d+/,Lie=/Z|[+-]\d\d:?\d\d/gi,x1=/Z|[+-]\d\d(?::?\d\d)?/gi,Fie=/[+-]?\d+(\.\d{1,3})?/,Vv=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eg=/^[1-9]\d?/,p2=/^([1-9]\d|\d)/,$0;$0={};function Qe(n,e,t){$0[n]=Ya(e)?e:function(i,r){return i&&t?t:e}}function zie(n,e){return en($0,n)?$0[n](e._strict,e._locale):new RegExp(jie(n))}function jie(n){return Ql(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,r,s){return t||i||r||s}))}function Ql(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qs(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function jt(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Qs(e)),t}var JE={};function _n(n,e){var t,i=e,r;for(typeof n=="string"&&(n=[n]),sc(e)&&(i=function(s,o){o[e]=jt(s)}),r=n.length,t=0;t<r;t++)JE[n[t]]=i}function Lv(n,e){_n(n,function(t,i,r,s){r._w=r._w||{},e(t,r._w,r,s)})}function Uie(n,e,t){e!=null&&en(JE,n)&&JE[n](e,t._a,t,n)}function C1(n){return n%4===0&&n%100!==0||n%400===0}var Ar=0,$l=1,xa=2,Fi=3,Po=4,Hl=5,zd=6,$ie=7,Hie=8;lt("Y",0,0,function(){var n=this.year();return n<=9999?Va(n,4):"+"+n});lt(0,["YY",2],0,function(){return this.year()%100});lt(0,["YYYY",4],0,"year");lt(0,["YYYYY",5],0,"year");lt(0,["YYYYYY",6,!0],0,"year");Qe("Y",k1);Qe("YY",Dn,Ds);Qe("YYYY",g2,m2);Qe("YYYYY",A1,y1);Qe("YYYYYY",A1,y1);_n(["YYYYY","YYYYYY"],Ar);_n("YYYY",function(n,e){e[Ar]=n.length===2?We.parseTwoDigitYear(n):jt(n)});_n("YY",function(n,e){e[Ar]=We.parseTwoDigitYear(n)});_n("Y",function(n,e){e[Ar]=parseInt(n,10)});function vb(n){return C1(n)?366:365}We.parseTwoDigitYear=function(n){return jt(n)+(jt(n)>68?1900:2e3)};var Tz=tg("FullYear",!0);function Wie(){return C1(this.year())}function tg(n,e){return function(t){return t!=null?(Iz(this,n,t),We.updateOffset(this,e),this):$b(this,n)}}function $b(n,e){if(!n.isValid())return NaN;var t=n._d,i=n._isUTC;switch(e){case"Milliseconds":return i?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return i?t.getUTCSeconds():t.getSeconds();case"Minutes":return i?t.getUTCMinutes():t.getMinutes();case"Hours":return i?t.getUTCHours():t.getHours();case"Date":return i?t.getUTCDate():t.getDate();case"Day":return i?t.getUTCDay():t.getDay();case"Month":return i?t.getUTCMonth():t.getMonth();case"FullYear":return i?t.getUTCFullYear():t.getFullYear();default:return NaN}}function Iz(n,e,t){var i,r,s,o,a;if(!(!n.isValid()||isNaN(t))){switch(i=n._d,r=n._isUTC,e){case"Milliseconds":return void(r?i.setUTCMilliseconds(t):i.setMilliseconds(t));case"Seconds":return void(r?i.setUTCSeconds(t):i.setSeconds(t));case"Minutes":return void(r?i.setUTCMinutes(t):i.setMinutes(t));case"Hours":return void(r?i.setUTCHours(t):i.setHours(t));case"Date":return void(r?i.setUTCDate(t):i.setDate(t));case"FullYear":break;default:return}s=t,o=n.month(),a=n.date(),a=a===29&&o===1&&!C1(s)?28:a,r?i.setUTCFullYear(s,o,a):i.setFullYear(s,o,a)}}function Gie(n){return n=lo(n),Ya(this[n])?this[n]():this}function Yie(n,e){if(typeof n=="object"){n=h2(n);var t=Vie(n),i,r=t.length;for(i=0;i<r;i++)this[t[i].unit](n[t[i].unit])}else if(n=lo(n),Ya(this[n]))return this[n](e);return this}function Kie(n,e){return(n%e+e)%e}var vi;Array.prototype.indexOf?vi=Array.prototype.indexOf:vi=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function b2(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=Kie(e,12);return n+=(e-t)/12,t===1?C1(n)?29:28:31-t%7%2}lt("M",["MM",2],"Mo",function(){return this.month()+1});lt("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});lt("MMMM",0,0,function(n){return this.localeData().months(this,n)});Qe("M",Dn,eg);Qe("MM",Dn,Ds);Qe("MMM",function(n,e){return e.monthsShortRegex(n)});Qe("MMMM",function(n,e){return e.monthsRegex(n)});_n(["M","MM"],function(n,e){e[$l]=jt(n)-1});_n(["MMM","MMMM"],function(n,e,t,i){var r=t._locale.monthsParse(n,i,t._strict);r!=null?e[$l]=r:Tt(t).invalidMonth=n});var qie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pz="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rz=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Zie=Vv,Qie=Vv;function Jie(n,e){return n?Lo(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||Rz).test(e)?"format":"standalone"][n.month()]:Lo(this._months)?this._months:this._months.standalone}function Xie(n,e){return n?Lo(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[Rz.test(e)?"format":"standalone"][n.month()]:Lo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ere(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Ga([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return t?e==="MMM"?(r=vi.call(this._shortMonthsParse,o),r!==-1?r:null):(r=vi.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=vi.call(this._shortMonthsParse,o),r!==-1?r:(r=vi.call(this._longMonthsParse,o),r!==-1?r:null)):(r=vi.call(this._longMonthsParse,o),r!==-1?r:(r=vi.call(this._shortMonthsParse,o),r!==-1?r:null))}function tre(n,e,t){var i,r,s;if(this._monthsParseExact)return ere.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=Ga([2e3,i]),t&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!t&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(t&&e==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!t&&this._monthsParse[i].test(n))return i}}function Oz(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=jt(e);else if(e=n.localeData().monthsParse(e),!sc(e))return n}var t=e,i=n.date();return i=i<29?i:Math.min(i,b2(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,i):n._d.setMonth(t,i),n}function Dz(n){return n!=null?(Oz(this,n),We.updateOffset(this,!0),this):$b(this,"Month")}function nre(){return b2(this.year(),this.month())}function ire(n){return this._monthsParseExact?(en(this,"_monthsRegex")||Nz.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(en(this,"_monthsShortRegex")||(this._monthsShortRegex=Zie),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function rre(n){return this._monthsParseExact?(en(this,"_monthsRegex")||Nz.call(this),n?this._monthsStrictRegex:this._monthsRegex):(en(this,"_monthsRegex")||(this._monthsRegex=Qie),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function Nz(){function n(l,d){return d.length-l.length}var e=[],t=[],i=[],r,s,o,a;for(r=0;r<12;r++)s=Ga([2e3,r]),o=Ql(this.monthsShort(s,"")),a=Ql(this.months(s,"")),e.push(o),t.push(a),i.push(a),i.push(o);e.sort(n),t.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function sre(n,e,t,i,r,s,o){var a;return n<100&&n>=0?(a=new Date(n+400,e,t,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(n)):a=new Date(n,e,t,i,r,s,o),a}function Hb(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function H0(n,e,t){var i=7+e-t,r=(7+Hb(n,0,i).getUTCDay()-e)%7;return-r+i-1}function Mz(n,e,t,i,r){var s=(7+t-i)%7,o=H0(n,i,r),a=1+7*(e-1)+s+o,l,d;return a<=0?(l=n-1,d=vb(l)+a):a>vb(n)?(l=n+1,d=a-vb(n)):(l=n,d=a),{year:l,dayOfYear:d}}function Wb(n,e,t){var i=H0(n.year(),e,t),r=Math.floor((n.dayOfYear()-i-1)/7)+1,s,o;return r<1?(o=n.year()-1,s=r+Jl(o,e,t)):r>Jl(n.year(),e,t)?(s=r-Jl(n.year(),e,t),o=n.year()+1):(o=n.year(),s=r),{week:s,year:o}}function Jl(n,e,t){var i=H0(n,e,t),r=H0(n+1,e,t);return(vb(n)-i+r)/7}lt("w",["ww",2],"wo","week");lt("W",["WW",2],"Wo","isoWeek");Qe("w",Dn,eg);Qe("ww",Dn,Ds);Qe("W",Dn,eg);Qe("WW",Dn,Ds);Lv(["w","ww","W","WW"],function(n,e,t,i){e[i.substr(0,1)]=jt(n)});function ore(n){return Wb(n,this._week.dow,this._week.doy).week}var are={dow:0,doy:6};function lre(){return this._week.dow}function cre(){return this._week.doy}function ure(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function dre(n){var e=Wb(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}lt("d",0,"do","day");lt("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});lt("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});lt("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});lt("e",0,0,"weekday");lt("E",0,0,"isoWeekday");Qe("d",Dn);Qe("e",Dn);Qe("E",Dn);Qe("dd",function(n,e){return e.weekdaysMinRegex(n)});Qe("ddd",function(n,e){return e.weekdaysShortRegex(n)});Qe("dddd",function(n,e){return e.weekdaysRegex(n)});Lv(["dd","ddd","dddd"],function(n,e,t,i){var r=t._locale.weekdaysParse(n,i,t._strict);r!=null?e.d=r:Tt(t).invalidWeekday=n});Lv(["d","e","E"],function(n,e,t,i){e[i]=jt(n)});function fre(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function hre(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function v2(n,e){return n.slice(e,7).concat(n.slice(0,e))}var mre="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bz="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pre=Vv,bre=Vv,vre=Vv;function wre(n,e){var t=Lo(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?v2(t,this._week.dow):n?t[n.day()]:t}function yre(n){return n===!0?v2(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function _re(n){return n===!0?v2(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Are(n,e,t){var i,r,s,o=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Ga([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return t?e==="dddd"?(r=vi.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=vi.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=vi.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=vi.call(this._weekdaysParse,o),r!==-1||(r=vi.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=vi.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=vi.call(this._shortWeekdaysParse,o),r!==-1||(r=vi.call(this._weekdaysParse,o),r!==-1)?r:(r=vi.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=vi.call(this._minWeekdaysParse,o),r!==-1||(r=vi.call(this._weekdaysParse,o),r!==-1)?r:(r=vi.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function kre(n,e,t){var i,r,s;if(this._weekdaysParseExact)return Are.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Ga([2e3,1]).day(i),t&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(t&&e==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(t&&e==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!t&&this._weekdaysParse[i].test(n))return i}}function xre(n){if(!this.isValid())return n!=null?this:NaN;var e=$b(this,"Day");return n!=null?(n=fre(n,this.localeData()),this.add(n-e,"d")):e}function Cre(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function Sre(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=hre(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Ere(n){return this._weekdaysParseExact?(en(this,"_weekdaysRegex")||w2.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(en(this,"_weekdaysRegex")||(this._weekdaysRegex=pre),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Tre(n){return this._weekdaysParseExact?(en(this,"_weekdaysRegex")||w2.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(en(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bre),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ire(n){return this._weekdaysParseExact?(en(this,"_weekdaysRegex")||w2.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(en(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vre),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function w2(){function n(f,m){return m.length-f.length}var e=[],t=[],i=[],r=[],s,o,a,l,d;for(s=0;s<7;s++)o=Ga([2e3,1]).day(s),a=Ql(this.weekdaysMin(o,"")),l=Ql(this.weekdaysShort(o,"")),d=Ql(this.weekdays(o,"")),e.push(a),t.push(l),i.push(d),r.push(a),r.push(l),r.push(d);e.sort(n),t.sort(n),i.sort(n),r.sort(n),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function y2(){return this.hours()%12||12}function Pre(){return this.hours()||24}lt("H",["HH",2],0,"hour");lt("h",["hh",2],0,y2);lt("k",["kk",2],0,Pre);lt("hmm",0,0,function(){return""+y2.apply(this)+Va(this.minutes(),2)});lt("hmmss",0,0,function(){return""+y2.apply(this)+Va(this.minutes(),2)+Va(this.seconds(),2)});lt("Hmm",0,0,function(){return""+this.hours()+Va(this.minutes(),2)});lt("Hmmss",0,0,function(){return""+this.hours()+Va(this.minutes(),2)+Va(this.seconds(),2)});function Vz(n,e){lt(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Vz("a",!0);Vz("A",!1);function Lz(n,e){return e._meridiemParse}Qe("a",Lz);Qe("A",Lz);Qe("H",Dn,p2);Qe("h",Dn,eg);Qe("k",Dn,eg);Qe("HH",Dn,Ds);Qe("hh",Dn,Ds);Qe("kk",Dn,Ds);Qe("hmm",Sz);Qe("hmmss",Ez);Qe("Hmm",Sz);Qe("Hmmss",Ez);_n(["H","HH"],Fi);_n(["k","kk"],function(n,e,t){var i=jt(n);e[Fi]=i===24?0:i});_n(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});_n(["h","hh"],function(n,e,t){e[Fi]=jt(n),Tt(t).bigHour=!0});_n("hmm",function(n,e,t){var i=n.length-2;e[Fi]=jt(n.substr(0,i)),e[Po]=jt(n.substr(i)),Tt(t).bigHour=!0});_n("hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[Fi]=jt(n.substr(0,i)),e[Po]=jt(n.substr(i,2)),e[Hl]=jt(n.substr(r)),Tt(t).bigHour=!0});_n("Hmm",function(n,e,t){var i=n.length-2;e[Fi]=jt(n.substr(0,i)),e[Po]=jt(n.substr(i))});_n("Hmmss",function(n,e,t){var i=n.length-4,r=n.length-2;e[Fi]=jt(n.substr(0,i)),e[Po]=jt(n.substr(i,2)),e[Hl]=jt(n.substr(r))});function Rre(n){return(n+"").toLowerCase().charAt(0)==="p"}var Ore=/[ap]\.?m?\.?/i,Dre=tg("Hours",!0);function Nre(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var Fz={calendar:Aie,longDateFormat:Sie,invalidDate:Tie,ordinal:Pie,dayOfMonthOrdinalParse:Rie,relativeTime:Die,months:qie,monthsShort:Pz,week:are,weekdays:mre,weekdaysMin:gre,weekdaysShort:Bz,meridiemParse:Ore},Ln={},jp={},Gb;function Mre(n,e){var t,i=Math.min(n.length,e.length);for(t=0;t<i;t+=1)if(n[t]!==e[t])return t;return i}function GN(n){return n&&n.toLowerCase().replace("_","-")}function Bre(n){for(var e=0,t,i,r,s;e<n.length;){for(s=GN(n[e]).split("-"),t=s.length,i=GN(n[e+1]),i=i?i.split("-"):null;t>0;){if(r=S1(s.slice(0,t).join("-")),r)return r;if(i&&i.length>=t&&Mre(s,i)>=t-1)break;t--}e++}return Gb}function Vre(n){return!!(n&&n.match("^[^/\\\\]*$"))}function S1(n){var e=null,t;if(Ln[n]===void 0&&typeof L0<"u"&&L0&&L0.exports&&Vre(n))try{e=Gb._abbr,t=require,t("./locale/"+n),ku(e)}catch{Ln[n]=null}return Ln[n]}function ku(n,e){var t;return n&&(Zr(e)?t=yc(n):t=_2(n,e),t?Gb=t:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Gb._abbr}function _2(n,e){if(e!==null){var t,i=Fz;if(e.abbr=n,Ln[n]!=null)Az("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ln[n]._config;else if(e.parentLocale!=null)if(Ln[e.parentLocale]!=null)i=Ln[e.parentLocale]._config;else if(t=S1(e.parentLocale),t!=null)i=t._config;else return jp[e.parentLocale]||(jp[e.parentLocale]=[]),jp[e.parentLocale].push({name:n,config:e}),null;return Ln[n]=new d2(ZE(i,e)),jp[n]&&jp[n].forEach(function(r){_2(r.name,r.config)}),ku(n),Ln[n]}else return delete Ln[n],null}function Lre(n,e){if(e!=null){var t,i,r=Fz;Ln[n]!=null&&Ln[n].parentLocale!=null?Ln[n].set(ZE(Ln[n]._config,e)):(i=S1(n),i!=null&&(r=i._config),e=ZE(r,e),i==null&&(e.abbr=n),t=new d2(e),t.parentLocale=Ln[n],Ln[n]=t),ku(n)}else Ln[n]!=null&&(Ln[n].parentLocale!=null?(Ln[n]=Ln[n].parentLocale,n===ku()&&ku(n)):Ln[n]!=null&&delete Ln[n]);return Ln[n]}function yc(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Gb;if(!Lo(n)){if(e=S1(n),e)return e;n=[n]}return Bre(n)}function Fre(){return QE(Ln)}function A2(n){var e,t=n._a;return t&&Tt(n).overflow===-2&&(e=t[$l]<0||t[$l]>11?$l:t[xa]<1||t[xa]>b2(t[Ar],t[$l])?xa:t[Fi]<0||t[Fi]>24||t[Fi]===24&&(t[Po]!==0||t[Hl]!==0||t[zd]!==0)?Fi:t[Po]<0||t[Po]>59?Po:t[Hl]<0||t[Hl]>59?Hl:t[zd]<0||t[zd]>999?zd:-1,Tt(n)._overflowDayOfYear&&(e<Ar||e>xa)&&(e=xa),Tt(n)._overflowWeeks&&e===-1&&(e=$ie),Tt(n)._overflowWeekday&&e===-1&&(e=Hie),Tt(n).overflow=e),n}var zre=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jre=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ure=/Z|[+-]\d\d(?::?\d\d)?/,p_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],aS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$re=/^\/?Date\((-?\d+)/i,Hre=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wre={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function zz(n){var e,t,i=n._i,r=zre.exec(i)||jre.exec(i),s,o,a,l,d=p_.length,f=aS.length;if(r){for(Tt(n).iso=!0,e=0,t=d;e<t;e++)if(p_[e][1].exec(r[1])){o=p_[e][0],s=p_[e][2]!==!1;break}if(o==null){n._isValid=!1;return}if(r[3]){for(e=0,t=f;e<t;e++)if(aS[e][1].exec(r[3])){a=(r[2]||" ")+aS[e][0];break}if(a==null){n._isValid=!1;return}}if(!s&&a!=null){n._isValid=!1;return}if(r[4])if(Ure.exec(r[4]))l="Z";else{n._isValid=!1;return}n._f=o+(a||"")+(l||""),x2(n)}else n._isValid=!1}function Gre(n,e,t,i,r,s){var o=[Yre(n),Pz.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function Yre(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function Kre(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qre(n,e,t){if(n){var i=Bz.indexOf(n),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return Tt(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function Zre(n,e,t){if(n)return Wre[n];if(e)return 0;var i=parseInt(t,10),r=i%100,s=(i-r)/100;return s*60+r}function jz(n){var e=Hre.exec(Kre(n._i)),t;if(e){if(t=Gre(e[4],e[3],e[2],e[5],e[6],e[7]),!qre(e[1],t,n))return;n._a=t,n._tzm=Zre(e[8],e[9],e[10]),n._d=Hb.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Tt(n).rfc2822=!0}else n._isValid=!1}function Qre(n){var e=$re.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(zz(n),n._isValid===!1)delete n._isValid;else return;if(jz(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:We.createFromInputFallback(n)}We.createFromInputFallback=ao("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Jh(n,e,t){return n??e??t}function Jre(n){var e=new Date(We.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function k2(n){var e,t,i=[],r,s,o;if(!n._d){for(r=Jre(n),n._w&&n._a[xa]==null&&n._a[$l]==null&&Xre(n),n._dayOfYear!=null&&(o=Jh(n._a[Ar],r[Ar]),(n._dayOfYear>vb(o)||n._dayOfYear===0)&&(Tt(n)._overflowDayOfYear=!0),t=Hb(o,0,n._dayOfYear),n._a[$l]=t.getUTCMonth(),n._a[xa]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=i[e]=r[e];for(;e<7;e++)n._a[e]=i[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[Fi]===24&&n._a[Po]===0&&n._a[Hl]===0&&n._a[zd]===0&&(n._nextDay=!0,n._a[Fi]=0),n._d=(n._useUTC?Hb:sre).apply(null,i),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Fi]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(Tt(n).weekdayMismatch=!0)}}function Xre(n){var e,t,i,r,s,o,a,l,d;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,t=Jh(e.GG,n._a[Ar],Wb(On(),1,4).year),i=Jh(e.W,1),r=Jh(e.E,1),(r<1||r>7)&&(l=!0)):(s=n._locale._week.dow,o=n._locale._week.doy,d=Wb(On(),s,o),t=Jh(e.gg,n._a[Ar],d.year),i=Jh(e.w,d.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),i<1||i>Jl(t,s,o)?Tt(n)._overflowWeeks=!0:l!=null?Tt(n)._overflowWeekday=!0:(a=Mz(t,i,r,s,o),n._a[Ar]=a.year,n._dayOfYear=a.dayOfYear)}We.ISO_8601=function(){};We.RFC_2822=function(){};function x2(n){if(n._f===We.ISO_8601){zz(n);return}if(n._f===We.RFC_2822){jz(n);return}n._a=[],Tt(n).empty=!0;var e=""+n._i,t,i,r,s,o,a=e.length,l=0,d,f;for(r=kz(n._f,n._locale).match(f2)||[],f=r.length,t=0;t<f;t++)s=r[t],i=(e.match(zie(s,n))||[])[0],i&&(o=e.substr(0,e.indexOf(i)),o.length>0&&Tt(n).unusedInput.push(o),e=e.slice(e.indexOf(i)+i.length),l+=i.length),cm[s]?(i?Tt(n).empty=!1:Tt(n).unusedTokens.push(s),Uie(s,i,n)):n._strict&&!i&&Tt(n).unusedTokens.push(s);Tt(n).charsLeftOver=a-l,e.length>0&&Tt(n).unusedInput.push(e),n._a[Fi]<=12&&Tt(n).bigHour===!0&&n._a[Fi]>0&&(Tt(n).bigHour=void 0),Tt(n).parsedDateParts=n._a.slice(0),Tt(n).meridiem=n._meridiem,n._a[Fi]=ese(n._locale,n._a[Fi],n._meridiem),d=Tt(n).era,d!==null&&(n._a[Ar]=n._locale.erasConvertYear(d,n._a[Ar])),k2(n),A2(n)}function ese(n,e,t){var i;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(i=n.isPM(t),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function tse(n){var e,t,i,r,s,o,a=!1,l=n._f.length;if(l===0){Tt(n).invalidFormat=!0,n._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,e=u2({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[r],x2(e),c2(e)&&(o=!0),s+=Tt(e).charsLeftOver,s+=Tt(e).unusedTokens.length*10,Tt(e).score=s,a?s<i&&(i=s,t=e):(i==null||s<i||o)&&(i=s,t=e,o&&(a=!0));yu(n,t||e)}function nse(n){if(!n._d){var e=h2(n._i),t=e.day===void 0?e.date:e.day;n._a=yz([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),k2(n)}}function ise(n){var e=new Bv(A2(Uz(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Uz(n){var e=n._i,t=n._f;return n._locale=n._locale||yc(n._l),e===null||t===void 0&&e===""?w1({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),Fo(e)?new Bv(A2(e)):(Mv(e)?n._d=e:Lo(t)?tse(n):t?x2(n):rse(n),c2(n)||(n._d=null),n))}function rse(n){var e=n._i;Zr(e)?n._d=new Date(We.now()):Mv(e)?n._d=new Date(e.valueOf()):typeof e=="string"?Qre(n):Lo(e)?(n._a=yz(e.slice(0),function(t){return parseInt(t,10)}),k2(n)):qd(e)?nse(n):sc(e)?n._d=new Date(e):We.createFromInputFallback(n)}function $z(n,e,t,i,r){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(t===!0||t===!1)&&(i=t,t=void 0),(qd(n)&&l2(n)||Lo(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=t,s._i=n,s._f=e,s._strict=i,ise(s)}function On(n,e,t,i){return $z(n,e,t,i,!1)}var sse=ao("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=On.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:w1()}),ose=ao("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=On.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:w1()});function Hz(n,e){var t,i;if(e.length===1&&Lo(e[0])&&(e=e[0]),!e.length)return On();for(t=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][n](t))&&(t=e[i]);return t}function ase(){var n=[].slice.call(arguments,0);return Hz("isBefore",n)}function lse(){var n=[].slice.call(arguments,0);return Hz("isAfter",n)}var cse=function(){return Date.now?Date.now():+new Date},Up=["year","quarter","month","week","day","hour","minute","second","millisecond"];function use(n){var e,t=!1,i,r=Up.length;for(e in n)if(en(n,e)&&!(vi.call(Up,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(i=0;i<r;++i)if(n[Up[i]]){if(t)return!1;parseFloat(n[Up[i]])!==jt(n[Up[i]])&&(t=!0)}return!0}function dse(){return this._isValid}function fse(){return qo(NaN)}function E1(n){var e=h2(n),t=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,f=e.millisecond||0;this._isValid=use(e),this._milliseconds=+f+d*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+i*3+t*12,this._data={},this._locale=yc(),this._bubble()}function l0(n){return n instanceof E1}function XE(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function hse(n,e,t){var i=Math.min(n.length,e.length),r=Math.abs(n.length-e.length),s=0,o;for(o=0;o<i;o++)jt(n[o])!==jt(e[o])&&s++;return s+r}function Wz(n,e){lt(n,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+Va(~~(t/60),2)+e+Va(~~t%60,2)})}Wz("Z",":");Wz("ZZ","");Qe("Z",x1);Qe("ZZ",x1);_n(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=C2(x1,n)});var mse=/([\+\-]|\d\d)/gi;function C2(n,e){var t=(e||"").match(n),i,r,s;return t===null?null:(i=t[t.length-1]||[],r=(i+"").match(mse)||["-",0,0],s=+(r[1]*60)+jt(r[2]),s===0?0:r[0]==="+"?s:-s)}function S2(n,e){var t,i;return e._isUTC?(t=e.clone(),i=(Fo(n)||Mv(n)?n.valueOf():On(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+i),We.updateOffset(t,!1),t):On(n).local()}function eT(n){return-Math.round(n._d.getTimezoneOffset())}We.updateOffset=function(){};function gse(n,e,t){var i=this._offset||0,r;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=C2(x1,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(r=eT(this)),this._offset=n,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==n&&(!e||this._changeInProgress?Kz(this,qo(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,We.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:eT(this)}function pse(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function bse(n){return this.utcOffset(0,n)}function vse(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(eT(this),"m")),this}function wse(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=C2(Lie,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function yse(n){return this.isValid()?(n=n?On(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function _se(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ase(){if(!Zr(this._isDSTShifted))return this._isDSTShifted;var n={},e;return u2(n,this),n=Uz(n),n._a?(e=n._isUTC?Ga(n._a):On(n._a),this._isDSTShifted=this.isValid()&&hse(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kse(){return this.isValid()?!this._isUTC:!1}function xse(){return this.isValid()?this._isUTC:!1}function Gz(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Cse=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Sse=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qo(n,e){var t=n,i=null,r,s,o;return l0(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:sc(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(i=Cse.exec(n))?(r=i[1]==="-"?-1:1,t={y:0,d:jt(i[xa])*r,h:jt(i[Fi])*r,m:jt(i[Po])*r,s:jt(i[Hl])*r,ms:jt(XE(i[zd]*1e3))*r}):(i=Sse.exec(n))?(r=i[1]==="-"?-1:1,t={y:Cd(i[2],r),M:Cd(i[3],r),w:Cd(i[4],r),d:Cd(i[5],r),h:Cd(i[6],r),m:Cd(i[7],r),s:Cd(i[8],r)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(o=Ese(On(t.from),On(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new E1(t),l0(n)&&en(n,"_locale")&&(s._locale=n._locale),l0(n)&&en(n,"_isValid")&&(s._isValid=n._isValid),s}qo.fn=E1.prototype;qo.invalid=fse;function Cd(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function YN(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function Ese(n,e){var t;return n.isValid()&&e.isValid()?(e=S2(e,n),n.isBefore(e)?t=YN(n,e):(t=YN(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function Yz(n,e){return function(t,i){var r,s;return i!==null&&!isNaN(+i)&&(Az(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=t,t=i,i=s),r=qo(t,i),Kz(this,r,n),this}}function Kz(n,e,t,i){var r=e._milliseconds,s=XE(e._days),o=XE(e._months);n.isValid()&&(i=i??!0,o&&Oz(n,$b(n,"Month")+o*t),s&&Iz(n,"Date",$b(n,"Date")+s*t),r&&n._d.setTime(n._d.valueOf()+r*t),i&&We.updateOffset(n,s||o))}var Tse=Yz(1,"add"),Ise=Yz(-1,"subtract");function qz(n){return typeof n=="string"||n instanceof String}function Pse(n){return Fo(n)||Mv(n)||qz(n)||sc(n)||Ose(n)||Rse(n)||n===null||n===void 0}function Rse(n){var e=qd(n)&&!l2(n),t=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=i.length;for(r=0;r<o;r+=1)s=i[r],t=t||en(n,s);return e&&t}function Ose(n){var e=Lo(n),t=!1;return e&&(t=n.filter(function(i){return!sc(i)&&qz(n)}).length===0),e&&t}function Dse(n){var e=qd(n)&&!l2(n),t=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],t=t||en(n,s);return e&&t}function Nse(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function Mse(n,e){arguments.length===1&&(arguments[0]?Pse(arguments[0])?(n=arguments[0],e=void 0):Dse(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||On(),i=S2(t,this).startOf("day"),r=We.calendarFormat(this,i)||"sameElse",s=e&&(Ya(e[r])?e[r].call(this,t):e[r]);return this.format(s||this.localeData().calendar(r,this,On(t)))}function Bse(){return new Bv(this)}function Vse(n,e){var t=Fo(n)?n:On(n);return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function Lse(n,e){var t=Fo(n)?n:On(n);return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function Fse(n,e,t,i){var r=Fo(n)?n:On(n),s=Fo(e)?e:On(e);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,t):!this.isBefore(r,t))&&(i[1]===")"?this.isBefore(s,t):!this.isAfter(s,t))):!1}function zse(n,e){var t=Fo(n)?n:On(n),i;return this.isValid()&&t.isValid()?(e=lo(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(i=t.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function jse(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function Use(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function $se(n,e,t){var i,r,s;if(!this.isValid())return NaN;if(i=S2(n,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,e=lo(e),e){case"year":s=c0(this,i)/12;break;case"month":s=c0(this,i);break;case"quarter":s=c0(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return t?s:Qs(s)}function c0(n,e){if(n.date()<e.date())return-c0(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),i=n.clone().add(t,"months"),r,s;return e-i<0?(r=n.clone().add(t-1,"months"),s=(e-i)/(i-r)):(r=n.clone().add(t+1,"months"),s=(e-i)/(r-i)),-(t+s)||0}We.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";We.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Hse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Wse(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?a0(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ya(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",a0(t,"Z")):a0(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Gse(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,i,r,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(t+i+r+s)}function Yse(n){n||(n=this.isUtc()?We.defaultFormatUtc:We.defaultFormat);var e=a0(this,n);return this.localeData().postformat(e)}function Kse(n,e){return this.isValid()&&(Fo(n)&&n.isValid()||On(n).isValid())?qo({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function qse(n){return this.from(On(),n)}function Zse(n,e){return this.isValid()&&(Fo(n)&&n.isValid()||On(n).isValid())?qo({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Qse(n){return this.to(On(),n)}function Zz(n){var e;return n===void 0?this._locale._abbr:(e=yc(n),e!=null&&(this._locale=e),this)}var Qz=ao("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function Jz(){return this._locale}var W0=1e3,um=60*W0,G0=60*um,Xz=(365*400+97)*24*G0;function dm(n,e){return(n%e+e)%e}function e7(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-Xz:new Date(n,e,t).valueOf()}function t7(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-Xz:Date.UTC(n,e,t)}function Jse(n){var e,t;if(n=lo(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?t7:e7,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=dm(e+(this._isUTC?0:this.utcOffset()*um),G0);break;case"minute":e=this._d.valueOf(),e-=dm(e,um);break;case"second":e=this._d.valueOf(),e-=dm(e,W0);break}return this._d.setTime(e),We.updateOffset(this,!0),this}function Xse(n){var e,t;if(n=lo(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?t7:e7,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=G0-dm(e+(this._isUTC?0:this.utcOffset()*um),G0)-1;break;case"minute":e=this._d.valueOf(),e+=um-dm(e,um)-1;break;case"second":e=this._d.valueOf(),e+=W0-dm(e,W0)-1;break}return this._d.setTime(e),We.updateOffset(this,!0),this}function eoe(){return this._d.valueOf()-(this._offset||0)*6e4}function toe(){return Math.floor(this.valueOf()/1e3)}function noe(){return new Date(this.valueOf())}function ioe(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function roe(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function soe(){return this.isValid()?this.toISOString():null}function ooe(){return c2(this)}function aoe(){return yu({},Tt(this))}function loe(){return Tt(this).overflow}function coe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}lt("N",0,0,"eraAbbr");lt("NN",0,0,"eraAbbr");lt("NNN",0,0,"eraAbbr");lt("NNNN",0,0,"eraName");lt("NNNNN",0,0,"eraNarrow");lt("y",["y",1],"yo","eraYear");lt("y",["yy",2],0,"eraYear");lt("y",["yyy",3],0,"eraYear");lt("y",["yyyy",4],0,"eraYear");Qe("N",E2);Qe("NN",E2);Qe("NNN",E2);Qe("NNNN",yoe);Qe("NNNNN",_oe);_n(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,i){var r=t._locale.erasParse(n,i,t._strict);r?Tt(t).era=r:Tt(t).invalidEra=n});Qe("y",Xm);Qe("yy",Xm);Qe("yyy",Xm);Qe("yyyy",Xm);Qe("yo",Aoe);_n(["y","yy","yyy","yyyy"],Ar);_n(["yo"],function(n,e,t,i){var r;t._locale._eraYearOrdinalRegex&&(r=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Ar]=t._locale.eraYearOrdinalParse(n,r):e[Ar]=parseInt(n,10)});function uoe(n,e){var t,i,r,s=this._eras||yc("en")._eras;for(t=0,i=s.length;t<i;++t){switch(typeof s[t].since){case"string":r=We(s[t].since).startOf("day"),s[t].since=r.valueOf();break}switch(typeof s[t].until){case"undefined":s[t].until=1/0;break;case"string":r=We(s[t].until).startOf("day").valueOf(),s[t].until=r.valueOf();break}}return s}function doe(n,e,t){var i,r,s=this.eras(),o,a,l;for(n=n.toUpperCase(),i=0,r=s.length;i<r;++i)if(o=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(a===n)return s[i];break;case"NNNN":if(o===n)return s[i];break;case"NNNNN":if(l===n)return s[i];break}else if([o,a,l].indexOf(n)>=0)return s[i]}function foe(n,e){var t=n.since<=n.until?1:-1;return e===void 0?We(n.since).year():We(n.since).year()+(e-n.offset)*t}function hoe(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].name;return""}function moe(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].narrow;return""}function goe(){var n,e,t,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),i[n].since<=t&&t<=i[n].until||i[n].until<=t&&t<=i[n].since)return i[n].abbr;return""}function poe(){var n,e,t,i,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=r[n].since<=r[n].until?1:-1,i=this.clone().startOf("day").valueOf(),r[n].since<=i&&i<=r[n].until||r[n].until<=i&&i<=r[n].since)return(this.year()-We(r[n].since).year())*t+r[n].offset;return this.year()}function boe(n){return en(this,"_erasNameRegex")||T2.call(this),n?this._erasNameRegex:this._erasRegex}function voe(n){return en(this,"_erasAbbrRegex")||T2.call(this),n?this._erasAbbrRegex:this._erasRegex}function woe(n){return en(this,"_erasNarrowRegex")||T2.call(this),n?this._erasNarrowRegex:this._erasRegex}function E2(n,e){return e.erasAbbrRegex(n)}function yoe(n,e){return e.erasNameRegex(n)}function _oe(n,e){return e.erasNarrowRegex(n)}function Aoe(n,e){return e._eraYearOrdinalRegex||Xm}function T2(){var n=[],e=[],t=[],i=[],r,s,o,a,l,d=this.eras();for(r=0,s=d.length;r<s;++r)o=Ql(d[r].name),a=Ql(d[r].abbr),l=Ql(d[r].narrow),e.push(o),n.push(a),t.push(l),i.push(o),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}lt(0,["gg",2],0,function(){return this.weekYear()%100});lt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function T1(n,e){lt(0,[n,n.length],0,e)}T1("gggg","weekYear");T1("ggggg","weekYear");T1("GGGG","isoWeekYear");T1("GGGGG","isoWeekYear");Qe("G",k1);Qe("g",k1);Qe("GG",Dn,Ds);Qe("gg",Dn,Ds);Qe("GGGG",g2,m2);Qe("gggg",g2,m2);Qe("GGGGG",A1,y1);Qe("ggggg",A1,y1);Lv(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,i){e[i.substr(0,2)]=jt(n)});Lv(["gg","GG"],function(n,e,t,i){e[i]=We.parseTwoDigitYear(n)});function koe(n){return n7.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function xoe(n){return n7.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function Coe(){return Jl(this.year(),1,4)}function Soe(){return Jl(this.isoWeekYear(),1,4)}function Eoe(){var n=this.localeData()._week;return Jl(this.year(),n.dow,n.doy)}function Toe(){var n=this.localeData()._week;return Jl(this.weekYear(),n.dow,n.doy)}function n7(n,e,t,i,r){var s;return n==null?Wb(this,i,r).year:(s=Jl(n,i,r),e>s&&(e=s),Ioe.call(this,n,e,t,i,r))}function Ioe(n,e,t,i,r){var s=Mz(n,e,t,i,r),o=Hb(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}lt("Q",0,"Qo","quarter");Qe("Q",xz);_n("Q",function(n,e){e[$l]=(jt(n)-1)*3});function Poe(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}lt("D",["DD",2],"Do","date");Qe("D",Dn,eg);Qe("DD",Dn,Ds);Qe("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});_n(["D","DD"],xa);_n("Do",function(n,e){e[xa]=jt(n.match(Dn)[0])});var i7=tg("Date",!0);lt("DDD",["DDDD",3],"DDDo","dayOfYear");Qe("DDD",_1);Qe("DDDD",Cz);_n(["DDD","DDDD"],function(n,e,t){t._dayOfYear=jt(n)});function Roe(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}lt("m",["mm",2],0,"minute");Qe("m",Dn,p2);Qe("mm",Dn,Ds);_n(["m","mm"],Po);var Ooe=tg("Minutes",!1);lt("s",["ss",2],0,"second");Qe("s",Dn,p2);Qe("ss",Dn,Ds);_n(["s","ss"],Hl);var Doe=tg("Seconds",!1);lt("S",0,0,function(){return~~(this.millisecond()/100)});lt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});lt(0,["SSS",3],0,"millisecond");lt(0,["SSSS",4],0,function(){return this.millisecond()*10});lt(0,["SSSSS",5],0,function(){return this.millisecond()*100});lt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});lt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});lt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});lt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Qe("S",_1,xz);Qe("SS",_1,Ds);Qe("SSS",_1,Cz);var _u,r7;for(_u="SSSS";_u.length<=9;_u+="S")Qe(_u,Xm);function Noe(n,e){e[zd]=jt(("0."+n)*1e3)}for(_u="S";_u.length<=9;_u+="S")_n(_u,Noe);r7=tg("Milliseconds",!1);lt("z",0,0,"zoneAbbr");lt("zz",0,0,"zoneName");function Moe(){return this._isUTC?"UTC":""}function Boe(){return this._isUTC?"Coordinated Universal Time":""}var Le=Bv.prototype;Le.add=Tse;Le.calendar=Mse;Le.clone=Bse;Le.diff=$se;Le.endOf=Xse;Le.format=Yse;Le.from=Kse;Le.fromNow=qse;Le.to=Zse;Le.toNow=Qse;Le.get=Gie;Le.invalidAt=loe;Le.isAfter=Vse;Le.isBefore=Lse;Le.isBetween=Fse;Le.isSame=zse;Le.isSameOrAfter=jse;Le.isSameOrBefore=Use;Le.isValid=ooe;Le.lang=Qz;Le.locale=Zz;Le.localeData=Jz;Le.max=ose;Le.min=sse;Le.parsingFlags=aoe;Le.set=Yie;Le.startOf=Jse;Le.subtract=Ise;Le.toArray=ioe;Le.toObject=roe;Le.toDate=noe;Le.toISOString=Wse;Le.inspect=Gse;typeof Symbol<"u"&&Symbol.for!=null&&(Le[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Le.toJSON=soe;Le.toString=Hse;Le.unix=toe;Le.valueOf=eoe;Le.creationData=coe;Le.eraName=hoe;Le.eraNarrow=moe;Le.eraAbbr=goe;Le.eraYear=poe;Le.year=Tz;Le.isLeapYear=Wie;Le.weekYear=koe;Le.isoWeekYear=xoe;Le.quarter=Le.quarters=Poe;Le.month=Dz;Le.daysInMonth=nre;Le.week=Le.weeks=ure;Le.isoWeek=Le.isoWeeks=dre;Le.weeksInYear=Eoe;Le.weeksInWeekYear=Toe;Le.isoWeeksInYear=Coe;Le.isoWeeksInISOWeekYear=Soe;Le.date=i7;Le.day=Le.days=xre;Le.weekday=Cre;Le.isoWeekday=Sre;Le.dayOfYear=Roe;Le.hour=Le.hours=Dre;Le.minute=Le.minutes=Ooe;Le.second=Le.seconds=Doe;Le.millisecond=Le.milliseconds=r7;Le.utcOffset=gse;Le.utc=bse;Le.local=vse;Le.parseZone=wse;Le.hasAlignedHourOffset=yse;Le.isDST=_se;Le.isLocal=kse;Le.isUtcOffset=xse;Le.isUtc=Gz;Le.isUTC=Gz;Le.zoneAbbr=Moe;Le.zoneName=Boe;Le.dates=ao("dates accessor is deprecated. Use date instead.",i7);Le.months=ao("months accessor is deprecated. Use month instead",Dz);Le.years=ao("years accessor is deprecated. Use year instead",Tz);Le.zone=ao("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pse);Le.isDSTShifted=ao("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ase);function Voe(n){return On(n*1e3)}function Loe(){return On.apply(null,arguments).parseZone()}function s7(n){return n}var nn=d2.prototype;nn.calendar=kie;nn.longDateFormat=Eie;nn.invalidDate=Iie;nn.ordinal=Oie;nn.preparse=s7;nn.postformat=s7;nn.relativeTime=Nie;nn.pastFuture=Mie;nn.set=_ie;nn.eras=uoe;nn.erasParse=doe;nn.erasConvertYear=foe;nn.erasAbbrRegex=voe;nn.erasNameRegex=boe;nn.erasNarrowRegex=woe;nn.months=Jie;nn.monthsShort=Xie;nn.monthsParse=tre;nn.monthsRegex=rre;nn.monthsShortRegex=ire;nn.week=ore;nn.firstDayOfYear=cre;nn.firstDayOfWeek=lre;nn.weekdays=wre;nn.weekdaysMin=_re;nn.weekdaysShort=yre;nn.weekdaysParse=kre;nn.weekdaysRegex=Ere;nn.weekdaysShortRegex=Tre;nn.weekdaysMinRegex=Ire;nn.isPM=Rre;nn.meridiem=Nre;function Y0(n,e,t,i){var r=yc(),s=Ga().set(i,e);return r[t](s,n)}function o7(n,e,t){if(sc(n)&&(e=n,n=void 0),n=n||"",e!=null)return Y0(n,e,t,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Y0(n,i,t,"month");return r}function I2(n,e,t,i){typeof n=="boolean"?(sc(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,sc(e)&&(t=e,e=void 0),e=e||"");var r=yc(),s=n?r._week.dow:0,o,a=[];if(t!=null)return Y0(e,(t+s)%7,i,"day");for(o=0;o<7;o++)a[o]=Y0(e,(o+s)%7,i,"day");return a}function Foe(n,e){return o7(n,e,"months")}function zoe(n,e){return o7(n,e,"monthsShort")}function joe(n,e,t){return I2(n,e,t,"weekdays")}function Uoe(n,e,t){return I2(n,e,t,"weekdaysShort")}function $oe(n,e,t){return I2(n,e,t,"weekdaysMin")}ku("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=jt(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});We.lang=ao("moment.lang is deprecated. Use moment.locale instead.",ku);We.langData=ao("moment.langData is deprecated. Use moment.localeData instead.",yc);var Rl=Math.abs;function Hoe(){var n=this._data;return this._milliseconds=Rl(this._milliseconds),this._days=Rl(this._days),this._months=Rl(this._months),n.milliseconds=Rl(n.milliseconds),n.seconds=Rl(n.seconds),n.minutes=Rl(n.minutes),n.hours=Rl(n.hours),n.months=Rl(n.months),n.years=Rl(n.years),this}function a7(n,e,t,i){var r=qo(e,t);return n._milliseconds+=i*r._milliseconds,n._days+=i*r._days,n._months+=i*r._months,n._bubble()}function Woe(n,e){return a7(this,n,e,1)}function Goe(n,e){return a7(this,n,e,-1)}function KN(n){return n<0?Math.floor(n):Math.ceil(n)}function Yoe(){var n=this._milliseconds,e=this._days,t=this._months,i=this._data,r,s,o,a,l;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=KN(tT(t)+e)*864e5,e=0,t=0),i.milliseconds=n%1e3,r=Qs(n/1e3),i.seconds=r%60,s=Qs(r/60),i.minutes=s%60,o=Qs(s/60),i.hours=o%24,e+=Qs(o/24),l=Qs(l7(e)),t+=l,e-=KN(tT(l)),a=Qs(t/12),t%=12,i.days=e,i.months=t,i.years=a,this}function l7(n){return n*4800/146097}function tT(n){return n*146097/4800}function Koe(n){if(!this.isValid())return NaN;var e,t,i=this._milliseconds;if(n=lo(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+i/864e5,t=this._months+l7(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(tT(this._months)),n){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+n)}}function _c(n){return function(){return this.as(n)}}var c7=_c("ms"),qoe=_c("s"),Zoe=_c("m"),Qoe=_c("h"),Joe=_c("d"),Xoe=_c("w"),eae=_c("M"),tae=_c("Q"),nae=_c("y"),iae=c7;function rae(){return qo(this)}function sae(n){return n=lo(n),this.isValid()?this[n+"s"]():NaN}function _f(n){return function(){return this.isValid()?this._data[n]:NaN}}var oae=_f("milliseconds"),aae=_f("seconds"),lae=_f("minutes"),cae=_f("hours"),uae=_f("days"),dae=_f("months"),fae=_f("years");function hae(){return Qs(this.days()/7)}var Vl=Math.round,sm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function mae(n,e,t,i,r){return r.relativeTime(e||1,!!t,n,i)}function gae(n,e,t,i){var r=qo(n).abs(),s=Vl(r.as("s")),o=Vl(r.as("m")),a=Vl(r.as("h")),l=Vl(r.as("d")),d=Vl(r.as("M")),f=Vl(r.as("w")),m=Vl(r.as("y")),p=s<=t.ss&&["s",s]||s<t.s&&["ss",s]||o<=1&&["m"]||o<t.m&&["mm",o]||a<=1&&["h"]||a<t.h&&["hh",a]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(p=p||f<=1&&["w"]||f<t.w&&["ww",f]),p=p||d<=1&&["M"]||d<t.M&&["MM",d]||m<=1&&["y"]||["yy",m],p[2]=e,p[3]=+n>0,p[4]=i,mae.apply(null,p)}function pae(n){return n===void 0?Vl:typeof n=="function"?(Vl=n,!0):!1}function bae(n,e){return sm[n]===void 0?!1:e===void 0?sm[n]:(sm[n]=e,n==="s"&&(sm.ss=e-1),!0)}function vae(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,i=sm,r,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(i=Object.assign({},sm,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),r=this.localeData(),s=gae(this,!t,i,r),t&&(s=r.pastFuture(+this,s)),r.postformat(s)}var lS=Math.abs;function Mh(n){return(n>0)-(n<0)||+n}function I1(){if(!this.isValid())return this.localeData().invalidDate();var n=lS(this._milliseconds)/1e3,e=lS(this._days),t=lS(this._months),i,r,s,o,a=this.asSeconds(),l,d,f,m;return a?(i=Qs(n/60),r=Qs(i/60),n%=60,i%=60,s=Qs(t/12),t%=12,o=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",d=Mh(this._months)!==Mh(a)?"-":"",f=Mh(this._days)!==Mh(a)?"-":"",m=Mh(this._milliseconds)!==Mh(a)?"-":"",l+"P"+(s?d+s+"Y":"")+(t?d+t+"M":"")+(e?f+e+"D":"")+(r||i||n?"T":"")+(r?m+r+"H":"")+(i?m+i+"M":"")+(n?m+o+"S":"")):"P0D"}var Kt=E1.prototype;Kt.isValid=dse;Kt.abs=Hoe;Kt.add=Woe;Kt.subtract=Goe;Kt.as=Koe;Kt.asMilliseconds=c7;Kt.asSeconds=qoe;Kt.asMinutes=Zoe;Kt.asHours=Qoe;Kt.asDays=Joe;Kt.asWeeks=Xoe;Kt.asMonths=eae;Kt.asQuarters=tae;Kt.asYears=nae;Kt.valueOf=iae;Kt._bubble=Yoe;Kt.clone=rae;Kt.get=sae;Kt.milliseconds=oae;Kt.seconds=aae;Kt.minutes=lae;Kt.hours=cae;Kt.days=uae;Kt.weeks=hae;Kt.months=dae;Kt.years=fae;Kt.humanize=vae;Kt.toISOString=I1;Kt.toString=I1;Kt.toJSON=I1;Kt.locale=Zz;Kt.localeData=Jz;Kt.toIsoString=ao("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",I1);Kt.lang=Qz;lt("X",0,0,"unix");lt("x",0,0,"valueOf");Qe("x",k1);Qe("X",Fie);_n("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});_n("x",function(n,e,t){t._d=new Date(jt(n))});//! moment.js
We.version="2.30.1";wie(On);We.fn=Le;We.min=ase;We.max=lse;We.now=cse;We.utc=Ga;We.unix=Voe;We.months=Foe;We.isDate=Mv;We.locale=ku;We.invalid=w1;We.duration=qo;We.isMoment=Fo;We.weekdays=joe;We.parseZone=Loe;We.localeData=yc;We.isDuration=l0;We.monthsShort=zoe;We.weekdaysMin=$oe;We.defineLocale=_2;We.updateLocale=Lre;We.locales=Fre;We.weekdaysShort=Uoe;We.normalizeUnits=lo;We.relativeTimeRounding=pae;We.relativeTimeThreshold=bae;We.calendarFormat=Nse;We.prototype=Le;We.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function P2({props:n}){Es(t=>t.user);const e=y.jsx(Ha,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300",children:y.jsxs(Wa,{className:"p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs(g1,{className:"w-10 h-10",children:[y.jsx(p1,{src:n.author?.avatar||""}),y.jsx(b1,{children:n.author?.name?.[0]||"U"})]}),y.jsx("span",{className:"text-base font-semibold",children:n.author.name})]}),n.author.role==="admin"&&y.jsx(yne,{variant:"outline",className:"bg-violet-500 text-white px-3 py-1 rounded-full text-sm",children:"Admin"})]}),y.jsx(Nu,{className:"p-0 mb-2",children:y.jsx("img",{src:n.featuredImage||"/placeholder-image.jpg",alt:n.title,className:"w-full h-56 object-cover rounded-md"})}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[y.jsx(bie,{className:"mr-1"}),y.jsx("span",{children:We(n.createdAt).format("DD-MM-YYYY")})]}),y.jsx("h2",{className:"text-2xl font-bold line-clamp-2 mb-2 hover:text-blue-600 transition-colors",children:n.title})]})});return n.category&&n.category.slug?y.jsx(ei,{to:r2(n.category.slug,n.slug),children:e}):e}const wae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20200%20200'%3e%3clinearGradient%20id='a11'%3e%3cstop%20offset='0'%20stop-color='%23687FAD'%20stop-opacity='0'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23687FAD'%3e%3c/stop%3e%3c/linearGradient%3e%3ccircle%20fill='none'%20stroke='url(%23a11)'%20stroke-width='30'%20stroke-linecap='round'%20stroke-dasharray='0%2044%200%2044%200%2044%200%2044%200%20360'%20cx='100'%20cy='100'%20r='70'%20transform-origin='center'%3e%3canimateTransform%20type='rotate'%20attributeName='transform'%20calcMode='discrete'%20dur='2'%20values='360;324;288;252;216;180;144;108;72;36'%20repeatCount='indefinite'%3e%3c/animateTransform%3e%3c/circle%3e%3c/svg%3e",Ka=()=>y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:y.jsx("img",{src:wae,alt:"Loading...",className:"w-28 h-28 "})}),yae={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8000/api",VITE_FIREBASE_API:"AIzaSyC2hctvfa_yXA89BIPPpMJiwQPa1ehT0A4"},Gt=n=>yae[n],ur=(n,e={},t=[])=>{const[i,r]=C.useState(),[s,o]=C.useState(),[a,l]=C.useState(!0);return C.useEffect(()=>{(async()=>{l(!0);try{const f=await fetch(n,e),m=await f.json();if(!f.ok)throw new Error(m.message||"Something went wrong");r(m),o()}catch(f){o(f)}finally{l(!1)}})()},t),{data:i,error:s,loading:a}};function _ae(){const{data:n,loading:e,error:t}=ur(`${Gt("VITE_API_BASE_URL")}/auth/blogs`,{method:"get",credentials:"include"});return e?y.jsx(Ka,{}):t?y.jsxs("div",{className:"text-red-500 text-center mt-20",children:["Error: ",t.message]}):y.jsxs("div",{className:"min-h-screen bg-gray-50 overflow-x-hidden",children:[y.jsxs("section",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-2xl shadow-lg p-12 mb-12 text-center mx-4 md:mx-12",children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 drop-shadow-lg",children:["Welcome to ",y.jsx("span",{className:"text-yellow-300",children:"Blogify"})]}),y.jsx("p",{className:"text-lg md:text-xl opacity-90 max-w-2xl mx-auto leading-relaxed",children:"Explore the latest blogs, trending ideas, and inspiring stories from our vibrant community."})]}),y.jsxs("section",{className:"container mx-auto px-4 py-6",children:[y.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-gray-800",children:" Latest Blogs"}),n?.data&&n.data.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:n.data.map(i=>y.jsx("div",{className:"hover:scale-105 transition-transform duration-300",children:y.jsx(P2,{props:i})},i._id))}):y.jsxs("div",{className:"text-center col-span-full mt-16",children:[y.jsx("p",{className:"text-gray-500 text-lg",children:"No blogs available yet."}),y.jsx("p",{className:"text-gray-400 mt-2",children:"Be the first one to share your thoughts!"})]})]})]})}function Aae(){return y.jsxs("footer",{className:"bg-gray-900 text-gray-300 py-4 text-center",children:[" ",new Date().getFullYear()," MegaBlog. All rights reserved."]})}const R2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAHlBMVEX/+uwIOxC+yLKmtZxcfFt6k3UgTiZBZ0Pu7d3X28iIqyBtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOS0lEQVR4nO2dCZLcKBAAETf//7BDUp/uVk8hgQ7IDO+GwzueYZtUURQIlAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgBUkfWpSSjHGSNdWww4XwPsQrDNGY0KfArzgrcODngWY8dYRDXoWYCIgQd8CjASXSnwKHXNxAYZh8E4f/SFemesLMIwOEAe6FmAYhmCYInYtwEAY6F2AYRgs2UDfAgwo0LsAw2DJB7Mw1g+N4UgH84ja2NCSBt5kfgKgVEzGtWNBYBxYRUzaNTIkOMaBbUPCcHUCQaDzIcGTCWwnmSsPCZZhoPMhITAMdD4keAwobsG1hgTP6kB5zHAlTIVPoHOuJcCAAQcI4La8DGJGnHM2lEk6MGB/AUzRrCNs9AADrivATEzbFi3JBC8uwERyq4sRzAZbEEApFc1KBzw1wSYEUGMcWDUWhGoN6hB3pABqZRhwFVvUGwcLoJRaowCJYEMCKGWyBwLSgKYEUFHQincYBJoSQCmdGwQYBNoSQOUGAWYCjQmgcjMBSsKtCaBSlgHkgbu9TbbbsxazJoTkgc0JoLIMIAS0J4DKMoAsoD0BVI4Bfsd2tcvJBFAxIxOkFtCgACpjLmB3bVijnE4AlbFNlY0B2wnnS7acWADSwCYFiOJEkHpwkwIoLRWAMaBNAZT4sCvGgDYFSFIBmAe0KYCS5oEkAZvxpxQgCgUgCWhUACUNARQDGxUgCQVgTbhRAZSwFkAW2KoARiYAWWCrAkSZAOwKaVUAJRwDWA/ayHBWAZxMAE4Oa1UALROAeWCrAkTZxhBWAzZy3s84IMBJku2DBLAiAagENSuAQYC+BdAIcA0B4qHLAa7ST++FtFGA6LwP+sBaoKvys/thowAxmLFgo4+bB7oaP7ojNgrg5vMe61TkPQKcXoAQKhZkg0QACkH1BfDh+6ccn8c8+oWbnpP1fvVlPwhwnp0380j76Mn45f0NPf3Z+5eM7/kFt/ZwX5EArAXs8w5GUsrdH2YdpsT/v+U6H6cpwXzHo/F+vONpKuZZZysKwGrgPgKYaO+39swVOvPRPzpNfxLS7cQvr28TueArCsB+gH0EeLCcmvvl39QTgB1BewuwhlBvGsiewCsIoOsJwK7gnQQIdg1++qu6YimYQuBOx3HYsAJvt6TpohkqdaC9BFjzGFu7ZaIuCk7MAk8vgE8Vm8ZJcecXYAgVt4SRA15AgCHWKwOQAlxAAB/rbQcgBbiAAK5eDkgKsNtBDOsFCBVbRhXgaAHiuCPIBxOXBUiqXgrAWvAuAvhFAR47QrxZEmDtao1op8q6bw2FIsC8QvwjGtsNEYAR4PwCvE/UTdkcQDICMAc4VADzZ3fY9bMAyRyAKtChAnzM00PJOoCkDEgKeKgAn39Tl6sESpaC2Quy57HMnwL4v0OyXb0WIPGSMvChAiTBrMyuXQ2UlIHZDXisAN9qyKnUfgACwKkE+FoI+tZHupAAkiIQGcDBEUAswDC+S5AHVeCmBBhyg4BkhZIawBkFSP9/c7smXIsuDqQIWIhQMgmMCwIMxZvEOvDhAnxJ1IJaEMCXngGQAR4vwJe/6ZYEyBmw2Qx+FQHM3+OyvQmwsF9kdQJADfAMAnz8VffxFY8c4Pt+kbU7QZkBnEMA/Wdp1j7mGEIDRJfGUgM+iQD/LQdZ9UMAF8pdGswMsCR+gwDv+br+JYD1xfqfBOA0AryPAfFnBPCl+p8KwHkEeCsFfIvxLznA3/02nzBE/19IgCgXwP45EdSiljABuKQA9u9x24gaEjgT7JI5gCu0NZH+P5cA74O2+/wC6VqAbPin/2swrN8W/v9KsouLOUAsEP7p/1MJ8HJQ9LOHTFwRAT5EWmoB4/9pBIhmodO807k5gPDxZ/5/6BXNbwLo+fi/BbxL/wvw49lN0h1J1H9OIkAUPLHBvArw42iJ+VBpCdR/TyKAMGB7I3k9XBr91580B2UFkFXrn2F/jgBL3S/+ZqR/JxFAeJ3zs2jz4/VwLXeJ4f/4G2NmAaQJ24z78Xaw/Olf8VoJVBIg92R5fRfgvxE8ZnQ/4f9EAmR024S9vxr2ZwVpER7/Ewkg/tIHcRbgNYbrrGHks7gM1xPAPX9YzsO//qIJqCKAyb9cJtlx1EhxZql8vIB4Jzmc/sqgFdyuH4ROBXB0f88COCq/HQvg6f6eBfAE/3PeF7EPIeM1YmhNAE/s71kAy7S/YwEsob9nASyzvr4FGAYfnMGCjgWY8NYkJgF7I96Wu58ECvoVYMSTEvYtwAgOdC7AQFWwewGGwa+6rhYaiQATrA11LsBAmah7AQY2h/YdAd5eN4bS5O3UPY5APti3AAMK9C7AwGuChwlg3VastSH4rPeCviA4bxZqCFAsBYtJG2fDehFIBa4twI2YjPt50NQP2DVcluNO6I/JrJIgsF5ckoOvaEgu99ABTgwry/F3dKR8Bzg0qiUBVPa5ARwb15oAKu/YII6OaU8AlXVu3G5t6oDzCKAyFaAoVAR/qqfN5OQCXB/UngBKfno0BjQpgJLeHoMBrQqgcsYBRoEWBVAZQYBMcCOy87/3nnJF+S4FDGhRAJXxzir1gCYFULKLZKkKNyuASmIDeKW8SQGUOBVkKlD9xphjxtkoNYA0YMOHfOZPOEpHAfYItSmAkuYB326uhwYEUNKDbKkGNCqAEtYDuFiyVQGUcHWQmUDVG2MOFCAKpwK8O9qoAEqYCJIHtiqAEqYBhIBWBVCyQYAQ0KwAWtRGQkDFD/fgWqsVNZKJQLMCJFEjKQg3K4CShQDKgc0KkEStfL+kHBoSQMlCADPBWpNscw1P7dHNvCAXEUCJyoFsDmtXACdqJ2NAswIkUTuZBzQrgBKNAZSD2xXASdpJEtCuAEbUUJKAZgWIV2noxXCX+Vy9pKFUAtoVwEoaShZYR4DgnF39y5QRgCzwqjfGuD2rwbwj1KwASfTDmAY0K0C8TLZyKa4jgBJNAygGtytAQIBr3hnlCjUVAToXwEp+GJWgegL4bAYEaEkAvfKbuz2bSgRoVwAnaSS14GMFMG+VOCJAbwLo9y9CgPMTigoQEKBrAdJ/pdiyEUDUVJLA6gLE5QVeNwmQdIqHCUApuLYA04kt4eN43mScSXa8Z3ya/QdTXgDWAk4hQPgWab9c9+V1aQFEjSQCVBbgvok0/T1Dd2UFYDm4Cj5TgPu00f3ufx+CH8YhYe8dQWwIqSyA/6y4ffaMHeNDjGUjgGwDO1vC6goQPw9j+HKkt791Q1EBZDsXuDxidwHGjrHGfHtFy5YUQJStcEhIZQEeqfhzCPBDSB/HedryAvB26CkEuD+Hj3lgGn/7eaCvKS2AbFMwhcBad3LcBbiPxI9ioLHPP/W3f+4RoqQA13mFqW0B0v/vYY9l33keENIYT/TtvjdTWABZwYJZYG0Bbk/i40mbyv7h3s9+/C9zPhDKCiArAzEJqC/AaIB/RtpxBJhmANMfham754CQigogqwKwH2gHAVTUL5NtM6QpAMxKhDkNm6KEKSoAZ4XWQRhZ3wS4k4xz2g1GPzvZ3vLwUQlbUgDhacHkgPsJEO9puX8v/YXpP/qpJlNOAOELTNQB9xMg3Cd8swXpTQA1DtmpnADCkYoUYEcB4nu3zJ+9fRRjw/j1xQQQ3hrDZoBaY+sXAV7j8rgN6D4L8I9vXHA/gHDXAkuBuwrwXAb2KdrwLoCyBQWQ3h65+Qf1xxYBxscyTL/GAWDqZv9MxKK3pQSQzlUZAXYVYJr9pcHHFB7zL/+SiZtQSgDpGQaMALsKYMeu1WPcjeG2NhDHL3uuEhQSQNpG5gD7CuDHzeFmGnjjLQdMbwKUqgNI961SBap4PfunAGkKubMAKvnw+G6xsADCDJCDoncWwEwd626pd5oqQa6CAMKrg0kB9xbATcO+uz94xtyCtVdFBZBeHk4A2FuA+QXBhwCPyqAvK4D49XXmgHsPAdO/3WvI1//n4tsFEJ9ix1URewvw6CD93t+2pADSBJAAUP8TXhTAvBfsXEEB5K0jABwngH3/XqacABmNowZwkADm5eGb8/VYTICMtlEEPESAmPSYpAUbQgjWfsbiTQLknGLMKsDOAiTtbFio0PjgzO2MmA0CxJwzbJkC7ilAMvbv4pwPTm95PXxcYRTDALCfANHIe8bbsFaA29tFwp/DALCenIFWq9uRH5m43EY9NhzLYAawlwA54WKDAF9OnPoFLwTvJUBev6wVIPPx/3JiHVQSYNhDAJMz+lMCbE0AkxtlSABbEsDkDzKcB9CMAHFF9zMBaEaANB8xnAkTwCtcGja4Kg8//d+IAGll7zP+NyBA1G5t70+nkcMlBLD6O06wqLQI87/rCFAD6n99C2Cp/24mxqTNqsnX8ZgS7vdKjNqM23mu2fUjgfX/lV2fpp4fLo4l/Oczdv3le36C2d+Kvr/+U/+Axz+z8xt57m8Eij9yYmOdPwzeMfrLH/3VJdbTYul+8bPfXu8P0010IHn4L1rc+Qndf6odHntjefqbL+4v4x3d37EAwZD69SuAd8z7+xXAWx7+fgXw9H7HAgQif78CeGtI+jsVwI9Hy2z7n4eLCuCfxwpBVwL4YJ15vYgUOhDA+xCsc0bz0FdAmzOizfQqSEop8rgDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACo0/EPHcq6B9OhGzMAAAAASUVORK5CYII=",kae=Nv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ni=C.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?yf:"button";return y.jsx(o,{className:Ye(kae({variant:e,size:t,className:n})),ref:s,...r})});ni.displayName="Button";const Ri=C.forwardRef(({className:n,type:e,...t},i)=>y.jsx("input",{type:e,className:Ye("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));Ri.displayName="Input";function qN(){const n=Ko(),[e,t]=C.useState(),i=s=>{t(s.target.value)},r=s=>{s.preventDefault(),n(YF(e))};return y.jsx("form",{className:"w-full",onSubmit:r,children:y.jsx(Ri,{type:"text",placeholder:"Search...",name:"q",onInput:i,className:"h-10 w-full px-4 rounded-full border bg-slate-100 border-slate-200 shadow-sm focus:bg-white focus:border-slate-400 focus:shadow-md"})})}function it(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}var xae=CF[" useInsertionEffect ".trim().toString()]||ji;function xm({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[r,s,o]=Cae({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:r;{const f=C.useRef(n!==void 0);C.useEffect(()=>{const m=f.current;m!==a&&console.warn(`${i} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,i])}const d=C.useCallback(f=>{if(a){const m=Sae(f)?f(n):f;m!==n&&o.current?.(m)}else s(f)},[a,n,s,o]);return[l,d]}function Cae({defaultProp:n,onChange:e}){const[t,i]=C.useState(n),r=C.useRef(t),s=C.useRef(e);return xae(()=>{s.current=e},[e]),C.useEffect(()=>{r.current!==t&&(s.current?.(t),r.current=t)},[t,r]),[t,i,s]}function Sae(n){return typeof n=="function"}function O2(n){const e=n+"CollectionProvider",[t,i]=wc(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:P}=x,I=Ue.useRef(null),O=Ue.useRef(new Map).current;return y.jsx(r,{scope:S,itemMap:O,collectionRef:I,children:P})};o.displayName=e;const a=n+"CollectionSlot",l=ef(a),d=Ue.forwardRef((x,S)=>{const{scope:P,children:I}=x,O=s(a,P),M=mn(S,O.collectionRef);return y.jsx(l,{ref:M,children:I})});d.displayName=a;const f=n+"CollectionItemSlot",m="data-radix-collection-item",p=ef(f),w=Ue.forwardRef((x,S)=>{const{scope:P,children:I,...O}=x,M=Ue.useRef(null),B=mn(S,M),W=s(f,P);return Ue.useEffect(()=>(W.itemMap.set(M,{ref:M,...O}),()=>void W.itemMap.delete(M))),y.jsx(p,{[m]:"",ref:B,children:I})});w.displayName=f;function A(x){const S=s(n+"CollectionConsumer",x);return Ue.useCallback(()=>{const I=S.collectionRef.current;if(!I)return[];const O=Array.from(I.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((W,$)=>O.indexOf(W.ref.current)-O.indexOf($.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},A,i]}var Eae=C.createContext(void 0);function D2(n){const e=C.useContext(Eae);return n||e||"ltr"}function Tae(n,e=globalThis?.document){const t=Vo(n);C.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Iae="DismissableLayer",nT="dismissableLayer.update",Pae="dismissableLayer.pointerDownOutside",Rae="dismissableLayer.focusOutside",ZN,u7=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fv=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,d=C.useContext(u7),[f,m]=C.useState(null),p=f?.ownerDocument??globalThis?.document,[,w]=C.useState({}),A=mn(e,$=>m($)),x=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),P=x.indexOf(S),I=f?x.indexOf(f):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,M=I>=P,B=Nae($=>{const L=$.target,ee=[...d.branches].some(pe=>pe.contains(L));!M||ee||(r?.($),o?.($),$.defaultPrevented||a?.())},p),W=Mae($=>{const L=$.target;[...d.branches].some(pe=>pe.contains(L))||(s?.($),o?.($),$.defaultPrevented||a?.())},p);return Tae($=>{I===d.layers.size-1&&(i?.($),!$.defaultPrevented&&a&&($.preventDefault(),a()))},p),C.useEffect(()=>{if(f)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ZN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),QN(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ZN)}},[f,p,t,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),QN())},[f,d]),C.useEffect(()=>{const $=()=>w({});return document.addEventListener(nT,$),()=>document.removeEventListener(nT,$)},[]),y.jsx(Rt.div,{...l,ref:A,style:{pointerEvents:O?M?"auto":"none":void 0,...n.style},onFocusCapture:it(n.onFocusCapture,W.onFocusCapture),onBlurCapture:it(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:it(n.onPointerDownCapture,B.onPointerDownCapture)})});Fv.displayName=Iae;var Oae="DismissableLayerBranch",Dae=C.forwardRef((n,e)=>{const t=C.useContext(u7),i=C.useRef(null),r=mn(e,i);return C.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),y.jsx(Rt.div,{...n,ref:r})});Dae.displayName=Oae;function Nae(n,e=globalThis?.document){const t=Vo(n),i=C.useRef(!1),r=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){d7(Pae,t,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Mae(n,e=globalThis?.document){const t=Vo(n),i=C.useRef(!1);return C.useEffect(()=>{const r=s=>{s.target&&!i.current&&d7(Rae,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function QN(){const n=new CustomEvent(nT);document.dispatchEvent(n)}function d7(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?lz(r,s):r.dispatchEvent(s)}var cS=0;function N2(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??JN()),document.body.insertAdjacentElement("beforeend",n[1]??JN()),cS++,()=>{cS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cS--}},[])}function JN(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var uS="focusScope.autoFocusOnMount",dS="focusScope.autoFocusOnUnmount",XN={bubbles:!1,cancelable:!0},Bae="FocusScope",P1=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=C.useState(null),d=Vo(r),f=Vo(s),m=C.useRef(null),p=mn(e,x=>l(x)),w=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let x=function(O){if(w.paused||!a)return;const M=O.target;a.contains(M)?m.current=M:mu(m.current,{select:!0})},S=function(O){if(w.paused||!a)return;const M=O.relatedTarget;M!==null&&(a.contains(M)||mu(m.current,{select:!0}))},P=function(O){if(document.activeElement===document.body)for(const B of O)B.removedNodes.length>0&&mu(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const I=new MutationObserver(P);return a&&I.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),I.disconnect()}}},[i,a,w.paused]),C.useEffect(()=>{if(a){tM.add(w);const x=document.activeElement;if(!a.contains(x)){const P=new CustomEvent(uS,XN);a.addEventListener(uS,d),a.dispatchEvent(P),P.defaultPrevented||(Vae(Uae(f7(a)),{select:!0}),document.activeElement===x&&mu(a))}return()=>{a.removeEventListener(uS,d),setTimeout(()=>{const P=new CustomEvent(dS,XN);a.addEventListener(dS,f),a.dispatchEvent(P),P.defaultPrevented||mu(x??document.body,{select:!0}),a.removeEventListener(dS,f),tM.remove(w)},0)}}},[a,d,f,w]);const A=C.useCallback(x=>{if(!t&&!i||w.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,P=document.activeElement;if(S&&P){const I=x.currentTarget,[O,M]=Lae(I);O&&M?!x.shiftKey&&P===M?(x.preventDefault(),t&&mu(O,{select:!0})):x.shiftKey&&P===O&&(x.preventDefault(),t&&mu(M,{select:!0})):P===I&&x.preventDefault()}},[t,i,w.paused]);return y.jsx(Rt.div,{tabIndex:-1,...o,ref:p,onKeyDown:A})});P1.displayName=Bae;function Vae(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(mu(i,{select:e}),document.activeElement!==t)return}function Lae(n){const e=f7(n),t=eM(e,n),i=eM(e.reverse(),n);return[t,i]}function f7(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function eM(n,e){for(const t of n)if(!Fae(t,{upTo:e}))return t}function Fae(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function zae(n){return n instanceof HTMLInputElement&&"select"in n}function mu(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&zae(n)&&e&&n.select()}}var tM=jae();function jae(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=nM(n,e),n.unshift(e)},remove(e){n=nM(n,e),n[0]?.resume()}}}function nM(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function Uae(n){return n.filter(e=>e.tagName!=="A")}var $ae=CF[" useId ".trim().toString()]||(()=>{}),Hae=0;function Ia(n){const[e,t]=C.useState($ae());return ji(()=>{t(i=>i??String(Hae++))},[n]),e?`radix-${e}`:""}const Wae=["top","right","bottom","left"],Tu=Math.min,ys=Math.max,K0=Math.round,b_=Math.floor,Pa=n=>({x:n,y:n}),Gae={left:"right",right:"left",bottom:"top",top:"bottom"},Yae={start:"end",end:"start"};function iT(n,e,t){return ys(n,Tu(e,t))}function oc(n,e){return typeof n=="function"?n(e):n}function ac(n){return n.split("-")[0]}function ng(n){return n.split("-")[1]}function M2(n){return n==="x"?"y":"x"}function B2(n){return n==="y"?"height":"width"}const Kae=new Set(["top","bottom"]);function Ea(n){return Kae.has(ac(n))?"y":"x"}function V2(n){return M2(Ea(n))}function qae(n,e,t){t===void 0&&(t=!1);const i=ng(n),r=V2(n),s=B2(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=q0(o)),[o,q0(o)]}function Zae(n){const e=q0(n);return[rT(n),e,rT(e)]}function rT(n){return n.replace(/start|end/g,e=>Yae[e])}const iM=["left","right"],rM=["right","left"],Qae=["top","bottom"],Jae=["bottom","top"];function Xae(n,e,t){switch(n){case"top":case"bottom":return t?e?rM:iM:e?iM:rM;case"left":case"right":return e?Qae:Jae;default:return[]}}function ele(n,e,t,i){const r=ng(n);let s=Xae(ac(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(rT)))),s}function q0(n){return n.replace(/left|right|bottom|top/g,e=>Gae[e])}function tle(n){return{top:0,right:0,bottom:0,left:0,...n}}function h7(n){return typeof n!="number"?tle(n):{top:n,right:n,bottom:n,left:n}}function Z0(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function sM(n,e,t){let{reference:i,floating:r}=n;const s=Ea(e),o=V2(e),a=B2(o),l=ac(e),d=s==="y",f=i.x+i.width/2-r.width/2,m=i.y+i.height/2-r.height/2,p=i[a]/2-r[a]/2;let w;switch(l){case"top":w={x:f,y:i.y-r.height};break;case"bottom":w={x:f,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:m};break;case"left":w={x:i.x-r.width,y:m};break;default:w={x:i.x,y:i.y}}switch(ng(e)){case"start":w[o]-=p*(t&&d?-1:1);break;case"end":w[o]+=p*(t&&d?-1:1);break}return w}const nle=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:f,y:m}=sM(d,i,l),p=i,w={},A=0;for(let x=0;x<a.length;x++){const{name:S,fn:P}=a[x],{x:I,y:O,data:M,reset:B}=await P({x:f,y:m,initialPlacement:i,placement:p,strategy:r,middlewareData:w,rects:d,platform:o,elements:{reference:n,floating:e}});f=I??f,m=O??m,w={...w,[S]:{...w[S],...M}},B&&A<=50&&(A++,typeof B=="object"&&(B.placement&&(p=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):B.rects),{x:f,y:m}=sM(d,p,l)),x=-1)}return{x:f,y:m,placement:p,strategy:r,middlewareData:w}};async function Yb(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:w=0}=oc(e,n),A=h7(w),S=a[p?m==="floating"?"reference":"floating":m],P=Z0(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(S)))==null||t?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:l})),I=m==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(O))?await(s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},B=Z0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:I,offsetParent:O,strategy:l}):I);return{top:(P.top-B.top+A.top)/M.y,bottom:(B.bottom-P.bottom+A.bottom)/M.y,left:(P.left-B.left+A.left)/M.x,right:(B.right-P.right+A.right)/M.x}}const ile=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:f=0}=oc(n,e)||{};if(d==null)return{};const m=h7(f),p={x:t,y:i},w=V2(r),A=B2(w),x=await o.getDimensions(d),S=w==="y",P=S?"top":"left",I=S?"bottom":"right",O=S?"clientHeight":"clientWidth",M=s.reference[A]+s.reference[w]-p[w]-s.floating[A],B=p[w]-s.reference[w],W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let $=W?W[O]:0;(!$||!await(o.isElement==null?void 0:o.isElement(W)))&&($=a.floating[O]||s.floating[A]);const L=M/2-B/2,ee=$/2-x[A]/2-1,pe=Tu(m[P],ee),Se=Tu(m[I],ee),ge=pe,Ee=$-x[A]-Se,Te=$/2-x[A]/2+L,Be=iT(ge,Te,Ee),Y=!l.arrow&&ng(r)!=null&&Te!==Be&&s.reference[A]/2-(Te<ge?pe:Se)-x[A]/2<0,de=Y?Te<ge?Te-ge:Te-Ee:0;return{[w]:p[w]+de,data:{[w]:Be,centerOffset:Te-Be-de,...Y&&{alignmentOffset:de}},reset:Y}}}),rle=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:x=!0,...S}=oc(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const P=ac(r),I=Ea(a),O=ac(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(d.floating)),B=p||(O||!x?[q0(a)]:Zae(a)),W=A!=="none";!p&&W&&B.push(...ele(a,x,A,M));const $=[a,...B],L=await Yb(e,S),ee=[];let pe=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&ee.push(L[P]),m){const Te=qae(r,o,M);ee.push(L[Te[0]],L[Te[1]])}if(pe=[...pe,{placement:r,overflows:ee}],!ee.every(Te=>Te<=0)){var Se,ge;const Te=(((Se=s.flip)==null?void 0:Se.index)||0)+1,Be=$[Te];if(Be&&(!(m==="alignment"?I!==Ea(Be):!1)||pe.every(Q=>Ea(Q.placement)===I?Q.overflows[0]>0:!0)))return{data:{index:Te,overflows:pe},reset:{placement:Be}};let Y=(ge=pe.filter(de=>de.overflows[0]<=0).sort((de,Q)=>de.overflows[1]-Q.overflows[1])[0])==null?void 0:ge.placement;if(!Y)switch(w){case"bestFit":{var Ee;const de=(Ee=pe.filter(Q=>{if(W){const be=Ea(Q.placement);return be===I||be==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(be=>be>0).reduce((be,V)=>be+V,0)]).sort((Q,be)=>Q[1]-be[1])[0])==null?void 0:Ee[0];de&&(Y=de);break}case"initialPlacement":Y=a;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};function oM(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function aM(n){return Wae.some(e=>n[e]>=0)}const sle=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=oc(n,e);switch(i){case"referenceHidden":{const s=await Yb(e,{...r,elementContext:"reference"}),o=oM(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aM(o)}}}case"escaped":{const s=await Yb(e,{...r,altBoundary:!0}),o=oM(s,t.floating);return{data:{escapedOffsets:o,escaped:aM(o)}}}default:return{}}}}},m7=new Set(["left","top"]);async function ole(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=ac(t),a=ng(t),l=Ea(t)==="y",d=m7.has(o)?-1:1,f=s&&l?-1:1,m=oc(e,n);let{mainAxis:p,crossAxis:w,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof A=="number"&&(w=a==="end"?A*-1:A),l?{x:w*f,y:p*d}:{x:p*d,y:w*f}}const ale=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await ole(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},lle=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:P,y:I}=S;return{x:P,y:I}}},...l}=oc(n,e),d={x:t,y:i},f=await Yb(e,l),m=Ea(ac(r)),p=M2(m);let w=d[p],A=d[m];if(s){const S=p==="y"?"top":"left",P=p==="y"?"bottom":"right",I=w+f[S],O=w-f[P];w=iT(I,w,O)}if(o){const S=m==="y"?"top":"left",P=m==="y"?"bottom":"right",I=A+f[S],O=A-f[P];A=iT(I,A,O)}const x=a.fn({...e,[p]:w,[m]:A});return{...x,data:{x:x.x-t,y:x.y-i,enabled:{[p]:s,[m]:o}}}}}},cle=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=oc(n,e),f={x:t,y:i},m=Ea(r),p=M2(m);let w=f[p],A=f[m];const x=oc(a,e),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const O=p==="y"?"height":"width",M=s.reference[p]-s.floating[O]+S.mainAxis,B=s.reference[p]+s.reference[O]-S.mainAxis;w<M?w=M:w>B&&(w=B)}if(d){var P,I;const O=p==="y"?"width":"height",M=m7.has(ac(r)),B=s.reference[m]-s.floating[O]+(M&&((P=o.offset)==null?void 0:P[m])||0)+(M?0:S.crossAxis),W=s.reference[m]+s.reference[O]+(M?0:((I=o.offset)==null?void 0:I[m])||0)-(M?S.crossAxis:0);A<B?A=B:A>W&&(A=W)}return{[p]:w,[m]:A}}}},ule=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...d}=oc(n,e),f=await Yb(e,d),m=ac(r),p=ng(r),w=Ea(r)==="y",{width:A,height:x}=s.floating;let S,P;m==="top"||m==="bottom"?(S=m,P=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(P=m,S=p==="end"?"top":"bottom");const I=x-f.top-f.bottom,O=A-f.left-f.right,M=Tu(x-f[S],I),B=Tu(A-f[P],O),W=!e.middlewareData.shift;let $=M,L=B;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(L=O),(i=e.middlewareData.shift)!=null&&i.enabled.y&&($=I),W&&!p){const pe=ys(f.left,0),Se=ys(f.right,0),ge=ys(f.top,0),Ee=ys(f.bottom,0);w?L=A-2*(pe!==0||Se!==0?pe+Se:ys(f.left,f.right)):$=x-2*(ge!==0||Ee!==0?ge+Ee:ys(f.top,f.bottom))}await l({...e,availableWidth:L,availableHeight:$});const ee=await o.getDimensions(a.floating);return A!==ee.width||x!==ee.height?{reset:{rects:!0}}:{}}}};function R1(){return typeof window<"u"}function ig(n){return g7(n)?(n.nodeName||"").toLowerCase():"#document"}function Cs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function qa(n){var e;return(e=(g7(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function g7(n){return R1()?n instanceof Node||n instanceof Cs(n).Node:!1}function zo(n){return R1()?n instanceof Element||n instanceof Cs(n).Element:!1}function La(n){return R1()?n instanceof HTMLElement||n instanceof Cs(n).HTMLElement:!1}function lM(n){return!R1()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Cs(n).ShadowRoot}const dle=new Set(["inline","contents"]);function zv(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=jo(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!dle.has(r)}const fle=new Set(["table","td","th"]);function hle(n){return fle.has(ig(n))}const mle=[":popover-open",":modal"];function O1(n){return mle.some(e=>{try{return n.matches(e)}catch{return!1}})}const gle=["transform","translate","scale","rotate","perspective"],ple=["transform","translate","scale","rotate","perspective","filter"],ble=["paint","layout","strict","content"];function L2(n){const e=F2(),t=zo(n)?jo(n):n;return gle.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ple.some(i=>(t.willChange||"").includes(i))||ble.some(i=>(t.contain||"").includes(i))}function vle(n){let e=Iu(n);for(;La(e)&&!Cm(e);){if(L2(e))return e;if(O1(e))return null;e=Iu(e)}return null}function F2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wle=new Set(["html","body","#document"]);function Cm(n){return wle.has(ig(n))}function jo(n){return Cs(n).getComputedStyle(n)}function D1(n){return zo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Iu(n){if(ig(n)==="html")return n;const e=n.assignedSlot||n.parentNode||lM(n)&&n.host||qa(n);return lM(e)?e.host:e}function p7(n){const e=Iu(n);return Cm(e)?n.ownerDocument?n.ownerDocument.body:n.body:La(e)&&zv(e)?e:p7(e)}function Kb(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=p7(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Cs(r);if(s){const a=sT(o);return e.concat(o,o.visualViewport||[],zv(r)?r:[],a&&t?Kb(a):[])}return e.concat(r,Kb(r,[],t))}function sT(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function b7(n){const e=jo(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=La(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=K0(t)!==s||K0(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function z2(n){return zo(n)?n:n.contextElement}function fm(n){const e=z2(n);if(!La(e))return Pa(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=b7(e);let o=(s?K0(t.width):t.width)/i,a=(s?K0(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yle=Pa(0);function v7(n){const e=Cs(n);return!F2()||!e.visualViewport?yle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _le(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Cs(n)?!1:e}function tf(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=z2(n);let o=Pa(1);e&&(i?zo(i)&&(o=fm(i)):o=fm(n));const a=_le(s,t,i)?v7(s):Pa(0);let l=(r.left+a.x)/o.x,d=(r.top+a.y)/o.y,f=r.width/o.x,m=r.height/o.y;if(s){const p=Cs(s),w=i&&zo(i)?Cs(i):i;let A=p,x=sT(A);for(;x&&i&&w!==A;){const S=fm(x),P=x.getBoundingClientRect(),I=jo(x),O=P.left+(x.clientLeft+parseFloat(I.paddingLeft))*S.x,M=P.top+(x.clientTop+parseFloat(I.paddingTop))*S.y;l*=S.x,d*=S.y,f*=S.x,m*=S.y,l+=O,d+=M,A=Cs(x),x=sT(A)}}return Z0({width:f,height:m,x:l,y:d})}function N1(n,e){const t=D1(n).scrollLeft;return e?e.left+t:tf(qa(n)).left+t}function w7(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-N1(n,t),r=t.top+e.scrollTop;return{x:i,y:r}}function Ale(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=qa(i),a=e?O1(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},d=Pa(1);const f=Pa(0),m=La(i);if((m||!m&&!s)&&((ig(i)!=="body"||zv(o))&&(l=D1(i)),La(i))){const w=tf(i);d=fm(i),f.x=w.x+i.clientLeft,f.y=w.y+i.clientTop}const p=o&&!m&&!s?w7(o,l):Pa(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-l.scrollLeft*d.x+f.x+p.x,y:t.y*d.y-l.scrollTop*d.y+f.y+p.y}}function kle(n){return Array.from(n.getClientRects())}function xle(n){const e=qa(n),t=D1(n),i=n.ownerDocument.body,r=ys(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=ys(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+N1(n);const a=-t.scrollTop;return jo(i).direction==="rtl"&&(o+=ys(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}const cM=25;function Cle(n,e){const t=Cs(n),i=qa(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const f=F2();(!f||f&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const d=N1(i);if(d<=0){const f=i.ownerDocument,m=f.body,p=getComputedStyle(m),w=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,A=Math.abs(i.clientWidth-m.clientWidth-w);A<=cM&&(s-=A)}else d<=cM&&(s+=d);return{width:s,height:o,x:a,y:l}}const Sle=new Set(["absolute","fixed"]);function Ele(n,e){const t=tf(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=La(n)?fm(n):Pa(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,d=i*s.y;return{width:o,height:a,x:l,y:d}}function uM(n,e,t){let i;if(e==="viewport")i=Cle(n,t);else if(e==="document")i=xle(qa(n));else if(zo(e))i=Ele(e,t);else{const r=v7(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Z0(i)}function y7(n,e){const t=Iu(n);return t===e||!zo(t)||Cm(t)?!1:jo(t).position==="fixed"||y7(t,e)}function Tle(n,e){const t=e.get(n);if(t)return t;let i=Kb(n,[],!1).filter(a=>zo(a)&&ig(a)!=="body"),r=null;const s=jo(n).position==="fixed";let o=s?Iu(n):n;for(;zo(o)&&!Cm(o);){const a=jo(o),l=L2(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&Sle.has(r.position)||zv(o)&&!l&&y7(n,o))?i=i.filter(f=>f!==o):r=a,o=Iu(o)}return e.set(n,i),i}function Ile(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?O1(e)?[]:Tle(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((d,f)=>{const m=uM(e,f,r);return d.top=ys(m.top,d.top),d.right=Tu(m.right,d.right),d.bottom=Tu(m.bottom,d.bottom),d.left=ys(m.left,d.left),d},uM(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ple(n){const{width:e,height:t}=b7(n);return{width:e,height:t}}function Rle(n,e,t){const i=La(e),r=qa(e),s=t==="fixed",o=tf(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Pa(0);function d(){l.x=N1(r)}if(i||!i&&!s)if((ig(e)!=="body"||zv(r))&&(a=D1(e)),i){const w=tf(e,!0,s,e);l.x=w.x+e.clientLeft,l.y=w.y+e.clientTop}else r&&d();s&&!i&&r&&d();const f=r&&!i&&!s?w7(r,a):Pa(0),m=o.left+a.scrollLeft-l.x-f.x,p=o.top+a.scrollTop-l.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function fS(n){return jo(n).position==="static"}function dM(n,e){if(!La(n)||jo(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return qa(n)===t&&(t=t.ownerDocument.body),t}function _7(n,e){const t=Cs(n);if(O1(n))return t;if(!La(n)){let r=Iu(n);for(;r&&!Cm(r);){if(zo(r)&&!fS(r))return r;r=Iu(r)}return t}let i=dM(n,e);for(;i&&hle(i)&&fS(i);)i=dM(i,e);return i&&Cm(i)&&fS(i)&&!L2(i)?t:i||vle(n)||t}const Ole=async function(n){const e=this.getOffsetParent||_7,t=this.getDimensions,i=await t(n.floating);return{reference:Rle(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Dle(n){return jo(n).direction==="rtl"}const Nle={convertOffsetParentRelativeRectToViewportRelativeRect:Ale,getDocumentElement:qa,getClippingRect:Ile,getOffsetParent:_7,getElementRects:Ole,getClientRects:kle,getDimensions:Ple,getScale:fm,isElement:zo,isRTL:Dle};function A7(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Mle(n,e){let t=null,i;const r=qa(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const d=n.getBoundingClientRect(),{left:f,top:m,width:p,height:w}=d;if(a||e(),!p||!w)return;const A=b_(m),x=b_(r.clientWidth-(f+p)),S=b_(r.clientHeight-(m+w)),P=b_(f),O={rootMargin:-A+"px "+-x+"px "+-S+"px "+-P+"px",threshold:ys(0,Tu(1,l))||1};let M=!0;function B(W){const $=W[0].intersectionRatio;if($!==l){if(!M)return o();$?o(!1,$):i=setTimeout(()=>{o(!1,1e-7)},1e3)}$===1&&!A7(d,n.getBoundingClientRect())&&o(),M=!1}try{t=new IntersectionObserver(B,{...O,root:r.ownerDocument})}catch{t=new IntersectionObserver(B,O)}t.observe(n)}return o(!0),s}function Ble(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,d=z2(n),f=r||s?[...d?Kb(d):[],...Kb(e)]:[];f.forEach(P=>{r&&P.addEventListener("scroll",t,{passive:!0}),s&&P.addEventListener("resize",t)});const m=d&&a?Mle(d,t):null;let p=-1,w=null;o&&(w=new ResizeObserver(P=>{let[I]=P;I&&I.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var O;(O=w)==null||O.observe(e)})),t()}),d&&!l&&w.observe(d),w.observe(e));let A,x=l?tf(n):null;l&&S();function S(){const P=tf(n);x&&!A7(x,P)&&t(),x=P,A=requestAnimationFrame(S)}return t(),()=>{var P;f.forEach(I=>{r&&I.removeEventListener("scroll",t),s&&I.removeEventListener("resize",t)}),m?.(),(P=w)==null||P.disconnect(),w=null,l&&cancelAnimationFrame(A)}}const Vle=ale,Lle=lle,Fle=rle,zle=ule,jle=sle,fM=ile,Ule=cle,$le=(n,e,t)=>{const i=new Map,r={platform:Nle,...t},s={...r.platform,_c:i};return nle(n,e,{...r,platform:s})};var Hle=typeof document<"u",Wle=function(){},u0=Hle?C.useLayoutEffect:Wle;function Q0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Q0(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!Q0(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function k7(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function hM(n,e){const t=k7(n);return Math.round(e*t)/t}function hS(n){const e=C.useRef(n);return u0(()=>{e.current=n}),e}function Gle(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=n,[f,m]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,w]=C.useState(i);Q0(p,i)||w(i);const[A,x]=C.useState(null),[S,P]=C.useState(null),I=C.useCallback(Q=>{Q!==W.current&&(W.current=Q,x(Q))},[]),O=C.useCallback(Q=>{Q!==$.current&&($.current=Q,P(Q))},[]),M=s||A,B=o||S,W=C.useRef(null),$=C.useRef(null),L=C.useRef(f),ee=l!=null,pe=hS(l),Se=hS(r),ge=hS(d),Ee=C.useCallback(()=>{if(!W.current||!$.current)return;const Q={placement:e,strategy:t,middleware:p};Se.current&&(Q.platform=Se.current),$le(W.current,$.current,Q).then(be=>{const V={...be,isPositioned:ge.current!==!1};Te.current&&!Q0(L.current,V)&&(L.current=V,Ov.flushSync(()=>{m(V)}))})},[p,e,t,Se,ge]);u0(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(Q=>({...Q,isPositioned:!1})))},[d]);const Te=C.useRef(!1);u0(()=>(Te.current=!0,()=>{Te.current=!1}),[]),u0(()=>{if(M&&(W.current=M),B&&($.current=B),M&&B){if(pe.current)return pe.current(M,B,Ee);Ee()}},[M,B,Ee,pe,ee]);const Be=C.useMemo(()=>({reference:W,floating:$,setReference:I,setFloating:O}),[I,O]),Y=C.useMemo(()=>({reference:M,floating:B}),[M,B]),de=C.useMemo(()=>{const Q={position:t,left:0,top:0};if(!Y.floating)return Q;const be=hM(Y.floating,f.x),V=hM(Y.floating,f.y);return a?{...Q,transform:"translate("+be+"px, "+V+"px)",...k7(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:V}},[t,a,Y.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:Ee,refs:Be,elements:Y,floatingStyles:de}),[f,Ee,Be,Y,de])}const Yle=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?fM({element:i.current,padding:r}).fn(t):{}:i?fM({element:i,padding:r}).fn(t):{}}}},Kle=(n,e)=>({...Vle(n),options:[n,e]}),qle=(n,e)=>({...Lle(n),options:[n,e]}),Zle=(n,e)=>({...Ule(n),options:[n,e]}),Qle=(n,e)=>({...Fle(n),options:[n,e]}),Jle=(n,e)=>({...zle(n),options:[n,e]}),Xle=(n,e)=>({...jle(n),options:[n,e]}),ece=(n,e)=>({...Yle(n),options:[n,e]});var tce="Arrow",x7=C.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return y.jsx(Rt.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});x7.displayName=tce;var nce=x7;function ice(n){const[e,t]=C.useState(void 0);return ji(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var j2="Popper",[C7,rg]=wc(j2),[rce,S7]=C7(j2),E7=n=>{const{__scopePopper:e,children:t}=n,[i,r]=C.useState(null);return y.jsx(rce,{scope:e,anchor:i,onAnchorChange:r,children:t})};E7.displayName=j2;var T7="PopperAnchor",I7=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=S7(T7,t),o=C.useRef(null),a=mn(e,o),l=C.useRef(null);return C.useEffect(()=>{const d=l.current;l.current=i?.current||o.current,d!==l.current&&s.onAnchorChange(l.current)}),i?null:y.jsx(Rt.div,{...r,ref:a})});I7.displayName=T7;var U2="PopperContent",[sce,oce]=C7(U2),P7=C.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:w="optimized",onPlaced:A,...x}=n,S=S7(U2,t),[P,I]=C.useState(null),O=mn(e,re=>I(re)),[M,B]=C.useState(null),W=ice(M),$=W?.width??0,L=W?.height??0,ee=i+(s!=="center"?"-"+s:""),pe=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Se=Array.isArray(d)?d:[d],ge=Se.length>0,Ee={padding:pe,boundary:Se.filter(lce),altBoundary:ge},{refs:Te,floatingStyles:Be,placement:Y,isPositioned:de,middlewareData:Q}=Gle({strategy:"fixed",placement:ee,whileElementsMounted:(...re)=>Ble(...re,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[Kle({mainAxis:r+L,alignmentAxis:o}),l&&qle({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Zle():void 0,...Ee}),l&&Qle({...Ee}),Jle({...Ee,apply:({elements:re,rects:we,availableWidth:Ie,availableHeight:ye})=>{const{width:Fe,height:Oe}=we.reference,at=re.floating.style;at.setProperty("--radix-popper-available-width",`${Ie}px`),at.setProperty("--radix-popper-available-height",`${ye}px`),at.setProperty("--radix-popper-anchor-width",`${Fe}px`),at.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),M&&ece({element:M,padding:a}),cce({arrowWidth:$,arrowHeight:L}),p&&Xle({strategy:"referenceHidden",...Ee})]}),[be,V]=D7(Y),fe=Vo(A);ji(()=>{de&&fe?.()},[de,fe]);const Pe=Q.arrow?.x,Ae=Q.arrow?.y,q=Q.arrow?.centerOffset!==0,[U,ce]=C.useState();return ji(()=>{P&&ce(window.getComputedStyle(P).zIndex)},[P]),y.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:de?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(sce,{scope:t,placedSide:be,onArrowChange:B,arrowX:Pe,arrowY:Ae,shouldHideArrow:q,children:y.jsx(Rt.div,{"data-side":be,"data-align":V,...x,ref:O,style:{...x.style,animation:de?void 0:"none"}})})})});P7.displayName=U2;var R7="PopperArrow",ace={top:"bottom",right:"left",bottom:"top",left:"right"},O7=C.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=oce(R7,i),o=ace[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(nce,{...r,ref:t,style:{...r.style,display:"block"}})})});O7.displayName=R7;function lce(n){return n!==null}var cce=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:r}=e,o=r.arrow?.centerOffset!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[d,f]=D7(t),m={start:"0%",center:"50%",end:"100%"}[f],p=(r.arrow?.x??0)+a/2,w=(r.arrow?.y??0)+l/2;let A="",x="";return d==="bottom"?(A=o?m:`${p}px`,x=`${-l}px`):d==="top"?(A=o?m:`${p}px`,x=`${i.floating.height+l}px`):d==="right"?(A=`${-l}px`,x=o?m:`${w}px`):d==="left"&&(A=`${i.floating.width+l}px`,x=o?m:`${w}px`),{data:{x:A,y:x}}}});function D7(n){const[e,t="center"]=n.split("-");return[e,t]}var $2=E7,H2=I7,W2=P7,G2=O7,uce="Portal",jv=C.forwardRef((n,e)=>{const{container:t,...i}=n,[r,s]=C.useState(!1);ji(()=>s(!0),[]);const o=t||r&&globalThis?.document?.body;return o?Bte.createPortal(y.jsx(Rt.div,{...i,ref:e}),o):null});jv.displayName=uce;function dce(n,e){return C.useReducer((t,i)=>e[t][i]??t,n)}var Za=n=>{const{present:e,children:t}=n,i=fce(e),r=typeof t=="function"?t({present:i.isPresent}):C.Children.only(t),s=mn(i.ref,hce(r));return typeof t=="function"||i.isPresent?C.cloneElement(r,{ref:s}):null};Za.displayName="Presence";function fce(n){const[e,t]=C.useState(),i=C.useRef(null),r=C.useRef(n),s=C.useRef("none"),o=n?"mounted":"unmounted",[a,l]=dce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=v_(i.current);s.current=a==="mounted"?d:"none"},[a]),ji(()=>{const d=i.current,f=r.current;if(f!==n){const p=s.current,w=v_(d);n?l("MOUNT"):w==="none"||d?.display==="none"?l("UNMOUNT"):l(f&&p!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),ji(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=w=>{const x=v_(i.current).includes(CSS.escape(w.animationName));if(w.target===e&&x&&(l("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=w=>{w.target===e&&(s.current=v_(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(d=>{i.current=d?getComputedStyle(d):null,t(d)},[])}}function v_(n){return n?.animationName||"none"}function hce(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var mS="rovingFocusGroup.onEntryFocus",mce={bubbles:!1,cancelable:!0},Uv="RovingFocusGroup",[oT,N7,gce]=O2(Uv),[pce,M7]=wc(Uv,[gce]),[bce,vce]=pce(Uv),B7=C.forwardRef((n,e)=>y.jsx(oT.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(oT.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(wce,{...n,ref:e})})}));B7.displayName=Uv;var wce=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=n,p=C.useRef(null),w=mn(e,p),A=D2(s),[x,S]=xm({prop:o,defaultProp:a??null,onChange:l,caller:Uv}),[P,I]=C.useState(!1),O=Vo(d),M=N7(t),B=C.useRef(!1),[W,$]=C.useState(0);return C.useEffect(()=>{const L=p.current;if(L)return L.addEventListener(mS,O),()=>L.removeEventListener(mS,O)},[O]),y.jsx(bce,{scope:t,orientation:i,dir:A,loop:r,currentTabStopId:x,onItemFocus:C.useCallback(L=>S(L),[S]),onItemShiftTab:C.useCallback(()=>I(!0),[]),onFocusableItemAdd:C.useCallback(()=>$(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>$(L=>L-1),[]),children:y.jsx(Rt.div,{tabIndex:P||W===0?-1:0,"data-orientation":i,...m,ref:w,style:{outline:"none",...n.style},onMouseDown:it(n.onMouseDown,()=>{B.current=!0}),onFocus:it(n.onFocus,L=>{const ee=!B.current;if(L.target===L.currentTarget&&ee&&!P){const pe=new CustomEvent(mS,mce);if(L.currentTarget.dispatchEvent(pe),!pe.defaultPrevented){const Se=M().filter(Y=>Y.focusable),ge=Se.find(Y=>Y.active),Ee=Se.find(Y=>Y.id===x),Be=[ge,Ee,...Se].filter(Boolean).map(Y=>Y.ref.current);F7(Be,f)}}B.current=!1}),onBlur:it(n.onBlur,()=>I(!1))})})}),V7="RovingFocusGroupItem",L7=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:r=!1,tabStopId:s,children:o,...a}=n,l=Ia(),d=s||l,f=vce(V7,t),m=f.currentTabStopId===d,p=N7(t),{onFocusableItemAdd:w,onFocusableItemRemove:A,currentTabStopId:x}=f;return C.useEffect(()=>{if(i)return w(),()=>A()},[i,w,A]),y.jsx(oT.ItemSlot,{scope:t,id:d,focusable:i,active:r,children:y.jsx(Rt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:it(n.onMouseDown,S=>{i?f.onItemFocus(d):S.preventDefault()}),onFocus:it(n.onFocus,()=>f.onItemFocus(d)),onKeyDown:it(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const P=Ace(S,f.orientation,f.dir);if(P!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let O=p().filter(M=>M.focusable).map(M=>M.ref.current);if(P==="last")O.reverse();else if(P==="prev"||P==="next"){P==="prev"&&O.reverse();const M=O.indexOf(S.currentTarget);O=f.loop?kce(O,M+1):O.slice(M+1)}setTimeout(()=>F7(O))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});L7.displayName=V7;var yce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _ce(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Ace(n,e,t){const i=_ce(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return yce[i]}function F7(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function kce(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var xce=B7,Cce=L7,Sce=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Bh=new WeakMap,w_=new WeakMap,y_={},gS=0,z7=function(n){return n&&(n.host||z7(n.parentNode))},Ece=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=z7(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Tce=function(n,e,t,i){var r=Ece(e,Array.isArray(n)?n:[n]);y_[t]||(y_[t]=new WeakMap);var s=y_[t],o=[],a=new Set,l=new Set(r),d=function(m){!m||a.has(m)||(a.add(m),d(m.parentNode))};r.forEach(d);var f=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(p){if(a.has(p))f(p);else try{var w=p.getAttribute(i),A=w!==null&&w!=="false",x=(Bh.get(p)||0)+1,S=(s.get(p)||0)+1;Bh.set(p,x),s.set(p,S),o.push(p),x===1&&A&&w_.set(p,!0),S===1&&p.setAttribute(t,"true"),A||p.setAttribute(i,"true")}catch(P){console.error("aria-hidden: cannot operate on ",p,P)}})};return f(e),a.clear(),gS++,function(){o.forEach(function(m){var p=Bh.get(m)-1,w=s.get(m)-1;Bh.set(m,p),s.set(m,w),p||(w_.has(m)||m.removeAttribute(i),w_.delete(m)),w||m.removeAttribute(t)}),gS--,gS||(Bh=new WeakMap,Bh=new WeakMap,w_=new WeakMap,y_={})}},Y2=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=Sce(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live], script"))),Tce(i,r,t,"aria-hidden")):function(){return null}},Ca=function(){return Ca=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ca.apply(this,arguments)};function j7(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Af(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{d(i.next(f))}catch(m){o(m)}}function l(f){try{d(i.throw(f))}catch(m){o(m)}}function d(f){f.done?s(f.value):r(f.value).then(a,l)}d((i=i.apply(n,e||[])).next())})}function Ice(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var d0="right-scroll-bar-position",f0="width-before-scroll-bar",Pce="with-scroll-bars-hidden",Rce="--removed-body-scroll-bar-size";function pS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Oce(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var Dce=typeof window<"u"?C.useLayoutEffect:C.useEffect,mM=new WeakMap;function Nce(n,e){var t=Oce(null,function(i){return n.forEach(function(r){return pS(r,i)})});return Dce(function(){var i=mM.get(t);if(i){var r=new Set(i),s=new Set(n),o=t.current;r.forEach(function(a){s.has(a)||pS(a,null)}),s.forEach(function(a){r.has(a)||pS(a,o)})}mM.set(t,n)},[n]),t}function Mce(n){return n}function Bce(n,e){e===void 0&&(e=Mce);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,i);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){i=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(l)};d(),t={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),t}}}};return r}function Vce(n){n===void 0&&(n={});var e=Bce(null);return e.options=Ca({async:!0,ssr:!1},n),e}var U7=function(n){var e=n.sideCar,t=j7(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,Ca({},t))};U7.isSideCarExport=!0;function Lce(n,e){return n.useMedium(e),U7}var $7=Vce(),bS=function(){},M1=C.forwardRef(function(n,e){var t=C.useRef(null),i=C.useState({onScrollCapture:bS,onWheelCapture:bS,onTouchMoveCapture:bS}),r=i[0],s=i[1],o=n.forwardProps,a=n.children,l=n.className,d=n.removeScrollBar,f=n.enabled,m=n.shards,p=n.sideCar,w=n.noRelative,A=n.noIsolation,x=n.inert,S=n.allowPinchZoom,P=n.as,I=P===void 0?"div":P,O=n.gapMode,M=j7(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=p,W=Nce([t,e]),$=Ca(Ca({},M),r);return C.createElement(C.Fragment,null,f&&C.createElement(B,{sideCar:$7,removeScrollBar:d,shards:m,noRelative:w,noIsolation:A,inert:x,setCallbacks:s,allowPinchZoom:!!S,lockRef:t,gapMode:O}),o?C.cloneElement(C.Children.only(a),Ca(Ca({},$),{ref:W})):C.createElement(I,Ca({},$,{className:l,ref:W}),a))});M1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M1.classNames={fullWidth:f0,zeroRight:d0};var Fce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zce(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Fce();return e&&n.setAttribute("nonce",e),n}function jce(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Uce(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var $ce=function(){var n=0,e=null;return{add:function(t){n==0&&(e=zce())&&(jce(e,t),Uce(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Hce=function(){var n=$ce();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},H7=function(){var n=Hce(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},Wce={left:0,top:0,right:0,gap:0},vS=function(n){return parseInt(n||"",10)||0},Gce=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[vS(t),vS(i),vS(r)]},Yce=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Wce;var e=Gce(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Kce=H7(),hm="data-scroll-locked",qce=function(n,e,t,i){var r=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Pce,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(hm,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(d0,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(f0,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(d0," .").concat(d0,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(f0," .").concat(f0,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(hm,`] {
    `).concat(Rce,": ").concat(a,`px;
  }
`)},gM=function(){var n=parseInt(document.body.getAttribute(hm)||"0",10);return isFinite(n)?n:0},Zce=function(){C.useEffect(function(){return document.body.setAttribute(hm,(gM()+1).toString()),function(){var n=gM()-1;n<=0?document.body.removeAttribute(hm):document.body.setAttribute(hm,n.toString())}},[])},Qce=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;Zce();var s=C.useMemo(function(){return Yce(r)},[r]);return C.createElement(Kce,{styles:qce(s,!e,r,t?"":"!important")})},aT=!1;if(typeof window<"u")try{var __=Object.defineProperty({},"passive",{get:function(){return aT=!0,!0}});window.addEventListener("test",__,__),window.removeEventListener("test",__,__)}catch{aT=!1}var Vh=aT?{passive:!1}:!1,Jce=function(n){return n.tagName==="TEXTAREA"},W7=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Jce(n)&&t[e]==="visible")},Xce=function(n){return W7(n,"overflowY")},eue=function(n){return W7(n,"overflowX")},pM=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=G7(n,i);if(r){var s=Y7(n,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},tue=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},nue=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},G7=function(n,e){return n==="v"?Xce(e):eue(e)},Y7=function(n,e){return n==="v"?tue(e):nue(e)},iue=function(n,e){return n==="h"&&e==="rtl"?-1:1},rue=function(n,e,t,i,r){var s=iue(n,window.getComputedStyle(e).direction),o=s*i,a=t.target,l=e.contains(a),d=!1,f=o>0,m=0,p=0;do{if(!a)break;var w=Y7(n,a),A=w[0],x=w[1],S=w[2],P=x-S-s*A;(A||P)&&G7(n,a)&&(m+=P,p+=A);var I=a.parentNode;a=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(d=!0),d},A_=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},bM=function(n){return[n.deltaX,n.deltaY]},vM=function(n){return n&&"current"in n?n.current:n},sue=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oue=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},aue=0,Lh=[];function lue(n){var e=C.useRef([]),t=C.useRef([0,0]),i=C.useRef(),r=C.useState(aue++)[0],s=C.useState(H7)[0],o=C.useRef(n);C.useEffect(function(){o.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var x=Ice([n.lockRef.current],(n.shards||[]).map(vM),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var a=C.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var P=A_(x),I=t.current,O="deltaX"in x?x.deltaX:I[0]-P[0],M="deltaY"in x?x.deltaY:I[1]-P[1],B,W=x.target,$=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in x&&$==="h"&&W.type==="range")return!1;var L=pM($,W);if(!L)return!0;if(L?B=$:(B=$==="v"?"h":"v",L=pM($,W)),!L)return!1;if(!i.current&&"changedTouches"in x&&(O||M)&&(i.current=B),!B)return!0;var ee=i.current||B;return rue(ee,S,x,ee==="h"?O:M)},[]),l=C.useCallback(function(x){var S=x;if(!(!Lh.length||Lh[Lh.length-1]!==s)){var P="deltaY"in S?bM(S):A_(S),I=e.current.filter(function(B){return B.name===S.type&&(B.target===S.target||S.target===B.shadowParent)&&sue(B.delta,P)})[0];if(I&&I.should){S.cancelable&&S.preventDefault();return}if(!I){var O=(o.current.shards||[]).map(vM).filter(Boolean).filter(function(B){return B.contains(S.target)}),M=O.length>0?a(S,O[0]):!o.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),d=C.useCallback(function(x,S,P,I){var O={name:x,delta:S,target:P,should:I,shadowParent:cue(P)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(M){return M!==O})},1)},[]),f=C.useCallback(function(x){t.current=A_(x),i.current=void 0},[]),m=C.useCallback(function(x){d(x.type,bM(x),x.target,a(x,n.lockRef.current))},[]),p=C.useCallback(function(x){d(x.type,A_(x),x.target,a(x,n.lockRef.current))},[]);C.useEffect(function(){return Lh.push(s),n.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Vh),document.addEventListener("touchmove",l,Vh),document.addEventListener("touchstart",f,Vh),function(){Lh=Lh.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,Vh),document.removeEventListener("touchmove",l,Vh),document.removeEventListener("touchstart",f,Vh)}},[]);var w=n.removeScrollBar,A=n.inert;return C.createElement(C.Fragment,null,A?C.createElement(s,{styles:oue(r)}):null,w?C.createElement(Qce,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function cue(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const uue=Lce($7,lue);var B1=C.forwardRef(function(n,e){return C.createElement(M1,Ca({},n,{ref:e,sideCar:uue}))});B1.classNames=M1.classNames;var lT=["Enter"," "],due=["ArrowDown","PageUp","Home"],K7=["ArrowUp","PageDown","End"],fue=[...due,...K7],hue={ltr:[...lT,"ArrowRight"],rtl:[...lT,"ArrowLeft"]},mue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$v="Menu",[qb,gue,pue]=O2($v),[kf,q7]=wc($v,[pue,rg,M7]),V1=rg(),Z7=M7(),[bue,xf]=kf($v),[vue,Hv]=kf($v),Q7=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=n,a=V1(e),[l,d]=C.useState(null),f=C.useRef(!1),m=Vo(s),p=D2(r);return C.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),y.jsx($2,{...a,children:y.jsx(bue,{scope:e,open:t,onOpenChange:m,content:l,onContentChange:d,children:y.jsx(vue,{scope:e,onClose:C.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:i})})})};Q7.displayName=$v;var wue="MenuAnchor",K2=C.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=V1(t);return y.jsx(H2,{...r,...i,ref:e})});K2.displayName=wue;var q2="MenuPortal",[yue,J7]=kf(q2,{forceMount:void 0}),X7=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:r}=n,s=xf(q2,e);return y.jsx(yue,{scope:e,forceMount:t,children:y.jsx(Za,{present:t||s.open,children:y.jsx(jv,{asChild:!0,container:r,children:i})})})};X7.displayName=q2;var Js="MenuContent",[_ue,Z2]=kf(Js),e8=C.forwardRef((n,e)=>{const t=J7(Js,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=xf(Js,n.__scopeMenu),o=Hv(Js,n.__scopeMenu);return y.jsx(qb.Provider,{scope:n.__scopeMenu,children:y.jsx(Za,{present:i||s.open,children:y.jsx(qb.Slot,{scope:n.__scopeMenu,children:o.modal?y.jsx(Aue,{...r,ref:e}):y.jsx(kue,{...r,ref:e})})})})}),Aue=C.forwardRef((n,e)=>{const t=xf(Js,n.__scopeMenu),i=C.useRef(null),r=mn(e,i);return C.useEffect(()=>{const s=i.current;if(s)return Y2(s)},[]),y.jsx(Q2,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:it(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),kue=C.forwardRef((n,e)=>{const t=xf(Js,n.__scopeMenu);return y.jsx(Q2,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),xue=ef("MenuContent.ScrollLock"),Q2=C.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:w,disableOutsideScroll:A,...x}=n,S=xf(Js,t),P=Hv(Js,t),I=V1(t),O=Z7(t),M=gue(t),[B,W]=C.useState(null),$=C.useRef(null),L=mn(e,$,S.onContentChange),ee=C.useRef(0),pe=C.useRef(""),Se=C.useRef(0),ge=C.useRef(null),Ee=C.useRef("right"),Te=C.useRef(0),Be=A?B1:C.Fragment,Y=A?{as:xue,allowPinchZoom:!0}:void 0,de=be=>{const V=pe.current+be,fe=M().filter(re=>!re.disabled),Pe=document.activeElement,Ae=fe.find(re=>re.ref.current===Pe)?.textValue,q=fe.map(re=>re.textValue),U=Bue(q,V,Ae),ce=fe.find(re=>re.textValue===U)?.ref.current;(function re(we){pe.current=we,window.clearTimeout(ee.current),we!==""&&(ee.current=window.setTimeout(()=>re(""),1e3))})(V),ce&&setTimeout(()=>ce.focus())};C.useEffect(()=>()=>window.clearTimeout(ee.current),[]),N2();const Q=C.useCallback(be=>Ee.current===ge.current?.side&&Lue(be,ge.current?.area),[]);return y.jsx(_ue,{scope:t,searchRef:pe,onItemEnter:C.useCallback(be=>{Q(be)&&be.preventDefault()},[Q]),onItemLeave:C.useCallback(be=>{Q(be)||($.current?.focus(),W(null))},[Q]),onTriggerLeave:C.useCallback(be=>{Q(be)&&be.preventDefault()},[Q]),pointerGraceTimerRef:Se,onPointerGraceIntentChange:C.useCallback(be=>{ge.current=be},[]),children:y.jsx(Be,{...Y,children:y.jsx(P1,{asChild:!0,trapped:r,onMountAutoFocus:it(s,be=>{be.preventDefault(),$.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:y.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:w,children:y.jsx(xce,{asChild:!0,...O,dir:P.dir,orientation:"vertical",loop:i,currentTabStopId:B,onCurrentTabStopIdChange:W,onEntryFocus:it(l,be=>{P.isUsingKeyboardRef.current||be.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(W2,{role:"menu","aria-orientation":"vertical","data-state":p8(S.open),"data-radix-menu-content":"",dir:P.dir,...I,...x,ref:L,style:{outline:"none",...x.style},onKeyDown:it(x.onKeyDown,be=>{const fe=be.target.closest("[data-radix-menu-content]")===be.currentTarget,Pe=be.ctrlKey||be.altKey||be.metaKey,Ae=be.key.length===1;fe&&(be.key==="Tab"&&be.preventDefault(),!Pe&&Ae&&de(be.key));const q=$.current;if(be.target!==q||!fue.includes(be.key))return;be.preventDefault();const ce=M().filter(re=>!re.disabled).map(re=>re.ref.current);K7.includes(be.key)&&ce.reverse(),Nue(ce)}),onBlur:it(n.onBlur,be=>{be.currentTarget.contains(be.target)||(window.clearTimeout(ee.current),pe.current="")}),onPointerMove:it(n.onPointerMove,Zb(be=>{const V=be.target,fe=Te.current!==be.clientX;if(be.currentTarget.contains(V)&&fe){const Pe=be.clientX>Te.current?"right":"left";Ee.current=Pe,Te.current=be.clientX}}))})})})})})})});e8.displayName=Js;var Cue="MenuGroup",J2=C.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return y.jsx(Rt.div,{role:"group",...i,ref:e})});J2.displayName=Cue;var Sue="MenuLabel",t8=C.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return y.jsx(Rt.div,{...i,ref:e})});t8.displayName=Sue;var J0="MenuItem",wM="menu.itemSelect",L1=C.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...r}=n,s=C.useRef(null),o=Hv(J0,n.__scopeMenu),a=Z2(J0,n.__scopeMenu),l=mn(e,s),d=C.useRef(!1),f=()=>{const m=s.current;if(!t&&m){const p=new CustomEvent(wM,{bubbles:!0,cancelable:!0});m.addEventListener(wM,w=>i?.(w),{once:!0}),lz(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return y.jsx(n8,{...r,ref:l,disabled:t,onClick:it(n.onClick,f),onPointerDown:m=>{n.onPointerDown?.(m),d.current=!0},onPointerUp:it(n.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:it(n.onKeyDown,m=>{const p=a.searchRef.current!=="";t||p&&m.key===" "||lT.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});L1.displayName=J0;var n8=C.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:r,...s}=n,o=Z2(J0,t),a=Z7(t),l=C.useRef(null),d=mn(e,l),[f,m]=C.useState(!1),[p,w]=C.useState("");return C.useEffect(()=>{const A=l.current;A&&w((A.textContent??"").trim())},[s.children]),y.jsx(qb.ItemSlot,{scope:t,disabled:i,textValue:r??p,children:y.jsx(Cce,{asChild:!0,...a,focusable:!i,children:y.jsx(Rt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:d,onPointerMove:it(n.onPointerMove,Zb(A=>{i?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(n.onPointerLeave,Zb(A=>o.onItemLeave(A))),onFocus:it(n.onFocus,()=>m(!0)),onBlur:it(n.onBlur,()=>m(!1))})})})}),Eue="MenuCheckboxItem",i8=C.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...r}=n;return y.jsx(l8,{scope:n.__scopeMenu,checked:t,children:y.jsx(L1,{role:"menuitemcheckbox","aria-checked":X0(t)?"mixed":t,...r,ref:e,"data-state":eP(t),onSelect:it(r.onSelect,()=>i?.(X0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});i8.displayName=Eue;var r8="MenuRadioGroup",[Tue,Iue]=kf(r8,{value:void 0,onValueChange:()=>{}}),s8=C.forwardRef((n,e)=>{const{value:t,onValueChange:i,...r}=n,s=Vo(i);return y.jsx(Tue,{scope:n.__scopeMenu,value:t,onValueChange:s,children:y.jsx(J2,{...r,ref:e})})});s8.displayName=r8;var o8="MenuRadioItem",a8=C.forwardRef((n,e)=>{const{value:t,...i}=n,r=Iue(o8,n.__scopeMenu),s=t===r.value;return y.jsx(l8,{scope:n.__scopeMenu,checked:s,children:y.jsx(L1,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":eP(s),onSelect:it(i.onSelect,()=>r.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});a8.displayName=o8;var X2="MenuItemIndicator",[l8,Pue]=kf(X2,{checked:!1}),c8=C.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...r}=n,s=Pue(X2,t);return y.jsx(Za,{present:i||X0(s.checked)||s.checked===!0,children:y.jsx(Rt.span,{...r,ref:e,"data-state":eP(s.checked)})})});c8.displayName=X2;var Rue="MenuSeparator",u8=C.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return y.jsx(Rt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});u8.displayName=Rue;var Oue="MenuArrow",d8=C.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=V1(t);return y.jsx(G2,{...r,...i,ref:e})});d8.displayName=Oue;var Due="MenuSub",[_Ue,f8]=kf(Due),lb="MenuSubTrigger",h8=C.forwardRef((n,e)=>{const t=xf(lb,n.__scopeMenu),i=Hv(lb,n.__scopeMenu),r=f8(lb,n.__scopeMenu),s=Z2(lb,n.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,d={__scopeMenu:n.__scopeMenu},f=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const m=a.current;return()=>{window.clearTimeout(m),l(null)}},[a,l]),y.jsx(K2,{asChild:!0,...d,children:y.jsx(n8,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":p8(t.open),...n,ref:m1(e,r.onTriggerChange),onClick:m=>{n.onClick?.(m),!(n.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:it(n.onPointerMove,Zb(m=>{s.onItemEnter(m),!m.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:it(n.onPointerLeave,Zb(m=>{f();const p=t.content?.getBoundingClientRect();if(p){const w=t.content?.dataset.side,A=w==="right",x=A?-5:5,S=p[A?"left":"right"],P=p[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:S,y:p.top},{x:P,y:p.top},{x:P,y:p.bottom},{x:S,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:it(n.onKeyDown,m=>{const p=s.searchRef.current!=="";n.disabled||p&&m.key===" "||hue[i.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});h8.displayName=lb;var m8="MenuSubContent",g8=C.forwardRef((n,e)=>{const t=J7(Js,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=xf(Js,n.__scopeMenu),o=Hv(Js,n.__scopeMenu),a=f8(m8,n.__scopeMenu),l=C.useRef(null),d=mn(e,l);return y.jsx(qb.Provider,{scope:n.__scopeMenu,children:y.jsx(Za,{present:i||s.open,children:y.jsx(qb.Slot,{scope:n.__scopeMenu,children:y.jsx(Q2,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&l.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:it(n.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:it(n.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:it(n.onKeyDown,f=>{const m=f.currentTarget.contains(f.target),p=mue[o.dir].includes(f.key);m&&p&&(s.onOpenChange(!1),a.trigger?.focus(),f.preventDefault())})})})})})});g8.displayName=m8;function p8(n){return n?"open":"closed"}function X0(n){return n==="indeterminate"}function eP(n){return X0(n)?"indeterminate":n?"checked":"unchecked"}function Nue(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Mue(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function Bue(n,e,t){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=Mue(n,Math.max(s,0));r.length===1&&(o=o.filter(d=>d!==t));const l=o.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function Vue(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],d=a.x,f=a.y,m=l.x,p=l.y;f>i!=p>i&&t<(m-d)*(i-f)/(p-f)+d&&(r=!r)}return r}function Lue(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Vue(t,e)}function Zb(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Fue=Q7,zue=K2,jue=X7,Uue=e8,$ue=J2,Hue=t8,Wue=L1,Gue=i8,Yue=s8,Kue=a8,que=c8,Zue=u8,Que=d8,Jue=h8,Xue=g8,F1="DropdownMenu",[ede,AUe]=wc(F1,[q7]),jr=q7(),[tde,b8]=ede(F1),v8=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=jr(e),d=C.useRef(null),[f,m]=xm({prop:r,defaultProp:s??!1,onChange:o,caller:F1});return y.jsx(tde,{scope:e,triggerId:Ia(),triggerRef:d,contentId:Ia(),open:f,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(p=>!p),[m]),modal:a,children:y.jsx(Fue,{...l,open:f,onOpenChange:m,dir:i,modal:a,children:t})})};v8.displayName=F1;var w8="DropdownMenuTrigger",y8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...r}=n,s=b8(w8,t),o=jr(t);return y.jsx(zue,{asChild:!0,...o,children:y.jsx(Rt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:m1(e,s.triggerRef),onPointerDown:it(n.onPointerDown,a=>{!i&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:it(n.onKeyDown,a=>{i||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});y8.displayName=w8;var nde="DropdownMenuPortal",_8=n=>{const{__scopeDropdownMenu:e,...t}=n,i=jr(e);return y.jsx(jue,{...i,...t})};_8.displayName=nde;var A8="DropdownMenuContent",k8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=b8(A8,t),s=jr(t),o=C.useRef(!1);return y.jsx(Uue,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:it(n.onCloseAutoFocus,a=>{o.current||r.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:it(n.onInteractOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,f=l.button===2||d;(!r.modal||f)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k8.displayName=A8;var ide="DropdownMenuGroup",rde=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx($ue,{...r,...i,ref:e})});rde.displayName=ide;var sde="DropdownMenuLabel",x8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Hue,{...r,...i,ref:e})});x8.displayName=sde;var ode="DropdownMenuItem",C8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Wue,{...r,...i,ref:e})});C8.displayName=ode;var ade="DropdownMenuCheckboxItem",S8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Gue,{...r,...i,ref:e})});S8.displayName=ade;var lde="DropdownMenuRadioGroup",cde=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Yue,{...r,...i,ref:e})});cde.displayName=lde;var ude="DropdownMenuRadioItem",E8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Kue,{...r,...i,ref:e})});E8.displayName=ude;var dde="DropdownMenuItemIndicator",T8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(que,{...r,...i,ref:e})});T8.displayName=dde;var fde="DropdownMenuSeparator",I8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Zue,{...r,...i,ref:e})});I8.displayName=fde;var hde="DropdownMenuArrow",mde=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Que,{...r,...i,ref:e})});mde.displayName=hde;var gde="DropdownMenuSubTrigger",P8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Jue,{...r,...i,ref:e})});P8.displayName=gde;var pde="DropdownMenuSubContent",R8=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=jr(t);return y.jsx(Xue,{...r,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R8.displayName=pde;var bde=v8,vde=y8,wde=_8,O8=k8,D8=x8,N8=C8,M8=S8,B8=E8,V8=T8,L8=I8,F8=P8,z8=R8;/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_de=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),yM=n=>{const e=_de(n);return e.charAt(0).toUpperCase()+e.slice(1)},j8=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Ade=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...kde,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:j8("lucide",r),...!s&&!Ade(a)&&{"aria-hidden":"true"},...a},[...o.map(([d,f])=>C.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=(n,e)=>{const t=C.forwardRef(({className:i,...r},s)=>C.createElement(xde,{ref:s,iconNode:e,className:j8(`lucide-${yde(yM(n))}`,`lucide-${n}`,i),...r}));return t.displayName=yM(n),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U8=Ac("check",Cde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$8=Ac("chevron-down",Sde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tde=Ac("chevron-right",Ede);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Pde=Ac("chevron-up",Ide);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ode=Ac("circle",Rde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Nde=Ac("menu",Dde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Bde=Ac("panel-left",Mde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lde=Ac("search",Vde);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zde=Ac("x",Fde),jde=bde,Ude=vde,$de=C.forwardRef(({className:n,inset:e,children:t,...i},r)=>y.jsxs(F8,{ref:r,className:Ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...i,children:[t,y.jsx(Tde,{className:"ml-auto"})]}));$de.displayName=F8.displayName;const Hde=C.forwardRef(({className:n,...e},t)=>y.jsx(z8,{ref:t,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e}));Hde.displayName=z8.displayName;const H8=C.forwardRef(({className:n,sideOffset:e=4,...t},i)=>y.jsx(wde,{children:y.jsx(O8,{ref:i,sideOffset:e,className:Ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t})}));H8.displayName=O8.displayName;const h0=C.forwardRef(({className:n,inset:e,...t},i)=>y.jsx(N8,{ref:i,className:Ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));h0.displayName=N8.displayName;const Wde=C.forwardRef(({className:n,children:e,checked:t,...i},r)=>y.jsxs(M8,{ref:r,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...i,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(V8,{children:y.jsx(U8,{className:"h-4 w-4"})})}),e]}));Wde.displayName=M8.displayName;const Gde=C.forwardRef(({className:n,children:e,...t},i)=>y.jsxs(B8,{ref:i,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(V8,{children:y.jsx(Ode,{className:"h-2 w-2 fill-current"})})}),e]}));Gde.displayName=B8.displayName;const W8=C.forwardRef(({className:n,inset:e,...t},i)=>y.jsx(D8,{ref:i,className:Ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));W8.displayName=D8.displayName;const G8=C.forwardRef(({className:n,...e},t)=>y.jsx(L8,{ref:t,className:Ye("-mx-1 my-1 h-px bg-muted",n),...e}));G8.displayName=L8.displayName;const eA="/assets/user-BPxRNWvj.png";function Yde(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V168a40 40 0 0 1 40-40h167.48"},child:[]},{tag:"path",attr:{d:"M459.94 53.25a16.06 16.06 0 0 0-23.22-.56L424.35 65a8 8 0 0 0 0 11.31l11.34 11.32a8 8 0 0 0 11.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90 218.82 270.2a9 9 0 0 0-2.31 3.93L208.16 299a3.91 3.91 0 0 0 4.86 4.86l24.85-8.35a9 9 0 0 0 3.93-2.31L422 112.66a9 9 0 0 0 0-12.66l-9.95-10a9 9 0 0 0-12.71 0z"},child:[]}]})(n)}function Kde(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4-4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V5z"},child:[]}]})(n)}function qde(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"},child:[]}]})(n)}function Zde(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Zde(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Wv=n=>typeof n=="number"&&!isNaN(n),nf=n=>typeof n=="string",lc=n=>typeof n=="function",Qde=n=>nf(n)||Wv(n),cT=n=>nf(n)||lc(n)?n:null,Jde=(n,e)=>n===!1||Wv(n)&&n>0?n:e,uT=n=>C.isValidElement(n)||nf(n)||lc(n)||Wv(n);function Xde(n,e,t=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function efe({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:d,isIn:f,playToast:m}){let p=t?`${n}--${o}`:n,w=t?`${e}--${o}`:e,A=C.useRef(0);return C.useLayoutEffect(()=>{let x=d.current,S=p.split(" "),P=I=>{I.target===d.current&&(m(),x.removeEventListener("animationend",P),x.removeEventListener("animationcancel",P),A.current===0&&I.type!=="animationcancel"&&x.classList.remove(...S))};x.classList.add(...S),x.addEventListener("animationend",P),x.addEventListener("animationcancel",P)},[]),C.useEffect(()=>{let x=d.current,S=()=>{x.removeEventListener("animationend",S),i?Xde(x,l,r):l()};f||(a?S():(A.current=1,x.className+=` ${w}`,x.addEventListener("animationend",S)))},[f]),Ue.createElement(Ue.Fragment,null,s)}}function _M(n,e){return{content:Y8(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Y8(n,e,t=!1){return C.isValidElement(n)&&!nf(n.type)?C.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):lc(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function tfe({closeToast:n,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nfe({delay:n,isRunning:e,closeToast:t,type:i="default",hide:r,className:s,controlledProgress:o,progress:a,rtl:l,isIn:d,theme:f}){let m=r||o&&a===0,p={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let w=Zl("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),A=lc(s)?s({rtl:l,type:i,defaultClassName:w}):Zl(w,s),x={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{d&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:A,style:p,...x}))}var ife=1,K8=()=>`${ife++}`;function rfe(n,e,t){let i=1,r=0,s=[],o=[],a=e,l=new Map,d=new Set,f=I=>(d.add(I),()=>d.delete(I)),m=()=>{o=Array.from(l.values()),d.forEach(I=>I())},p=({containerId:I,toastId:O,updateId:M})=>{let B=I?I!==n:n!==1,W=l.has(O)&&M==null;return B||W},w=(I,O)=>{l.forEach(M=>{var B;(O==null||O===M.props.toastId)&&((B=M.toggle)==null||B.call(M,I))})},A=I=>{var O,M;(M=(O=I.props)==null?void 0:O.onClose)==null||M.call(O,I.removalReason),I.isActive=!1},x=I=>{if(I==null)l.forEach(A);else{let O=l.get(I);O&&A(O)}m()},S=()=>{r-=s.length,s=[]},P=I=>{var O,M;let{toastId:B,updateId:W}=I.props,$=W==null;I.staleId&&l.delete(I.staleId),I.isActive=!0,l.set(B,I),m(),t(_M(I,$?"added":"updated")),$&&((M=(O=I.props).onOpen)==null||M.call(O))};return{id:n,props:a,observe:f,toggle:w,removeToast:x,toasts:l,clearQueue:S,buildToast:(I,O)=>{if(p(O))return;let{toastId:M,updateId:B,data:W,staleId:$,delay:L}=O,ee=B==null;ee&&r++;let pe={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(O).filter(([ge,Ee])=>Ee!=null)),toastId:M,updateId:B,data:W,isIn:!1,className:cT(O.className||a.toastClassName),progressClassName:cT(O.progressClassName||a.progressClassName),autoClose:O.isLoading?!1:Jde(O.autoClose,a.autoClose),closeToast(ge){l.get(M).removalReason=ge,x(M)},deleteToast(){let ge=l.get(M);if(ge!=null){if(t(_M(ge,"removed")),l.delete(M),r--,r<0&&(r=0),s.length>0){P(s.shift());return}m()}}};pe.closeButton=a.closeButton,O.closeButton===!1||uT(O.closeButton)?pe.closeButton=O.closeButton:O.closeButton===!0&&(pe.closeButton=uT(a.closeButton)?a.closeButton:!0);let Se={content:I,props:pe,staleId:$};a.limit&&a.limit>0&&r>a.limit&&ee?s.push(Se):Wv(L)?setTimeout(()=>{P(Se)},L):P(Se)},setProps(I){a=I},setToggle:(I,O)=>{let M=l.get(I);M&&(M.toggle=O)},isToastActive:I=>{var O;return(O=l.get(I))==null?void 0:O.isActive},getSnapshot:()=>o}}var Or=new Map,Qb=[],dT=new Set,sfe=n=>dT.forEach(e=>e(n)),q8=()=>Or.size>0;function ofe(){Qb.forEach(n=>Q8(n.content,n.options)),Qb=[]}var afe=(n,{containerId:e})=>{var t;return(t=Or.get(e||1))==null?void 0:t.toasts.get(n)};function Z8(n,e){var t;if(e)return!!((t=Or.get(e))!=null&&t.isToastActive(n));let i=!1;return Or.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function lfe(n){if(!q8()){Qb=Qb.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Qde(n))Or.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Or.get(n.containerId);e?e.removeToast(n.id):Or.forEach(t=>{t.removeToast(n.id)})}}var cfe=(n={})=>{Or.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Q8(n,e){uT(n)&&(q8()||Qb.push({content:n,options:e}),Or.forEach(t=>{t.buildToast(n,e)}))}function ufe(n){var e;(e=Or.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function J8(n,e){Or.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function dfe(n){let e=n.containerId||1;return{subscribe(t){let i=rfe(e,n,sfe);Or.set(e,i);let r=i.observe(t);return ofe(),()=>{r(),Or.delete(e)}},setProps(t){var i;(i=Or.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Or.get(e))==null?void 0:t.getSnapshot()}}}function ffe(n){return dT.add(n),()=>{dT.delete(n)}}function hfe(n){return n&&(nf(n.toastId)||Wv(n.toastId))?n.toastId:K8()}function Gv(n,e){return Q8(n,e),e.toastId}function z1(n,e){return{...e,type:e&&e.type||n,toastId:hfe(e)}}function j1(n){return(e,t)=>Gv(e,z1(n,t))}function Wt(n,e){return Gv(n,z1("default",e))}Wt.loading=(n,e)=>Gv(n,z1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function mfe(n,{pending:e,error:t,success:i},r){let s;e&&(s=nf(e)?Wt.loading(e,r):Wt.loading(e.render,{...r,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(d,f,m)=>{if(f==null){Wt.dismiss(s);return}let p={type:d,...o,...r,data:m},w=nf(f)?{render:f}:f;return s?Wt.update(s,{...p,...w}):Wt(w.render,{...p,...w}),m},l=lc(n)?n():n;return l.then(d=>a("success",i,d)).catch(d=>a("error",t,d)),l}Wt.promise=mfe;Wt.success=j1("success");Wt.info=j1("info");Wt.error=j1("error");Wt.warning=j1("warning");Wt.warn=Wt.warning;Wt.dark=(n,e)=>Gv(n,z1("default",{theme:"dark",...e}));function gfe(n){lfe(n)}Wt.dismiss=gfe;Wt.clearWaitingQueue=cfe;Wt.isActive=Z8;Wt.update=(n,e={})=>{let t=afe(n,e);if(t){let{props:i,content:r}=t,s={delay:100,...i,...e,toastId:e.toastId||n,updateId:K8()};s.toastId!==n&&(s.staleId=n);let o=s.render||r;delete s.render,Gv(o,s)}};Wt.done=n=>{Wt.update(n,{progress:1})};Wt.onChange=ffe;Wt.play=n=>J8(!0,n);Wt.pause=n=>J8(!1,n);function pfe(n){var e;let{subscribe:t,getSnapshot:i,setProps:r}=C.useRef(dfe(n)).current;r(n);let s=(e=C.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return n.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:f}=d.props;l.has(f)||l.set(f,[]),l.get(f).push(d)}),Array.from(l,d=>a(d[0],d[1]))}return{getToastToRender:o,isToastActive:Z8,count:s?.length}}function bfe(n){let[e,t]=C.useState(!1),[i,r]=C.useState(!1),s=C.useRef(null),o=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:d,onClick:f,closeOnClick:m}=n;ufe({id:n.toastId,containerId:n.containerId,fn:t}),C.useEffect(()=>{if(n.pauseOnFocusLoss)return p(),()=>{w()}},[n.pauseOnFocusLoss]);function p(){document.hasFocus()||P(),window.addEventListener("focus",S),window.addEventListener("blur",P)}function w(){window.removeEventListener("focus",S),window.removeEventListener("blur",P)}function A($){if(n.draggable===!0||n.draggable===$.pointerType){I();let L=s.current;o.canCloseOnClick=!0,o.canDrag=!0,L.style.transition="none",n.draggableDirection==="x"?(o.start=$.clientX,o.removalDistance=L.offsetWidth*(n.draggablePercent/100)):(o.start=$.clientY,o.removalDistance=L.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function x($){let{top:L,bottom:ee,left:pe,right:Se}=s.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&n.pauseOnHover&&$.clientX>=pe&&$.clientX<=Se&&$.clientY>=L&&$.clientY<=ee?P():S()}function S(){t(!0)}function P(){t(!1)}function I(){o.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",B)}function O(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B)}function M($){let L=s.current;if(o.canDrag&&L){o.didMove=!0,e&&P(),n.draggableDirection==="x"?o.delta=$.clientX-o.start:o.delta=$.clientY-o.start,o.start!==$.clientX&&(o.canCloseOnClick=!1);let ee=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;L.style.transform=`translate3d(${ee},0)`,L.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function B(){O();let $=s.current;if(o.canDrag&&o.didMove&&$){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let W={onPointerDown:A,onPointerUp:x};return a&&l&&(W.onMouseEnter=P,n.stacked||(W.onMouseLeave=S)),m&&(W.onClick=$=>{f&&f($),o.canCloseOnClick&&d(!0)}),{playToast:S,pauseToast:P,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:W}}var vfe=typeof window<"u"?C.useLayoutEffect:C.useEffect,U1=({theme:n,type:e,isLoading:t,...i})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function wfe(n){return Ue.createElement(U1,{...n},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function yfe(n){return Ue.createElement(U1,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function _fe(n){return Ue.createElement(U1,{...n},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Afe(n){return Ue.createElement(U1,{...n},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kfe(){return Ue.createElement("div",{className:"Toastify__spinner"})}var fT={info:yfe,warning:wfe,success:_fe,error:Afe,spinner:kfe},xfe=n=>n in fT;function Cfe({theme:n,type:e,isLoading:t,icon:i}){let r=null,s={theme:n,type:e};return i===!1||(lc(i)?r=i({...s,isLoading:t}):C.isValidElement(i)?r=C.cloneElement(i,s):t?r=fT.spinner():xfe(e)&&(r=fT[e](s))),r}var Sfe=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:s}=bfe(n),{closeButton:o,children:a,autoClose:l,onClick:d,type:f,hideProgressBar:m,closeToast:p,transition:w,position:A,className:x,style:S,progressClassName:P,updateId:I,role:O,progress:M,rtl:B,toastId:W,deleteToast:$,isIn:L,isLoading:ee,closeOnClick:pe,theme:Se,ariaLabel:ge}=n,Ee=Zl("Toastify__toast",`Toastify__toast-theme--${Se}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":pe}),Te=lc(x)?x({rtl:B,position:A,type:f,defaultClassName:Ee}):Zl(Ee,x),Be=Cfe(n),Y=!!M||!l,de={closeToast:p,type:f,theme:Se},Q=null;return o===!1||(lc(o)?Q=o(de):C.isValidElement(o)?Q=C.cloneElement(o,de):Q=tfe(de)),Ue.createElement(w,{isIn:L,done:$,position:A,preventExitTransition:t,nodeRef:i,playToast:s},Ue.createElement("div",{id:W,tabIndex:0,onClick:d,"data-in":L,className:Te,...r,style:S,ref:i,...L&&{role:O,"aria-label":ge}},Be!=null&&Ue.createElement("div",{className:Zl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ee})},Be),Y8(a,n,!e),Q,!n.customProgressBar&&Ue.createElement(nfe,{...I&&!Y?{key:`p-${I}`}:{},rtl:B,theme:Se,delay:l,isRunning:e,isIn:L,closeToast:p,hide:m,type:f,className:P,controlledProgress:Y,progress:M||0})))},Efe=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Tfe=efe(Efe("bounce",!0)),Ife={position:"top-right",transition:Tfe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Pfe(n){let e={...Ife,...n},t=n.stacked,[i,r]=C.useState(!0),s=C.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=pfe(e),{className:d,style:f,rtl:m,containerId:p,hotKeys:w}=e;function A(S){let P=Zl("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":m});return lc(d)?d({position:S,rtl:m,defaultClassName:P}):Zl(P,cT(d))}function x(){t&&(r(!0),Wt.play())}return vfe(()=>{var S;if(t){let P=s.current.querySelectorAll('[data-in="true"]'),I=12,O=(S=e.position)==null?void 0:S.includes("top"),M=0,B=0;Array.from(P).reverse().forEach((W,$)=>{let L=W;L.classList.add("Toastify__toast--stacked"),$>0&&(L.dataset.collapsed=`${i}`),L.dataset.pos||(L.dataset.pos=O?"top":"bot");let ee=M*(i?.2:1)+(i?0:I*$);L.style.setProperty("--y",`${O?ee:ee*-1}px`),L.style.setProperty("--g",`${I}`),L.style.setProperty("--s",`${1-(i?B:0)}`),M+=L.offsetHeight,B+=.025})}},[i,l,t]),C.useEffect(()=>{function S(P){var I;let O=s.current;w(P)&&((I=O.querySelector('[tabIndex="0"]'))==null||I.focus(),r(!1),Wt.pause()),P.key==="Escape"&&(document.activeElement===O||O!=null&&O.contains(document.activeElement))&&(r(!0),Wt.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[w]),Ue.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{t&&(r(!1),Wt.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((S,P)=>{let I=P.length?{...f}:{...f,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:A(S),"data-stacked":t,style:I,key:`c-${S}`},P.map(({content:O,props:M})=>Ue.createElement(Sfe,{...M,stacked:t,collapseAll:x,isIn:a(M.toastId,M.containerId),key:`t-${M.key}`},O)))}))}const Pt=(n,e)=>{const t={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"};return n==="success"?Wt.success(e,t):n==="error"?Wt.error(e,t):n==="info"?Wt.info(e,t):n==="warning"?Wt.warning(e,t):Wt(e,t)};function ar(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Rfe=typeof Symbol=="function"&&Symbol.observable||"@@observable",AM=Rfe,wS=()=>Math.random().toString(36).substring(7).split("").join("."),Ofe={INIT:`@@redux/INIT${wS()}`,REPLACE:`@@redux/REPLACE${wS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wS()}`},tA=Ofe;function tP(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function nP(n,e,t){if(typeof n!="function")throw new Error(ar(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ar(1));return t(nP)(n,e)}let i=n,r=e,s=new Map,o=s,a=0,l=!1;function d(){o===s&&(o=new Map,s.forEach((S,P)=>{o.set(P,S)}))}function f(){if(l)throw new Error(ar(3));return r}function m(S){if(typeof S!="function")throw new Error(ar(4));if(l)throw new Error(ar(5));let P=!0;d();const I=a++;return o.set(I,S),function(){if(P){if(l)throw new Error(ar(6));P=!1,d(),o.delete(I),s=null}}}function p(S){if(!tP(S))throw new Error(ar(7));if(typeof S.type>"u")throw new Error(ar(8));if(typeof S.type!="string")throw new Error(ar(17));if(l)throw new Error(ar(9));try{l=!0,r=i(r,S)}finally{l=!1}return(s=o).forEach(I=>{I()}),S}function w(S){if(typeof S!="function")throw new Error(ar(10));i=S,p({type:tA.REPLACE})}function A(){const S=m;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(ar(11));function I(){const M=P;M.next&&M.next(f())}return I(),{unsubscribe:S(I)}},[AM](){return this}}}return p({type:tA.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:w,[AM]:A}}function Dfe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:tA.INIT})>"u")throw new Error(ar(12));if(typeof t(void 0,{type:tA.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function X8(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const i=Object.keys(t);let r;try{Dfe(t)}catch(s){r=s}return function(o={},a){if(r)throw r;let l=!1;const d={};for(let f=0;f<i.length;f++){const m=i[f],p=t[m],w=o[m],A=p(w,a);if(typeof A>"u")throw a&&a.type,new Error(ar(14));d[m]=A,l=l||A!==w}return l=l||i.length!==Object.keys(o).length,l?d:o}}function nA(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function Nfe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(ar(15))};const o={getState:r.getState,dispatch:(l,...d)=>s(l,...d)},a=n.map(l=>l(o));return s=nA(...a)(r.dispatch),{...r,dispatch:s}}}function Mfe(n){return tP(n)&&"type"in n&&typeof n.type=="string"}var ej=Symbol.for("immer-nothing"),kM=Symbol.for("immer-draftable"),Ts=Symbol.for("immer-state");function So(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Sm=Object.getPrototypeOf;function rf(n){return!!n&&!!n[Ts]}function cc(n){return n?tj(n)||Array.isArray(n)||!!n[kM]||!!n.constructor?.[kM]||H1(n)||W1(n):!1}var Bfe=Object.prototype.constructor.toString();function tj(n){if(!n||typeof n!="object")return!1;const e=Sm(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Bfe}function iA(n,e){$1(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function $1(n){const e=n[Ts];return e?e.type_:Array.isArray(n)?1:H1(n)?2:W1(n)?3:0}function hT(n,e){return $1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nj(n,e,t){const i=$1(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function Vfe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function H1(n){return n instanceof Map}function W1(n){return n instanceof Set}function Od(n){return n.copy_||n.base_}function mT(n,e){if(H1(n))return new Map(n);if(W1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=tj(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Ts];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Sm(n),i)}else{const i=Sm(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function iP(n,e=!1){return G1(n)||rf(n)||!cc(n)||($1(n)>1&&(n.set=n.add=n.clear=n.delete=Lfe),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>iP(i,!0))),n}function Lfe(){So(2)}function G1(n){return Object.isFrozen(n)}var Ffe={};function sf(n){const e=Ffe[n];return e||So(0,n),e}var Jb;function ij(){return Jb}function zfe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xM(n,e){e&&(sf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function gT(n){pT(n),n.drafts_.forEach(jfe),n.drafts_=null}function pT(n){n===Jb&&(Jb=n.parent_)}function CM(n){return Jb=zfe(Jb,n)}function jfe(n){const e=n[Ts];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function SM(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ts].modified_&&(gT(e),So(4)),cc(n)&&(n=rA(e,n),e.parent_||sA(e,n)),e.patches_&&sf("Patches").generateReplacementPatches_(t[Ts].base_,n,e.patches_,e.inversePatches_)):n=rA(e,t,[]),gT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==ej?n:void 0}function rA(n,e,t){if(G1(e))return e;const i=e[Ts];if(!i)return iA(e,(r,s)=>EM(n,i,e,r,s,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return sA(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),iA(s,(a,l)=>EM(n,i,r,a,l,t,o)),sA(n,r,!1),t&&n.patches_&&sf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function EM(n,e,t,i,r,s,o){if(rf(r)){const a=s&&e&&e.type_!==3&&!hT(e.assigned_,i)?s.concat(i):void 0,l=rA(n,r,a);if(nj(t,i,l),rf(l))n.canAutoFreeze_=!1;else return}else o&&t.add(r);if(cc(r)&&!G1(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;rA(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&sA(n,r)}}function sA(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&iP(e,t)}function Ufe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:ij(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=rP;t&&(r=[i],s=Xb);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}var rP={get(n,e){if(e===Ts)return n;const t=Od(n);if(!hT(t,e))return $fe(n,t,e);const i=t[e];return n.finalized_||!cc(i)?i:i===yS(n.base_,e)?(_S(n),n.copy_[e]=vT(i,n)):i},has(n,e){return e in Od(n)},ownKeys(n){return Reflect.ownKeys(Od(n))},set(n,e,t){const i=rj(Od(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=yS(Od(n),e),s=r?.[Ts];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Vfe(t,r)&&(t!==void 0||hT(n.base_,e)))return!0;_S(n),bT(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return yS(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,_S(n),bT(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Od(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){So(11)},getPrototypeOf(n){return Sm(n.base_)},setPrototypeOf(){So(12)}},Xb={};iA(rP,(n,e)=>{Xb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xb.deleteProperty=function(n,e){return Xb.set.call(this,n,e,void 0)};Xb.set=function(n,e,t){return rP.set.call(this,n[0],e,t,n[0])};function yS(n,e){const t=n[Ts];return(t?Od(t):n)[e]}function $fe(n,e,t){const i=rj(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function rj(n,e){if(!(e in n))return;let t=Sm(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Sm(t)}}function bT(n){n.modified_||(n.modified_=!0,n.parent_&&bT(n.parent_))}function _S(n){n.copy_||(n.copy_=mT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Hfe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...d){return o.produce(l,f=>t.call(this,f,...d))}}typeof t!="function"&&So(6),i!==void 0&&typeof i!="function"&&So(7);let r;if(cc(e)){const s=CM(this),o=vT(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?gT(s):pT(s)}return xM(s,i),SM(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===ej&&(r=void 0),this.autoFreeze_&&iP(r,!0),i){const s=[],o=[];sf("Patches").generateReplacementPatches_(e,r,s,o),i(s,o)}return r}else So(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let i,r;return[this.produce(e,t,(o,a)=>{i=o,r=a}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){cc(n)||So(8),rf(n)&&(n=Wfe(n));const e=CM(this),t=vT(n,void 0);return t[Ts].isManual_=!0,pT(e),t}finishDraft(n,e){const t=n&&n[Ts];(!t||!t.isManual_)&&So(9);const{scope_:i}=t;return xM(i,e),SM(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=sf("Patches").applyPatches_;return rf(n)?i(n,e):this.produce(n,r=>i(r,e))}};function vT(n,e){const t=H1(n)?sf("MapSet").proxyMap_(n,e):W1(n)?sf("MapSet").proxySet_(n,e):Ufe(n,e);return(e?e.scope_:ij()).drafts_.push(t),t}function Wfe(n){return rf(n)||So(10,n),sj(n)}function sj(n){if(!cc(n)||G1(n))return n;const e=n[Ts];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=mT(n,e.scope_.immer_.useStrictShallowCopy_)}else t=mT(n,!0);return iA(t,(i,r)=>{nj(t,i,sj(r))}),e&&(e.finalized_=!1),t}var Is=new Hfe,oj=Is.produce;Is.produceWithPatches.bind(Is);Is.setAutoFreeze.bind(Is);Is.setUseStrictShallowCopy.bind(Is);Is.applyPatches.bind(Is);Is.createDraft.bind(Is);Is.finishDraft.bind(Is);function aj(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var Gfe=aj(),Yfe=aj,Kfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nA:nA.apply(null,arguments)};function TM(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Xl(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>Mfe(i)&&i.type===n,t}var lj=class cb extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,cb.prototype)}static get[Symbol.species](){return cb}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new cb(...e[0].concat(this)):new cb(...e.concat(this))}};function IM(n){return cc(n)?oj(n,()=>{}):n}function k_(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function qfe(n){return typeof n=="boolean"}var Zfe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let o=new lj;return t&&(qfe(t)?o.push(Gfe):o.push(Yfe(t.extraArgument))),o},Qfe="RTK_autoBatch",PM=n=>e=>{setTimeout(e,n)},Jfe=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PM(10):n.type==="callback"?n.queueNotification:PM(n.timeout),d=()=>{o=!1,s&&(s=!1,a.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const m=()=>r&&f(),p=i.subscribe(m);return a.add(f),()=>{p(),a.delete(f)}},dispatch(f){try{return r=!f?.meta?.[Qfe],s=!r,s&&(o||(o=!0,l(d))),i.dispatch(f)}finally{r=!0}}})},Xfe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new lj(n);return i&&r.push(Jfe(typeof i=="object"?i:void 0)),r};function ehe(n){const e=Zfe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(tP(t))a=X8(t);else throw new Error(Xl(1));let l;typeof i=="function"?l=i(e):l=e();let d=nA;r&&(d=Kfe({trace:!1,...typeof r=="object"&&r}));const f=Nfe(...l),m=Xfe(f);let p=typeof o=="function"?o(m):m();const w=d(...p);return nP(a,s,w)}function cj(n){const e={},t=[];let i;const r={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Xl(28));if(a in e)throw new Error(Xl(29));return e[a]=o,r},addMatcher(s,o){return t.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function the(n){return typeof n=="function"}function nhe(n,e){let[t,i,r]=cj(e),s;if(the(n))s=()=>IM(n());else{const a=IM(n);s=()=>a}function o(a=s(),l){let d=[t[l.type],...i.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[r]),d.reduce((f,m)=>{if(m)if(rf(f)){const w=m(f,l);return w===void 0?f:w}else{if(cc(f))return oj(f,p=>m(p,l));{const p=m(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},a)}return o.getInitialState=s,o}var ihe=Symbol.for("rtk-slice-createasyncthunk");function rhe(n,e){return`${n}/${e}`}function she({creators:n}={}){const e=n?.asyncThunk?.[ihe];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(Xl(11));const o=(typeof i.reducers=="function"?i.reducers(ahe()):i.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,M){const B=typeof O=="string"?O:O.type;if(!B)throw new Error(Xl(12));if(B in l.sliceCaseReducersByType)throw new Error(Xl(13));return l.sliceCaseReducersByType[B]=M,d},addMatcher(O,M){return l.sliceMatchers.push({matcher:O,reducer:M}),d},exposeAction(O,M){return l.actionCreators[O]=M,d},exposeCaseReducer(O,M){return l.sliceCaseReducersByName[O]=M,d}};a.forEach(O=>{const M=o[O],B={reducerName:O,type:rhe(r,O),createNotation:typeof i.reducers=="function"};che(M)?dhe(B,M,d,e):lhe(B,M,d)});function f(){const[O={},M=[],B=void 0]=typeof i.extraReducers=="function"?cj(i.extraReducers):[i.extraReducers],W={...O,...l.sliceCaseReducersByType};return nhe(i.initialState,$=>{for(let L in W)$.addCase(L,W[L]);for(let L of l.sliceMatchers)$.addMatcher(L.matcher,L.reducer);for(let L of M)$.addMatcher(L.matcher,L.reducer);B&&$.addDefaultCase(B)})}const m=O=>O,p=new Map,w=new WeakMap;let A;function x(O,M){return A||(A=f()),A(O,M)}function S(){return A||(A=f()),A.getInitialState()}function P(O,M=!1){function B($){let L=$[O];return typeof L>"u"&&M&&(L=k_(w,B,S)),L}function W($=m){const L=k_(p,M,()=>new WeakMap);return k_(L,$,()=>{const ee={};for(const[pe,Se]of Object.entries(i.selectors??{}))ee[pe]=ohe(Se,$,()=>k_(w,$,S),M);return ee})}return{reducerPath:O,getSelectors:W,get selectors(){return W(B)},selectSlice:B}}const I={name:r,reducer:x,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:S,...P(s),injectInto(O,{reducerPath:M,...B}={}){const W=M??s;return O.inject({reducerPath:W,reducer:x},B),{...I,...P(W,!0)}}};return I}}function ohe(n,e,t,i){function r(s,...o){let a=e(s);return typeof a>"u"&&i&&(a=t()),n(a,...o)}return r.unwrapped=n,r}var uj=she();function ahe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function lhe({type:n,reducerName:e,createNotation:t},i,r){let s,o;if("reducer"in i){if(t&&!uhe(i))throw new Error(Xl(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?TM(n,o):TM(n))}function che(n){return n._reducerDefinitionType==="asyncThunk"}function uhe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function dhe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Xl(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:d,options:f}=t,m=r(n,s,f);i.exposeAction(e,m),o&&i.addCase(m.fulfilled,o),a&&i.addCase(m.pending,a),l&&i.addCase(m.rejected,l),d&&i.addMatcher(m.settled,d),i.exposeCaseReducer(e,{fulfilled:o||x_,pending:a||x_,rejected:l||x_,settled:d||x_})}function x_(){}function Xl(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const fhe={status:!1,userData:{name:""}},dj=uj({name:"user",initialState:fhe,reducers:{setUser:(n,e)=>{n.status=!0,n.userData=e.payload},removeUser:n=>{n.status=!1,n.userData=null}}}),{setUser:sP,removeUser:hhe}=dj.actions,mhe=dj.reducer;function ghe(n=768){const[e,t]=C.useState(typeof window<"u"?window.innerWidth<n:!1);return C.useEffect(()=>{function i(){t(window.innerWidth<n)}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),e}var phe="Separator",RM="horizontal",bhe=["horizontal","vertical"],fj=C.forwardRef((n,e)=>{const{decorative:t,orientation:i=RM,...r}=n,s=vhe(i)?i:RM,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return y.jsx(Rt.div,{"data-orientation":s,...a,...r,ref:e})});fj.displayName=phe;function vhe(n){return bhe.includes(n)}var hj=fj;const mj=C.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...i},r)=>y.jsx(hj,{ref:r,decorative:t,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...i}));mj.displayName=hj.displayName;var Y1="Dialog",[gj,kUe]=wc(Y1),[whe,Zo]=gj(Y1),pj=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=n,a=C.useRef(null),l=C.useRef(null),[d,f]=xm({prop:i,defaultProp:r??!1,onChange:s,caller:Y1});return y.jsx(whe,{scope:e,triggerRef:a,contentRef:l,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:d,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(m=>!m),[f]),modal:o,children:t})};pj.displayName=Y1;var bj="DialogTrigger",yhe=C.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Zo(bj,t),s=mn(e,r.triggerRef);return y.jsx(Rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":lP(r.open),...i,ref:s,onClick:it(n.onClick,r.onOpenToggle)})});yhe.displayName=bj;var oP="DialogPortal",[_he,vj]=gj(oP,{forceMount:void 0}),wj=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=Zo(oP,e);return y.jsx(_he,{scope:e,forceMount:t,children:C.Children.map(i,o=>y.jsx(Za,{present:t||s.open,children:y.jsx(jv,{asChild:!0,container:r,children:o})}))})};wj.displayName=oP;var oA="DialogOverlay",yj=C.forwardRef((n,e)=>{const t=vj(oA,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Zo(oA,n.__scopeDialog);return s.modal?y.jsx(Za,{present:i||s.open,children:y.jsx(khe,{...r,ref:e})}):null});yj.displayName=oA;var Ahe=ef("DialogOverlay.RemoveScroll"),khe=C.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Zo(oA,t);return y.jsx(B1,{as:Ahe,allowPinchZoom:!0,shards:[r.contentRef],children:y.jsx(Rt.div,{"data-state":lP(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),of="DialogContent",_j=C.forwardRef((n,e)=>{const t=vj(of,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=Zo(of,n.__scopeDialog);return y.jsx(Za,{present:i||s.open,children:s.modal?y.jsx(xhe,{...r,ref:e}):y.jsx(Che,{...r,ref:e})})});_j.displayName=of;var xhe=C.forwardRef((n,e)=>{const t=Zo(of,n.__scopeDialog),i=C.useRef(null),r=mn(e,t.contentRef,i);return C.useEffect(()=>{const s=i.current;if(s)return Y2(s)},[]),y.jsx(Aj,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(n.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:it(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:it(n.onFocusOutside,s=>s.preventDefault())})}),Che=C.forwardRef((n,e)=>{const t=Zo(of,n.__scopeDialog),i=C.useRef(!1),r=C.useRef(!1);return y.jsx(Aj,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{n.onCloseAutoFocus?.(s),s.defaultPrevented||(i.current||t.triggerRef.current?.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{n.onInteractOutside?.(s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;t.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),Aj=C.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=n,a=Zo(of,t),l=C.useRef(null),d=mn(e,l);return N2(),y.jsxs(y.Fragment,{children:[y.jsx(P1,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:y.jsx(Fv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":lP(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(She,{titleId:a.titleId}),y.jsx(The,{contentRef:l,descriptionId:a.descriptionId})]})]})}),aP="DialogTitle",kj=C.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Zo(aP,t);return y.jsx(Rt.h2,{id:r.titleId,...i,ref:e})});kj.displayName=aP;var xj="DialogDescription",Cj=C.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Zo(xj,t);return y.jsx(Rt.p,{id:r.descriptionId,...i,ref:e})});Cj.displayName=xj;var Sj="DialogClose",Ej=C.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=Zo(Sj,t);return y.jsx(Rt.button,{type:"button",...i,ref:e,onClick:it(n.onClick,()=>r.onOpenChange(!1))})});Ej.displayName=Sj;function lP(n){return n?"open":"closed"}var Tj="DialogTitleWarning",[xUe,Ij]=Une(Tj,{contentName:of,titleName:aP,docsSlug:"dialog"}),She=({titleId:n})=>{const e=Ij(Tj),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Ehe="DialogDescriptionWarning",The=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ij(Ehe).contentName}}.`;return C.useEffect(()=>{const r=n.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},Ihe=pj,Phe=wj,Pj=yj,Rj=_j,Oj=kj,Dj=Cj,Rhe=Ej;const Ohe=Ihe,Dhe=Phe,Nj=C.forwardRef(({className:n,...e},t)=>y.jsx(Pj,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));Nj.displayName=Pj.displayName;const Nhe=Nv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Mj=C.forwardRef(({side:n="right",className:e,children:t,...i},r)=>y.jsxs(Dhe,{children:[y.jsx(Nj,{}),y.jsxs(Rj,{ref:r,className:Ye(Nhe({side:n}),e),...i,children:[y.jsxs(Rhe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[y.jsx(zde,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));Mj.displayName=Rj.displayName;const Bj=({className:n,...e})=>y.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",n),...e});Bj.displayName="SheetHeader";const Vj=C.forwardRef(({className:n,...e},t)=>y.jsx(Oj,{ref:t,className:Ye("text-lg font-semibold text-foreground",n),...e}));Vj.displayName=Oj.displayName;const Lj=C.forwardRef(({className:n,...e},t)=>y.jsx(Dj,{ref:t,className:Ye("text-sm text-muted-foreground",n),...e}));Lj.displayName=Dj.displayName;function OM({className:n,...e}){return y.jsx("div",{className:Ye("animate-pulse rounded-md bg-primary/10",n),...e})}var Fj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mhe="VisuallyHidden",zj=C.forwardRef((n,e)=>y.jsx(Rt.span,{...n,ref:e,style:{...Fj,...n.style}}));zj.displayName=Mhe;var Bhe=zj,[K1,CUe]=wc("Tooltip",[rg]),q1=rg(),jj="TooltipProvider",Vhe=700,wT="tooltip.open",[Lhe,cP]=K1(jj),Uj=n=>{const{__scopeTooltip:e,delayDuration:t=Vhe,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,o=C.useRef(!0),a=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),y.jsx(Lhe,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(d=>{a.current=d},[]),disableHoverableContent:r,children:s})};Uj.displayName=jj;var ev="Tooltip",[Fhe,Yv]=K1(ev),$j=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=cP(ev,n.__scopeTooltip),d=q1(e),[f,m]=C.useState(null),p=Ia(),w=C.useRef(0),A=o??l.disableHoverableContent,x=a??l.delayDuration,S=C.useRef(!1),[P,I]=xm({prop:i,defaultProp:r??!1,onChange:$=>{$?(l.onOpen(),document.dispatchEvent(new CustomEvent(wT))):l.onClose(),s?.($)},caller:ev}),O=C.useMemo(()=>P?S.current?"delayed-open":"instant-open":"closed",[P]),M=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,S.current=!1,I(!0)},[I]),B=C.useCallback(()=>{window.clearTimeout(w.current),w.current=0,I(!1)},[I]),W=C.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{S.current=!0,I(!0),w.current=0},x)},[x,I]);return C.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),y.jsx($2,{...d,children:y.jsx(Fhe,{scope:e,contentId:p,open:P,stateAttribute:O,trigger:f,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?W():M()},[l.isOpenDelayedRef,W,M]),onTriggerLeave:C.useCallback(()=>{A?B():(window.clearTimeout(w.current),w.current=0)},[B,A]),onOpen:M,onClose:B,disableHoverableContent:A,children:t})})};$j.displayName=ev;var yT="TooltipTrigger",Hj=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Yv(yT,t),s=cP(yT,t),o=q1(t),a=C.useRef(null),l=mn(e,a,r.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),m=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),y.jsx(H2,{asChild:!0,...o,children:y.jsx(Rt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:it(n.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:it(n.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:it(n.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:it(n.onFocus,()=>{d.current||r.onOpen()}),onBlur:it(n.onBlur,r.onClose),onClick:it(n.onClick,r.onClose)})})});Hj.displayName=yT;var uP="TooltipPortal",[zhe,jhe]=K1(uP,{forceMount:void 0}),Wj=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:r}=n,s=Yv(uP,e);return y.jsx(zhe,{scope:e,forceMount:t,children:y.jsx(Za,{present:t||s.open,children:y.jsx(jv,{asChild:!0,container:r,children:i})})})};Wj.displayName=uP;var Em="TooltipContent",Gj=C.forwardRef((n,e)=>{const t=jhe(Em,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=Yv(Em,n.__scopeTooltip);return y.jsx(Za,{present:i||o.open,children:o.disableHoverableContent?y.jsx(Yj,{side:r,...s,ref:e}):y.jsx(Uhe,{side:r,...s,ref:e})})}),Uhe=C.forwardRef((n,e)=>{const t=Yv(Em,n.__scopeTooltip),i=cP(Em,n.__scopeTooltip),r=C.useRef(null),s=mn(e,r),[o,a]=C.useState(null),{trigger:l,onClose:d}=t,f=r.current,{onPointerInTransitChange:m}=i,p=C.useCallback(()=>{a(null),m(!1)},[m]),w=C.useCallback((A,x)=>{const S=A.currentTarget,P={x:A.clientX,y:A.clientY},I=Yhe(P,S.getBoundingClientRect()),O=Khe(P,I),M=qhe(x.getBoundingClientRect()),B=Qhe([...O,...M]);a(B),m(!0)},[m]);return C.useEffect(()=>()=>p(),[p]),C.useEffect(()=>{if(l&&f){const A=S=>w(S,f),x=S=>w(S,l);return l.addEventListener("pointerleave",A),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",A),f.removeEventListener("pointerleave",x)}}},[l,f,w,p]),C.useEffect(()=>{if(o){const A=x=>{const S=x.target,P={x:x.clientX,y:x.clientY},I=l?.contains(S)||f?.contains(S),O=!Zhe(P,o);I?p():O&&(p(),d())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[l,f,o,d,p]),y.jsx(Yj,{...n,ref:s})}),[$he,Hhe]=K1(ev,{isInside:!1}),Whe=Wne("TooltipContent"),Yj=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Yv(Em,t),d=q1(t),{onClose:f}=l;return C.useEffect(()=>(document.addEventListener(wT,f),()=>document.removeEventListener(wT,f)),[f]),C.useEffect(()=>{if(l.trigger){const m=p=>{p.target?.contains(l.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,f]),y.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:y.jsxs(W2,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Whe,{children:i}),y.jsx($he,{scope:t,isInside:!0,children:y.jsx(Bhe,{id:l.contentId,role:"tooltip",children:r||i})})]})})});Gj.displayName=Em;var Kj="TooltipArrow",Ghe=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=q1(t);return Hhe(Kj,t).isInside?null:y.jsx(G2,{...r,...i,ref:e})});Ghe.displayName=Kj;function Yhe(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Khe(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function qhe(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function Zhe(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],d=a.x,f=a.y,m=l.x,p=l.y;f>i!=p>i&&t<(m-d)*(i-f)/(p-f)+d&&(r=!r)}return r}function Qhe(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),Jhe(e)}function Jhe(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Xhe=Uj,eme=$j,tme=Hj,nme=Wj,qj=Gj;const ime=Xhe,rme=eme,sme=tme,Zj=C.forwardRef(({className:n,sideOffset:e=4,...t},i)=>y.jsx(nme,{children:y.jsx(qj,{ref:i,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t})}));Zj.displayName=qj.displayName;const ome="sidebar_state",ame=3600*24*7,lme="16rem",cme="18rem",ume="3rem",dme="b",Qj=C.createContext(null);function Z1(){const n=C.useContext(Qj);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const Jj=C.forwardRef(({defaultOpen:n=!0,open:e,onOpenChange:t,className:i,style:r,children:s,...o},a)=>{const l=ghe(),[d,f]=C.useState(!1),[m,p]=C.useState(n),w=e??m,A=C.useCallback(I=>{const O=typeof I=="function"?I(w):I;t?t(O):p(O),document.cookie=`${ome}=${O}; path=/; max-age=${ame}`},[t,w]),x=C.useCallback(()=>l?f(I=>!I):A(I=>!I),[l,A,f]);C.useEffect(()=>{const I=O=>{O.key===dme&&(O.metaKey||O.ctrlKey)&&(O.preventDefault(),x())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[x]);const S=w?"expanded":"collapsed",P=C.useMemo(()=>({state:S,open:w,setOpen:A,isMobile:l,openMobile:d,setOpenMobile:f,toggleSidebar:x}),[S,w,A,l,d,f,x]);return y.jsx(Qj.Provider,{value:P,children:y.jsx(ime,{delayDuration:0,children:y.jsx("div",{style:{"--sidebar-width":lme,"--sidebar-width-icon":ume,...r},className:Ye("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",i),ref:a,...o,children:s})})})});Jj.displayName="SidebarProvider";const Xj=C.forwardRef(({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:i,children:r,...s},o)=>{const{isMobile:a,state:l,openMobile:d,setOpenMobile:f}=Z1();return t==="none"?y.jsx("div",{className:Ye("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:o,...s,children:r}):a?y.jsx(Ohe,{open:d,onOpenChange:f,...s,children:y.jsxs(Mj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":cme},side:n,children:[y.jsxs(Bj,{className:"sr-only",children:[y.jsx(Vj,{children:"Sidebar"}),y.jsx(Lj,{children:"Displays the mobile sidebar."})]}),y.jsx("div",{className:"flex h-full w-full flex-col",children:r})]})}):y.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?t:"","data-variant":e,"data-side":n,children:[y.jsx("div",{className:Ye("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),y.jsx("div",{className:Ye("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...s,children:y.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});Xj.displayName="Sidebar";const eU=C.forwardRef(({className:n,onClick:e,...t},i)=>{const{toggleSidebar:r}=Z1();return y.jsxs(ni,{ref:i,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ye("h-7 w-7",n),onClick:s=>{e?.(s),r()},...t,children:[y.jsx(Bde,{}),y.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});eU.displayName="SidebarTrigger";const fme=C.forwardRef(({className:n,...e},t)=>{const{toggleSidebar:i}=Z1();return y.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:Ye("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})});fme.displayName="SidebarRail";const hme=C.forwardRef(({className:n,...e},t)=>y.jsx("main",{ref:t,className:Ye("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...e}));hme.displayName="SidebarInset";const mme=C.forwardRef(({className:n,...e},t)=>y.jsx(Ri,{ref:t,"data-sidebar":"input",className:Ye("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...e}));mme.displayName="SidebarInput";const tU=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"header",className:Ye("flex flex-col gap-2 p-2",n),...e}));tU.displayName="SidebarHeader";const nU=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"footer",className:Ye("flex flex-col gap-2 p-2",n),...e}));nU.displayName="SidebarFooter";const gme=C.forwardRef(({className:n,...e},t)=>y.jsx(mj,{ref:t,"data-sidebar":"separator",className:Ye("mx-2 w-auto bg-sidebar-border",n),...e}));gme.displayName="SidebarSeparator";const iU=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"content",className:Ye("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e}));iU.displayName="SidebarContent";const _T=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"group",className:Ye("relative flex w-full min-w-0 flex-col p-2",n),...e}));_T.displayName="SidebarGroup";const AT=C.forwardRef(({className:n,asChild:e=!1,...t},i)=>{const r=e?yf:"div";return y.jsx(r,{ref:i,"data-sidebar":"group-label",className:Ye("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})});AT.displayName="SidebarGroupLabel";const pme=C.forwardRef(({className:n,asChild:e=!1,...t},i)=>{const r=e?yf:"button";return y.jsx(r,{ref:i,"data-sidebar":"group-action",className:Ye("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...t})});pme.displayName="SidebarGroupAction";const bme=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"group-content",className:Ye("w-full text-sm",n),...e}));bme.displayName="SidebarGroupContent";const kT=C.forwardRef(({className:n,...e},t)=>y.jsx("ul",{ref:t,"data-sidebar":"menu",className:Ye("flex w-full min-w-0 flex-col gap-1",n),...e}));kT.displayName="SidebarMenu";const Dd=C.forwardRef(({className:n,...e},t)=>y.jsx("li",{ref:t,"data-sidebar":"menu-item",className:Ye("group/menu-item relative",n),...e}));Dd.displayName="SidebarMenuItem";const vme=Nv("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Nd=C.forwardRef(({asChild:n=!1,isActive:e=!1,variant:t="default",size:i="default",tooltip:r,className:s,...o},a)=>{const l=n?yf:"button",{isMobile:d,state:f}=Z1(),m=y.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":i,"data-active":e,className:Ye(vme({variant:t,size:i}),s),...o});return r?(typeof r=="string"&&(r={children:r}),y.jsxs(rme,{children:[y.jsx(sme,{asChild:!0,children:m}),y.jsx(Zj,{side:"right",align:"center",hidden:f!=="collapsed"||d,...r})]})):m});Nd.displayName="SidebarMenuButton";const wme=C.forwardRef(({className:n,asChild:e=!1,showOnHover:t=!1,...i},r)=>{const s=e?yf:"button";return y.jsx(s,{ref:r,"data-sidebar":"menu-action",className:Ye("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...i})});wme.displayName="SidebarMenuAction";const yme=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:Ye("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...e}));yme.displayName="SidebarMenuBadge";const _me=C.forwardRef(({className:n,showIcon:e=!1,...t},i)=>{const r=C.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return y.jsxs("div",{ref:i,"data-sidebar":"menu-skeleton",className:Ye("flex h-8 items-center gap-2 rounded-md px-2",n),...t,children:[e&&y.jsx(OM,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),y.jsx(OM,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});_me.displayName="SidebarMenuSkeleton";const Ame=C.forwardRef(({className:n,...e},t)=>y.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:Ye("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...e}));Ame.displayName="SidebarMenuSub";const kme=C.forwardRef(({...n},e)=>y.jsx("li",{ref:e,...n}));kme.displayName="SidebarMenuSubItem";const xme=C.forwardRef(({asChild:n=!1,size:e="md",isActive:t,className:i,...r},s)=>{const o=n?yf:"a";return y.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:Ye("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",i),...r})});xme.displayName="SidebarMenuSubButton";const Cme=()=>{const n=wf(),e=Ko(),t=Es(o=>o.user),[i,r]=C.useState(!1),s=async()=>{const o=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/logout`,{method:"POST",credentials:"include"}),a=await o.json();if(!o.ok){Pt("error",a?.message||"Logout failed");return}n(hhe()),e(n2),Pt("success",a?.message||"Logout successful")};return y.jsxs("header",{className:`flex justify-between items-center h-16 fixed w-full z-20\r
      border-b bg-white/80 backdrop-blur-md shadow-sm px-4 md:px-8`,children:[y.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[y.jsx(eU,{children:y.jsx(Nde,{className:"h-6 w-6"})}),!i&&y.jsx(ni,{variant:"ghost",onClick:()=>r(!0),className:"p-2",children:y.jsx(Lde,{className:"h-5 w-5"})})]}),y.jsxs(ei,{to:"/",className:"flex items-center gap-2 hover:opacity-90 transition",children:[y.jsx("img",{src:R2,alt:"Logo",className:"w-10 h-10 object-contain"}),y.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-pink-500 bg-clip-text text-transparent",children:"Blogify"})]}),y.jsx("div",{className:"hidden md:flex flex-1 max-w-lg mx-6",children:y.jsx(qN,{})}),i&&y.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white border-b shadow-sm z-30 p-4",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(qN,{}),y.jsx(ni,{variant:"ghost",onClick:()=>r(!1),className:"p-2",children:y.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),y.jsx("div",{children:t.status?y.jsxs(jde,{children:[y.jsx(Ude,{className:"focus:outline-none",children:y.jsxs(g1,{className:"cursor-pointer hover:scale-110 transition-transform duration-200",children:[y.jsx(p1,{src:t?.userData?.avatar||eA}),y.jsx(b1,{className:"bg-violet-100 text-violet-600 font-bold",children:t?.userData?.name?.charAt(0)||"U"})]})}),y.jsxs(H8,{align:"end",className:"w-60 shadow-xl rounded-xl p-2",children:[y.jsxs(W8,{className:"pb-2 border-b",children:[y.jsx("p",{className:"font-semibold",children:t?.userData?.name}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.userData?.email})]}),y.jsx(h0,{asChild:!0,className:"cursor-pointer",children:y.jsxs(ei,{to:$F,className:"flex items-center gap-2",children:[y.jsx(vie,{className:"text-blue-500"}),"Profile"]})}),y.jsx(h0,{asChild:!0,className:"cursor-pointer",children:y.jsxs(ei,{to:i2,className:"flex items-center gap-2",children:[y.jsx(Yde,{className:"text-green-500"}),"Create Blog"]})}),y.jsx(G8,{}),y.jsxs(h0,{onClick:s,className:"text-red-600 cursor-pointer hover:!bg-red-50 flex items-center gap-2",children:[y.jsx(Kde,{}),"Logout"]})]})]}):y.jsx(ni,{asChild:!0,className:"flex gap-2 rounded-full px-5",children:y.jsxs(ei,{to:Xd,className:"flex items-center gap-2",children:[y.jsx(gie,{className:"text-base"}),y.jsx("span",{className:"text-sm font-medium",children:"Sign in"})]})})})]})};function Sme(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm11 4h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm-1 6h-4v-4h4v4zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zm0 6c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"},child:[]}]})(n)}function Eme(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 11h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm10 0h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zM4 21h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm13 0c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4z"},child:[]}]})(n)}function Tme(n){return Ui({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 12h.01"},child:[]},{tag:"path",attr:{d:"M4 6h.01"},child:[]},{tag:"path",attr:{d:"M4 18h.01"},child:[]},{tag:"path",attr:{d:"M8 18h2"},child:[]},{tag:"path",attr:{d:"M8 12h2"},child:[]},{tag:"path",attr:{d:"M8 6h2"},child:[]},{tag:"path",attr:{d:"M14 6h6"},child:[]},{tag:"path",attr:{d:"M14 12h6"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(n)}function Ime(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"},child:[]}]})(n)}const Pme=()=>{const n=oo(),e=Es(s=>s.user),t=Es(s=>s.category.refresh),{data:i}=ur(`${Gt("VITE_API_BASE_URL")}/auth/category/all`,{method:"get",credentials:"include"},[t]),r=s=>n.pathname===s;return y.jsxs(Xj,{className:"bg-gradient-to-b from-gray-50 to-gray-100 border-r shadow-sm hidden md:flex",children:[y.jsx(tU,{className:"flex items-center justify-center h-16 border-b",children:y.jsx("img",{src:R2,alt:"Logo",className:"h-12 w-auto"})}),y.jsxs(iU,{className:"p-3",children:[y.jsxs(_T,{children:[y.jsx(AT,{className:"uppercase text-xs text-gray-500 mb-2",children:"Dashboard"}),y.jsxs(kT,{children:[y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition ${r("/")?"bg-blue-100 text-blue-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:Fb,children:[y.jsx(mie,{className:"text-lg"}),"Home"]})})}),e&&e.status?y.jsxs(y.Fragment,{children:[y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition ${r(zb)?"bg-blue-100 text-blue-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:zb,children:[y.jsx(Tme,{className:"text-lg"}),"Blogs"]})})}),y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition ${r(HE)?"bg-blue-100 text-blue-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:HE,children:[y.jsx(fie,{className:"text-lg"}),"Comments"]})})})]}):y.jsx(y.Fragment,{}),e&&e.status&&e.userData.role==="admin"?y.jsxs(y.Fragment,{children:[y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition ${r(z0)?"bg-blue-100 text-blue-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:z0,children:[y.jsx(Eme,{className:"text-lg"}),"Categories"]})})}),y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition ${r(WE)?"bg-blue-100 text-blue-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:WE,children:[y.jsx(pie,{className:"text-lg"}),"Users"]})})})]}):y.jsx(y.Fragment,{})]})]}),y.jsxs(_T,{className:"mt-6",children:[y.jsx(AT,{className:"uppercase text-xs text-gray-500 mb-2",children:"Categories"}),y.jsx(kT,{children:i?.data?.length>0&&i.data.map(s=>y.jsx(Dd,{children:y.jsx(Nd,{asChild:!0,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition ${r($E(s.slug))?"bg-purple-100 text-purple-700 font-semibold":"hover:bg-gray-200"}`,children:y.jsxs(ei,{to:$E(s.slug),children:[y.jsx(Ime,{className:"text-xs"}),s.name]})})},s._id))})]})]}),y.jsxs(nU,{className:"p-3 text-xs text-gray-500 border-t",children:[" ",new Date().getFullYear()," MegaBlog"]})]})};function Rme(){return y.jsxs(Jj,{className:"min-h-screen flex flex-col",children:[y.jsx(Cme,{}),y.jsxs("div",{className:"flex flex-1 pt-16",children:[y.jsx(Pme,{}),y.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[y.jsx("main",{className:"flex-1",children:y.jsx(f1,{})}),y.jsx(Aae,{})]})]})]})}function DM(){return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:y.jsx("div",{className:"max-w-md w-full space-y-8",children:y.jsx(f1,{})})})}var Kv=n=>n.type==="checkbox",jd=n=>n instanceof Date,Pr=n=>n==null;const rU=n=>typeof n=="object";var _i=n=>!Pr(n)&&!Array.isArray(n)&&rU(n)&&!jd(n),sU=n=>_i(n)&&n.target?Kv(n.target)?n.target.checked:n.target.value:n,Ome=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,oU=(n,e)=>n.has(Ome(e)),Dme=n=>{const e=n.constructor&&n.constructor.prototype;return _i(e)&&e.hasOwnProperty("isPrototypeOf")},dP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Li(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(dP&&(n instanceof Blob||i))&&(t||_i(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!Dme(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Li(n[r]));else return n;return e}var Q1=n=>/^\w*$/.test(n),wi=n=>n===void 0,fP=n=>Array.isArray(n)?n.filter(Boolean):[],hP=n=>fP(n.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(n,e,t)=>{if(!e||!_i(n))return t;const i=(Q1(e)?[e]:hP(e)).reduce((r,s)=>Pr(r)?r:r[s],n);return wi(i)||i===n?wi(n[e])?t:n[e]:i},ws=n=>typeof n=="boolean",fn=(n,e,t)=>{let i=-1;const r=Q1(e)?[e]:hP(e),s=r.length,o=s-1;for(;++i<s;){const a=r[i];let l=t;if(i!==o){const d=n[a];l=_i(d)||Array.isArray(d)?d:isNaN(+r[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}};const aA={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Eo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ol={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mP=Ue.createContext(null);mP.displayName="HookFormContext";const J1=()=>Ue.useContext(mP),Nme=n=>{const{children:e,...t}=n;return Ue.createElement(mP.Provider,{value:t},e)};var aU=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(r,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Eo.all&&(e._proxyFormState[o]=!i||Eo.all),t&&(t[o]=!0),n[o]}});return r};const gP=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function Mme(n){const e=J1(),{control:t=e.control,disabled:i,name:r,exact:s}=n||{},[o,a]=Ue.useState(t._formState),l=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return gP(()=>t._subscribe({name:r,formState:l.current,exact:s,callback:d=>{!i&&a({...t._formState,...d})}}),[r,i,s]),Ue.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),Ue.useMemo(()=>aU(o,t,l.current,!1),[o,t])}var Ta=n=>typeof n=="string",lU=(n,e,t,i,r)=>Ta(n)?(i&&e.watch.add(n),He(t,n,r)):Array.isArray(n)?n.map(s=>(i&&e.watch.add(s),He(t,s))):(i&&(e.watchAll=!0),t),xT=n=>Pr(n)||!rU(n);function zl(n,e,t=new WeakSet){if(xT(n)||xT(e))return n===e;if(jd(n)&&jd(e))return n.getTime()===e.getTime();const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const s of i){const o=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(jd(o)&&jd(a)||_i(o)&&_i(a)||Array.isArray(o)&&Array.isArray(a)?!zl(o,a,t):o!==a)return!1}}return!0}function Bme(n){const e=J1(),{control:t=e.control,name:i,defaultValue:r,disabled:s,exact:o,compute:a}=n||{},l=Ue.useRef(r),d=Ue.useRef(a),f=Ue.useRef(void 0);d.current=a;const m=Ue.useMemo(()=>t._getWatch(i,l.current),[t,i]),[p,w]=Ue.useState(d.current?d.current(m):m);return gP(()=>t._subscribe({name:i,formState:{values:!0},exact:o,callback:A=>{if(!s){const x=lU(i,t._names,A.values||t._formValues,!1,l.current);if(d.current){const S=d.current(x);zl(S,f.current)||(w(S),f.current=S)}else w(x)}}}),[t,s,i,o]),Ue.useEffect(()=>t._removeUnmounted()),p}function Vme(n){const e=J1(),{name:t,disabled:i,control:r=e.control,shouldUnregister:s,defaultValue:o}=n,a=oU(r._names.array,t),l=Ue.useMemo(()=>He(r._formValues,t,He(r._defaultValues,t,o)),[r,t,o]),d=Bme({control:r,name:t,defaultValue:l,exact:!0}),f=Mme({control:r,name:t,exact:!0}),m=Ue.useRef(n),p=Ue.useRef(r.register(t,{...n.rules,value:d,...ws(n.disabled)?{disabled:n.disabled}:{}}));m.current=n;const w=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(f.errors,t)},isDirty:{enumerable:!0,get:()=>!!He(f.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!He(f.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!He(f.validatingFields,t)},error:{enumerable:!0,get:()=>He(f.errors,t)}}),[f,t]),A=Ue.useCallback(I=>p.current.onChange({target:{value:sU(I),name:t},type:aA.CHANGE}),[t]),x=Ue.useCallback(()=>p.current.onBlur({target:{value:He(r._formValues,t),name:t},type:aA.BLUR}),[t,r._formValues]),S=Ue.useCallback(I=>{const O=He(r._fields,t);O&&I&&(O._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:M=>I.setCustomValidity(M),reportValidity:()=>I.reportValidity()})},[r._fields,t]),P=Ue.useMemo(()=>({name:t,value:d,...ws(i)||f.disabled?{disabled:f.disabled||i}:{},onChange:A,onBlur:x,ref:S}),[t,i,f.disabled,A,x,S,d]);return Ue.useEffect(()=>{const I=r._options.shouldUnregister||s;r.register(t,{...m.current.rules,...ws(m.current.disabled)?{disabled:m.current.disabled}:{}});const O=(M,B)=>{const W=He(r._fields,M);W&&W._f&&(W._f.mount=B)};if(O(t,!0),I){const M=Li(He(r._options.defaultValues,t));fn(r._defaultValues,t,M),wi(He(r._formValues,t))&&fn(r._formValues,t,M)}return!a&&r.register(t),()=>{(a?I&&!r._state.action:I)?r.unregister(t):O(t,!1)}},[t,r,a,s]),Ue.useEffect(()=>{r._setDisabledField({disabled:i,name:t})},[i,t,r]),Ue.useMemo(()=>({field:P,formState:f,fieldState:w}),[P,f,w])}const Lme=n=>n.render(Vme(n));var pP=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},wb=n=>Array.isArray(n)?n:[n],NM=()=>{let n=[];return{get observers(){return n},next:r=>{for(const s of n)s.next&&s.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(s=>s!==r)}}),unsubscribe:()=>{n=[]}}},Qr=n=>_i(n)&&!Object.keys(n).length,bP=n=>n.type==="file",To=n=>typeof n=="function",lA=n=>{if(!dP)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cU=n=>n.type==="select-multiple",vP=n=>n.type==="radio",Fme=n=>vP(n)||Kv(n),AS=n=>lA(n)&&n.isConnected;function zme(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=wi(n)?i++:n[e[i++]];return n}function jme(n){for(const e in n)if(n.hasOwnProperty(e)&&!wi(n[e]))return!1;return!0}function Ii(n,e){const t=Array.isArray(e)?e:Q1(e)?[e]:hP(e),i=t.length===1?n:zme(n,t),r=t.length-1,s=t[r];return i&&delete i[s],r!==0&&(_i(i)&&Qr(i)||Array.isArray(i)&&jme(i))&&Ii(n,t.slice(0,-1)),n}var uU=n=>{for(const e in n)if(To(n[e]))return!0;return!1};function cA(n,e={}){const t=Array.isArray(n);if(_i(n)||t)for(const i in n)Array.isArray(n[i])||_i(n[i])&&!uU(n[i])?(e[i]=Array.isArray(n[i])?[]:{},cA(n[i],e[i])):Pr(n[i])||(e[i]=!0);return e}function dU(n,e,t){const i=Array.isArray(n);if(_i(n)||i)for(const r in n)Array.isArray(n[r])||_i(n[r])&&!uU(n[r])?wi(e)||xT(t[r])?t[r]=Array.isArray(n[r])?cA(n[r],[]):{...cA(n[r])}:dU(n[r],Pr(e)?{}:e[r],t[r]):t[r]=!zl(n[r],e[r]);return t}var $p=(n,e)=>dU(n,e,cA(e));const MM={value:!1,isValid:!1},BM={value:!0,isValid:!0};var fU=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!wi(n[0].attributes.value)?wi(n[0].value)||n[0].value===""?BM:{value:n[0].value,isValid:!0}:BM:MM}return MM},hU=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>wi(n)?n:e?n===""?NaN:n&&+n:t&&Ta(n)?new Date(n):i?i(n):n;const VM={isValid:!1,value:null};var mU=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,VM):VM;function LM(n){const e=n.ref;return bP(e)?e.files:vP(e)?mU(n.refs).value:cU(e)?[...e.selectedOptions].map(({value:t})=>t):Kv(e)?fU(n.refs).value:hU(wi(e.value)?n.ref.value:e.value,n)}var Ume=(n,e,t,i)=>{const r={};for(const s of n){const o=He(e,s);o&&fn(r,s,o._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},uA=n=>n instanceof RegExp,Hp=n=>wi(n)?n:uA(n)?n.source:_i(n)?uA(n.value)?n.value.source:n.value:n,FM=n=>({isOnSubmit:!n||n===Eo.onSubmit,isOnBlur:n===Eo.onBlur,isOnChange:n===Eo.onChange,isOnAll:n===Eo.all,isOnTouch:n===Eo.onTouched});const zM="AsyncFunction";var $me=n=>!!n&&!!n.validate&&!!(To(n.validate)&&n.validate.constructor.name===zM||_i(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===zM)),Hme=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),jM=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const yb=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const s=He(n,r);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!i)return!0;if(o.ref&&e(o.ref,o.name)&&!i)return!0;if(yb(a,e))break}else if(_i(a)&&yb(a,e))break}}};function UM(n,e,t){const i=He(n,t);if(i||Q1(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const s=r.join("."),o=He(e,s),a=He(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};r.pop()}return{name:t}}var Wme=(n,e,t,i)=>{t(n);const{name:r,...s}=n;return Qr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!i||Eo.all))},Gme=(n,e,t)=>!n||!e||n===e||wb(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),Yme=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,Kme=(n,e)=>!fP(He(n,e)).length&&Ii(n,e),qme=(n,e,t)=>{const i=wb(He(n,t));return fn(i,"root",e[t]),fn(n,t,i),n},m0=n=>Ta(n);function $M(n,e,t="validate"){if(m0(n)||Array.isArray(n)&&n.every(m0)||ws(n)&&!n)return{type:t,message:m0(n)?n:"",ref:e}}var Fh=n=>_i(n)&&!uA(n)?n:{value:n,message:""},HM=async(n,e,t,i,r,s)=>{const{ref:o,refs:a,required:l,maxLength:d,minLength:f,min:m,max:p,pattern:w,validate:A,name:x,valueAsNumber:S,mount:P}=n._f,I=He(t,x);if(!P||e.has(x))return{};const O=a?a[0]:o,M=ge=>{r&&O.reportValidity&&(O.setCustomValidity(ws(ge)?"":ge||""),O.reportValidity())},B={},W=vP(o),$=Kv(o),L=W||$,ee=(S||bP(o))&&wi(o.value)&&wi(I)||lA(o)&&o.value===""||I===""||Array.isArray(I)&&!I.length,pe=pP.bind(null,x,i,B),Se=(ge,Ee,Te,Be=Ol.maxLength,Y=Ol.minLength)=>{const de=ge?Ee:Te;B[x]={type:ge?Be:Y,message:de,ref:o,...pe(ge?Be:Y,de)}};if(s?!Array.isArray(I)||!I.length:l&&(!L&&(ee||Pr(I))||ws(I)&&!I||$&&!fU(a).isValid||W&&!mU(a).isValid)){const{value:ge,message:Ee}=m0(l)?{value:!!l,message:l}:Fh(l);if(ge&&(B[x]={type:Ol.required,message:Ee,ref:O,...pe(Ol.required,Ee)},!i))return M(Ee),B}if(!ee&&(!Pr(m)||!Pr(p))){let ge,Ee;const Te=Fh(p),Be=Fh(m);if(!Pr(I)&&!isNaN(I)){const Y=o.valueAsNumber||I&&+I;Pr(Te.value)||(ge=Y>Te.value),Pr(Be.value)||(Ee=Y<Be.value)}else{const Y=o.valueAsDate||new Date(I),de=V=>new Date(new Date().toDateString()+" "+V),Q=o.type=="time",be=o.type=="week";Ta(Te.value)&&I&&(ge=Q?de(I)>de(Te.value):be?I>Te.value:Y>new Date(Te.value)),Ta(Be.value)&&I&&(Ee=Q?de(I)<de(Be.value):be?I<Be.value:Y<new Date(Be.value))}if((ge||Ee)&&(Se(!!ge,Te.message,Be.message,Ol.max,Ol.min),!i))return M(B[x].message),B}if((d||f)&&!ee&&(Ta(I)||s&&Array.isArray(I))){const ge=Fh(d),Ee=Fh(f),Te=!Pr(ge.value)&&I.length>+ge.value,Be=!Pr(Ee.value)&&I.length<+Ee.value;if((Te||Be)&&(Se(Te,ge.message,Ee.message),!i))return M(B[x].message),B}if(w&&!ee&&Ta(I)){const{value:ge,message:Ee}=Fh(w);if(uA(ge)&&!I.match(ge)&&(B[x]={type:Ol.pattern,message:Ee,ref:o,...pe(Ol.pattern,Ee)},!i))return M(Ee),B}if(A){if(To(A)){const ge=await A(I,t),Ee=$M(ge,O);if(Ee&&(B[x]={...Ee,...pe(Ol.validate,Ee.message)},!i))return M(Ee.message),B}else if(_i(A)){let ge={};for(const Ee in A){if(!Qr(ge)&&!i)break;const Te=$M(await A[Ee](I,t),O,Ee);Te&&(ge={...Te,...pe(Ee,Te.message)},M(Te.message),i&&(B[x]=ge))}if(!Qr(ge)&&(B[x]={ref:O,...ge},!i))return B}}return M(!0),B};const Zme={mode:Eo.onSubmit,reValidateMode:Eo.onChange,shouldFocusError:!0};function Qme(n={}){let e={...Zme,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:To(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=_i(e.defaultValues)||_i(e.values)?Li(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Li(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const p={array:NM(),state:NM()},w=e.criteriaMode===Eo.all,A=F=>J=>{clearTimeout(d),d=setTimeout(F,J)},x=async F=>{if(!e.disabled&&(f.isValid||m.isValid||F)){const J=e.resolver?Qr((await $()).errors):await ee(i,!0);J!==t.isValid&&p.state.next({isValid:J})}},S=(F,J)=>{!e.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((F||Array.from(a.mount)).forEach(ue=>{ue&&(J?fn(t.validatingFields,ue,J):Ii(t.validatingFields,ue))}),p.state.next({validatingFields:t.validatingFields,isValidating:!Qr(t.validatingFields)}))},P=(F,J=[],ue,Ne,Z=!0,se=!0)=>{if(Ne&&ue&&!e.disabled){if(o.action=!0,se&&Array.isArray(He(i,F))){const me=ue(He(i,F),Ne.argA,Ne.argB);Z&&fn(i,F,me)}if(se&&Array.isArray(He(t.errors,F))){const me=ue(He(t.errors,F),Ne.argA,Ne.argB);Z&&fn(t.errors,F,me),Kme(t.errors,F)}if((f.touchedFields||m.touchedFields)&&se&&Array.isArray(He(t.touchedFields,F))){const me=ue(He(t.touchedFields,F),Ne.argA,Ne.argB);Z&&fn(t.touchedFields,F,me)}(f.dirtyFields||m.dirtyFields)&&(t.dirtyFields=$p(r,s)),p.state.next({name:F,isDirty:Se(F,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else fn(s,F,J)},I=(F,J)=>{fn(t.errors,F,J),p.state.next({errors:t.errors})},O=F=>{t.errors=F,p.state.next({errors:t.errors,isValid:!1})},M=(F,J,ue,Ne)=>{const Z=He(i,F);if(Z){const se=He(s,F,wi(ue)?He(r,F):ue);wi(se)||Ne&&Ne.defaultChecked||J?fn(s,F,J?se:LM(Z._f)):Te(F,se),o.mount&&x()}},B=(F,J,ue,Ne,Z)=>{let se=!1,me=!1;const $e={name:F};if(!e.disabled){if(!ue||Ne){(f.isDirty||m.isDirty)&&(me=t.isDirty,t.isDirty=$e.isDirty=Se(),se=me!==$e.isDirty);const Ke=zl(He(r,F),J);me=!!He(t.dirtyFields,F),Ke?Ii(t.dirtyFields,F):fn(t.dirtyFields,F,!0),$e.dirtyFields=t.dirtyFields,se=se||(f.dirtyFields||m.dirtyFields)&&me!==!Ke}if(ue){const Ke=He(t.touchedFields,F);Ke||(fn(t.touchedFields,F,ue),$e.touchedFields=t.touchedFields,se=se||(f.touchedFields||m.touchedFields)&&Ke!==ue)}se&&Z&&p.state.next($e)}return se?$e:{}},W=(F,J,ue,Ne)=>{const Z=He(t.errors,F),se=(f.isValid||m.isValid)&&ws(J)&&t.isValid!==J;if(e.delayError&&ue?(l=A(()=>I(F,ue)),l(e.delayError)):(clearTimeout(d),l=null,ue?fn(t.errors,F,ue):Ii(t.errors,F)),(ue?!zl(Z,ue):Z)||!Qr(Ne)||se){const me={...Ne,...se&&ws(J)?{isValid:J}:{},errors:t.errors,name:F};t={...t,...me},p.state.next(me)}},$=async F=>{S(F,!0);const J=await e.resolver(s,e.context,Ume(F||a.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return S(F),J},L=async F=>{const{errors:J}=await $(F);if(F)for(const ue of F){const Ne=He(J,ue);Ne?fn(t.errors,ue,Ne):Ii(t.errors,ue)}else t.errors=J;return J},ee=async(F,J,ue={valid:!0})=>{for(const Ne in F){const Z=F[Ne];if(Z){const{_f:se,...me}=Z;if(se){const $e=a.array.has(se.name),Ke=Z._f&&$me(Z._f);Ke&&f.validatingFields&&S([Ne],!0);const bt=await HM(Z,a.disabled,s,w,e.shouldUseNativeValidation&&!J,$e);if(Ke&&f.validatingFields&&S([Ne]),bt[se.name]&&(ue.valid=!1,J))break;!J&&(He(bt,se.name)?$e?qme(t.errors,bt,se.name):fn(t.errors,se.name,bt[se.name]):Ii(t.errors,se.name))}!Qr(me)&&await ee(me,J,ue)}}return ue.valid},pe=()=>{for(const F of a.unMount){const J=He(i,F);J&&(J._f.refs?J._f.refs.every(ue=>!AS(ue)):!AS(J._f.ref))&&re(F)}a.unMount=new Set},Se=(F,J)=>!e.disabled&&(F&&J&&fn(s,F,J),!zl(V(),r)),ge=(F,J,ue)=>lU(F,a,{...o.mount?s:wi(J)?r:Ta(F)?{[F]:J}:J},ue,J),Ee=F=>fP(He(o.mount?s:r,F,e.shouldUnregister?He(r,F,[]):[])),Te=(F,J,ue={})=>{const Ne=He(i,F);let Z=J;if(Ne){const se=Ne._f;se&&(!se.disabled&&fn(s,F,hU(J,se)),Z=lA(se.ref)&&Pr(J)?"":J,cU(se.ref)?[...se.ref.options].forEach(me=>me.selected=Z.includes(me.value)):se.refs?Kv(se.ref)?se.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(Z)?me.checked=!!Z.find($e=>$e===me.value):me.checked=Z===me.value||!!Z)}):se.refs.forEach(me=>me.checked=me.value===Z):bP(se.ref)?se.ref.value="":(se.ref.value=Z,se.ref.type||p.state.next({name:F,values:Li(s)})))}(ue.shouldDirty||ue.shouldTouch)&&B(F,Z,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&be(F)},Be=(F,J,ue)=>{for(const Ne in J){if(!J.hasOwnProperty(Ne))return;const Z=J[Ne],se=F+"."+Ne,me=He(i,se);(a.array.has(F)||_i(Z)||me&&!me._f)&&!jd(Z)?Be(se,Z,ue):Te(se,Z,ue)}},Y=(F,J,ue={})=>{const Ne=He(i,F),Z=a.array.has(F),se=Li(J);fn(s,F,se),Z?(p.array.next({name:F,values:Li(s)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&ue.shouldDirty&&p.state.next({name:F,dirtyFields:$p(r,s),isDirty:Se(F,se)})):Ne&&!Ne._f&&!Pr(se)?Be(F,se,ue):Te(F,se,ue),jM(F,a)&&p.state.next({...t,name:F}),p.state.next({name:o.mount?F:void 0,values:Li(s)})},de=async F=>{o.mount=!0;const J=F.target;let ue=J.name,Ne=!0;const Z=He(i,ue),se=Ke=>{Ne=Number.isNaN(Ke)||jd(Ke)&&isNaN(Ke.getTime())||zl(Ke,He(s,ue,Ke))},me=FM(e.mode),$e=FM(e.reValidateMode);if(Z){let Ke,bt;const gt=J.type?LM(Z._f):sU(F),oi=F.type===aA.BLUR||F.type===aA.FOCUS_OUT,It=!Hme(Z._f)&&!e.resolver&&!He(t.errors,ue)&&!Z._f.deps||Yme(oi,He(t.touchedFields,ue),t.isSubmitted,$e,me),wt=jM(ue,a,oi);fn(s,ue,gt),oi?(!J||!J.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(F),l&&l(0)):Z._f.onChange&&Z._f.onChange(F);const ki=B(ue,gt,oi),pn=!Qr(ki)||wt;if(!oi&&p.state.next({name:ue,type:F.type,values:Li(s)}),It)return(f.isValid||m.isValid)&&(e.mode==="onBlur"?oi&&x():oi||x()),pn&&p.state.next({name:ue,...wt?{}:ki});if(!oi&&wt&&p.state.next({...t}),e.resolver){const{errors:xi}=await $([ue]);if(se(gt),Ne){const Ci=UM(t.errors,i,ue),ta=UM(xi,i,Ci.name||ue);Ke=ta.error,ue=ta.name,bt=Qr(xi)}}else S([ue],!0),Ke=(await HM(Z,a.disabled,s,w,e.shouldUseNativeValidation))[ue],S([ue]),se(gt),Ne&&(Ke?bt=!1:(f.isValid||m.isValid)&&(bt=await ee(i,!0)));Ne&&(Z._f.deps&&be(Z._f.deps),W(ue,bt,Ke,ki))}},Q=(F,J)=>{if(He(t.errors,J)&&F.focus)return F.focus(),1},be=async(F,J={})=>{let ue,Ne;const Z=wb(F);if(e.resolver){const se=await L(wi(F)?F:Z);ue=Qr(se),Ne=F?!Z.some(me=>He(se,me)):ue}else F?(Ne=(await Promise.all(Z.map(async se=>{const me=He(i,se);return await ee(me&&me._f?{[se]:me}:me)}))).every(Boolean),!(!Ne&&!t.isValid)&&x()):Ne=ue=await ee(i);return p.state.next({...!Ta(F)||(f.isValid||m.isValid)&&ue!==t.isValid?{}:{name:F},...e.resolver||!F?{isValid:ue}:{},errors:t.errors}),J.shouldFocus&&!Ne&&yb(i,Q,F?Z:a.mount),Ne},V=F=>{const J={...o.mount?s:r};return wi(F)?J:Ta(F)?He(J,F):F.map(ue=>He(J,ue))},fe=(F,J)=>({invalid:!!He((J||t).errors,F),isDirty:!!He((J||t).dirtyFields,F),error:He((J||t).errors,F),isValidating:!!He(t.validatingFields,F),isTouched:!!He((J||t).touchedFields,F)}),Pe=F=>{F&&wb(F).forEach(J=>Ii(t.errors,J)),p.state.next({errors:F?t.errors:{}})},Ae=(F,J,ue)=>{const Ne=(He(i,F,{_f:{}})._f||{}).ref,Z=He(t.errors,F)||{},{ref:se,message:me,type:$e,...Ke}=Z;fn(t.errors,F,{...Ke,...J,ref:Ne}),p.state.next({name:F,errors:t.errors,isValid:!1}),ue&&ue.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},q=(F,J)=>To(F)?p.state.subscribe({next:ue=>"values"in ue&&F(ge(void 0,J),ue)}):ge(F,J,!0),U=F=>p.state.subscribe({next:J=>{Gme(F.name,J.name,F.exact)&&Wme(J,F.formState||f,st,F.reRenderRoot)&&F.callback({values:{...s},...t,...J,defaultValues:r})}}).unsubscribe,ce=F=>(o.mount=!0,m={...m,...F.formState},U({...F,formState:m})),re=(F,J={})=>{for(const ue of F?wb(F):a.mount)a.mount.delete(ue),a.array.delete(ue),J.keepValue||(Ii(i,ue),Ii(s,ue)),!J.keepError&&Ii(t.errors,ue),!J.keepDirty&&Ii(t.dirtyFields,ue),!J.keepTouched&&Ii(t.touchedFields,ue),!J.keepIsValidating&&Ii(t.validatingFields,ue),!e.shouldUnregister&&!J.keepDefaultValue&&Ii(r,ue);p.state.next({values:Li(s)}),p.state.next({...t,...J.keepDirty?{isDirty:Se()}:{}}),!J.keepIsValid&&x()},we=({disabled:F,name:J})=>{(ws(F)&&o.mount||F||a.disabled.has(J))&&(F?a.disabled.add(J):a.disabled.delete(J))},Ie=(F,J={})=>{let ue=He(i,F);const Ne=ws(J.disabled)||ws(e.disabled);return fn(i,F,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:F}},name:F,mount:!0,...J}}),a.mount.add(F),ue?we({disabled:ws(J.disabled)?J.disabled:e.disabled,name:F}):M(F,!0,J.value),{...Ne?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Hp(J.min),max:Hp(J.max),minLength:Hp(J.minLength),maxLength:Hp(J.maxLength),pattern:Hp(J.pattern)}:{},name:F,onChange:de,onBlur:de,ref:Z=>{if(Z){Ie(F,J),ue=He(i,F);const se=wi(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,me=Fme(se),$e=ue._f.refs||[];if(me?$e.find(Ke=>Ke===se):se===ue._f.ref)return;fn(i,F,{_f:{...ue._f,...me?{refs:[...$e.filter(AS),se,...Array.isArray(He(r,F))?[{}]:[]],ref:{type:se.type,name:F}}:{ref:se}}}),M(F,!1,void 0,se)}else ue=He(i,F,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(oU(a.array,F)&&o.action)&&a.unMount.add(F)}}},ye=()=>e.shouldFocusError&&yb(i,Q,a.mount),Fe=F=>{ws(F)&&(p.state.next({disabled:F}),yb(i,(J,ue)=>{const Ne=He(i,ue);Ne&&(J.disabled=Ne._f.disabled||F,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(Z=>{Z.disabled=Ne._f.disabled||F}))},0,!1))},Oe=(F,J)=>async ue=>{let Ne;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let Z=Li(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:me}=await $();t.errors=se,Z=Li(me)}else await ee(i);if(a.disabled.size)for(const se of a.disabled)Ii(Z,se);if(Ii(t.errors,"root"),Qr(t.errors)){p.state.next({errors:{}});try{await F(Z,ue)}catch(se){Ne=se}}else J&&await J({...t.errors},ue),ye(),setTimeout(ye);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qr(t.errors)&&!Ne,submitCount:t.submitCount+1,errors:t.errors}),Ne)throw Ne},at=(F,J={})=>{He(i,F)&&(wi(J.defaultValue)?Y(F,Li(He(r,F))):(Y(F,J.defaultValue),fn(r,F,Li(J.defaultValue))),J.keepTouched||Ii(t.touchedFields,F),J.keepDirty||(Ii(t.dirtyFields,F),t.isDirty=J.defaultValue?Se(F,Li(He(r,F))):Se()),J.keepError||(Ii(t.errors,F),f.isValid&&x()),p.state.next({...t}))},ct=(F,J={})=>{const ue=F?Li(F):r,Ne=Li(ue),Z=Qr(F),se=Z?r:Ne;if(J.keepDefaultValues||(r=ue),!J.keepValues){if(J.keepDirtyValues){const me=new Set([...a.mount,...Object.keys($p(r,s))]);for(const $e of Array.from(me))He(t.dirtyFields,$e)?fn(se,$e,He(s,$e)):Y($e,He(se,$e))}else{if(dP&&wi(F))for(const me of a.mount){const $e=He(i,me);if($e&&$e._f){const Ke=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(lA(Ke)){const bt=Ke.closest("form");if(bt){bt.reset();break}}}}if(J.keepFieldsRef)for(const me of a.mount)Y(me,He(se,me));else i={}}s=e.shouldUnregister?J.keepDefaultValues?Li(r):{}:Li(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}a={mount:J.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:Z?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!zl(F,r)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:Z?{}:J.keepDirtyValues?J.keepDefaultValues&&s?$p(r,s):t.dirtyFields:J.keepDefaultValues&&F?$p(r,F):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},gn=(F,J)=>ct(To(F)?F(s):F,J),cn=(F,J={})=>{const ue=He(i,F),Ne=ue&&ue._f;if(Ne){const Z=Ne.refs?Ne.refs[0]:Ne.ref;Z.focus&&(Z.focus(),J.shouldSelect&&To(Z.select)&&Z.select())}},st=F=>{t={...t,...F}},Ct={control:{register:Ie,unregister:re,getFieldState:fe,handleSubmit:Oe,setError:Ae,_subscribe:U,_runSchema:$,_focusError:ye,_getWatch:ge,_getDirty:Se,_setValid:x,_setFieldArray:P,_setDisabledField:we,_setErrors:O,_getFieldArray:Ee,_reset:ct,_resetDefaultValues:()=>To(e.defaultValues)&&e.defaultValues().then(F=>{gn(F,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Fe,_subjects:p,_proxyFormState:f,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(F){o=F},get _defaultValues(){return r},get _names(){return a},set _names(F){a=F},get _formState(){return t},get _options(){return e},set _options(F){e={...e,...F}}},subscribe:ce,trigger:be,register:Ie,handleSubmit:Oe,watch:q,setValue:Y,getValues:V,reset:gn,resetField:at,clearErrors:Pe,unregister:re,setError:Ae,setFocus:cn,getFieldState:fe};return{...Ct,formControl:Ct}}function Mu(n={}){const e=Ue.useRef(void 0),t=Ue.useRef(void 0),[i,r]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:To(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:To(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!To(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...a}=Qme(n);e.current={...a,formState:i}}const s=e.current.control;return s._options=n,gP(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Ue.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),Ue.useEffect(()=>{n.mode&&(s._options.mode=n.mode),n.reValidateMode&&(s._options.reValidateMode=n.reValidateMode)},[s,n.mode,n.reValidateMode]),Ue.useEffect(()=>{n.errors&&(s._setErrors(n.errors),s._focusError())},[s,n.errors]),Ue.useEffect(()=>{n.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,n.shouldUnregister]),Ue.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==i.isDirty&&s._subjects.state.next({isDirty:o})}},[s,i.isDirty]),Ue.useEffect(()=>{n.values&&!zl(n.values,t.current)?(s._reset(n.values,{keepFieldsRef:!0,...s._options.resetOptions}),t.current=n.values,r(o=>({...o}))):s._resetDefaultValues()},[s,n.values]),Ue.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=aU(i,s),e.current}var Jme="Label",gU=C.forwardRef((n,e)=>y.jsx(Rt.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));gU.displayName=Jme;var pU=gU;const Xme=Nv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bU=C.forwardRef(({className:n,...e},t)=>y.jsx(pU,{ref:t,className:Ye(Xme(),n),...e}));bU.displayName=pU.displayName;const Bu=Nme,vU=C.createContext({}),ti=({...n})=>y.jsx(vU.Provider,{value:{name:n.name},children:y.jsx(Lme,{...n})}),X1=()=>{const n=C.useContext(vU),e=C.useContext(wU),{getFieldState:t,formState:i}=J1(),r=t(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...r}},wU=C.createContext({}),Un=C.forwardRef(({className:n,...e},t)=>{const i=C.useId();return y.jsx(wU.Provider,{value:{id:i},children:y.jsx("div",{ref:t,className:Ye("space-y-2",n),...e})})});Un.displayName="FormItem";const $n=C.forwardRef(({className:n,...e},t)=>{const{error:i,formItemId:r}=X1();return y.jsx(bU,{ref:t,className:Ye(i&&"text-destructive",n),htmlFor:r,...e})});$n.displayName="FormLabel";const Hn=C.forwardRef(({...n},e)=>{const{error:t,formItemId:i,formDescriptionId:r,formMessageId:s}=X1();return y.jsx(yf,{ref:e,id:i,"aria-describedby":t?`${r} ${s}`:`${r}`,"aria-invalid":!!t,...n})});Hn.displayName="FormControl";const ege=C.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:i}=X1();return y.jsx("p",{ref:t,id:i,className:Ye("text-[0.8rem] text-muted-foreground",n),...e})});ege.displayName="FormDescription";const Wn=C.forwardRef(({className:n,children:e,...t},i)=>{const{error:r,formMessageId:s}=X1(),o=r?String(r?.message??""):e;return o?y.jsx("p",{ref:i,id:s,className:Ye("text-[0.8rem] font-medium text-destructive",n),...t,children:o}):null});Wn.displayName="FormMessage";const yU=Object.freeze({status:"aborted"});function te(n,e,t){function i(a,l){var d;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(d=a._zod).traits??(d.traits=new Set),a._zod.traits.add(n),e(a,l);for(const f in o.prototype)f in a||Object.defineProperty(a,f,{value:o.prototype[f].bind(a)});a._zod.constr=o,a._zod.def=l}const r=t?.Parent??Object;class s extends r{}Object.defineProperty(s,"name",{value:n});function o(a){var l;const d=t?.Parent?new s:this;i(d,a),(l=d._zod).deferred??(l.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>t?.Parent&&a instanceof t.Parent?!0:a?._zod?.traits?.has(n)}),Object.defineProperty(o,"name",{value:n}),o}const _U=Symbol("zod_brand");class Zd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ek extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const dA={};function Br(n){return n&&Object.assign(dA,n),dA}function tge(n){return n}function nge(n){return n}function ige(n){}function rge(n){throw new Error}function sge(n){}function wP(n){const e=Object.values(n).filter(i=>typeof i=="number");return Object.entries(n).filter(([i,r])=>e.indexOf(+i)===-1).map(([i,r])=>r)}function je(n,e="|"){return n.map(t=>At(t)).join(e)}function fA(n,e){return typeof e=="bigint"?e.toString():e}function qv(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function Cf(n){return n==null}function tk(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function AU(n,e){const t=(n.toString().split(".")[1]||"").length,i=e.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const l=i.match(/\d?e-(\d?)/);l?.[1]&&(r=Number.parseInt(l[1]))}const s=t>r?t:r,o=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const WM=Symbol("evaluating");function Ft(n,e,t){let i;Object.defineProperty(n,e,{get(){if(i!==WM)return i===void 0&&(i=WM,i=t()),i},set(r){Object.defineProperty(n,e,{value:r})},configurable:!0})}function nk(n){return Object.create(Object.getPrototypeOf(n),Object.getOwnPropertyDescriptors(n))}function Qo(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function Vu(...n){const e={};for(const t of n){const i=Object.getOwnPropertyDescriptors(t);Object.assign(e,i)}return Object.defineProperties({},e)}function oge(n){return Vu(n._zod.def)}function age(n,e){return e?e.reduce((t,i)=>t?.[i],n):n}function lge(n){const e=Object.keys(n),t=e.map(i=>n[i]);return Promise.all(t).then(i=>{const r={};for(let s=0;s<e.length;s++)r[e[s]]=i[s];return r})}function cge(n=10){const e="abcdefghijklmnopqrstuvwxyz";let t="";for(let i=0;i<n;i++)t+=e[Math.floor(Math.random()*e.length)];return t}function CT(n){return JSON.stringify(n)}const yP="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Tm(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const kU=qv(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function af(n){if(Tm(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Tm(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function ik(n){return af(n)?{...n}:n}function uge(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}const dge=n=>{const e=typeof n;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(n)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(n)?"array":n===null?"null":n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?"promise":typeof Map<"u"&&n instanceof Map?"map":typeof Set<"u"&&n instanceof Set?"set":typeof Date<"u"&&n instanceof Date?"date":typeof File<"u"&&n instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},hA=new Set(["string","number","symbol"]),xU=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Pu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function co(n,e,t){const i=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(i._zod.parent=n),i}function Ce(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function fge(n){let e;return new Proxy({},{get(t,i,r){return e??(e=n()),Reflect.get(e,i,r)},set(t,i,r,s){return e??(e=n()),Reflect.set(e,i,r,s)},has(t,i){return e??(e=n()),Reflect.has(e,i)},deleteProperty(t,i){return e??(e=n()),Reflect.deleteProperty(e,i)},ownKeys(t){return e??(e=n()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(t,i){return e??(e=n()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(t,i,r){return e??(e=n()),Reflect.defineProperty(e,i,r)}})}function At(n){return typeof n=="bigint"?n.toString()+"n":typeof n=="string"?`"${n}"`:`${n}`}function CU(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const SU={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},EU={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function TU(n,e){const t=n._zod.def,i=Vu(n._zod.def,{get shape(){const r={};for(const s in e){if(!(s in t.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(r[s]=t.shape[s])}return Qo(this,"shape",r),r},checks:[]});return co(n,i)}function IU(n,e){const t=n._zod.def,i=Vu(n._zod.def,{get shape(){const r={...n._zod.def.shape};for(const s in e){if(!(s in t.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete r[s]}return Qo(this,"shape",r),r},checks:[]});return co(n,i)}function PU(n,e){if(!af(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Vu(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e};return Qo(this,"shape",s),s},checks:[]});return co(n,r)}function RU(n,e){if(!af(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const i={...n._zod.def.shape,...e};return Qo(this,"shape",i),i},checks:n._zod.def.checks};return co(n,t)}function OU(n,e){const t=Vu(n._zod.def,{get shape(){const i={...n._zod.def.shape,...e._zod.def.shape};return Qo(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return co(n,t)}function DU(n,e,t){const i=Vu(e._zod.def,{get shape(){const r=e._zod.def.shape,s={...r};if(t)for(const o in t){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=n?new n({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)s[o]=n?new n({type:"optional",innerType:r[o]}):r[o];return Qo(this,"shape",s),s},checks:[]});return co(e,i)}function NU(n,e,t){const i=Vu(e._zod.def,{get shape(){const r=e._zod.def.shape,s={...r};if(t)for(const o in t){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=new n({type:"nonoptional",innerType:r[o]}))}else for(const o in r)s[o]=new n({type:"nonoptional",innerType:r[o]});return Qo(this,"shape",s),s},checks:[]});return co(e,i)}function Ud(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function Ro(n,e){return e.map(t=>{var i;return(i=t).path??(i.path=[]),t.path.unshift(n),t})}function ub(n){return typeof n=="string"?n:n?.message}function Uo(n,e,t){const i={...n,path:n.path??[]};if(!n.message){const r=ub(n.inst?._zod.def?.error?.(n))??ub(e?.error?.(n))??ub(t.customError?.(n))??ub(t.localeError?.(n))??"Invalid input";i.message=r}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function rk(n){return n instanceof Set?"set":n instanceof Map?"map":n instanceof File?"file":"unknown"}function sk(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Im(...n){const[e,t,i]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:i}:{...e}}function hge(n){return Object.entries(n).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function MU(n){const e=atob(n),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function BU(n){let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}function mge(n){const e=n.replace(/-/g,"+").replace(/_/g,"/"),t="=".repeat((4-e.length%4)%4);return MU(e+t)}function gge(n){return BU(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function pge(n){const e=n.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i/2]=Number.parseInt(e.slice(i,i+2),16);return t}function bge(n){return Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}class vge{constructor(...e){}}const VU=Object.freeze(Object.defineProperty({__proto__:null,BIGINT_FORMAT_RANGES:EU,Class:vge,NUMBER_FORMAT_RANGES:SU,aborted:Ud,allowsEval:kU,assert:sge,assertEqual:tge,assertIs:ige,assertNever:rge,assertNotEqual:nge,assignProp:Qo,base64ToUint8Array:MU,base64urlToUint8Array:mge,cached:qv,captureStackTrace:yP,cleanEnum:hge,cleanRegex:tk,clone:co,cloneDef:oge,createTransparentProxy:fge,defineLazy:Ft,esc:CT,escapeRegex:Pu,extend:PU,finalizeIssue:Uo,floatSafeRemainder:AU,getElementAtPath:age,getEnumValues:wP,getLengthableOrigin:sk,getParsedType:dge,getSizableOrigin:rk,hexToUint8Array:pge,isObject:Tm,isPlainObject:af,issue:Im,joinValues:je,jsonStringifyReplacer:fA,merge:OU,mergeDefs:Vu,normalizeParams:Ce,nullish:Cf,numKeys:uge,objectClone:nk,omit:IU,optionalKeys:CU,partial:DU,pick:TU,prefixIssues:Ro,primitiveTypes:xU,promiseAllObject:lge,propertyKeyTypes:hA,randomString:cge,required:NU,safeExtend:RU,shallowClone:ik,stringifyPrimitive:At,uint8ArrayToBase64:BU,uint8ArrayToBase64url:gge,uint8ArrayToHex:bge,unwrapMessage:ub},Symbol.toStringTag,{value:"Module"})),LU=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,fA,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},ok=te("$ZodError",LU),Ns=te("$ZodError",LU,{Parent:Error});function _P(n,e=t=>t.message){const t={},i=[];for(const r of n.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}function AP(n,e){const t=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>r({issues:a}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)i._errors.push(t(o));else{let a=i,l=0;for(;l<o.path.length;){const d=o.path[l];l===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(t(o))):a[d]=a[d]||{_errors:[]},a=a[d],l++}}};return r(n),i}function FU(n,e){const t=e||function(s){return s.message},i={errors:[]},r=(s,o=[])=>{var a,l;for(const d of s.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(f=>r({issues:f},d.path));else if(d.code==="invalid_key")r({issues:d.issues},d.path);else if(d.code==="invalid_element")r({issues:d.issues},d.path);else{const f=[...o,...d.path];if(f.length===0){i.errors.push(t(d));continue}let m=i,p=0;for(;p<f.length;){const w=f[p],A=p===f.length-1;typeof w=="string"?(m.properties??(m.properties={}),(a=m.properties)[w]??(a[w]={errors:[]}),m=m.properties[w]):(m.items??(m.items=[]),(l=m.items)[w]??(l[w]={errors:[]}),m=m.items[w]),A&&m.errors.push(t(d)),p++}}};return r(n),i}function zU(n){const e=[],t=n.map(i=>typeof i=="object"?i.key:i);for(const i of t)typeof i=="number"?e.push(`[${i}]`):typeof i=="symbol"?e.push(`[${JSON.stringify(String(i))}]`):/[^\w$]/.test(i)?e.push(`[${JSON.stringify(i)}]`):(e.length&&e.push("."),e.push(i));return e.join("")}function jU(n){const e=[],t=[...n.issues].sort((i,r)=>(i.path??[]).length-(r.path??[]).length);for(const i of t)e.push(` ${i.message}`),i.path?.length&&e.push(`   at ${zU(i.path)}`);return e.join(`
`)}const Zv=n=>(e,t,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},o=e._zod.run({value:t,issues:[]},s);if(o instanceof Promise)throw new Zd;if(o.issues.length){const a=new(r?.Err??n)(o.issues.map(l=>Uo(l,s,Br())));throw yP(a,r?.callee),a}return o.value},mA=Zv(Ns),Qv=n=>async(e,t,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=e._zod.run({value:t,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(r?.Err??n)(o.issues.map(l=>Uo(l,s,Br())));throw yP(a,r?.callee),a}return o.value},gA=Qv(Ns),Jv=n=>(e,t,i)=>{const r=i?{...i,async:!1}:{async:!1},s=e._zod.run({value:t,issues:[]},r);if(s instanceof Promise)throw new Zd;return s.issues.length?{success:!1,error:new(n??ok)(s.issues.map(o=>Uo(o,r,Br())))}:{success:!0,data:s.value}},UU=Jv(Ns),Xv=n=>async(e,t,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=e._zod.run({value:t,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new n(s.issues.map(o=>Uo(o,r,Br())))}:{success:!0,data:s.value}},$U=Xv(Ns),kP=n=>(e,t,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Zv(n)(e,t,r)},wge=kP(Ns),xP=n=>(e,t,i)=>Zv(n)(e,t,i),yge=xP(Ns),CP=n=>async(e,t,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Qv(n)(e,t,r)},_ge=CP(Ns),SP=n=>async(e,t,i)=>Qv(n)(e,t,i),Age=SP(Ns),EP=n=>(e,t,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Jv(n)(e,t,r)},kge=EP(Ns),TP=n=>(e,t,i)=>Jv(n)(e,t,i),xge=TP(Ns),IP=n=>async(e,t,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Xv(n)(e,t,r)},Cge=IP(Ns),PP=n=>async(e,t,i)=>Xv(n)(e,t,i),Sge=PP(Ns),HU=/^[cC][^\s-]{8,}$/,WU=/^[0-9a-z]+$/,GU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,YU=/^[0-9a-vA-V]{20}$/,KU=/^[A-Za-z0-9]{27}$/,qU=/^[a-zA-Z0-9_-]{21}$/,ZU=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ege=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,QU=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Pm=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Tge=Pm(4),Ige=Pm(6),Pge=Pm(7),JU=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Rge=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oge=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Dge=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Nge=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Mge=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bge="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function XU(){return new RegExp(Bge,"u")}const e$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,n$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,i$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,RP=/^[A-Za-z0-9_-]*$/,OP=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,s$=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,o$=/^\+(?:[0-9]){6,14}[0-9]$/,a$="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",l$=new RegExp(`^${a$}$`);function c$(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function u$(n){return new RegExp(`^${c$(n)}$`)}function d$(n){const e=c$({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${t.join("|")})`;return new RegExp(`^${a$}T(?:${i})$`)}const f$=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},h$=/^\d+n?$/,m$=/^\d+$/,g$=/^-?\d+(?:\.\d+)?/i,p$=/true|false/i,b$=/null/i,v$=/undefined/i,w$=/^[^A-Z]*$/,y$=/^[^a-z]*$/,_$=/^[0-9a-fA-F]*$/;function ew(n,e){return new RegExp(`^[A-Za-z0-9+/]{${n}}${e}$`)}function tw(n){return new RegExp(`^[A-Za-z0-9-_]{${n}}$`)}const Vge=/^[0-9a-fA-F]{32}$/,Lge=ew(22,"=="),Fge=tw(22),zge=/^[0-9a-fA-F]{40}$/,jge=ew(27,"="),Uge=tw(27),$ge=/^[0-9a-fA-F]{64}$/,Hge=ew(43,"="),Wge=tw(43),Gge=/^[0-9a-fA-F]{96}$/,Yge=ew(64,""),Kge=tw(64),qge=/^[0-9a-fA-F]{128}$/,Zge=ew(86,"=="),Qge=tw(86),DP=Object.freeze(Object.defineProperty({__proto__:null,base64:r$,base64url:RP,bigint:h$,boolean:p$,browserEmail:Mge,cidrv4:n$,cidrv6:i$,cuid:HU,cuid2:WU,date:l$,datetime:d$,domain:s$,duration:ZU,e164:o$,email:JU,emoji:XU,extendedDuration:Ege,guid:QU,hex:_$,hostname:OP,html5Email:Rge,idnEmail:Nge,integer:m$,ipv4:e$,ipv6:t$,ksuid:KU,lowercase:w$,md5_base64:Lge,md5_base64url:Fge,md5_hex:Vge,nanoid:qU,null:b$,number:g$,rfc5322Email:Oge,sha1_base64:jge,sha1_base64url:Uge,sha1_hex:zge,sha256_base64:Hge,sha256_base64url:Wge,sha256_hex:$ge,sha384_base64:Yge,sha384_base64url:Kge,sha384_hex:Gge,sha512_base64:Zge,sha512_base64url:Qge,sha512_hex:qge,string:f$,time:u$,ulid:GU,undefined:v$,unicodeEmail:Dge,uppercase:y$,uuid:Pm,uuid4:Tge,uuid6:Ige,uuid7:Pge,xid:YU},Symbol.toStringTag,{value:"Module"})),fi=te("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),A$={number:"number",bigint:"bigint",object:"date"},NP=te("$ZodCheckLessThan",(n,e)=>{fi.init(n,e);const t=A$[typeof e.value];n._zod.onattach.push(i=>{const r=i._zod.bag,s=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),n._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:t,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),MP=te("$ZodCheckGreaterThan",(n,e)=>{fi.init(n,e);const t=A$[typeof e.value];n._zod.onattach.push(i=>{const r=i._zod.bag,s=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),n._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:t,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),k$=te("$ZodCheckMultipleOf",(n,e)=>{fi.init(n,e),n._zod.onattach.push(t=>{var i;(i=t._zod.bag).multipleOf??(i.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):AU(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),x$=te("$ZodCheckNumberFormat",(n,e)=>{fi.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),i=t?"int":"number",[r,s]=SU[e.format];n._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=r,a.maximum=s,t&&(a.pattern=m$)}),n._zod.check=o=>{const a=o.value;if(t){if(!Number.isInteger(a)){o.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:a,inst:n});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:i,continue:!e.abort});return}}a<r&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:r,inclusive:!0,inst:n,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:n})}}),C$=te("$ZodCheckBigIntFormat",(n,e)=>{fi.init(n,e);const[t,i]=EU[e.format];n._zod.onattach.push(r=>{const s=r._zod.bag;s.format=e.format,s.minimum=t,s.maximum=i}),n._zod.check=r=>{const s=r.value;s<t&&r.issues.push({origin:"bigint",input:s,code:"too_small",minimum:t,inclusive:!0,inst:n,continue:!e.abort}),s>i&&r.issues.push({origin:"bigint",input:s,code:"too_big",maximum:i,inst:n})}}),S$=te("$ZodCheckMaxSize",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.size!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),n._zod.check=i=>{const r=i.value;r.size<=e.maximum||i.issues.push({origin:rk(r),code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:n,continue:!e.abort})}}),E$=te("$ZodCheckMinSize",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.size!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),n._zod.check=i=>{const r=i.value;r.size>=e.minimum||i.issues.push({origin:rk(r),code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:n,continue:!e.abort})}}),T$=te("$ZodCheckSizeEquals",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.size!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=e.size,r.maximum=e.size,r.size=e.size}),n._zod.check=i=>{const r=i.value,s=r.size;if(s===e.size)return;const o=s>e.size;i.issues.push({origin:rk(r),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:i.value,inst:n,continue:!e.abort})}}),I$=te("$ZodCheckMaxLength",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.length!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),n._zod.check=i=>{const r=i.value;if(r.length<=e.maximum)return;const o=sk(r);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:n,continue:!e.abort})}}),P$=te("$ZodCheckMinLength",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.length!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),n._zod.check=i=>{const r=i.value;if(r.length>=e.minimum)return;const o=sk(r);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:n,continue:!e.abort})}}),R$=te("$ZodCheckLengthEquals",(n,e)=>{var t;fi.init(n,e),(t=n._zod.def).when??(t.when=i=>{const r=i.value;return!Cf(r)&&r.length!==void 0}),n._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),n._zod.check=i=>{const r=i.value,s=r.length;if(s===e.length)return;const o=sk(r),a=s>e.length;i.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:n,continue:!e.abort})}}),nw=te("$ZodCheckStringFormat",(n,e)=>{var t,i;fi.init(n,e),n._zod.onattach.push(r=>{const s=r._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(i=n._zod).check??(i.check=()=>{})}),O$=te("$ZodCheckRegex",(n,e)=>{nw.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),D$=te("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=w$),nw.init(n,e)}),N$=te("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=y$),nw.init(n,e)}),M$=te("$ZodCheckIncludes",(n,e)=>{fi.init(n,e);const t=Pu(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=i,n._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),n._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:n,continue:!e.abort})}}),B$=te("$ZodCheckStartsWith",(n,e)=>{fi.init(n,e);const t=new RegExp(`^${Pu(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(t)}),n._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:n,continue:!e.abort})}}),V$=te("$ZodCheckEndsWith",(n,e)=>{fi.init(n,e);const t=new RegExp(`.*${Pu(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(t)}),n._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:n,continue:!e.abort})}});function GM(n,e,t){n.issues.length&&e.issues.push(...Ro(t,n.issues))}const L$=te("$ZodCheckProperty",(n,e)=>{fi.init(n,e),n._zod.check=t=>{const i=e.schema._zod.run({value:t.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(r=>GM(r,t,e.property));GM(i,t,e.property)}}),F$=te("$ZodCheckMimeType",(n,e)=>{fi.init(n,e);const t=new Set(e.mime);n._zod.onattach.push(i=>{i._zod.bag.mime=e.mime}),n._zod.check=i=>{t.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:n,continue:!e.abort})}}),z$=te("$ZodCheckOverwrite",(n,e)=>{fi.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class j${constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(o=>o),r=Math.min(...i.map(o=>o.length-o.trimStart().length)),s=i.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,t=this?.args,r=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...t,r.join(`
`))}}const U$={major:4,minor:1,patch:3},kt=te("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=U$;const i=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&i.unshift(n);for(const r of i)for(const s of r._zod.onattach)s(n);if(i.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const r=(o,a,l)=>{let d=Ud(o),f;for(const m of a){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,w=m._zod.check(o);if(w instanceof Promise&&l?.async===!1)throw new Zd;if(f||w instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await w,o.issues.length!==p&&(d||(d=Ud(o,p)))});else{if(o.issues.length===p)continue;d||(d=Ud(o,p))}}return f?f.then(()=>o):o},s=(o,a,l)=>{if(Ud(o))return o.aborted=!0,o;const d=r(a,i,l);if(d instanceof Promise){if(l.async===!1)throw new Zd;return d.then(f=>n._zod.parse(f,l))}return n._zod.parse(d,l)};n._zod.run=(o,a)=>{if(a.skipChecks)return n._zod.parse(o,a);if(a.direction==="backward"){const d=n._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,o,a)):s(d,o,a)}const l=n._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new Zd;return l.then(d=>r(d,i,a))}return r(l,i,a)}}n["~standard"]={validate:r=>{try{const s=UU(n,r);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return $U(n,r).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),iw=te("$ZodString",(n,e)=>{kt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??f$(n._zod.bag),n._zod.parse=(t,i)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Pn=te("$ZodStringFormat",(n,e)=>{nw.init(n,e),iw.init(n,e)}),$$=te("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=QU),Pn.init(n,e)}),H$=te("$ZodUUID",(n,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Pm(i))}else e.pattern??(e.pattern=Pm());Pn.init(n,e)}),W$=te("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=JU),Pn.init(n,e)}),G$=te("$ZodURL",(n,e)=>{Pn.init(n,e),n._zod.check=t=>{try{const i=t.value.trim(),r=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:OP.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=r.href:t.value=i;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),Y$=te("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=XU()),Pn.init(n,e)}),K$=te("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=qU),Pn.init(n,e)}),q$=te("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=HU),Pn.init(n,e)}),Z$=te("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=WU),Pn.init(n,e)}),Q$=te("$ZodULID",(n,e)=>{e.pattern??(e.pattern=GU),Pn.init(n,e)}),J$=te("$ZodXID",(n,e)=>{e.pattern??(e.pattern=YU),Pn.init(n,e)}),X$=te("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=KU),Pn.init(n,e)}),e9=te("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=d$(e)),Pn.init(n,e)}),t9=te("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=l$),Pn.init(n,e)}),n9=te("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=u$(e)),Pn.init(n,e)}),i9=te("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=ZU),Pn.init(n,e)}),r9=te("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=e$),Pn.init(n,e),n._zod.onattach.push(t=>{const i=t._zod.bag;i.format="ipv4"})}),s9=te("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=t$),Pn.init(n,e),n._zod.onattach.push(t=>{const i=t._zod.bag;i.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),o9=te("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=n$),Pn.init(n,e)}),a9=te("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=i$),Pn.init(n,e),n._zod.check=t=>{const[i,r]=t.value.split("/");try{if(!r)throw new Error;const s=Number(r);if(`${s}`!==r)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function BP(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const l9=te("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=r$),Pn.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{BP(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function c9(n){if(!RP.test(n))return!1;const e=n.replace(/[-_]/g,i=>i==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return BP(t)}const u9=te("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=RP),Pn.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{c9(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),d9=te("$ZodE164",(n,e)=>{e.pattern??(e.pattern=o$),Pn.init(n,e)});function f9(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[i]=t;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const h9=te("$ZodJWT",(n,e)=>{Pn.init(n,e),n._zod.check=t=>{f9(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),m9=te("$ZodCustomStringFormat",(n,e)=>{Pn.init(n,e),n._zod.check=t=>{e.fn(t.value)||t.issues.push({code:"invalid_format",format:e.format,input:t.value,inst:n,continue:!e.abort})}}),VP=te("$ZodNumber",(n,e)=>{kt.init(n,e),n._zod.pattern=n._zod.bag.pattern??g$,n._zod.parse=(t,i)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const r=t.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return t;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:r,inst:n,...s?{received:s}:{}}),t}}),g9=te("$ZodNumber",(n,e)=>{x$.init(n,e),VP.init(n,e)}),LP=te("$ZodBoolean",(n,e)=>{kt.init(n,e),n._zod.pattern=p$,n._zod.parse=(t,i)=>{if(e.coerce)try{t.value=!!t.value}catch{}const r=t.value;return typeof r=="boolean"||t.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:n}),t}}),FP=te("$ZodBigInt",(n,e)=>{kt.init(n,e),n._zod.pattern=h$,n._zod.parse=(t,i)=>{if(e.coerce)try{t.value=BigInt(t.value)}catch{}return typeof t.value=="bigint"||t.issues.push({expected:"bigint",code:"invalid_type",input:t.value,inst:n}),t}}),p9=te("$ZodBigInt",(n,e)=>{C$.init(n,e),FP.init(n,e)}),b9=te("$ZodSymbol",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;return typeof r=="symbol"||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:n}),t}}),v9=te("$ZodUndefined",(n,e)=>{kt.init(n,e),n._zod.pattern=v$,n._zod.values=new Set([void 0]),n._zod.optin="optional",n._zod.optout="optional",n._zod.parse=(t,i)=>{const r=t.value;return typeof r>"u"||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:n}),t}}),w9=te("$ZodNull",(n,e)=>{kt.init(n,e),n._zod.pattern=b$,n._zod.values=new Set([null]),n._zod.parse=(t,i)=>{const r=t.value;return r===null||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:n}),t}}),y9=te("$ZodAny",(n,e)=>{kt.init(n,e),n._zod.parse=t=>t}),_9=te("$ZodUnknown",(n,e)=>{kt.init(n,e),n._zod.parse=t=>t}),A9=te("$ZodNever",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)}),k9=te("$ZodVoid",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;return typeof r>"u"||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:n}),t}}),x9=te("$ZodDate",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{if(e.coerce)try{t.value=new Date(t.value)}catch{}const r=t.value,s=r instanceof Date;return s&&!Number.isNaN(r.getTime())||t.issues.push({expected:"date",code:"invalid_type",input:r,...s?{received:"Invalid Date"}:{},inst:n}),t}});function YM(n,e,t){n.issues.length&&e.issues.push(...Ro(t,n.issues)),e.value[t]=n.value}const C9=te("$ZodArray",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;if(!Array.isArray(r))return t.issues.push({expected:"array",code:"invalid_type",input:r,inst:n}),t;t.value=Array(r.length);const s=[];for(let o=0;o<r.length;o++){const a=r[o],l=e.element._zod.run({value:a,issues:[]},i);l instanceof Promise?s.push(l.then(d=>YM(d,t,o))):YM(l,t,o)}return s.length?Promise.all(s).then(()=>t):t}});function pA(n,e,t,i){n.issues.length&&e.issues.push(...Ro(t,n.issues)),n.value===void 0?t in i&&(e.value[t]=void 0):e.value[t]=n.value}function S9(n){const e=Object.keys(n.shape);for(const i of e)if(!n.shape[i]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const t=CU(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function E9(n,e,t,i,r,s){const o=[],a=r.keySet,l=r.catchall._zod,d=l.def.type;for(const f of Object.keys(e)){if(a.has(f))continue;if(d==="never"){o.push(f);continue}const m=l.run({value:e[f],issues:[]},i);m instanceof Promise?n.push(m.then(p=>pA(p,t,f,e))):pA(m,t,f,e)}return o.length&&t.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),n.length?Promise.all(n).then(()=>t):t}const T9=te("$ZodObject",(n,e)=>{kt.init(n,e);const t=qv(()=>S9(e));Ft(n._zod,"propValues",()=>{const o=e.shape,a={};for(const l in o){const d=o[l]._zod;if(d.values){a[l]??(a[l]=new Set);for(const f of d.values)a[l].add(f)}}return a});const i=Tm,r=e.catchall;let s;n._zod.parse=(o,a)=>{s??(s=t.value);const l=o.value;if(!i(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:n}),o;o.value={};const d=[],f=s.shape;for(const m of s.keys){const w=f[m]._zod.run({value:l[m],issues:[]},a);w instanceof Promise?d.push(w.then(A=>pA(A,o,m,l))):pA(w,o,m,l)}return r?E9(d,l,o,a,t.value,n):d.length?Promise.all(d).then(()=>o):o}}),I9=te("$ZodObjectJIT",(n,e)=>{T9.init(n,e);const t=n._zod.parse,i=qv(()=>S9(e)),r=p=>{const w=new j$(["shape","payload","ctx"]),A=i.value,x=O=>{const M=CT(O);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};w.write("const input = payload.value;");const S=Object.create(null);let P=0;for(const O of A.keys)S[O]=`key_${P++}`;w.write("const newResult = {}");for(const O of A.keys){const M=S[O],B=CT(O);w.write(`const ${M} = ${x(O)};`),w.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        if (${M}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${M}.value;
        }
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const I=w.compile();return(O,M)=>I(p,O,M)};let s;const o=Tm,a=!dA.jitless,d=a&&kU.value,f=e.catchall;let m;n._zod.parse=(p,w)=>{m??(m=i.value);const A=p.value;return o(A)?a&&d&&w?.async===!1&&w.jitless!==!0?(s||(s=r(e.shape)),p=s(p,w),f?E9([],A,p,w,m,n):p):t(p,w):(p.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),p)}});function KM(n,e,t,i){for(const s of n)if(s.issues.length===0)return e.value=s.value,e;const r=n.filter(s=>!Ud(s));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(s=>s.issues.map(o=>Uo(o,i,Br())))}),e)}const zP=te("$ZodUnion",(n,e)=>{kt.init(n,e),Ft(n._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Ft(n._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Ft(n._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),Ft(n._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>tk(s.source)).join("|")})$`)}});const t=e.options.length===1,i=e.options[0]._zod.run;n._zod.parse=(r,s)=>{if(t)return i(r,s);let o=!1;const a=[];for(const l of e.options){const d=l._zod.run({value:r.value,issues:[]},s);if(d instanceof Promise)a.push(d),o=!0;else{if(d.issues.length===0)return d;a.push(d)}}return o?Promise.all(a).then(l=>KM(l,r,n,s)):KM(a,r,n,s)}}),P9=te("$ZodDiscriminatedUnion",(n,e)=>{zP.init(n,e);const t=n._zod.parse;Ft(n._zod,"propValues",()=>{const r={};for(const s of e.options){const o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(const[a,l]of Object.entries(o)){r[a]||(r[a]=new Set);for(const d of l)r[a].add(d)}}return r});const i=qv(()=>{const r=e.options,s=new Map;for(const o of r){const a=o._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(const l of a){if(s.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);s.set(l,o)}}return s});n._zod.parse=(r,s)=>{const o=r.value;if(!Tm(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:n}),r;const a=i.value.get(o?.[e.discriminator]);return a?a._zod.run(r,s):e.unionFallback?t(r,s):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:o,path:[e.discriminator],inst:n}),r)}}),R9=te("$ZodIntersection",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value,s=e.left._zod.run({value:r,issues:[]},i),o=e.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,d])=>qM(t,l,d)):qM(t,s,o)}});function ST(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(af(n)&&af(e)){const t=Object.keys(e),i=Object.keys(n).filter(s=>t.indexOf(s)!==-1),r={...n,...e};for(const s of i){const o=ST(n[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r[s]=o.data}return{valid:!0,data:r}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let i=0;i<n.length;i++){const r=n[i],s=e[i],o=ST(r,s);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};t.push(o.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function qM(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),Ud(n))return n;const i=ST(e.value,t.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return n.value=i.data,n}const jP=te("$ZodTuple",(n,e)=>{kt.init(n,e);const t=e.items,i=t.length-[...t].reverse().findIndex(r=>r._zod.optin!=="optional");n._zod.parse=(r,s)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:n,expected:"tuple",code:"invalid_type"}),r;r.value=[];const a=[];if(!e.rest){const d=o.length>t.length,f=o.length<i-1;if(d||f)return r.issues.push({...d?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},input:o,inst:n,origin:"array"}),r}let l=-1;for(const d of t){if(l++,l>=o.length&&l>=i)continue;const f=d._zod.run({value:o[l],issues:[]},s);f instanceof Promise?a.push(f.then(m=>C_(m,r,l))):C_(f,r,l)}if(e.rest){const d=o.slice(t.length);for(const f of d){l++;const m=e.rest._zod.run({value:f,issues:[]},s);m instanceof Promise?a.push(m.then(p=>C_(p,r,l))):C_(m,r,l)}}return a.length?Promise.all(a).then(()=>r):r}});function C_(n,e,t){n.issues.length&&e.issues.push(...Ro(t,n.issues)),e.value[t]=n.value}const O9=te("$ZodRecord",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;if(!af(r))return t.issues.push({expected:"record",code:"invalid_type",input:r,inst:n}),t;const s=[];if(e.keyType._zod.values){const o=e.keyType._zod.values;t.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const d=e.valueType._zod.run({value:r[l],issues:[]},i);d instanceof Promise?s.push(d.then(f=>{f.issues.length&&t.issues.push(...Ro(l,f.issues)),t.value[l]=f.value})):(d.issues.length&&t.issues.push(...Ro(l,d.issues)),t.value[l]=d.value)}let a;for(const l in r)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&t.issues.push({code:"unrecognized_keys",input:r,inst:n,keys:a})}else{t.value={};for(const o of Reflect.ownKeys(r)){if(o==="__proto__")continue;const a=e.keyType._zod.run({value:o,issues:[]},i);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){t.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(d=>Uo(d,i,Br())),input:o,path:[o],inst:n}),t.value[a.value]=a.value;continue}const l=e.valueType._zod.run({value:r[o],issues:[]},i);l instanceof Promise?s.push(l.then(d=>{d.issues.length&&t.issues.push(...Ro(o,d.issues)),t.value[a.value]=d.value})):(l.issues.length&&t.issues.push(...Ro(o,l.issues)),t.value[a.value]=l.value)}}return s.length?Promise.all(s).then(()=>t):t}}),D9=te("$ZodMap",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;if(!(r instanceof Map))return t.issues.push({expected:"map",code:"invalid_type",input:r,inst:n}),t;const s=[];t.value=new Map;for(const[o,a]of r){const l=e.keyType._zod.run({value:o,issues:[]},i),d=e.valueType._zod.run({value:a,issues:[]},i);l instanceof Promise||d instanceof Promise?s.push(Promise.all([l,d]).then(([f,m])=>{ZM(f,m,t,o,r,n,i)})):ZM(l,d,t,o,r,n,i)}return s.length?Promise.all(s).then(()=>t):t}});function ZM(n,e,t,i,r,s,o){n.issues.length&&(hA.has(typeof i)?t.issues.push(...Ro(i,n.issues)):t.issues.push({code:"invalid_key",origin:"map",input:r,inst:s,issues:n.issues.map(a=>Uo(a,o,Br()))})),e.issues.length&&(hA.has(typeof i)?t.issues.push(...Ro(i,e.issues)):t.issues.push({origin:"map",code:"invalid_element",input:r,inst:s,key:i,issues:e.issues.map(a=>Uo(a,o,Br()))})),t.value.set(n.value,e.value)}const N9=te("$ZodSet",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;if(!(r instanceof Set))return t.issues.push({input:r,inst:n,expected:"set",code:"invalid_type"}),t;const s=[];t.value=new Set;for(const o of r){const a=e.valueType._zod.run({value:o,issues:[]},i);a instanceof Promise?s.push(a.then(l=>QM(l,t))):QM(a,t)}return s.length?Promise.all(s).then(()=>t):t}});function QM(n,e){n.issues.length&&e.issues.push(...n.issues),e.value.add(n.value)}const M9=te("$ZodEnum",(n,e)=>{kt.init(n,e);const t=wP(e.entries),i=new Set(t);n._zod.values=i,n._zod.pattern=new RegExp(`^(${t.filter(r=>hA.has(typeof r)).map(r=>typeof r=="string"?Pu(r):r.toString()).join("|")})$`),n._zod.parse=(r,s)=>{const o=r.value;return i.has(o)||r.issues.push({code:"invalid_value",values:t,input:o,inst:n}),r}}),B9=te("$ZodLiteral",(n,e)=>{if(kt.init(n,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");n._zod.values=new Set(e.values),n._zod.pattern=new RegExp(`^(${e.values.map(t=>typeof t=="string"?Pu(t):t?Pu(t.toString()):String(t)).join("|")})$`),n._zod.parse=(t,i)=>{const r=t.value;return n._zod.values.has(r)||t.issues.push({code:"invalid_value",values:e.values,input:r,inst:n}),t}}),V9=te("$ZodFile",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{const r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:n}),t}}),L9=te("$ZodTransform",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{if(i.direction==="backward")throw new ek(n.constructor.name);const r=e.transform(t.value,t);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(t.value=o,t));if(r instanceof Promise)throw new Zd;return t.value=r,t}});function JM(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const F9=te("$ZodOptional",(n,e)=>{kt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Ft(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Ft(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${tk(t.source)})?$`):void 0}),n._zod.parse=(t,i)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(s=>JM(s,t.value)):JM(r,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,i)}}),z9=te("$ZodNullable",(n,e)=>{kt.init(n,e),Ft(n._zod,"optin",()=>e.innerType._zod.optin),Ft(n._zod,"optout",()=>e.innerType._zod.optout),Ft(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${tk(t.source)}|null)$`):void 0}),Ft(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,i)=>t.value===null?t:e.innerType._zod.run(t,i)}),j9=te("$ZodDefault",(n,e)=>{kt.init(n,e),n._zod.optin="optional",Ft(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,i)=>{if(i.direction==="backward")return e.innerType._zod.run(t,i);if(t.value===void 0)return t.value=e.defaultValue,t;const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(s=>XM(s,e)):XM(r,e)}});function XM(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const U9=te("$ZodPrefault",(n,e)=>{kt.init(n,e),n._zod.optin="optional",Ft(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,i)=>(i.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,i))}),$9=te("$ZodNonOptional",(n,e)=>{kt.init(n,e),Ft(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(i=>i!==void 0)):void 0}),n._zod.parse=(t,i)=>{const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(s=>eB(s,n)):eB(r,n)}});function eB(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const H9=te("$ZodSuccess",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>{if(i.direction==="backward")throw new ek("ZodSuccess");const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(s=>(t.value=s.issues.length===0,t)):(t.value=r.issues.length===0,t)}}),W9=te("$ZodCatch",(n,e)=>{kt.init(n,e),Ft(n._zod,"optin",()=>e.innerType._zod.optin),Ft(n._zod,"optout",()=>e.innerType._zod.optout),Ft(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,i)=>{if(i.direction==="backward")return e.innerType._zod.run(t,i);const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(s=>(t.value=s.value,s.issues.length&&(t.value=e.catchValue({...t,error:{issues:s.issues.map(o=>Uo(o,i,Br()))},input:t.value}),t.issues=[]),t)):(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(s=>Uo(s,i,Br()))},input:t.value}),t.issues=[]),t)}}),G9=te("$ZodNaN",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>((typeof t.value!="number"||!Number.isNaN(t.value))&&t.issues.push({input:t.value,inst:n,expected:"nan",code:"invalid_type"}),t)}),Y9=te("$ZodPipe",(n,e)=>{kt.init(n,e),Ft(n._zod,"values",()=>e.in._zod.values),Ft(n._zod,"optin",()=>e.in._zod.optin),Ft(n._zod,"optout",()=>e.out._zod.optout),Ft(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,i)=>{if(i.direction==="backward"){const s=e.out._zod.run(t,i);return s instanceof Promise?s.then(o=>S_(o,e.in,i)):S_(s,e.in,i)}const r=e.in._zod.run(t,i);return r instanceof Promise?r.then(s=>S_(s,e.out,i)):S_(r,e.out,i)}});function S_(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const UP=te("$ZodCodec",(n,e)=>{kt.init(n,e),Ft(n._zod,"values",()=>e.in._zod.values),Ft(n._zod,"optin",()=>e.in._zod.optin),Ft(n._zod,"optout",()=>e.out._zod.optout),Ft(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,i)=>{if((i.direction||"forward")==="forward"){const s=e.in._zod.run(t,i);return s instanceof Promise?s.then(o=>E_(o,e,i)):E_(s,e,i)}else{const s=e.out._zod.run(t,i);return s instanceof Promise?s.then(o=>E_(o,e,i)):E_(s,e,i)}}});function E_(n,e,t){if(n.issues.length)return n.aborted=!0,n;if((t.direction||"forward")==="forward"){const r=e.transform(n.value,n);return r instanceof Promise?r.then(s=>T_(n,s,e.out,t)):T_(n,r,e.out,t)}else{const r=e.reverseTransform(n.value,n);return r instanceof Promise?r.then(s=>T_(n,s,e.in,t)):T_(n,r,e.in,t)}}function T_(n,e,t,i){return n.issues.length?(n.aborted=!0,n):t._zod.run({value:e,issues:n.issues},i)}const K9=te("$ZodReadonly",(n,e)=>{kt.init(n,e),Ft(n._zod,"propValues",()=>e.innerType._zod.propValues),Ft(n._zod,"values",()=>e.innerType._zod.values),Ft(n._zod,"optin",()=>e.innerType._zod.optin),Ft(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,i)=>{if(i.direction==="backward")return e.innerType._zod.run(t,i);const r=e.innerType._zod.run(t,i);return r instanceof Promise?r.then(tB):tB(r)}});function tB(n){return n.value=Object.freeze(n.value),n}const q9=te("$ZodTemplateLiteral",(n,e)=>{kt.init(n,e);const t=[];for(const i of e.parts)if(typeof i=="object"&&i!==null){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);const r=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!r)throw new Error(`Invalid template literal part: ${i._zod.traits}`);const s=r.startsWith("^")?1:0,o=r.endsWith("$")?r.length-1:r.length;t.push(r.slice(s,o))}else if(i===null||xU.has(typeof i))t.push(Pu(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);n._zod.pattern=new RegExp(`^${t.join("")}$`),n._zod.parse=(i,r)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:n,expected:"template_literal",code:"invalid_type"}),i):(n._zod.pattern.lastIndex=0,n._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:n,code:"invalid_format",format:e.format??"template_literal",pattern:n._zod.pattern.source}),i)}),Z9=te("$ZodFunction",(n,e)=>(kt.init(n,e),n._def=e,n._zod.def=e,n.implement=t=>{if(typeof t!="function")throw new Error("implement() must be called with a function");return function(...i){const r=n._def.input?mA(n._def.input,i):i,s=Reflect.apply(t,this,r);return n._def.output?mA(n._def.output,s):s}},n.implementAsync=t=>{if(typeof t!="function")throw new Error("implementAsync() must be called with a function");return async function(...i){const r=n._def.input?await gA(n._def.input,i):i,s=await Reflect.apply(t,this,r);return n._def.output?await gA(n._def.output,s):s}},n._zod.parse=(t,i)=>typeof t.value!="function"?(t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:n}),t):(n._def.output&&n._def.output._zod.def.type==="promise"?t.value=n.implementAsync(t.value):t.value=n.implement(t.value),t),n.input=(...t)=>{const i=n.constructor;return Array.isArray(t[0])?new i({type:"function",input:new jP({type:"tuple",items:t[0],rest:t[1]}),output:n._def.output}):new i({type:"function",input:t[0],output:n._def.output})},n.output=t=>{const i=n.constructor;return new i({type:"function",input:n._def.input,output:t})},n)),Q9=te("$ZodPromise",(n,e)=>{kt.init(n,e),n._zod.parse=(t,i)=>Promise.resolve(t.value).then(r=>e.innerType._zod.run({value:r,issues:[]},i))}),J9=te("$ZodLazy",(n,e)=>{kt.init(n,e),Ft(n._zod,"innerType",()=>e.getter()),Ft(n._zod,"pattern",()=>n._zod.innerType._zod.pattern),Ft(n._zod,"propValues",()=>n._zod.innerType._zod.propValues),Ft(n._zod,"optin",()=>n._zod.innerType._zod.optin??void 0),Ft(n._zod,"optout",()=>n._zod.innerType._zod.optout??void 0),n._zod.parse=(t,i)=>n._zod.innerType._zod.run(t,i)}),X9=te("$ZodCustom",(n,e)=>{fi.init(n,e),kt.init(n,e),n._zod.parse=(t,i)=>t,n._zod.check=t=>{const i=t.value,r=e.fn(i);if(r instanceof Promise)return r.then(s=>nB(s,t,i,n));nB(r,t,i,n)}});function nB(n,e,t,i){if(!n){const r={code:"custom",input:t,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),e.issues.push(Im(r))}}const Jge=()=>{const n={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${t(r.input)}`;case"invalid_value":return r.values.length===1?`  :   ${At(r.values[0])}`:`  :     : ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`   :    ${r.origin??""} ${s} ${r.maximum.toString()} ${o.unit??""}`:`  :    ${r.origin??""} ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`  :   ${r.origin}   ${s} ${r.minimum.toString()} ${o.unit}`:`  :   ${r.origin}   ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`  :     "${r.prefix}"`:s.format==="ends_with"?`  :     "${s.suffix}"`:s.format==="includes"?`  :    "${s.includes}"`:s.format==="regex"?`  :     ${s.pattern}`:`${i[s.format]??r.format}  `}case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${je(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${r.origin}`;default:return"  "}}};function Xge(){return{localeError:Jge()}}const epe=()=>{const n={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanl dyr: gzlniln ${r.expected}, daxil olan ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Yanl dyr: gzlniln ${At(r.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`ox byk: gzlniln ${r.origin??"dyr"} ${s}${r.maximum.toString()} ${o.unit??"element"}`:`ox byk: gzlniln ${r.origin??"dyr"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`ox kiik: gzlniln ${r.origin} ${s}${r.minimum.toString()} ${o.unit}`:`ox kiik: gzlniln ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Yanl mtn: "${s.prefix}" il balamaldr`:s.format==="ends_with"?`Yanl mtn: "${s.suffix}" il bitmlidir`:s.format==="includes"?`Yanl mtn: "${s.includes}" daxil olmaldr`:s.format==="regex"?`Yanl mtn: ${s.pattern} ablonuna uyun olmaldr`:`Yanl ${i[s.format]??r.format}`}case"not_multiple_of":return`Yanl dd: ${r.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${r.keys.length>1?"lar":""}: ${je(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function tpe(){return{localeError:epe()}}function iB(n,e,t,i){const r=Math.abs(n),s=r%10,o=r%100;return o>=11&&o<=19?i:s===1?e:s>=2&&s<=4?t:i}const npe=()=>{const n={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])}`:` :    ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);if(o){const a=Number(r.maximum),l=iB(a,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${r.origin??""}  ${o.verb} ${s}${r.maximum.toString()} ${l}`}return` : ,  ${r.origin??""}   ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);if(o){const a=Number(r.minimum),l=iB(a,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${r.origin}  ${o.verb} ${s}${r.minimum.toString()} ${l}`}return` : ,  ${r.origin}   ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${i[s.format]??r.format}`}case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return" "}}};function ipe(){return{localeError:npe()}}const rpe=()=>{const n={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus invlid: s'esperava ${r.expected}, s'ha rebut ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Valor invlid: s'esperava ${At(r.values[0])}`:`Opci invlida: s'esperava una de ${je(r.values," o ")}`;case"too_big":{const s=r.inclusive?"com a mxim":"menys de",o=e(r.origin);return o?`Massa gran: s'esperava que ${r.origin??"el valor"} contingus ${s} ${r.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"com a mnim":"ms de",o=e(r.origin);return o?`Massa petit: s'esperava que ${r.origin} contingus ${s} ${r.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${r.origin} fos ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Format invlid: ha de comenar amb "${s.prefix}"`:s.format==="ends_with"?`Format invlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invlid: ha de coincidir amb el patr ${s.pattern}`:`Format invlid per a ${i[s.format]??r.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Clau invlida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${r.origin}`;default:return"Entrada invlida"}}};function spe(){return{localeError:rpe()}}const ope=()=>{const n={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(r))return"pole";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatn vstup: oekvno ${r.expected}, obdreno ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Neplatn vstup: oekvno ${At(r.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Hodnota je pli velk: ${r.origin??"hodnota"} mus mt ${s}${r.maximum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli velk: ${r.origin??"hodnota"} mus bt ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Hodnota je pli mal: ${r.origin??"hodnota"} mus mt ${s}${r.minimum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli mal: ${r.origin??"hodnota"} mus bt ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Neplatn etzec: mus zanat na "${s.prefix}"`:s.format==="ends_with"?`Neplatn etzec: mus konit na "${s.suffix}"`:s.format==="includes"?`Neplatn etzec: mus obsahovat "${s.includes}"`:s.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${s.pattern}`:`Neplatn formt ${i[s.format]??r.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${r.divisor}`;case"unrecognized_keys":return`Neznm kle: ${je(r.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${r.origin}`;default:return"Neplatn vstup"}}};function ape(){return{localeError:ope()}}const lpe=()=>{const n={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},e={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function t(o){return n[o]??null}function i(o){return e[o]??o}const r=o=>{const a=typeof o;switch(a){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return a},s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${i(o.expected)}, fik ${i(r(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vrdi: forventede ${At(o.values[0])}`:`Ugyldigt valg: forventede en af flgende ${je(o.values,"|")}`;case"too_big":{const a=o.inclusive?"<=":"<",l=t(o.origin),d=i(o.origin);return l?`For stor: forventede ${d??"value"} ${l.verb} ${a} ${o.maximum.toString()} ${l.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${a} ${o.maximum.toString()}`}case"too_small":{const a=o.inclusive?">=":">",l=t(o.origin),d=i(o.origin);return l?`For lille: forventede ${d} ${l.verb} ${a} ${o.minimum.toString()} ${l.unit}`:`For lille: forventede ${d} havde ${a} ${o.minimum.toString()}`}case"invalid_format":{const a=o;return a.format==="starts_with"?`Ugyldig streng: skal starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: skal ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: skal indeholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: skal matche mnsteret ${a.pattern}`:`Ugyldig ${s[a.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${je(o.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${o.origin}`;default:return"Ugyldigt input"}}};function cpe(){return{localeError:lpe()}}const upe=()=>{const n={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"Zahl";case"object":{if(Array.isArray(r))return"Array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${r.expected}, erhalten ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Ungltige Eingabe: erwartet ${At(r.values[0])}`:`Ungltige Option: erwartet eine von ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Zu gro: erwartet, dass ${r.origin??"Wert"} ${s}${r.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${r.origin??"Wert"} ${s}${r.maximum.toString()} ist`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Zu klein: erwartet, dass ${r.origin} ${s}${r.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${r.origin} ${s}${r.minimum.toString()} ist`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ungltiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungltiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungltiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungltiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungltig: ${i[s.format]??r.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${je(r.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${r.origin}`;default:return"Ungltige Eingabe"}}};function dpe(){return{localeError:upe()}}const fpe=n=>{const e=typeof n;switch(e){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return e},hpe=()=>{const n={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(i){return n[i]??null}const t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Invalid input: expected ${i.expected}, received ${fpe(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${At(i.values[0])}`:`Invalid option: expected one of ${je(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Too big: expected ${i.origin??"value"} to have ${r}${i.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Too small: expected ${i.origin} to have ${r}${i.minimum.toString()} ${s.unit}`:`Too small: expected ${i.origin} to be ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Invalid string: must start with "${r.prefix}"`:r.format==="ends_with"?`Invalid string: must end with "${r.suffix}"`:r.format==="includes"?`Invalid string: must include "${r.includes}"`:r.format==="regex"?`Invalid string: must match pattern ${r.pattern}`:`Invalid ${t[r.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${je(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function eH(){return{localeError:hpe()}}const mpe=n=>{const e=typeof n;switch(e){case"number":return Number.isNaN(n)?"NaN":"nombro";case"object":{if(Array.isArray(n))return"tabelo";if(n===null)return"senvalora";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return e},gpe=()=>{const n={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return n[i]??null}const t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return i=>{switch(i.code){case"invalid_type":return`Nevalida enigo: atendiis ${i.expected}, riceviis ${mpe(i.input)}`;case"invalid_value":return i.values.length===1?`Nevalida enigo: atendiis ${At(i.values[0])}`:`Nevalida opcio: atendiis unu el ${je(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Tro granda: atendiis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Tro malgranda: atendiis ke ${i.origin} havu ${r}${i.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiis ke ${i.origin} estu ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${r.prefix}"`:r.format==="ends_with"?`Nevalida karaktraro: devas finii per "${r.suffix}"`:r.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${r.includes}"`:r.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`:`Nevalida ${t[r.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} losilo${i.keys.length>1?"j":""}: ${je(i.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function ppe(){return{localeError:gpe()}}const bpe=()=>{const n={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nmero";case"object":{if(Array.isArray(r))return"arreglo";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype)return r.constructor.name}}return s},i={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Entrada invlida: se esperaba ${r.expected}, recibido ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada invlida: se esperaba ${At(r.values[0])}`:`Opcin invlida: se esperaba una de ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Demasiado grande: se esperaba que ${r.origin??"valor"} tuviera ${s}${r.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${r.origin??"valor"} fuera ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Demasiado pequeo: se esperaba que ${r.origin} tuviera ${s}${r.minimum.toString()} ${o.unit}`:`Demasiado pequeo: se esperaba que ${r.origin} fuera ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Cadena invlida: debe comenzar con "${s.prefix}"`:s.format==="ends_with"?`Cadena invlida: debe terminar en "${s.suffix}"`:s.format==="includes"?`Cadena invlida: debe incluir "${s.includes}"`:s.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${s.pattern}`:`Invlido ${i[s.format]??r.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${r.divisor}`;case"unrecognized_keys":return`Llave${r.keys.length>1?"s":""} desconocida${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Llave invlida en ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${r.origin}`;default:return"Entrada invlida"}}};function vpe(){return{localeError:bpe()}}const wpe=()=>{const n={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${t(r.input)}  `;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])} `:` :    ${je(r.values,"|")} `;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` : ${r.origin??""}  ${s}${r.maximum.toString()} ${o.unit??""} `:` : ${r.origin??""}  ${s}${r.maximum.toString()} `}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` : ${r.origin}  ${s}${r.minimum.toString()} ${o.unit} `:` : ${r.origin}  ${s}${r.minimum.toString()} `}case"invalid_format":{const s=r;return s.format==="starts_with"?` :   "${s.prefix}"  `:s.format==="ends_with"?` :   "${s.suffix}"  `:s.format==="includes"?` :   "${s.includes}" `:s.format==="regex"?` :    ${s.pattern}   `:`${i[s.format]??r.format} `}case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return" "}}};function ype(){return{localeError:wpe()}}const _pe=()=>{const n={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Virheellinen syte: tytyy olla ${At(r.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Liian suuri: ${o.subject} tytyy olla ${s}${r.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tytyy olla ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Liian pieni: ${o.subject} tytyy olla ${s}${r.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tytyy olla ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syte: tytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syte: tytyy sislt "${s.includes}"`:s.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${s.pattern}`:`Virheellinen ${i[s.format]??r.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${je(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function Ape(){return{localeError:_pe()}}const kpe=()=>{const n={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nombre";case"object":{if(Array.isArray(r))return"tableau";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entre invalide : ${r.expected} attendu, ${t(r.input)} reu`;case"invalid_value":return r.values.length===1?`Entre invalide : ${At(r.values[0])} attendu`:`Option invalide : une valeur parmi ${je(r.values,"|")} attendue`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Trop grand : ${r.origin??"valeur"} doit ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"lment(s)"}`:`Trop grand : ${r.origin??"valeur"} doit tre ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Trop petit : ${r.origin} doit ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Trop petit : ${r.origin} doit tre ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au modle ${s.pattern}`:`${i[s.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${je(r.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entre invalide"}}};function xpe(){return{localeError:kpe()}}const Cpe=()=>{const n={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entre invalide : attendu ${r.expected}, reu ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Entre invalide : attendu ${At(r.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"":"<",o=e(r.origin);return o?`Trop grand : attendu que ${r.origin??"la valeur"} ait ${s}${r.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${r.origin??"la valeur"} soit ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"":">",o=e(r.origin);return o?`Trop petit : attendu que ${r.origin} ait ${s}${r.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${r.origin} soit ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au motif ${s.pattern}`:`${i[s.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${je(r.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entre invalide"}}};function Spe(){return{localeError:Cpe()}}const Epe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?`  :  ${At(r.values[0])}`:`  :     ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` : ${r.origin??"value"}   ${s}${r.maximum.toString()} ${o.unit??"elements"}`:` : ${r.origin??"value"}   ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` : ${r.origin}   ${s}${r.minimum.toString()} ${o.unit}`:` : ${r.origin}   ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`  :   "${s.prefix}"`:s.format==="ends_with"?`  :    "${s.suffix}"`:s.format==="includes"?`  :   "${s.includes}"`:s.format==="regex"?`  :    ${s.pattern}`:`${i[s.format]??r.format}  `}case"not_multiple_of":return`  :     ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}  ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return"  "}}};function Tpe(){return{localeError:Epe()}}const Ipe=()=>{const n={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"szm";case"object":{if(Array.isArray(r))return"tmb";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${r.expected}, a kapott rtk ${t(r.input)}`;case"invalid_value":return r.values.length===1?`rvnytelen bemenet: a vrt rtk ${At(r.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Tl nagy: ${r.origin??"rtk"} mrete tl nagy ${s}${r.maximum.toString()} ${o.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${r.origin??"rtk"} tl nagy: ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Tl kicsi: a bemeneti rtk ${r.origin} mrete tl kicsi ${s}${r.minimum.toString()} ${o.unit}`:`Tl kicsi: a bemeneti rtk ${r.origin} tl kicsi ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`rvnytelen string: "${s.prefix}" rtkkel kell kezddnie`:s.format==="ends_with"?`rvnytelen string: "${s.suffix}" rtkkel kell vgzdnie`:s.format==="includes"?`rvnytelen string: "${s.includes}" rtket kell tartalmaznia`:s.format==="regex"?`rvnytelen string: ${s.pattern} mintnak kell megfelelnie`:`rvnytelen ${i[s.format]??r.format}`}case"not_multiple_of":return`rvnytelen szm: ${r.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${r.origin}`;default:return"rvnytelen bemenet"}}};function Ppe(){return{localeError:Ipe()}}const Rpe=()=>{const n={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak valid: diharapkan ${At(r.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${s}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: diharapkan ${r.origin} memiliki ${s}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${r.origin} menjadi ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${i[s.format]??r.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`;default:return"Input tidak valid"}}};function Ope(){return{localeError:Rpe()}}const Dpe=n=>{const e=typeof n;switch(e){case"number":return Number.isNaN(n)?"NaN":"nmer";case"object":{if(Array.isArray(n))return"fylki";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return e},Npe=()=>{const n={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function e(i){return n[i]??null}const t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return i=>{switch(i.code){case"invalid_type":return`Rangt gildi:  slst inn ${Dpe(i.input)} ar sem  a vera ${i.expected}`;case"invalid_value":return i.values.length===1?`Rangt gildi: gert r fyrir ${At(i.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${je(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`Of strt: gert er r fyrir a ${i.origin??"gildi"} hafi ${r}${i.maximum.toString()} ${s.unit??"hluti"}`:`Of strt: gert er r fyrir a ${i.origin??"gildi"} s ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`Of lti: gert er r fyrir a ${i.origin} hafi ${r}${i.minimum.toString()} ${s.unit}`:`Of lti: gert er r fyrir a ${i.origin} s ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`gildur strengur: verur a byrja  "${r.prefix}"`:r.format==="ends_with"?`gildur strengur: verur a enda  "${r.suffix}"`:r.format==="includes"?`gildur strengur: verur a innihalda "${r.includes}"`:r.format==="regex"?`gildur strengur: verur a fylgja mynstri ${r.pattern}`:`Rangt ${t[r.format]??i.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${i.divisor}`;case"unrecognized_keys":return`ekkt ${i.keys.length>1?"ir lyklar":"ur lykill"}: ${je(i.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${i.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${i.origin}`;default:return"Rangt gildi"}}};function Mpe(){return{localeError:Npe()}}const Bpe=()=>{const n={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"numero";case"object":{if(Array.isArray(r))return"vettore";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Input non valido: atteso ${At(r.values[0])}`:`Opzione non valida: atteso uno tra ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Troppo grande: ${r.origin??"valore"} deve avere ${s}${r.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${r.origin??"valore"} deve essere ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Troppo piccolo: ${r.origin} deve avere ${s}${r.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${r.origin} deve essere ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${i[s.format]??r.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${je(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`;default:return"Input non valido"}}};function Vpe(){return{localeError:Bpe()}}const Lpe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${t(r.input)}`;case"invalid_value":return r.values.length===1?`: ${At(r.values[0])}`:`: ${je(r.values,"")}`;case"too_big":{const s=r.inclusive?"":"",o=e(r.origin);return o?`: ${r.origin??""}${r.maximum.toString()}${o.unit??""}${s}`:`: ${r.origin??""}${r.maximum.toString()}${s}`}case"too_small":{const s=r.inclusive?"":"",o=e(r.origin);return o?`: ${r.origin}${r.minimum.toString()}${o.unit}${s}`:`: ${r.origin}${r.minimum.toString()}${s}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`: "${s.prefix}"`:s.format==="ends_with"?`: "${s.suffix}"`:s.format==="includes"?`: "${s.includes}"`:s.format==="regex"?`: ${s.pattern}`:`${i[s.format]??r.format}`}case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${je(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return""}}};function Fpe(){return{localeError:Lpe()}}const zpe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?" (NaN)":"";case"object":{if(Array.isArray(r))return" (Array)";if(r===null)return" (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${t(r.input)}`;case"invalid_value":return r.values.length===1?`  ${At(r.values[0])}`:`  ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`  ${r.origin??""} ${s} ${r.maximum.toString()} ${o.unit??""}`:`  ${r.origin??""} ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`  ${r.origin} ${s} ${r.minimum.toString()} ${o.unit}`:`  ${r.origin} ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`  "${s.prefix}"`:s.format==="ends_with"?`  "${s.suffix}"`:s.format==="includes"?`  "${s.includes}"`:s.format==="regex"?`  ${s.pattern}`:` ${i[s.format]??r.format}`}case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${je(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return"";case"invalid_element":return` ${r.origin}`;default:return""}}};function jpe(){return{localeError:zpe()}}const Upe=()=>{const n={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${t(r.input)}`;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])}  `:` : ${je(r.values," ")}   `;case"too_big":{const s=r.inclusive?"":"",o=s===""?" ":" ",a=e(r.origin),l=a?.unit??"";return a?`${r.origin??""}  : ${r.maximum.toString()}${l} ${s}${o}`:`${r.origin??""}  : ${r.maximum.toString()} ${s}${o}`}case"too_small":{const s=r.inclusive?"":"",o=s===""?" ":" ",a=e(r.origin),l=a?.unit??"";return a?`${r.origin??""}  : ${r.minimum.toString()}${l} ${s}${o}`:`${r.origin??""}  : ${r.minimum.toString()} ${s}${o}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` : "${s.prefix}"()  `:s.format==="ends_with"?` : "${s.suffix}"()  `:s.format==="includes"?` : "${s.includes}"()  `:s.format==="regex"?` :  ${s.pattern}   `:` ${i[s.format]??r.format}`}case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${je(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${r.origin}`;default:return" "}}};function $pe(){return{localeError:Upe()}}const Hpe=()=>{const n={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${At(r.values[0])}`:` :    ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` :   ${r.origin??""}   ${s}${r.maximum.toString()} ${o.unit??""}`:` :   ${r.origin??""}   ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` :   ${r.origin}   ${s}${r.minimum.toString()} ${o.unit}`:` :   ${r.origin}   ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` :     "${s.prefix}"`:s.format==="ends_with"?` :     "${s.suffix}"`:s.format==="includes"?` :    "${s.includes}"`:s.format==="regex"?` :      ${s.pattern}`:`Invalid ${i[s.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return" "}}};function Wpe(){return{localeError:Hpe()}}const Gpe=()=>{const n={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nombor";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak sah: dijangka ${At(r.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: dijangka ${r.origin??"nilai"} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: dijangka ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${r.origin} adalah ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${i[s.format]??r.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${je(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`;default:return"Input tidak sah"}}};function Ype(){return{localeError:Gpe()}}const Kpe=()=>{const n={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"getal";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Ongeldige invoer: verwacht ${At(r.values[0])}`:`Ongeldige optie: verwacht n van ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Te lang: verwacht dat ${r.origin??"waarde"} ${s}${r.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${r.origin??"waarde"} ${s}${r.maximum.toString()} is`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Te kort: verwacht dat ${r.origin} ${s}${r.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${r.origin} ${s}${r.minimum.toString()} is`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${i[s.format]??r.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`;default:return"Ongeldige invoer"}}};function qpe(){return{localeError:Kpe()}}const Zpe=()=>{const n={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"tall";case"object":{if(Array.isArray(r))return"liste";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Ugyldig verdi: forventet ${At(r.values[0])}`:`Ugyldig valg: forventet en av ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`For stor(t): forventet ${r.origin??"value"} til  ha ${s}${r.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${r.origin??"value"} til  ha ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`For lite(n): forventet ${r.origin} til  ha ${s}${r.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${r.origin} til  ha ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ugyldig streng: m starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: m ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: m inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: m matche mnsteret ${s.pattern}`:`Ugyldig ${i[s.format]??r.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${je(r.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${r.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`;default:return"Ugyldig input"}}};function Qpe(){return{localeError:Zpe()}}const Jpe=()=>{const n={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"numara";case"object":{if(Array.isArray(r))return"saf";if(r===null)return"gayb";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`Fsit giren: umulan ${r.expected}, alnan ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Fsit giren: umulan ${At(r.values[0])}`:`Fsit tercih: mteberler ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Fazla byk: ${r.origin??"value"}, ${s}${r.maximum.toString()} ${o.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${r.origin??"value"}, ${s}${r.maximum.toString()} olmalyd.`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Fazla kk: ${r.origin}, ${s}${r.minimum.toString()} ${o.unit} sahip olmalyd.`:`Fazla kk: ${r.origin}, ${s}${r.minimum.toString()} olmalyd.`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Fsit metin: "${s.prefix}" ile balamal.`:s.format==="ends_with"?`Fsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fsit metin: "${s.includes}" ihtiv etmeli.`:s.format==="regex"?`Fsit metin: ${s.pattern} nakna uymal.`:`Fsit ${i[s.format]??r.format}`}case"not_multiple_of":return`Fsit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`${r.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function Xpe(){return{localeError:Jpe()}}const ebe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${t(r.input)}  `;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])} `:` :    ${je(r.values,"|")}  `;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` : ${r.origin??""}  ${s}${r.maximum.toString()} ${o.unit??""} `:` : ${r.origin??""}  ${s}${r.maximum.toString()} `}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` : ${r.origin}  ${s}${r.minimum.toString()} ${o.unit} `:` : ${r.origin}  ${s}${r.minimum.toString()} `}case"invalid_format":{const s=r;return s.format==="starts_with"?` :   "${s.prefix}"   `:s.format==="ends_with"?` :   "${s.suffix}"    `:s.format==="includes"?` :  "${s.includes}" `:s.format==="regex"?` :   ${s.pattern}   `:`${i[s.format]??r.format}  `}case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin} `;default:return" "}}};function tbe(){return{localeError:ebe()}}const nbe=()=>{const n={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"liczba";case"object":{if(Array.isArray(r))return"tablica";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${At(r.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${s}${r.maximum.toString()} ${o.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${s}${r.minimum.toString()} ${o.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${s.suffix}"`:s.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${s.includes}"`:s.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${s.pattern}`:`Nieprawidow(y/a/e) ${i[s.format]??r.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function ibe(){return{localeError:nbe()}}const rbe=()=>{const n={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nmero";case"object":{if(Array.isArray(r))return"array";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo invlido: esperado ${r.expected}, recebido ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada invlida: esperado ${At(r.values[0])}`:`Opo invlida: esperada uma das ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Muito grande: esperado que ${r.origin??"valor"} tivesse ${s}${r.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${r.origin??"valor"} fosse ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Muito pequeno: esperado que ${r.origin} tivesse ${s}${r.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${r.origin} fosse ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Texto invlido: deve comear com "${s.prefix}"`:s.format==="ends_with"?`Texto invlido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto invlido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto invlido: deve corresponder ao padro ${s.pattern}`:`${i[s.format]??r.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${je(r.keys,", ")}`;case"invalid_key":return`Chave invlida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${r.origin}`;default:return"Campo invlido"}}};function sbe(){return{localeError:rbe()}}function rB(n,e,t,i){const r=Math.abs(n),s=r%10,o=r%100;return o>=11&&o<=19?i:s===1?e:s>=2&&s<=4?t:i}const obe=()=>{const n={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])}`:` :    ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);if(o){const a=Number(r.maximum),l=rB(a,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${r.origin??""}   ${s}${r.maximum.toString()} ${l}`}return`  : ,  ${r.origin??""}  ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);if(o){const a=Number(r.minimum),l=rB(a,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${r.origin}   ${s}${r.minimum.toString()} ${l}`}return`  : ,  ${r.origin}  ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${i[s.format]??r.format}`}case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return"  "}}};function abe(){return{localeError:obe()}}const lbe=()=>{const n={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"tevilo";case"object":{if(Array.isArray(r))return"tabela";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Neveljaven vnos: priakovano ${At(r.values[0])}`:`Neveljavna monost: priakovano eno izmed ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${s}${r.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Premajhno: priakovano, da bo ${r.origin} imelo ${s}${r.minimum.toString()} ${o.unit}`:`Premajhno: priakovano, da bo ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se konati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${i[s.format]??r.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${je(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`;default:return"Neveljaven vnos"}}};function cbe(){return{localeError:lbe()}}const ube=()=>{const n={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"antal";case"object":{if(Array.isArray(r))return"lista";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${r.expected}, fick ${t(r.input)}`;case"invalid_value":return r.values.length===1?`Ogiltig inmatning: frvntat ${At(r.values[0])}`:`Ogiltigt val: frvntade en av ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Fr stor(t): frvntade ${r.origin??"vrdet"} att ha ${s}${r.maximum.toString()} ${o.unit??"element"}`:`Fr stor(t): frvntat ${r.origin??"vrdet"} att ha ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Fr lite(t): frvntade ${r.origin??"vrdet"} att ha ${s}${r.minimum.toString()} ${o.unit}`:`Fr lite(t): frvntade ${r.origin??"vrdet"} att ha ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Ogiltig strng: mste brja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig strng: mste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig strng: mste innehlla "${s.includes}"`:s.format==="regex"?`Ogiltig strng: mste matcha mnstret "${s.pattern}"`:`Ogiltig(t) ${i[s.format]??r.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${je(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${r.origin??"vrdet"}`;default:return"Ogiltig input"}}};function dbe(){return{localeError:ube()}}const fbe=()=>{const n={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?" ":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?` :  ${At(r.values[0])}`:` :  ${je(r.values,"|")}  `;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` :  ${r.origin??""} ${s}${r.maximum.toString()} ${o.unit??""}   `:` :  ${r.origin??""} ${s}${r.maximum.toString()}   `}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` :  ${r.origin} ${s}${r.minimum.toString()} ${o.unit}   `:` :  ${r.origin} ${s}${r.minimum.toString()}   `}case"invalid_format":{const s=r;return s.format==="starts_with"?` : "${s.prefix}"   `:s.format==="ends_with"?` : "${s.suffix}"   `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` : ${s.pattern}   `:` ${i[s.format]??r.format}`}case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return" "}}};function hbe(){return{localeError:fbe()}}const mbe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?" (NaN)":"";case"object":{if(Array.isArray(r))return" (Array)";if(r===null)return" (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${t(r.input)}`;case"invalid_value":return r.values.length===1?`:  ${At(r.values[0])}`:`:  ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"":"",o=e(r.origin);return o?`: ${r.origin??""} ${s} ${r.maximum.toString()} ${o.unit??""}`:`: ${r.origin??""} ${s} ${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?"":"",o=e(r.origin);return o?`: ${r.origin} ${s} ${r.minimum.toString()} ${o.unit}`:`: ${r.origin} ${s} ${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`:  "${s.prefix}"`:s.format==="ends_with"?`:  "${s.suffix}"`:s.format==="includes"?`:  "${s.includes}" `:s.format==="regex"?`:  ${s.pattern}`:`: ${i[s.format]??r.format}`}case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${je(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return""}}};function gbe(){return{localeError:mbe()}}const pbe=n=>{const e=typeof n;switch(e){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return e},bbe=()=>{const n={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function e(i){return n[i]??null}const t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return i=>{switch(i.code){case"invalid_type":return`Geersiz deer: beklenen ${i.expected}, alnan ${pbe(i.input)}`;case"invalid_value":return i.values.length===1?`Geersiz deer: beklenen ${At(i.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${je(i.values,"|")}`;case"too_big":{const r=i.inclusive?"<=":"<",s=e(i.origin);return s?`ok byk: beklenen ${i.origin??"deer"} ${r}${i.maximum.toString()} ${s.unit??"e"}`:`ok byk: beklenen ${i.origin??"deer"} ${r}${i.maximum.toString()}`}case"too_small":{const r=i.inclusive?">=":">",s=e(i.origin);return s?`ok kk: beklenen ${i.origin} ${r}${i.minimum.toString()} ${s.unit}`:`ok kk: beklenen ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{const r=i;return r.format==="starts_with"?`Geersiz metin: "${r.prefix}" ile balamal`:r.format==="ends_with"?`Geersiz metin: "${r.suffix}" ile bitmeli`:r.format==="includes"?`Geersiz metin: "${r.includes}" iermeli`:r.format==="regex"?`Geersiz metin: ${r.pattern} desenine uymal`:`Geersiz ${t[r.format]??i.format}`}case"not_multiple_of":return`Geersiz say: ${i.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${i.keys.length>1?"lar":""}: ${je(i.keys,", ")}`;case"invalid_key":return`${i.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${i.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function vbe(){return{localeError:bbe()}}const wbe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${t(r.input)}`;case"invalid_value":return r.values.length===1?`  :  ${At(r.values[0])}`:` :    ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` : ,  ${r.origin??""} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??""}`:` : ,  ${r.origin??""}  ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` : ,  ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:` : ,  ${r.origin}  ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${i[s.format]??r.format}`}case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${je(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return"  "}}};function ybe(){return{localeError:wbe()}}const _be=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${t(r.input)}  `;case"invalid_value":return r.values.length===1?`  : ${At(r.values[0])}  `:` : ${je(r.values,"|")}     `;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` : ${r.origin??""}  ${s}${r.maximum.toString()} ${o.unit??""}   `:` : ${r.origin??""}  ${s}${r.maximum.toString()}   `}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` : ${r.origin}  ${s}${r.minimum.toString()} ${o.unit}   `:` : ${r.origin}  ${s}${r.minimum.toString()}   `}case"invalid_format":{const s=r;return s.format==="starts_with"?` : "${s.prefix}"    `:s.format==="ends_with"?` : "${s.suffix}"    `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` :  ${s.pattern}    `:` ${i[s.format]??r.format}`}case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${je(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return"  "}}};function Abe(){return{localeError:_be()}}const kbe=()=>{const n={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"s";case"object":{if(Array.isArray(r))return"mng";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return r=>{switch(r.code){case"invalid_type":return`u vo khng hp l: mong i ${r.expected}, nhn c ${t(r.input)}`;case"invalid_value":return r.values.length===1?`u vo khng hp l: mong i ${At(r.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`Qu ln: mong i ${r.origin??"gi tr"} ${o.verb} ${s}${r.maximum.toString()} ${o.unit??"phn t"}`:`Qu ln: mong i ${r.origin??"gi tr"} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Qu nh: mong i ${r.origin} ${o.verb} ${s}${r.minimum.toString()} ${o.unit}`:`Qu nh: mong i ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`Chui khng hp l: phi bt u bng "${s.prefix}"`:s.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${s.suffix}"`:s.format==="includes"?`Chui khng hp l: phi bao gm "${s.includes}"`:s.format==="regex"?`Chui khng hp l: phi khp vi mu ${s.pattern}`:`${i[s.format]??r.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${je(r.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${r.origin}`;default:return"u vo khng hp l"}}};function xbe(){return{localeError:kbe()}}const Cbe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"(NaN)":"";case"object":{if(Array.isArray(r))return"";if(r===null)return"(null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${t(r.input)}`;case"invalid_value":return r.values.length===1?` ${At(r.values[0])}`:` ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` ${r.origin??""} ${s}${r.maximum.toString()} ${o.unit??""}`:` ${r.origin??""} ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` ${r.origin} ${s}${r.minimum.toString()} ${o.unit}`:` ${r.origin} ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:`${i[s.format]??r.format}`}case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${je(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return""}}};function Sbe(){return{localeError:Cbe()}}const Ebe=()=>{const n={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${t(r.input)}`;case"invalid_value":return r.values.length===1?` ${At(r.values[0])}`:` ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?` ${r.origin??""}  ${s}${r.maximum.toString()} ${o.unit??""}`:` ${r.origin??""}  ${s}${r.maximum.toString()}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?` ${r.origin}  ${s}${r.minimum.toString()} ${o.unit}`:` ${r.origin}  ${s}${r.minimum.toString()}`}case"invalid_format":{const s=r;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:` ${i[s.format]??r.format}`}case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${je(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return""}}};function Tbe(){return{localeError:Ebe()}}const Ibe=()=>{const n={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function e(r){return n[r]??null}const t=r=>{const s=typeof r;switch(s){case"number":return Number.isNaN(r)?"NaN":"nmb";case"object":{if(Array.isArray(r))return"akop";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return s},i={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return r=>{switch(r.code){case"invalid_type":return`bwl ae: a n lti fi ${r.expected}, m a r ${t(r.input)}`;case"invalid_value":return r.values.length===1?`bwl ae: a n lti fi ${At(r.values[0])}`:`yn ae: yan kan lra ${je(r.values,"|")}`;case"too_big":{const s=r.inclusive?"<=":"<",o=e(r.origin);return o?`T p j: a n lti j p ${r.origin??"iye"} ${o.verb} ${s}${r.maximum} ${o.unit}`:`T p j: a n lti j ${s}${r.maximum}`}case"too_small":{const s=r.inclusive?">=":">",o=e(r.origin);return o?`Kr ju: a n lti j p ${r.origin} ${o.verb} ${s}${r.minimum} ${o.unit}`:`Kr ju: a n lti j ${s}${r.minimum}`}case"invalid_format":{const s=r;return s.format==="starts_with"?`r ae: gbd br pl "${s.prefix}"`:s.format==="ends_with"?`r ae: gbd par pl "${s.suffix}"`:s.format==="includes"?`r ae: gbd n "${s.includes}"`:s.format==="regex"?`r ae: gbd b pr mu ${s.pattern}`:`Ae: ${i[s.format]??r.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${r.divisor}`;case"unrecognized_keys":return`Btn m: ${je(r.keys,", ")}`;case"invalid_key":return`Btn ae nn ${r.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${r.origin}`;default:return"bwl ae"}}};function Pbe(){return{localeError:Ibe()}}const tH=Object.freeze(Object.defineProperty({__proto__:null,ar:Xge,az:tpe,be:ipe,ca:spe,cs:ape,da:cpe,de:dpe,en:eH,eo:ppe,es:vpe,fa:ype,fi:Ape,fr:xpe,frCA:Spe,he:Tpe,hu:Ppe,id:Ope,is:Mpe,it:Vpe,ja:Fpe,kh:jpe,ko:$pe,mk:Wpe,ms:Ype,nl:qpe,no:Qpe,ota:Xpe,pl:ibe,ps:tbe,pt:sbe,ru:abe,sl:cbe,sv:dbe,ta:hbe,th:gbe,tr:vbe,ua:ybe,ur:Abe,vi:xbe,yo:Pbe,zhCN:Sbe,zhTW:Tbe},Symbol.toStringTag,{value:"Module"})),nH=Symbol("ZodOutput"),iH=Symbol("ZodInput");class $P{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const i=t[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const i={...this.get(t)??{}};delete i.id;const r={...i,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function HP(){return new $P}const $d=HP();function rH(n,e){return new n({type:"string",...Ce(e)})}function sH(n,e){return new n({type:"string",coerce:!0,...Ce(e)})}function WP(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Ce(e)})}function bA(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(e)})}function GP(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(e)})}function YP(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(e)})}function KP(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(e)})}function qP(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(e)})}function ak(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Ce(e)})}function ZP(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(e)})}function QP(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(e)})}function JP(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(e)})}function XP(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(e)})}function eR(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(e)})}function tR(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(e)})}function nR(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(e)})}function iR(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(e)})}function rR(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(e)})}function sR(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(e)})}function oR(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(e)})}function aR(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(e)})}function lR(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(e)})}function cR(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(e)})}function uR(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(e)})}const oH={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function aH(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(e)})}function lH(n,e){return new n({type:"string",format:"date",check:"string_format",...Ce(e)})}function cH(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Ce(e)})}function uH(n,e){return new n({type:"string",format:"duration",check:"string_format",...Ce(e)})}function dH(n,e){return new n({type:"number",checks:[],...Ce(e)})}function fH(n,e){return new n({type:"number",coerce:!0,checks:[],...Ce(e)})}function hH(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(e)})}function mH(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"float32",...Ce(e)})}function gH(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"float64",...Ce(e)})}function pH(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"int32",...Ce(e)})}function bH(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"uint32",...Ce(e)})}function vH(n,e){return new n({type:"boolean",...Ce(e)})}function wH(n,e){return new n({type:"boolean",coerce:!0,...Ce(e)})}function yH(n,e){return new n({type:"bigint",...Ce(e)})}function _H(n,e){return new n({type:"bigint",coerce:!0,...Ce(e)})}function AH(n,e){return new n({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Ce(e)})}function kH(n,e){return new n({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Ce(e)})}function xH(n,e){return new n({type:"symbol",...Ce(e)})}function CH(n,e){return new n({type:"undefined",...Ce(e)})}function SH(n,e){return new n({type:"null",...Ce(e)})}function EH(n){return new n({type:"any"})}function TH(n){return new n({type:"unknown"})}function IH(n,e){return new n({type:"never",...Ce(e)})}function PH(n,e){return new n({type:"void",...Ce(e)})}function RH(n,e){return new n({type:"date",...Ce(e)})}function OH(n,e){return new n({type:"date",coerce:!0,...Ce(e)})}function DH(n,e){return new n({type:"nan",...Ce(e)})}function lf(n,e){return new NP({check:"less_than",...Ce(e),value:n,inclusive:!1})}function No(n,e){return new NP({check:"less_than",...Ce(e),value:n,inclusive:!0})}function cf(n,e){return new MP({check:"greater_than",...Ce(e),value:n,inclusive:!1})}function _s(n,e){return new MP({check:"greater_than",...Ce(e),value:n,inclusive:!0})}function NH(n){return cf(0,n)}function MH(n){return lf(0,n)}function BH(n){return No(0,n)}function VH(n){return _s(0,n)}function tv(n,e){return new k$({check:"multiple_of",...Ce(e),value:n})}function lk(n,e){return new S$({check:"max_size",...Ce(e),maximum:n})}function nv(n,e){return new E$({check:"min_size",...Ce(e),minimum:n})}function dR(n,e){return new T$({check:"size_equals",...Ce(e),size:n})}function ck(n,e){return new I$({check:"max_length",...Ce(e),maximum:n})}function Rm(n,e){return new P$({check:"min_length",...Ce(e),minimum:n})}function uk(n,e){return new R$({check:"length_equals",...Ce(e),length:n})}function fR(n,e){return new O$({check:"string_format",format:"regex",...Ce(e),pattern:n})}function hR(n){return new D$({check:"string_format",format:"lowercase",...Ce(n)})}function mR(n){return new N$({check:"string_format",format:"uppercase",...Ce(n)})}function gR(n,e){return new M$({check:"string_format",format:"includes",...Ce(e),includes:n})}function pR(n,e){return new B$({check:"string_format",format:"starts_with",...Ce(e),prefix:n})}function bR(n,e){return new V$({check:"string_format",format:"ends_with",...Ce(e),suffix:n})}function LH(n,e,t){return new L$({check:"property",property:n,schema:e,...Ce(t)})}function vR(n,e){return new F$({check:"mime_type",mime:n,...Ce(e)})}function Sf(n){return new z$({check:"overwrite",tx:n})}function wR(n){return Sf(e=>e.normalize(n))}function yR(){return Sf(n=>n.trim())}function _R(){return Sf(n=>n.toLowerCase())}function AR(){return Sf(n=>n.toUpperCase())}function FH(n,e,t){return new n({type:"array",element:e,...Ce(t)})}function Rbe(n,e,t){return new n({type:"union",options:e,...Ce(t)})}function Obe(n,e,t,i){return new n({type:"union",options:t,discriminator:e,...Ce(i)})}function Dbe(n,e,t){return new n({type:"intersection",left:e,right:t})}function Nbe(n,e,t,i){const r=t instanceof kt,s=r?i:t,o=r?t:null;return new n({type:"tuple",items:e,rest:o,...Ce(s)})}function Mbe(n,e,t,i){return new n({type:"record",keyType:e,valueType:t,...Ce(i)})}function Bbe(n,e,t,i){return new n({type:"map",keyType:e,valueType:t,...Ce(i)})}function Vbe(n,e,t){return new n({type:"set",valueType:e,...Ce(t)})}function Lbe(n,e,t){const i=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new n({type:"enum",entries:i,...Ce(t)})}function Fbe(n,e,t){return new n({type:"enum",entries:e,...Ce(t)})}function zbe(n,e,t){return new n({type:"literal",values:Array.isArray(e)?e:[e],...Ce(t)})}function zH(n,e){return new n({type:"file",...Ce(e)})}function jbe(n,e){return new n({type:"transform",transform:e})}function Ube(n,e){return new n({type:"optional",innerType:e})}function $be(n,e){return new n({type:"nullable",innerType:e})}function Hbe(n,e,t){return new n({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ik(t)}})}function Wbe(n,e,t){return new n({type:"nonoptional",innerType:e,...Ce(t)})}function Gbe(n,e){return new n({type:"success",innerType:e})}function Ybe(n,e,t){return new n({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}function Kbe(n,e,t){return new n({type:"pipe",in:e,out:t})}function qbe(n,e){return new n({type:"readonly",innerType:e})}function Zbe(n,e,t){return new n({type:"template_literal",parts:e,...Ce(t)})}function Qbe(n,e){return new n({type:"lazy",getter:e})}function Jbe(n,e){return new n({type:"promise",innerType:e})}function jH(n,e,t){const i=Ce(t);return i.abort??(i.abort=!0),new n({type:"custom",check:"custom",fn:e,...i})}function UH(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Ce(t)})}function $H(n){const e=HH(t=>(t.addIssue=i=>{if(typeof i=="string")t.issues.push(Im(i,t.value,e._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=t.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),t.issues.push(Im(r))}},n(t.value,t)));return e}function HH(n,e){const t=new fi({check:"custom",...Ce(e)});return t._zod.check=n,t}function WH(n,e){const t=Ce(e);let i=t.truthy??["true","1","yes","on","y","enabled"],r=t.falsy??["false","0","no","off","n","disabled"];t.case!=="sensitive"&&(i=i.map(w=>typeof w=="string"?w.toLowerCase():w),r=r.map(w=>typeof w=="string"?w.toLowerCase():w));const s=new Set(i),o=new Set(r),a=n.Codec??UP,l=n.Boolean??LP,d=n.String??iw,f=new d({type:"string",error:t.error}),m=new l({type:"boolean",error:t.error}),p=new a({type:"pipe",in:f,out:m,transform:((w,A)=>{let x=w;return t.case!=="sensitive"&&(x=x.toLowerCase()),s.has(x)?!0:o.has(x)?!1:(A.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:A.value,inst:p,continue:!1}),{})}),reverseTransform:((w,A)=>w===!0?i[0]||"true":r[0]||"false"),error:t.error});return p}function rw(n,e,t,i={}){const r=Ce(i),s={...Ce(i),check:"string_format",type:"string",format:e,fn:typeof t=="function"?t:a=>t.test(a),...r};return t instanceof RegExp&&(s.pattern=t),new n(s)}class ET{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??$d,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var i;const r=e._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);const l=e._zod.toJSONSchema?.();if(l)a.schema=l;else{const m={...t,schemaPath:[...t.schemaPath,e],path:t.path},p=e._zod.parent;if(p)a.ref=p,this.process(p,m),this.seen.get(p).isParent=!0;else{const w=a.schema;switch(r.type){case"string":{const A=w;A.type="string";const{minimum:x,maximum:S,format:P,patterns:I,contentEncoding:O}=e._zod.bag;if(typeof x=="number"&&(A.minLength=x),typeof S=="number"&&(A.maxLength=S),P&&(A.format=s[P]??P,A.format===""&&delete A.format),O&&(A.contentEncoding=O),I&&I.size>0){const M=[...I];M.length===1?A.pattern=M[0].source:M.length>1&&(a.schema.allOf=[...M.map(B=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:B.source}))])}break}case"number":{const A=w,{minimum:x,maximum:S,format:P,multipleOf:I,exclusiveMaximum:O,exclusiveMinimum:M}=e._zod.bag;typeof P=="string"&&P.includes("int")?A.type="integer":A.type="number",typeof M=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(A.minimum=M,A.exclusiveMinimum=!0):A.exclusiveMinimum=M),typeof x=="number"&&(A.minimum=x,typeof M=="number"&&this.target!=="draft-4"&&(M>=x?delete A.minimum:delete A.exclusiveMinimum)),typeof O=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(A.maximum=O,A.exclusiveMaximum=!0):A.exclusiveMaximum=O),typeof S=="number"&&(A.maximum=S,typeof O=="number"&&this.target!=="draft-4"&&(O<=S?delete A.maximum:delete A.exclusiveMaximum)),typeof I=="number"&&(A.multipleOf=I);break}case"boolean":{const A=w;A.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{w.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{w.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const A=w,{minimum:x,maximum:S}=e._zod.bag;typeof x=="number"&&(A.minItems=x),typeof S=="number"&&(A.maxItems=S),A.type="array",A.items=this.process(r.element,{...m,path:[...m.path,"items"]});break}case"object":{const A=w;A.type="object",A.properties={};const x=r.shape;for(const I in x)A.properties[I]=this.process(x[I],{...m,path:[...m.path,"properties",I]});const S=new Set(Object.keys(x)),P=new Set([...S].filter(I=>{const O=r.shape[I]._zod;return this.io==="input"?O.optin===void 0:O.optout===void 0}));P.size>0&&(A.required=Array.from(P)),r.catchall?._zod.def.type==="never"?A.additionalProperties=!1:r.catchall?r.catchall&&(A.additionalProperties=this.process(r.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(A.additionalProperties=!1);break}case"union":{const A=w,x=r.options.map((S,P)=>this.process(S,{...m,path:[...m.path,"anyOf",P]}));if(this.target==="openapi-3.0"){const S=x.filter(I=>I.type!=="null"),P=S.length!==x.length;S.length===1?Object.assign(A,S[0]):A.anyOf=S,P&&(A.nullable=!0)}else A.anyOf=x;break}case"intersection":{const A=w,x=this.process(r.left,{...m,path:[...m.path,"allOf",0]}),S=this.process(r.right,{...m,path:[...m.path,"allOf",1]}),P=O=>"allOf"in O&&Object.keys(O).length===1,I=[...P(x)?x.allOf:[x],...P(S)?S.allOf:[S]];A.allOf=I;break}case"tuple":{const A=w;A.type="array";const x=this.target==="draft-2020-12"?"prefixItems":"items",S=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",P=r.items.map((B,W)=>this.process(B,{...m,path:[...m.path,x,W]})),I=r.rest?this.process(r.rest,{...m,path:[...m.path,S,...this.target==="openapi-3.0"?[r.items.length]:[]]}):null;this.target==="draft-2020-12"?(A.prefixItems=P,I&&(A.items=I)):this.target==="openapi-3.0"?(A.items={anyOf:[...P]},I&&A.items.anyOf.push(I),A.minItems=P.length,I||(A.maxItems=P.length)):(A.items=P,I&&(A.additionalItems=I));const{minimum:O,maximum:M}=e._zod.bag;typeof O=="number"&&(A.minItems=O),typeof M=="number"&&(A.maxItems=M);break}case"record":{const A=w;A.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(A.propertyNames=this.process(r.keyType,{...m,path:[...m.path,"propertyNames"]})),A.additionalProperties=this.process(r.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const A=w,x=wP(r.entries);x.every(S=>typeof S=="number")&&(A.type="number"),x.every(S=>typeof S=="string")&&(A.type="string"),A.enum=x;break}case"literal":{const A=w,x=[];for(const S of r.values)if(S===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof S=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");x.push(Number(S))}else x.push(S);if(x.length!==0)if(x.length===1){const S=x[0];A.type=S===null?"null":typeof S,this.target==="draft-4"||this.target==="openapi-3.0"?A.enum=[S]:A.const=S}else x.every(S=>typeof S=="number")&&(A.type="number"),x.every(S=>typeof S=="string")&&(A.type="string"),x.every(S=>typeof S=="boolean")&&(A.type="string"),x.every(S=>S===null)&&(A.type="null"),A.enum=x;break}case"file":{const A=w,x={type:"string",format:"binary",contentEncoding:"binary"},{minimum:S,maximum:P,mime:I}=e._zod.bag;S!==void 0&&(x.minLength=S),P!==void 0&&(x.maxLength=P),I?I.length===1?(x.contentMediaType=I[0],Object.assign(A,x)):A.anyOf=I.map(O=>({...x,contentMediaType:O})):Object.assign(A,x);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const A=this.process(r.innerType,m);this.target==="openapi-3.0"?(Object.assign(w,A),w.nullable=!0,a.ref=r.innerType):w.anyOf=[A,{type:"null"}];break}case"nonoptional":{this.process(r.innerType,m),a.ref=r.innerType;break}case"success":{const A=w;A.type="boolean";break}case"default":{this.process(r.innerType,m),a.ref=r.innerType,w.default=JSON.parse(JSON.stringify(r.defaultValue));break}case"prefault":{this.process(r.innerType,m),a.ref=r.innerType,this.io==="input"&&(w._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break}case"catch":{this.process(r.innerType,m),a.ref=r.innerType;let A;try{A=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}w.default=A;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const A=w,x=e._zod.pattern;if(!x)throw new Error("Pattern not found in template literal");A.type="string",A.pattern=x.source;break}case"pipe":{const A=this.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;this.process(A,m),a.ref=A;break}case"readonly":{this.process(r.innerType,m),a.ref=r.innerType,w.readOnly=!0;break}case"promise":{this.process(r.innerType,m),a.ref=r.innerType;break}case"optional":{this.process(r.innerType,m),a.ref=r.innerType;break}case"lazy":{const A=e._zod.innerType;this.process(A,m),a.ref=A;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const d=this.metadataRegistry.get(e);return d&&Object.assign(a.schema,d),this.io==="input"&&Vi(e)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){const i={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=f=>{const m=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const x=i.external.registry.get(f[0])?.id,S=i.external.uri??(I=>I);if(x)return{ref:S(x)};const P=f[1].defId??f[1].schema.id??`schema${this.counter++}`;return f[1].defId=P,{defId:P,ref:`${S("__shared")}#/${m}/${P}`}}if(f[1]===r)return{ref:"#"};const w=`#/${m}/`,A=f[1].schema.id??`__schema${this.counter++}`;return{defId:A,ref:w+A}},o=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:p,defId:w}=s(f);m.def={...m.schema},w&&(m.defId=w);const A=m.schema;for(const x in A)delete A[x];A.$ref=p};if(i.cycles==="throw")for(const f of this.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of this.seen.entries()){const m=f[1];if(e===f[0]){o(f);continue}if(i.external){const w=i.external.registry.get(f[0])?.id;if(e!==f[0]&&w){o(f);continue}}if(this.metadataRegistry.get(f[0])?.id){o(f);continue}if(m.cycle){o(f);continue}if(m.count>1&&i.reused==="ref"){o(f);continue}}const a=(f,m)=>{const p=this.seen.get(f),w=p.def??p.schema,A={...w};if(p.ref===null)return;const x=p.ref;if(p.ref=null,x){a(x,m);const S=this.seen.get(x).schema;S.$ref&&(m.target==="draft-7"||m.target==="draft-4"||m.target==="openapi-3.0")?(w.allOf=w.allOf??[],w.allOf.push(S)):(Object.assign(w,S),Object.assign(w,A))}p.isParent||this.override({zodSchema:f,jsonSchema:w,path:p.path??[]})};for(const f of[...this.seen.entries()].reverse())a(f[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?l.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),i.external?.uri){const f=i.external.registry.get(e)?.id;if(!f)throw new Error("Schema is missing an `id` property");l.$id=i.external.uri(f)}Object.assign(l,r.def);const d=i.external?.defs??{};for(const f of this.seen.entries()){const m=f[1];m.def&&m.defId&&(d[m.defId]=m.def)}i.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function GH(n,e){if(n instanceof $P){const i=new ET(e),r={};for(const a of n._idmap.entries()){const[l,d]=a;i.process(d)}const s={},o={registry:n,uri:e?.uri,defs:r};for(const a of n._idmap.entries()){const[l,d]=a;s[l]=i.emit(d,{...e,external:o})}if(Object.keys(r).length>0){const a=i.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[a]:r}}return{schemas:s}}const t=new ET(e);return t.process(n),t.emit(n,e)}function Vi(n,e){const t=e??{seen:new Set};if(t.seen.has(n))return!1;t.seen.add(n);const r=n._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Vi(r.element,t);case"object":{for(const s in r.shape)if(Vi(r.shape[s],t))return!0;return!1}case"union":{for(const s of r.options)if(Vi(s,t))return!0;return!1}case"intersection":return Vi(r.left,t)||Vi(r.right,t);case"tuple":{for(const s of r.items)if(Vi(s,t))return!0;return!!(r.rest&&Vi(r.rest,t))}case"record":return Vi(r.keyType,t)||Vi(r.valueType,t);case"map":return Vi(r.keyType,t)||Vi(r.valueType,t);case"set":return Vi(r.valueType,t);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Vi(r.innerType,t);case"lazy":return Vi(r.getter(),t);case"default":return Vi(r.innerType,t);case"prefault":return Vi(r.innerType,t);case"custom":return!1;case"transform":return!0;case"pipe":return Vi(r.in,t)||Vi(r.out,t);case"success":return!1;case"catch":return!1;case"function":return!1}throw new Error(`Unknown schema type: ${r.type}`)}const Xbe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),eve=Object.freeze(Object.defineProperty({__proto__:null,$ZodAny:y9,$ZodArray:C9,$ZodAsyncError:Zd,$ZodBase64:l9,$ZodBase64URL:u9,$ZodBigInt:FP,$ZodBigIntFormat:p9,$ZodBoolean:LP,$ZodCIDRv4:o9,$ZodCIDRv6:a9,$ZodCUID:q$,$ZodCUID2:Z$,$ZodCatch:W9,$ZodCheck:fi,$ZodCheckBigIntFormat:C$,$ZodCheckEndsWith:V$,$ZodCheckGreaterThan:MP,$ZodCheckIncludes:M$,$ZodCheckLengthEquals:R$,$ZodCheckLessThan:NP,$ZodCheckLowerCase:D$,$ZodCheckMaxLength:I$,$ZodCheckMaxSize:S$,$ZodCheckMimeType:F$,$ZodCheckMinLength:P$,$ZodCheckMinSize:E$,$ZodCheckMultipleOf:k$,$ZodCheckNumberFormat:x$,$ZodCheckOverwrite:z$,$ZodCheckProperty:L$,$ZodCheckRegex:O$,$ZodCheckSizeEquals:T$,$ZodCheckStartsWith:B$,$ZodCheckStringFormat:nw,$ZodCheckUpperCase:N$,$ZodCodec:UP,$ZodCustom:X9,$ZodCustomStringFormat:m9,$ZodDate:x9,$ZodDefault:j9,$ZodDiscriminatedUnion:P9,$ZodE164:d9,$ZodEmail:W$,$ZodEmoji:Y$,$ZodEncodeError:ek,$ZodEnum:M9,$ZodError:ok,$ZodFile:V9,$ZodFunction:Z9,$ZodGUID:$$,$ZodIPv4:r9,$ZodIPv6:s9,$ZodISODate:t9,$ZodISODateTime:e9,$ZodISODuration:i9,$ZodISOTime:n9,$ZodIntersection:R9,$ZodJWT:h9,$ZodKSUID:X$,$ZodLazy:J9,$ZodLiteral:B9,$ZodMap:D9,$ZodNaN:G9,$ZodNanoID:K$,$ZodNever:A9,$ZodNonOptional:$9,$ZodNull:w9,$ZodNullable:z9,$ZodNumber:VP,$ZodNumberFormat:g9,$ZodObject:T9,$ZodObjectJIT:I9,$ZodOptional:F9,$ZodPipe:Y9,$ZodPrefault:U9,$ZodPromise:Q9,$ZodReadonly:K9,$ZodRealError:Ns,$ZodRecord:O9,$ZodRegistry:$P,$ZodSet:N9,$ZodString:iw,$ZodStringFormat:Pn,$ZodSuccess:H9,$ZodSymbol:b9,$ZodTemplateLiteral:q9,$ZodTransform:L9,$ZodTuple:jP,$ZodType:kt,$ZodULID:Q$,$ZodURL:G$,$ZodUUID:H$,$ZodUndefined:v9,$ZodUnion:zP,$ZodUnknown:_9,$ZodVoid:k9,$ZodXID:J$,$brand:_U,$constructor:te,$input:iH,$output:nH,Doc:j$,JSONSchema:Xbe,JSONSchemaGenerator:ET,NEVER:yU,TimePrecision:oH,_any:EH,_array:FH,_base64:aR,_base64url:lR,_bigint:yH,_boolean:vH,_catch:Ybe,_check:HH,_cidrv4:sR,_cidrv6:oR,_coercedBigint:_H,_coercedBoolean:wH,_coercedDate:OH,_coercedNumber:fH,_coercedString:sH,_cuid:JP,_cuid2:XP,_custom:jH,_date:RH,_decode:xP,_decodeAsync:SP,_default:Hbe,_discriminatedUnion:Obe,_e164:cR,_email:WP,_emoji:ZP,_encode:kP,_encodeAsync:CP,_endsWith:bR,_enum:Lbe,_file:zH,_float32:mH,_float64:gH,_gt:cf,_gte:_s,_guid:bA,_includes:gR,_int:hH,_int32:pH,_int64:AH,_intersection:Dbe,_ipv4:iR,_ipv6:rR,_isoDate:lH,_isoDateTime:aH,_isoDuration:uH,_isoTime:cH,_jwt:uR,_ksuid:nR,_lazy:Qbe,_length:uk,_literal:zbe,_lowercase:hR,_lt:lf,_lte:No,_map:Bbe,_max:No,_maxLength:ck,_maxSize:lk,_mime:vR,_min:_s,_minLength:Rm,_minSize:nv,_multipleOf:tv,_nan:DH,_nanoid:QP,_nativeEnum:Fbe,_negative:MH,_never:IH,_nonnegative:VH,_nonoptional:Wbe,_nonpositive:BH,_normalize:wR,_null:SH,_nullable:$be,_number:dH,_optional:Ube,_overwrite:Sf,_parse:Zv,_parseAsync:Qv,_pipe:Kbe,_positive:NH,_promise:Jbe,_property:LH,_readonly:qbe,_record:Mbe,_refine:UH,_regex:fR,_safeDecode:TP,_safeDecodeAsync:PP,_safeEncode:EP,_safeEncodeAsync:IP,_safeParse:Jv,_safeParseAsync:Xv,_set:Vbe,_size:dR,_startsWith:pR,_string:rH,_stringFormat:rw,_stringbool:WH,_success:Gbe,_superRefine:$H,_symbol:xH,_templateLiteral:Zbe,_toLowerCase:_R,_toUpperCase:AR,_transform:jbe,_trim:yR,_tuple:Nbe,_uint32:bH,_uint64:kH,_ulid:eR,_undefined:CH,_union:Rbe,_unknown:TH,_uppercase:mR,_url:ak,_uuid:GP,_uuidv4:YP,_uuidv6:KP,_uuidv7:qP,_void:PH,_xid:tR,clone:co,config:Br,decode:yge,decodeAsync:Age,encode:wge,encodeAsync:_ge,flattenError:_P,formatError:AP,globalConfig:dA,globalRegistry:$d,isValidBase64:BP,isValidBase64URL:c9,isValidJWT:f9,locales:tH,parse:mA,parseAsync:gA,prettifyError:jU,regexes:DP,registry:HP,safeDecode:xge,safeDecodeAsync:Sge,safeEncode:kge,safeEncodeAsync:Cge,safeParse:UU,safeParseAsync:$U,toDotPath:zU,toJSONSchema:GH,treeifyError:FU,util:VU,version:U$},Symbol.toStringTag,{value:"Module"})),kR=te("ZodISODateTime",(n,e)=>{e9.init(n,e),Nn.init(n,e)});function YH(n){return aH(kR,n)}const xR=te("ZodISODate",(n,e)=>{t9.init(n,e),Nn.init(n,e)});function KH(n){return lH(xR,n)}const CR=te("ZodISOTime",(n,e)=>{n9.init(n,e),Nn.init(n,e)});function qH(n){return cH(CR,n)}const SR=te("ZodISODuration",(n,e)=>{i9.init(n,e),Nn.init(n,e)});function ZH(n){return uH(SR,n)}const tve=Object.freeze(Object.defineProperty({__proto__:null,ZodISODate:xR,ZodISODateTime:kR,ZodISODuration:SR,ZodISOTime:CR,date:KH,datetime:YH,duration:ZH,time:qH},Symbol.toStringTag,{value:"Module"})),QH=(n,e)=>{ok.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>AP(n,t)},flatten:{value:t=>_P(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,fA,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,fA,2)}},isEmpty:{get(){return n.issues.length===0}}})},nve=te("ZodError",QH),Ms=te("ZodError",QH,{Parent:Error}),JH=Zv(Ms),XH=Qv(Ms),eW=Jv(Ms),tW=Xv(Ms),nW=kP(Ms),iW=xP(Ms),rW=CP(Ms),sW=SP(Ms),oW=EP(Ms),aW=TP(Ms),lW=IP(Ms),cW=PP(Ms),Ot=te("ZodType",(n,e)=>(kt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone({...e,checks:[...e.checks??[],...t.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),n.clone=(t,i)=>co(n,t,i),n.brand=()=>n,n.register=((t,i)=>(t.add(n,i),n)),n.parse=(t,i)=>JH(n,t,i,{callee:n.parse}),n.safeParse=(t,i)=>eW(n,t,i),n.parseAsync=async(t,i)=>XH(n,t,i,{callee:n.parseAsync}),n.safeParseAsync=async(t,i)=>tW(n,t,i),n.spa=n.safeParseAsync,n.encode=(t,i)=>nW(n,t,i),n.decode=(t,i)=>iW(n,t,i),n.encodeAsync=async(t,i)=>rW(n,t,i),n.decodeAsync=async(t,i)=>sW(n,t,i),n.safeEncode=(t,i)=>oW(n,t,i),n.safeDecode=(t,i)=>aW(n,t,i),n.safeEncodeAsync=async(t,i)=>lW(n,t,i),n.safeDecodeAsync=async(t,i)=>cW(n,t,i),n.refine=(t,i)=>n.check(ZW(t,i)),n.superRefine=t=>n.check(QW(t)),n.overwrite=t=>n.check(Sf(t)),n.optional=()=>wA(n),n.nullable=()=>yA(n),n.nullish=()=>wA(yA(n)),n.nonoptional=t=>LW(n,t),n.array=()=>pk(n),n.or=t=>KR([n,t]),n.and=t=>xW(n,t),n.transform=t=>_A(n,QR(t)),n.default=t=>MW(n,t),n.prefault=t=>VW(n,t),n.catch=t=>jW(n,t),n.pipe=t=>_A(n,t),n.readonly=()=>HW(n),n.describe=t=>{const i=n.clone();return $d.add(i,{description:t}),i},Object.defineProperty(n,"description",{get(){return $d.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return $d.get(n);const i=n.clone();return $d.add(i,t[0]),i},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),ER=te("_ZodString",(n,e)=>{iw.init(n,e),Ot.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...i)=>n.check(fR(...i)),n.includes=(...i)=>n.check(gR(...i)),n.startsWith=(...i)=>n.check(pR(...i)),n.endsWith=(...i)=>n.check(bR(...i)),n.min=(...i)=>n.check(Rm(...i)),n.max=(...i)=>n.check(ck(...i)),n.length=(...i)=>n.check(uk(...i)),n.nonempty=(...i)=>n.check(Rm(1,...i)),n.lowercase=i=>n.check(hR(i)),n.uppercase=i=>n.check(mR(i)),n.trim=()=>n.check(yR()),n.normalize=(...i)=>n.check(wR(...i)),n.toLowerCase=()=>n.check(_R()),n.toUpperCase=()=>n.check(AR())}),dk=te("ZodString",(n,e)=>{iw.init(n,e),ER.init(n,e),n.email=t=>n.check(WP(TR,t)),n.url=t=>n.check(ak(fk,t)),n.jwt=t=>n.check(uR($R,t)),n.emoji=t=>n.check(ZP(IR,t)),n.guid=t=>n.check(bA(vA,t)),n.uuid=t=>n.check(GP(Wl,t)),n.uuidv4=t=>n.check(YP(Wl,t)),n.uuidv6=t=>n.check(KP(Wl,t)),n.uuidv7=t=>n.check(qP(Wl,t)),n.nanoid=t=>n.check(QP(PR,t)),n.guid=t=>n.check(bA(vA,t)),n.cuid=t=>n.check(JP(RR,t)),n.cuid2=t=>n.check(XP(OR,t)),n.ulid=t=>n.check(eR(DR,t)),n.base64=t=>n.check(aR(zR,t)),n.base64url=t=>n.check(lR(jR,t)),n.xid=t=>n.check(tR(NR,t)),n.ksuid=t=>n.check(nR(MR,t)),n.ipv4=t=>n.check(iR(BR,t)),n.ipv6=t=>n.check(rR(VR,t)),n.cidrv4=t=>n.check(sR(LR,t)),n.cidrv6=t=>n.check(oR(FR,t)),n.e164=t=>n.check(cR(UR,t)),n.datetime=t=>n.check(YH(t)),n.date=t=>n.check(KH(t)),n.time=t=>n.check(qH(t)),n.duration=t=>n.check(ZH(t))});function Hd(n){return rH(dk,n)}const Nn=te("ZodStringFormat",(n,e)=>{Pn.init(n,e),ER.init(n,e)}),TR=te("ZodEmail",(n,e)=>{W$.init(n,e),Nn.init(n,e)});function ive(n){return WP(TR,n)}const vA=te("ZodGUID",(n,e)=>{$$.init(n,e),Nn.init(n,e)});function rve(n){return bA(vA,n)}const Wl=te("ZodUUID",(n,e)=>{H$.init(n,e),Nn.init(n,e)});function sve(n){return GP(Wl,n)}function ove(n){return YP(Wl,n)}function ave(n){return KP(Wl,n)}function lve(n){return qP(Wl,n)}const fk=te("ZodURL",(n,e)=>{G$.init(n,e),Nn.init(n,e)});function cve(n){return ak(fk,n)}function uve(n){return ak(fk,{protocol:/^https?$/,hostname:s$,...Ce(n)})}const IR=te("ZodEmoji",(n,e)=>{Y$.init(n,e),Nn.init(n,e)});function dve(n){return ZP(IR,n)}const PR=te("ZodNanoID",(n,e)=>{K$.init(n,e),Nn.init(n,e)});function fve(n){return QP(PR,n)}const RR=te("ZodCUID",(n,e)=>{q$.init(n,e),Nn.init(n,e)});function hve(n){return JP(RR,n)}const OR=te("ZodCUID2",(n,e)=>{Z$.init(n,e),Nn.init(n,e)});function mve(n){return XP(OR,n)}const DR=te("ZodULID",(n,e)=>{Q$.init(n,e),Nn.init(n,e)});function gve(n){return eR(DR,n)}const NR=te("ZodXID",(n,e)=>{J$.init(n,e),Nn.init(n,e)});function pve(n){return tR(NR,n)}const MR=te("ZodKSUID",(n,e)=>{X$.init(n,e),Nn.init(n,e)});function bve(n){return nR(MR,n)}const BR=te("ZodIPv4",(n,e)=>{r9.init(n,e),Nn.init(n,e)});function vve(n){return iR(BR,n)}const VR=te("ZodIPv6",(n,e)=>{s9.init(n,e),Nn.init(n,e)});function wve(n){return rR(VR,n)}const LR=te("ZodCIDRv4",(n,e)=>{o9.init(n,e),Nn.init(n,e)});function yve(n){return sR(LR,n)}const FR=te("ZodCIDRv6",(n,e)=>{a9.init(n,e),Nn.init(n,e)});function _ve(n){return oR(FR,n)}const zR=te("ZodBase64",(n,e)=>{l9.init(n,e),Nn.init(n,e)});function Ave(n){return aR(zR,n)}const jR=te("ZodBase64URL",(n,e)=>{u9.init(n,e),Nn.init(n,e)});function kve(n){return lR(jR,n)}const UR=te("ZodE164",(n,e)=>{d9.init(n,e),Nn.init(n,e)});function xve(n){return cR(UR,n)}const $R=te("ZodJWT",(n,e)=>{h9.init(n,e),Nn.init(n,e)});function Cve(n){return uR($R,n)}const sw=te("ZodCustomStringFormat",(n,e)=>{m9.init(n,e),Nn.init(n,e)});function Sve(n,e,t={}){return rw(sw,n,e,t)}function Eve(n){return rw(sw,"hostname",OP,n)}function Tve(n){return rw(sw,"hex",_$,n)}function Ive(n,e){const t=e?.enc??"hex",i=`${n}_${t}`,r=DP[i];if(!r)throw new Error(`Unrecognized hash format: ${i}`);return rw(sw,i,r,e)}const hk=te("ZodNumber",(n,e)=>{VP.init(n,e),Ot.init(n,e),n.gt=(i,r)=>n.check(cf(i,r)),n.gte=(i,r)=>n.check(_s(i,r)),n.min=(i,r)=>n.check(_s(i,r)),n.lt=(i,r)=>n.check(lf(i,r)),n.lte=(i,r)=>n.check(No(i,r)),n.max=(i,r)=>n.check(No(i,r)),n.int=i=>n.check(TT(i)),n.safe=i=>n.check(TT(i)),n.positive=i=>n.check(cf(0,i)),n.nonnegative=i=>n.check(_s(0,i)),n.negative=i=>n.check(lf(0,i)),n.nonpositive=i=>n.check(No(0,i)),n.multipleOf=(i,r)=>n.check(tv(i,r)),n.step=(i,r)=>n.check(tv(i,r)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function uW(n){return dH(hk,n)}const sg=te("ZodNumberFormat",(n,e)=>{g9.init(n,e),hk.init(n,e)});function TT(n){return hH(sg,n)}function Pve(n){return mH(sg,n)}function Rve(n){return gH(sg,n)}function Ove(n){return pH(sg,n)}function Dve(n){return bH(sg,n)}const mk=te("ZodBoolean",(n,e)=>{LP.init(n,e),Ot.init(n,e)});function dW(n){return vH(mk,n)}const gk=te("ZodBigInt",(n,e)=>{FP.init(n,e),Ot.init(n,e),n.gte=(i,r)=>n.check(_s(i,r)),n.min=(i,r)=>n.check(_s(i,r)),n.gt=(i,r)=>n.check(cf(i,r)),n.gte=(i,r)=>n.check(_s(i,r)),n.min=(i,r)=>n.check(_s(i,r)),n.lt=(i,r)=>n.check(lf(i,r)),n.lte=(i,r)=>n.check(No(i,r)),n.max=(i,r)=>n.check(No(i,r)),n.positive=i=>n.check(cf(BigInt(0),i)),n.negative=i=>n.check(lf(BigInt(0),i)),n.nonpositive=i=>n.check(No(BigInt(0),i)),n.nonnegative=i=>n.check(_s(BigInt(0),i)),n.multipleOf=(i,r)=>n.check(tv(i,r));const t=n._zod.bag;n.minValue=t.minimum??null,n.maxValue=t.maximum??null,n.format=t.format??null});function Nve(n){return yH(gk,n)}const HR=te("ZodBigIntFormat",(n,e)=>{p9.init(n,e),gk.init(n,e)});function Mve(n){return AH(HR,n)}function Bve(n){return kH(HR,n)}const fW=te("ZodSymbol",(n,e)=>{b9.init(n,e),Ot.init(n,e)});function Vve(n){return xH(fW,n)}const hW=te("ZodUndefined",(n,e)=>{v9.init(n,e),Ot.init(n,e)});function Lve(n){return CH(hW,n)}const mW=te("ZodNull",(n,e)=>{w9.init(n,e),Ot.init(n,e)});function gW(n){return SH(mW,n)}const pW=te("ZodAny",(n,e)=>{y9.init(n,e),Ot.init(n,e)});function Fve(){return EH(pW)}const bW=te("ZodUnknown",(n,e)=>{_9.init(n,e),Ot.init(n,e)});function Om(){return TH(bW)}const vW=te("ZodNever",(n,e)=>{A9.init(n,e),Ot.init(n,e)});function WR(n){return IH(vW,n)}const wW=te("ZodVoid",(n,e)=>{k9.init(n,e),Ot.init(n,e)});function zve(n){return PH(wW,n)}const GR=te("ZodDate",(n,e)=>{x9.init(n,e),Ot.init(n,e),n.min=(i,r)=>n.check(_s(i,r)),n.max=(i,r)=>n.check(No(i,r));const t=n._zod.bag;n.minDate=t.minimum?new Date(t.minimum):null,n.maxDate=t.maximum?new Date(t.maximum):null});function jve(n){return RH(GR,n)}const yW=te("ZodArray",(n,e)=>{C9.init(n,e),Ot.init(n,e),n.element=e.element,n.min=(t,i)=>n.check(Rm(t,i)),n.nonempty=t=>n.check(Rm(1,t)),n.max=(t,i)=>n.check(ck(t,i)),n.length=(t,i)=>n.check(uk(t,i)),n.unwrap=()=>n.element});function pk(n,e){return FH(yW,n,e)}function Uve(n){const e=n._zod.def.shape;return ZR(Object.keys(e))}const bk=te("ZodObject",(n,e)=>{I9.init(n,e),Ot.init(n,e),Ft(n,"shape",()=>e.shape),n.keyof=()=>ZR(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:Om()}),n.loose=()=>n.clone({...n._zod.def,catchall:Om()}),n.strict=()=>n.clone({...n._zod.def,catchall:WR()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>PU(n,t),n.safeExtend=t=>RU(n,t),n.merge=t=>OU(n,t),n.pick=t=>TU(n,t),n.omit=t=>IU(n,t),n.partial=(...t)=>DU(JR,n,t[0]),n.required=(...t)=>NU(XR,n,t[0])});function _W(n,e){const t={type:"object",get shape(){return Qo(this,"shape",n?nk(n):{}),this.shape},...Ce(e)};return new bk(t)}function $ve(n,e){return new bk({type:"object",get shape(){return Qo(this,"shape",nk(n)),this.shape},catchall:WR(),...Ce(e)})}function Hve(n,e){return new bk({type:"object",get shape(){return Qo(this,"shape",nk(n)),this.shape},catchall:Om(),...Ce(e)})}const YR=te("ZodUnion",(n,e)=>{zP.init(n,e),Ot.init(n,e),n.options=e.options});function KR(n,e){return new YR({type:"union",options:n,...Ce(e)})}const AW=te("ZodDiscriminatedUnion",(n,e)=>{YR.init(n,e),P9.init(n,e)});function Wve(n,e,t){return new AW({type:"union",options:e,discriminator:n,...Ce(t)})}const kW=te("ZodIntersection",(n,e)=>{R9.init(n,e),Ot.init(n,e)});function xW(n,e){return new kW({type:"intersection",left:n,right:e})}const CW=te("ZodTuple",(n,e)=>{jP.init(n,e),Ot.init(n,e),n.rest=t=>n.clone({...n._zod.def,rest:t})});function SW(n,e,t){const i=e instanceof kt,r=i?t:e,s=i?e:null;return new CW({type:"tuple",items:n,rest:s,...Ce(r)})}const qR=te("ZodRecord",(n,e)=>{O9.init(n,e),Ot.init(n,e),n.keyType=e.keyType,n.valueType=e.valueType});function EW(n,e,t){return new qR({type:"record",keyType:n,valueType:e,...Ce(t)})}function Gve(n,e,t){const i=co(n);return i._zod.values=void 0,new qR({type:"record",keyType:i,valueType:e,...Ce(t)})}const TW=te("ZodMap",(n,e)=>{D9.init(n,e),Ot.init(n,e),n.keyType=e.keyType,n.valueType=e.valueType});function Yve(n,e,t){return new TW({type:"map",keyType:n,valueType:e,...Ce(t)})}const IW=te("ZodSet",(n,e)=>{N9.init(n,e),Ot.init(n,e),n.min=(...t)=>n.check(nv(...t)),n.nonempty=t=>n.check(nv(1,t)),n.max=(...t)=>n.check(lk(...t)),n.size=(...t)=>n.check(dR(...t))});function Kve(n,e){return new IW({type:"set",valueType:n,...Ce(e)})}const iv=te("ZodEnum",(n,e)=>{M9.init(n,e),Ot.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(i,r)=>{const s={};for(const o of i)if(t.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new iv({...e,checks:[],...Ce(r),entries:s})},n.exclude=(i,r)=>{const s={...e.entries};for(const o of i)if(t.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new iv({...e,checks:[],...Ce(r),entries:s})}});function ZR(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(i=>[i,i])):n;return new iv({type:"enum",entries:t,...Ce(e)})}function qve(n,e){return new iv({type:"enum",entries:n,...Ce(e)})}const PW=te("ZodLiteral",(n,e)=>{B9.init(n,e),Ot.init(n,e),n.values=new Set(e.values),Object.defineProperty(n,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Zve(n,e){return new PW({type:"literal",values:Array.isArray(n)?n:[n],...Ce(e)})}const RW=te("ZodFile",(n,e)=>{V9.init(n,e),Ot.init(n,e),n.min=(t,i)=>n.check(nv(t,i)),n.max=(t,i)=>n.check(lk(t,i)),n.mime=(t,i)=>n.check(vR(Array.isArray(t)?t:[t],i))});function Qve(n){return zH(RW,n)}const OW=te("ZodTransform",(n,e)=>{L9.init(n,e),Ot.init(n,e),n._zod.parse=(t,i)=>{if(i.direction==="backward")throw new ek(n.constructor.name);t.addIssue=s=>{if(typeof s=="string")t.issues.push(Im(s,t.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=t.value),o.inst??(o.inst=n),t.issues.push(Im(o))}};const r=e.transform(t.value,t);return r instanceof Promise?r.then(s=>(t.value=s,t)):(t.value=r,t)}});function QR(n){return new OW({type:"transform",transform:n})}const JR=te("ZodOptional",(n,e)=>{F9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function wA(n){return new JR({type:"optional",innerType:n})}const DW=te("ZodNullable",(n,e)=>{z9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function yA(n){return new DW({type:"nullable",innerType:n})}function Jve(n){return wA(yA(n))}const NW=te("ZodDefault",(n,e)=>{j9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function MW(n,e){return new NW({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():ik(e)}})}const BW=te("ZodPrefault",(n,e)=>{U9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function VW(n,e){return new BW({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():ik(e)}})}const XR=te("ZodNonOptional",(n,e)=>{$9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function LW(n,e){return new XR({type:"nonoptional",innerType:n,...Ce(e)})}const FW=te("ZodSuccess",(n,e)=>{H9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Xve(n){return new FW({type:"success",innerType:n})}const zW=te("ZodCatch",(n,e)=>{W9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function jW(n,e){return new zW({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const UW=te("ZodNaN",(n,e)=>{G9.init(n,e),Ot.init(n,e)});function ewe(n){return DH(UW,n)}const eO=te("ZodPipe",(n,e)=>{Y9.init(n,e),Ot.init(n,e),n.in=e.in,n.out=e.out});function _A(n,e){return new eO({type:"pipe",in:n,out:e})}const tO=te("ZodCodec",(n,e)=>{eO.init(n,e),UP.init(n,e)});function twe(n,e,t){return new tO({type:"pipe",in:n,out:e,transform:t.decode,reverseTransform:t.encode})}const $W=te("ZodReadonly",(n,e)=>{K9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function HW(n){return new $W({type:"readonly",innerType:n})}const WW=te("ZodTemplateLiteral",(n,e)=>{q9.init(n,e),Ot.init(n,e)});function nwe(n,e){return new WW({type:"template_literal",parts:n,...Ce(e)})}const GW=te("ZodLazy",(n,e)=>{J9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.getter()});function YW(n){return new GW({type:"lazy",getter:n})}const KW=te("ZodPromise",(n,e)=>{Q9.init(n,e),Ot.init(n,e),n.unwrap=()=>n._zod.def.innerType});function iwe(n){return new KW({type:"promise",innerType:n})}const qW=te("ZodFunction",(n,e)=>{Z9.init(n,e),Ot.init(n,e)});function sB(n){return new qW({type:"function",input:Array.isArray(n?.input)?SW(n?.input):n?.input??pk(Om()),output:n?.output??Om()})}const vk=te("ZodCustom",(n,e)=>{X9.init(n,e),Ot.init(n,e)});function rwe(n){const e=new fi({check:"custom"});return e._zod.check=n,e}function swe(n,e){return jH(vk,n??(()=>!0),e)}function ZW(n,e={}){return UH(vk,n,e)}function QW(n){return $H(n)}function owe(n,e={error:`Input not instance of ${n.name}`}){const t=new vk({type:"custom",check:"custom",fn:i=>i instanceof n,abort:!0,...Ce(e)});return t._zod.bag.Class=n,t}const awe=(...n)=>WH({Codec:tO,Boolean:mk,String:dk},...n);function lwe(n){const e=YW(()=>KR([Hd(n),uW(),dW(),gW(),pk(e),EW(Hd(),e)]));return e}function cwe(n,e){return _A(QR(n),e)}const uwe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function dwe(n){Br({customError:n})}function fwe(){return Br().customError}var IT;IT||(IT={});function hwe(n){return sH(dk,n)}function mwe(n){return fH(hk,n)}function gwe(n){return wH(mk,n)}function pwe(n){return _H(gk,n)}function bwe(n){return OH(GR,n)}const vwe=Object.freeze(Object.defineProperty({__proto__:null,bigint:pwe,boolean:gwe,date:bwe,number:mwe,string:hwe},Symbol.toStringTag,{value:"Module"}));Br(eH());const Tn=Object.freeze(Object.defineProperty({__proto__:null,$brand:_U,$input:iH,$output:nH,NEVER:yU,TimePrecision:oH,ZodAny:pW,ZodArray:yW,ZodBase64:zR,ZodBase64URL:jR,ZodBigInt:gk,ZodBigIntFormat:HR,ZodBoolean:mk,ZodCIDRv4:LR,ZodCIDRv6:FR,ZodCUID:RR,ZodCUID2:OR,ZodCatch:zW,ZodCodec:tO,ZodCustom:vk,ZodCustomStringFormat:sw,ZodDate:GR,ZodDefault:NW,ZodDiscriminatedUnion:AW,ZodE164:UR,ZodEmail:TR,ZodEmoji:IR,ZodEnum:iv,ZodError:nve,ZodFile:RW,get ZodFirstPartyTypeKind(){return IT},ZodFunction:qW,ZodGUID:vA,ZodIPv4:BR,ZodIPv6:VR,ZodISODate:xR,ZodISODateTime:kR,ZodISODuration:SR,ZodISOTime:CR,ZodIntersection:kW,ZodIssueCode:uwe,ZodJWT:$R,ZodKSUID:MR,ZodLazy:GW,ZodLiteral:PW,ZodMap:TW,ZodNaN:UW,ZodNanoID:PR,ZodNever:vW,ZodNonOptional:XR,ZodNull:mW,ZodNullable:DW,ZodNumber:hk,ZodNumberFormat:sg,ZodObject:bk,ZodOptional:JR,ZodPipe:eO,ZodPrefault:BW,ZodPromise:KW,ZodReadonly:$W,ZodRealError:Ms,ZodRecord:qR,ZodSet:IW,ZodString:dk,ZodStringFormat:Nn,ZodSuccess:FW,ZodSymbol:fW,ZodTemplateLiteral:WW,ZodTransform:OW,ZodTuple:CW,ZodType:Ot,ZodULID:DR,ZodURL:fk,ZodUUID:Wl,ZodUndefined:hW,ZodUnion:YR,ZodUnknown:bW,ZodVoid:wW,ZodXID:NR,_ZodString:ER,_default:MW,_function:sB,any:Fve,array:pk,base64:Ave,base64url:kve,bigint:Nve,boolean:dW,catch:jW,check:rwe,cidrv4:yve,cidrv6:_ve,clone:co,codec:twe,coerce:vwe,config:Br,core:eve,cuid:hve,cuid2:mve,custom:swe,date:jve,decode:iW,decodeAsync:sW,discriminatedUnion:Wve,e164:xve,email:ive,emoji:dve,encode:nW,encodeAsync:rW,endsWith:bR,enum:ZR,file:Qve,flattenError:_P,float32:Pve,float64:Rve,formatError:AP,function:sB,getErrorMap:fwe,globalRegistry:$d,gt:cf,gte:_s,guid:rve,hash:Ive,hex:Tve,hostname:Eve,httpUrl:uve,includes:gR,instanceof:owe,int:TT,int32:Ove,int64:Mve,intersection:xW,ipv4:vve,ipv6:wve,iso:tve,json:lwe,jwt:Cve,keyof:Uve,ksuid:bve,lazy:YW,length:uk,literal:Zve,locales:tH,looseObject:Hve,lowercase:hR,lt:lf,lte:No,map:Yve,maxLength:ck,maxSize:lk,mime:vR,minLength:Rm,minSize:nv,multipleOf:tv,nan:ewe,nanoid:fve,nativeEnum:qve,negative:MH,never:WR,nonnegative:VH,nonoptional:LW,nonpositive:BH,normalize:wR,null:gW,nullable:yA,nullish:Jve,number:uW,object:_W,optional:wA,overwrite:Sf,parse:JH,parseAsync:XH,partialRecord:Gve,pipe:_A,positive:NH,prefault:VW,preprocess:cwe,prettifyError:jU,promise:iwe,property:LH,readonly:HW,record:EW,refine:ZW,regex:fR,regexes:DP,registry:HP,safeDecode:aW,safeDecodeAsync:cW,safeEncode:oW,safeEncodeAsync:lW,safeParse:eW,safeParseAsync:tW,set:Kve,setErrorMap:dwe,size:dR,startsWith:pR,strictObject:$ve,string:Hd,stringFormat:Sve,stringbool:awe,success:Xve,superRefine:QW,symbol:Vve,templateLiteral:nwe,toJSONSchema:GH,toLowerCase:_R,toUpperCase:AR,transform:QR,treeifyError:FU,trim:yR,tuple:SW,uint32:Dve,uint64:Bve,ulid:gve,undefined:Lve,union:KR,unknown:Om,uppercase:mR,url:cve,util:VU,uuid:sve,uuidv4:ove,uuidv6:ave,uuidv7:lve,void:zve,xid:pve},Symbol.toStringTag,{value:"Module"})),oB=(n,e,t)=>{if(n&&"reportValidity"in n){const i=He(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},PT=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?oB(i.ref,t,n):i&&i.refs&&i.refs.forEach(r=>oB(r,t,n))}},aB=(n,e)=>{e.shouldUseNativeValidation&&PT(n,e);const t={};for(const i in n){const r=He(e.fields,i),s=Object.assign(n[i]||{},{ref:r&&r.ref});if(wwe(e.names||Object.keys(n),i)){const o=Object.assign({},He(t,i));fn(o,"root",s),fn(t,i,o)}else fn(t,i,s)}return t},wwe=(n,e)=>{const t=lB(e);return n.some(i=>lB(i).match(`^${t}\\.\\d+`))};function lB(n){return n.replace(/\]|\[/g,"")}function cB(n,e){try{var t=n()}catch(i){return e(i)}return t&&t.then?t.then(void 0,e):t}function ywe(n,e){for(var t={};n.length;){var i=n[0],r=i.code,s=i.message,o=i.path.join(".");if(!t[o])if("unionErrors"in i){var a=i.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:r};if("unionErrors"in i&&i.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return n.push(m)})}),e){var l=t[o].types,d=l&&l[i.code];t[o]=pP(o,e,t,r,d?[].concat(d,i.message):i.message)}n.shift()}return t}function _we(n,e){for(var t={};n.length;){var i=n[0],r=i.code,s=i.message,o=i.path.join(".");if(!t[o])if(i.code==="invalid_union"&&i.errors.length>0){var a=i.errors[0][0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:r};if(i.code==="invalid_union"&&i.errors.forEach(function(f){return f.forEach(function(m){return n.push(m)})}),e){var l=t[o].types,d=l&&l[i.code];t[o]=pP(o,e,t,r,d?[].concat(d,i.message):i.message)}n.shift()}return t}function Lu(n,e,t){if(t===void 0&&(t={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(n))return function(i,r,s){try{return Promise.resolve(cB(function(){return Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(o){return s.shouldUseNativeValidation&&PT({},s),{errors:{},values:t.raw?Object.assign({},i):o}})},function(o){if((function(a){return Array.isArray(a?.issues)})(o))return{values:{},errors:aB(ywe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(n))return function(i,r,s){try{return Promise.resolve(cB(function(){return Promise.resolve((t.mode==="sync"?mA:gA)(n,i,e)).then(function(o){return s.shouldUseNativeValidation&&PT({},s),{errors:{},values:t.raw?Object.assign({},i):o}})},function(o){if((function(a){return a instanceof ok})(o))return{values:{},errors:aB(_we(o.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}function Awe(n){return Ui({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const kwe=()=>{};var uB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},xwe=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,d=l?n[r+2]:0,f=s>>2,m=(s&3)<<4|a>>4;let p=(a&15)<<2|d>>6,w=d&63;l||(w=64,o||(p=64)),i.push(t[f],t[m],t[p],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JW(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xwe(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const m=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||d==null||m==null)throw new Cwe;const p=s<<2|a>>4;if(i.push(p),d!==64){const w=a<<4&240|d>>2;if(i.push(w),m!==64){const A=d<<6&192|m;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cwe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Swe=function(n){const e=JW(n);return XW.encodeByteArray(e,!0)},eG=function(n){return Swe(n).replace(/\./g,"")},tG=function(n){try{return XW.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ewe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Twe=()=>Ewe().__FIREBASE_DEFAULTS__,Iwe=()=>{if(typeof process>"u"||typeof uB>"u")return;const n=uB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pwe=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tG(n[1]);return e&&JSON.parse(e)},nO=()=>{try{return kwe()||Twe()||Iwe()||Pwe()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rwe=n=>nO()?.emulatorHosts?.[n],nG=()=>nO()?.config,iG=n=>nO()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Owe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dwe(n){return(await fetch(n,{credentials:"include"})).ok}const _b={};function Nwe(){const n={prod:[],emulator:[]};for(const e of Object.keys(_b))_b[e]?n.emulator.push(e):n.prod.push(e);return n}function Mwe(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dB=!1;function Bwe(n,e){if(typeof window>"u"||typeof document>"u"||!wk(window.location.host)||_b[n]===e||_b[n]||dB)return;_b[n]=e;function t(p){return`__firebase__banner__${p}`}const i="__firebase__banner",s=Nwe().prod.length>0;function o(){const p=document.getElementById(i);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,w){p.setAttribute("width","24"),p.setAttribute("id",w),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{dB=!0,o()},p}function f(p,w){p.setAttribute("id",w),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=Mwe(i),w=t("text"),A=document.getElementById(w)||document.createElement("span"),x=t("learnmore"),S=document.getElementById(x)||document.createElement("a"),P=t("preprendIcon"),I=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const O=p.element;a(O),f(S,x);const M=d();l(I,P),O.append(I,A,S,M),document.body.appendChild(O)}s?(A.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vwe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}function Lwe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rG(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Fwe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zwe(){const n=Vr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sG(){try{return typeof indexedDB=="object"}catch{return!1}}function oG(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}function jwe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uwe="FirebaseError";class Qa extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Uwe,Object.setPrototypeOf(this,Qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?$we(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Qa(r,a,i)}}function $we(n,e){return n.replace(Hwe,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Hwe=/\{\$([^}]+)}/g;function Wwe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dm(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(fB(s)&&fB(o)){if(!Dm(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function fB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gwe(n,e){const t=new Ywe(n,e);return t.subscribe.bind(t)}class Ywe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Kwe(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=kS),r.error===void 0&&(r.error=kS),r.complete===void 0&&(r.complete=kS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kwe(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kS(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qwe=1e3,Zwe=2,Qwe=14400*1e3,Jwe=.5;function hB(n,e=qwe,t=Zwe){const i=e*Math.pow(t,n),r=Math.round(Jwe*i*(Math.random()-.5)*2);return Math.min(Qwe,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(n){return n&&n._delegate?n._delegate:n}class Fa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xwe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Owe;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tye(e))try{this.getOrInitializeService({instanceIdentifier:Md})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Md){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Md){return this.instances.has(e)}getOptions(e=Md){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eye(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Md){return this.component?this.component.multipleInstances?e:Md:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eye(n){return n===Md?void 0:n}function tye(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xwe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xn||(xn={}));const iye={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},rye=xn.INFO,sye={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},oye=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=sye[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iO{constructor(e){this.name=e,this._logLevel=rye,this._logHandler=oye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}const aye=(n,e)=>e.some(t=>n instanceof t);let mB,gB;function lye(){return mB||(mB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cye(){return gB||(gB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aG=new WeakMap,RT=new WeakMap,lG=new WeakMap,xS=new WeakMap,rO=new WeakMap;function uye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xu(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&aG.set(t,n)}).catch(()=>{}),rO.set(e,n),e}function dye(n){if(RT.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});RT.set(n,e)}let OT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return RT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lG.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fye(n){OT=n(OT)}function hye(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(CS(this),e,...t);return lG.set(i,e.sort?e.sort():[e]),xu(i)}:cye().includes(n)?function(...e){return n.apply(CS(this),e),xu(aG.get(this))}:function(...e){return xu(n.apply(CS(this),e))}}function mye(n){return typeof n=="function"?hye(n):(n instanceof IDBTransaction&&dye(n),aye(n,lye())?new Proxy(n,OT):n)}function xu(n){if(n instanceof IDBRequest)return uye(n);if(xS.has(n))return xS.get(n);const e=mye(n);return e!==n&&(xS.set(n,e),rO.set(e,n)),e}const CS=n=>rO.get(n);function cG(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=xu(o);return i&&o.addEventListener("upgradeneeded",l=>{i(xu(o.result),l.oldVersion,l.newVersion,xu(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const gye=["get","getKey","getAll","getAllKeys","count"],pye=["put","add","delete","clear"],SS=new Map;function pB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(SS.get(e))return SS.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=pye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gye.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),r&&l.done]))[0]};return SS.set(e,s),s}fye(n=>({...n,get:(e,t,i)=>pB(e,t)||n.get(e,t,i),has:(e,t)=>!!pB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vye(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vye(n){return n.getComponent()?.type==="VERSION"}const DT="@firebase/app",bB="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new iO("@firebase/app"),wye="@firebase/app-compat",yye="@firebase/analytics-compat",_ye="@firebase/analytics",Aye="@firebase/app-check-compat",kye="@firebase/app-check",xye="@firebase/auth",Cye="@firebase/auth-compat",Sye="@firebase/database",Eye="@firebase/data-connect",Tye="@firebase/database-compat",Iye="@firebase/functions",Pye="@firebase/functions-compat",Rye="@firebase/installations",Oye="@firebase/installations-compat",Dye="@firebase/messaging",Nye="@firebase/messaging-compat",Mye="@firebase/performance",Bye="@firebase/performance-compat",Vye="@firebase/remote-config",Lye="@firebase/remote-config-compat",Fye="@firebase/storage",zye="@firebase/storage-compat",jye="@firebase/firestore",Uye="@firebase/ai",$ye="@firebase/firestore-compat",Hye="firebase",Wye="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="[DEFAULT]",Gye={[DT]:"fire-core",[wye]:"fire-core-compat",[_ye]:"fire-analytics",[yye]:"fire-analytics-compat",[kye]:"fire-app-check",[Aye]:"fire-app-check-compat",[xye]:"fire-auth",[Cye]:"fire-auth-compat",[Sye]:"fire-rtdb",[Eye]:"fire-data-connect",[Tye]:"fire-rtdb-compat",[Iye]:"fire-fn",[Pye]:"fire-fn-compat",[Rye]:"fire-iid",[Oye]:"fire-iid-compat",[Dye]:"fire-fcm",[Nye]:"fire-fcm-compat",[Mye]:"fire-perf",[Bye]:"fire-perf-compat",[Vye]:"fire-rc",[Lye]:"fire-rc-compat",[Fye]:"fire-gcs",[zye]:"fire-gcs-compat",[jye]:"fire-fst",[$ye]:"fire-fst-compat",[Uye]:"fire-vertex","fire-js":"fire-js",[Hye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Map,Yye=new Map,MT=new Map;function vB(n,e){try{n.container.addComponent(e)}catch(t){uc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dc(n){const e=n.name;if(MT.has(e))return uc.debug(`There were multiple attempts to register component ${e}.`),!1;MT.set(e,n);for(const t of AA.values())vB(t,n);for(const t of Yye.values())vB(t,n);return!0}function yk(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sa(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cu=new Ef("app","Firebase",Kye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qye{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=Wye;function uG(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:NT,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Cu.create("bad-app-name",{appName:String(r)});if(t||(t=nG()),!t)throw Cu.create("no-options");const s=AA.get(r);if(s){if(Dm(t,s.options)&&Dm(i,s.config))return s;throw Cu.create("duplicate-app",{appName:r})}const o=new nye(r);for(const l of MT.values())o.addComponent(l);const a=new qye(t,i,o);return AA.set(r,a),a}function Zye(n=NT){const e=AA.get(n);if(!e&&n===NT&&nG())return uG();if(!e)throw Cu.create("no-app",{appName:n});return e}function Ra(n,e,t){let i=Gye[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uc.warn(o.join(" "));return}dc(new Fa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qye="firebase-heartbeat-database",Jye=1,rv="firebase-heartbeat-store";let ES=null;function dG(){return ES||(ES=cG(Qye,Jye,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rv)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cu.create("idb-open",{originalErrorMessage:n.message})})),ES}async function Xye(n){try{const t=(await dG()).transaction(rv),i=await t.objectStore(rv).get(fG(n));return await t.done,i}catch(e){if(e instanceof Qa)uc.warn(e.message);else{const t=Cu.create("idb-get",{originalErrorMessage:e?.message});uc.warn(t.message)}}}async function wB(n,e){try{const i=(await dG()).transaction(rv,"readwrite");await i.objectStore(rv).put(e,fG(n)),await i.done}catch(t){if(t instanceof Qa)uc.warn(t.message);else{const i=Cu.create("idb-set",{originalErrorMessage:t?.message});uc.warn(i.message)}}}function fG(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_e=1024,t_e=30;class n_e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new r_e(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yB();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>t_e){const r=s_e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){uc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yB(),{heartbeatsToSend:t,unsentEntries:i}=i_e(this._heartbeatsCache.heartbeats),r=eG(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return uc.warn(e),""}}}function yB(){return new Date().toISOString().substring(0,10)}function i_e(n,e=e_e){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),_B(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),_B(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class r_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sG()?oG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Xye(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _B(n){return eG(JSON.stringify({version:2,heartbeats:n})).length}function s_e(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_e(n){dc(new Fa("platform-logger",e=>new bye(e),"PRIVATE")),dc(new Fa("heartbeat",e=>new n_e(e),"PRIVATE")),Ra(DT,bB,n),Ra(DT,bB,"esm2020"),Ra("fire-js","")}o_e("");function hG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a_e=hG,mG=new Ef("auth","Firebase",hG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new iO("@firebase/auth");function l_e(n,...e){kA.logLevel<=xn.WARN&&kA.warn(`Auth (${aw}): ${n}`,...e)}function g0(n,...e){kA.logLevel<=xn.ERROR&&kA.error(`Auth (${aw}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n,...e){throw oO(n,...e)}function Mo(n,...e){return oO(n,...e)}function sO(n,e,t){const i={...a_e(),[e]:t};return new Ef("auth","Firebase",i).create(e,{appName:n.name})}function Qd(n){return sO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_e(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&za(n,"argument-error"),sO(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oO(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mG.create(n,...e)}function pt(n,e,...t){if(!n)throw oO(e,...t)}function Gl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw g0(e),new Error(e)}function fc(n,e){n||Gl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return typeof self<"u"&&self.location?.href||""}function u_e(){return AB()==="http:"||AB()==="https:"}function AB(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u_e()||rG()||"connection"in navigator)?navigator.onLine:!0}function f_e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.shortDelay=e,this.longDelay=t,fc(t>e,"Short delay should be less than long delay!"),this.isMobile=Vwe()||Fwe()}get(){return d_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n,e){fc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g_e=new lw(3e4,6e4);function lO(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function og(n,e,t,i,r={}){return pG(n,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=ow({key:n.config.apiKey,...o}).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:l,...s};return Lwe()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&wk(n.emulatorConfig.host)&&(d.credentials="include"),gG.fetch()(await bG(n,n.config.apiHost,t,a),d)})}async function pG(n,e,t){n._canInitEmulator=!1;const i={...h_e,...e};try{const r=new b_e(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw I_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw I_(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw I_(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw I_(n,"user-disabled",o);const f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sO(n,f,d);za(n,f)}}catch(r){if(r instanceof Qa)throw r;za(n,"network-request-failed",{message:String(r)})}}async function p_e(n,e,t,i,r={}){const s=await og(n,e,t,i,r);return"mfaPendingCredential"in s&&za(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function bG(n,e,t,i){const r=`${e}${t}?${i}`,s=n,o=s.config.emulator?aO(n.config,r):`${n.config.apiScheme}://${r}`;return m_e.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class b_e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Mo(this.auth,"network-request-failed")),g_e.get())})}}function I_(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Mo(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_e(n,e){return og(n,"POST","/v1/accounts:delete",e)}async function xA(n,e){return og(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w_e(n,e=!1){const t=Tf(n),i=await t.getIdToken(e),r=cO(i);pt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ab(TS(r.auth_time)),issuedAtTime:Ab(TS(r.iat)),expirationTime:Ab(TS(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function TS(n){return Number(n)*1e3}function cO(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return g0("JWT malformed, contained fewer than 3 sections"),null;try{const r=tG(t);return r?JSON.parse(r):(g0("Failed to decode base64 JWT payload"),null)}catch(r){return g0("Caught error parsing JWT payload as JSON",r?.toString()),null}}function kB(n){const e=cO(n);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sv(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Qa&&y_e(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function y_e({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ab(this.lastLoginAt),this.creationTime=Ab(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n){const e=n.auth,t=await n.getIdToken(),i=await sv(n,xA(e,{idToken:t}));pt(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=r.providerUserInfo?.length?vG(r.providerUserInfo):[],o=k_e(n.providerData,s),a=n.isAnonymous,l=!(n.email&&r.passwordHash)&&!o?.length,d=a?l:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new VT(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,f)}async function A_e(n){const e=Tf(n);await CA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k_e(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vG(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_e(n,e){const t=await pG(n,{},async()=>{const i=ow({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await bG(n,r,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:i};return n.emulatorConfig&&wk(n.emulatorConfig.host)&&(l.credentials="include"),gG.fetch()(o,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function C_e(n,e){return og(n,"POST","/v2/accounts:revokeToken",lO(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const t=kB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await x_e(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new mm;return i&&(pt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(pt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(pt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mm,this.toJSON())}_performRefresh(){return Gl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n,e){pt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Oo{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new __e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new VT(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await sv(this,this.stsTokenManager.getToken(this.auth,e));return pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return w_e(this,e)}reload(){return A_e(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await CA(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sa(this.auth.app))return Promise.reject(Qd(this.auth));const e=await this.getIdToken();return await sv(this,v_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,l=t._redirectEventId??void 0,d=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:w,providerData:A,stsTokenManager:x}=t;pt(m&&x,e,"internal-error");const S=mm.fromJSON(this.name,x);pt(typeof m=="string",e,"internal-error"),uu(i,e.name),uu(r,e.name),pt(typeof p=="boolean",e,"internal-error"),pt(typeof w=="boolean",e,"internal-error"),uu(s,e.name),uu(o,e.name),uu(a,e.name),uu(l,e.name),uu(d,e.name),uu(f,e.name);const P=new Oo({uid:m,auth:e,email:r,emailVerified:p,displayName:i,isAnonymous:w,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:S,createdAt:d,lastLoginAt:f});return A&&Array.isArray(A)&&(P.providerData=A.map(I=>({...I}))),l&&(P._redirectEventId=l),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new mm;r.updateFromServerResponse(t);const s=new Oo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await CA(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];pt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?vG(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new mm;a.updateFromIdToken(i);const l=new Oo({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new VT(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Map;function Yl(n){fc(n instanceof Function,"Expected a class definition");let e=xB.get(n);return e?(fc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xB.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wG.type="NONE";const CB=wG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n,e,t){return`firebase:${n}:${e}:${t}`}class gm{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=p0(this.userKey,r.apiKey,s),this.fullPersistenceKey=p0("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xA(this.auth,{idToken:e}).catch(()=>{});return t?Oo._fromGetAccountInfoResponse(this.auth,t,e):null}return Oo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new gm(Yl(CB),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||Yl(CB);const o=p0(i,e.config.apiKey,e.name);let a=null;for(const d of t)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const p=await xA(e,{idToken:f}).catch(()=>{});if(!p)break;m=await Oo._fromGetAccountInfoResponse(e,p,f)}else m=Oo._fromJSON(e,f);d!==s&&(a=m),s=d;break}}catch{}const l=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gm(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new gm(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CG(e))return"Blackberry";if(SG(e))return"Webos";if(_G(e))return"Safari";if((e.includes("chrome/")||AG(e))&&!e.includes("edge/"))return"Chrome";if(xG(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function yG(n=Vr()){return/firefox\//i.test(n)}function _G(n=Vr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AG(n=Vr()){return/crios\//i.test(n)}function kG(n=Vr()){return/iemobile/i.test(n)}function xG(n=Vr()){return/android/i.test(n)}function CG(n=Vr()){return/blackberry/i.test(n)}function SG(n=Vr()){return/webos/i.test(n)}function uO(n=Vr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function S_e(n=Vr()){return uO(n)&&!!window.navigator?.standalone}function E_e(){return zwe()&&document.documentMode===10}function EG(n=Vr()){return uO(n)||xG(n)||SG(n)||CG(n)||/windows phone/i.test(n)||kG(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(n,e=[]){let t;switch(n){case"Browser":t=SB(Vr());break;case"Worker":t=`${SB(Vr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aw}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_e(n,e={}){return og(n,"GET","/v2/passwordPolicy",lO(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_e=6;class R_e{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??P_e,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EB(this),this.idTokenSubscription=new EB(this),this.beforeStateQueue=new T_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gm.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xA(this,{idToken:e}),i=await Oo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await CA(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sa(this.app))return Promise.reject(Qd(this));const t=e?Tf(e):null;return t&&pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sa(this.app)?Promise.reject(Qd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sa(this.app)?Promise.reject(Qd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I_e(this),t=new R_e(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ef("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await C_e(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yl(e)||this._popupRedirectResolver;pt(t,this,"argument-error"),this.redirectPersistenceManager=await gm.create(this,[Yl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Sa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&l_e(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _k(n){return Tf(n)}class EB{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gwe(t=>this.observer=t)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dO={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D_e(n){dO=n}function N_e(n){return dO.loadJS(n)}function M_e(){return dO.gapiScript}function B_e(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_e(n,e){const t=yk(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Dm(s,e??{}))return r;za(r,"already-initialized")}return t.initialize({options:e})}function L_e(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Yl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function F_e(n,e,t){const i=_k(n);pt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=IG(e),{host:o,port:a}=z_e(e),l=a===null?"":`:${a}`,d={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){pt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),pt(Dm(d,i.config.emulator)&&Dm(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,wk(o)?(Dwe(`${s}//${o}${l}`),Bwe("Auth",!0)):j_e()}function IG(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z_e(n){const e=IG(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:TB(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:TB(o)}}}function TB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function j_e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gl("not implemented")}_getIdTokenResponse(e){return Gl("not implemented")}_linkToIdToken(e,t){return Gl("not implemented")}_getReauthenticationResolver(e){return Gl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(n,e){return p_e(n,"POST","/v1/accounts:signInWithIdp",lO(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_e="http://localhost";class uf extends PG{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):za("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const o=new uf(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return pm(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,pm(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pm(e,t)}buildRequest(){const e={requestUri:U_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ow(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends fO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends cw{constructor(){super("facebook.com")}static credential(e){return uf._fromParams({providerId:pu.PROVIDER_ID,signInMethod:pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pu.credentialFromTaggedObject(e)}static credentialFromError(e){return pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pu.credential(e.oauthAccessToken)}catch{return null}}}pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends cw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uf._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return jl.credential(t,i)}catch{return null}}}jl.GOOGLE_SIGN_IN_METHOD="google.com";jl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends cw{constructor(){super("github.com")}static credential(e){return uf._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}}bu.GITHUB_SIGN_IN_METHOD="github.com";bu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends cw{constructor(){super("twitter.com")}static credential(e,t){return uf._fromParams({providerId:vu.PROVIDER_ID,signInMethod:vu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vu.credentialFromTaggedObject(e)}static credentialFromError(e){return vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vu.credential(t,i)}catch{return null}}}vu.TWITTER_SIGN_IN_METHOD="twitter.com";vu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Oo._fromIdTokenResponse(e,i,r),o=IB(i);return new Nm({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=IB(i);return new Nm({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function IB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends Qa{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,SA.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new SA(e,t,i,r)}}function RG(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?SA._fromErrorAndOperation(n,s,e,i):s})}async function $_e(n,e,t=!1){const i=await sv(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nm._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_e(n,e,t=!1){const{auth:i}=n;if(Sa(i.app))return Promise.reject(Qd(i));const r="reauthenticate";try{const s=await sv(n,RG(i,r,e,n),t);pt(s.idToken,i,"internal-error");const o=cO(s.idToken);pt(o,i,"internal-error");const{sub:a}=o;return pt(n.uid===a,i,"user-mismatch"),Nm._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&za(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_e(n,e,t=!1){if(Sa(n.app))return Promise.reject(Qd(n));const i="signIn",r=await RG(n,i,e),s=await Nm._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function G_e(n,e,t,i){return Tf(n).onIdTokenChanged(e,t,i)}function Y_e(n,e,t){return Tf(n).beforeAuthStateChanged(e,t)}const EA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(EA,"1"),this.storage.removeItem(EA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_e=1e3,q_e=10;class DG extends OG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);E_e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,q_e):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},K_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DG.type="LOCAL";const Z_e=DG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG extends OG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NG.type="SESSION";const MG=NG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_e(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Ak(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async d=>d(t.origin,s)),l=await Q_e(a);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ak.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const d=hO("",20);r.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(){return window}function X_e(n){Oa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BG(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function e0e(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t0e(){return navigator?.serviceWorker?.controller||null}function n0e(){return BG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="firebaseLocalStorageDb",i0e=1,TA="firebaseLocalStorage",LG="fbase_key";class uw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kk(n,e){return n.transaction([TA],e?"readwrite":"readonly").objectStore(TA)}function r0e(){const n=indexedDB.deleteDatabase(VG);return new uw(n).toPromise()}function LT(){const n=indexedDB.open(VG,i0e);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(TA,{keyPath:LG})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(TA)?e(i):(i.close(),await r0e(),e(await LT()))})})}async function PB(n,e,t){const i=kk(n,!0).put({[LG]:e,value:t});return new uw(i).toPromise()}async function s0e(n,e){const t=kk(n,!1).get(e),i=await new uw(t).toPromise();return i===void 0?null:i.value}function RB(n,e){const t=kk(n,!0).delete(e);return new uw(t).toPromise()}const o0e=800,a0e=3;class FG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await LT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>a0e)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ak._getInstance(n0e()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e0e(),!this.activeServiceWorker)return;this.sender=new J_e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t0e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await LT();return await PB(e,EA,"1"),await RB(e,EA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>PB(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>s0e(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RB(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=kk(r,!1).getAll();return new uw(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FG.type="LOCAL";const l0e=FG;new lw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(n,e){return e?Yl(e):(pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO extends PG{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c0e(n){return W_e(n.auth,new mO(n),n.bypassAuthState)}function u0e(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),H_e(t,new mO(n),n.bypassAuthState)}async function d0e(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),$_e(t,new mO(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c0e;case"linkViaPopup":case"linkViaRedirect":return d0e;case"reauthViaPopup":case"reauthViaRedirect":return u0e;default:za(this.auth,"internal-error")}}resolve(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0e=new lw(2e3,1e4);async function h0e(n,e,t){if(Sa(n.app))return Promise.reject(Mo(n,"operation-not-supported-in-this-environment"));const i=_k(n);c_e(n,e,fO);const r=zG(i,t);return new Wd(i,"signInViaPopup",e,r).executeNotNull()}class Wd extends jG{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Wd.currentPopupAction&&Wd.currentPopupAction.cancel(),Wd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){fc(this.filter.length===1,"Popup operations only handle one event");const e=hO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f0e.get())};e()}}Wd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0e="pendingRedirect",b0=new Map;class g0e extends jG{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=b0.get(this.auth._key());if(!e){try{const i=await p0e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}b0.set(this.auth._key(),e)}return this.bypassAuthState||b0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p0e(n,e){const t=w0e(e),i=v0e(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function b0e(n,e){b0.set(n._key(),e)}function v0e(n){return Yl(n._redirectPersistence)}function w0e(n){return p0(m0e,n.config.apiKey,n.name)}async function y0e(n,e,t=!1){if(Sa(n.app))return Promise.reject(Qd(n));const i=_k(n),r=zG(i,e),o=await new g0e(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0e=600*1e3;class A0e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k0e(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!UG(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Mo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_0e&&this.cachedEventUids.clear(),this.cachedEventUids.has(OB(e))}saveEventToCache(e){this.cachedEventUids.add(OB(e)),this.lastProcessedEventTime=Date.now()}}function OB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UG({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function k0e(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UG(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0e(n,e={}){return og(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S0e=/^https?/;async function E0e(n){if(n.config.emulator)return;const{authorizedDomains:e}=await x0e(n);for(const t of e)try{if(T0e(t))return}catch{}za(n,"unauthorized-domain")}function T0e(n){const e=BT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!S0e.test(t))return!1;if(C0e.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0e=new lw(3e4,6e4);function DB(){const n=Oa().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P0e(n){return new Promise((e,t)=>{function i(){DB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DB(),t(Mo(n,"network-request-failed"))},timeout:I0e.get()})}if(Oa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oa().gapi?.load)i();else{const r=B_e("iframefcb");return Oa()[r]=()=>{gapi.load?i():t(Mo(n,"network-request-failed"))},N_e(`${M_e()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw v0=null,e})}let v0=null;function R0e(n){return v0=v0||P0e(n),v0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0e=new lw(5e3,15e3),D0e="__/auth/iframe",N0e="emulator/auth/iframe",M0e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B0e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V0e(n){const e=n.config;pt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?aO(e,N0e):`https://${n.config.authDomain}/${D0e}`,i={apiKey:e.apiKey,appName:n.name,v:aw},r=B0e.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${ow(i).slice(1)}`}async function L0e(n){const e=await R0e(n),t=Oa().gapi;return pt(t,n,"internal-error"),e.open({where:document.body,url:V0e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M0e,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Mo(n,"network-request-failed"),a=Oa().setTimeout(()=>{s(o)},O0e.get());function l(){Oa().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z0e=500,j0e=600,U0e="_blank",$0e="http://localhost";class NB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H0e(n,e,t,i=z0e,r=j0e){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l={...F0e,width:i.toString(),height:r.toString(),top:s,left:o},d=Vr().toLowerCase();t&&(a=AG(d)?U0e:t),yG(d)&&(e=e||$0e,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[w,A])=>`${p}${w}=${A},`,"");if(S_e(d)&&a!=="_self")return W0e(e||"",a),new NB(null);const m=window.open(e||"",a,f);pt(m,n,"popup-blocked");try{m.focus()}catch{}return new NB(m)}function W0e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0e="__/auth/handler",Y0e="emulator/auth/handler",K0e=encodeURIComponent("fac");async function MB(n,e,t,i,r,s){pt(n.config.authDomain,n,"auth-domain-config-required"),pt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:aw,eventId:r};if(e instanceof fO){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Wwe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof cw){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await n._getAppCheckToken(),d=l?`#${K0e}=${encodeURIComponent(l)}`:"";return`${q0e(n)}?${ow(a).slice(1)}${d}`}function q0e({config:n}){return n.emulator?aO(n,Y0e):`https://${n.authDomain}/${G0e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="webStorageSupport";class Z0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MG,this._completeRedirectFn=y0e,this._overrideRedirectResult=b0e}async _openPopup(e,t,i,r){fc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await MB(e,t,i,BT(),r);return H0e(e,s,hO())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await MB(e,t,i,BT(),r);return X_e(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(fc(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await L0e(e),i=new A0e(e);return t.register("authEvent",r=>(pt(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(IS,{type:IS},r=>{const s=r?.[0]?.[IS];s!==void 0&&t(!!s),za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E0e(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EG()||_G()||uO()}}const Q0e=Z0e;var BB="@firebase/auth",VB="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eAe(n){dc(new Fa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;pt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TG(n)},d=new O_e(i,r,s,l);return L_e(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),dc(new Fa("auth-internal",e=>{const t=_k(e.getProvider("auth").getImmediate());return(i=>new J0e(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(BB,VB,X0e(n)),Ra(BB,VB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tAe=300,nAe=iG("authIdTokenMaxAge")||tAe;let LB=null;const iAe=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nAe)return;const r=t?.token;LB!==r&&(LB=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function rAe(n=Zye()){const e=yk(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V_e(n,{popupRedirectResolver:Q0e,persistence:[l0e,Z_e,MG]}),i=iG("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=iAe(s.toString());Y_e(t,o,()=>o(t.currentUser)),G_e(t,a=>o(a))}}const r=Rwe("auth");return r&&F_e(t,`http://${r}`),t}function sAe(){return document.getElementsByTagName("head")?.[0]??document}D_e({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Mo("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",sAe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eAe("Browser");var oAe="firebase",aAe="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(oAe,aAe,"app");const $G="@firebase/installations",gO="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=1e4,WG=`w:${gO}`,GG="FIS_v2",lAe="https://firebaseinstallations.googleapis.com/v1",cAe=3600*1e3,uAe="installations",dAe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fAe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},df=new Ef(uAe,dAe,fAe);function YG(n){return n instanceof Qa&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG({projectId:n}){return`${lAe}/projects/${n}/installations`}function qG(n){return{token:n.token,requestStatus:2,expiresIn:mAe(n.expiresIn),creationTime:Date.now()}}async function ZG(n,e){const i=(await e.json()).error;return df.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function QG({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hAe(n,{refreshToken:e}){const t=QG(n);return t.append("Authorization",gAe(e)),t}async function JG(n){const e=await n();return e.status>=500&&e.status<600?n():e}function mAe(n){return Number(n.replace("s","000"))}function gAe(n){return`${GG} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pAe({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=KG(n),r=QG(n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={fid:t,authVersion:GG,appId:n.appId,sdkVersion:WG},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await JG(()=>fetch(i,a));if(l.ok){const d=await l.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:qG(d.authToken)}}else throw await ZG("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bAe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vAe=/^[cdef][\w-]{21}$/,FT="";function wAe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=yAe(n);return vAe.test(t)?t:FT}catch{return FT}}function yAe(n){return bAe(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=new Map;function tY(n,e){const t=xk(n);nY(t,e),_Ae(t,e)}function nY(n,e){const t=eY.get(n);if(t)for(const i of t)i(e)}function _Ae(n,e){const t=AAe();t&&t.postMessage({key:n,fid:e}),kAe()}let Gd=null;function AAe(){return!Gd&&"BroadcastChannel"in self&&(Gd=new BroadcastChannel("[Firebase] FID Change"),Gd.onmessage=n=>{nY(n.data.key,n.data.fid)}),Gd}function kAe(){eY.size===0&&Gd&&(Gd.close(),Gd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xAe="firebase-installations-database",CAe=1,ff="firebase-installations-store";let PS=null;function pO(){return PS||(PS=cG(xAe,CAe,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ff)}}})),PS}async function IA(n,e){const t=xk(n),r=(await pO()).transaction(ff,"readwrite"),s=r.objectStore(ff),o=await s.get(t);return await s.put(e,t),await r.done,(!o||o.fid!==e.fid)&&tY(n,e.fid),e}async function iY(n){const e=xk(n),i=(await pO()).transaction(ff,"readwrite");await i.objectStore(ff).delete(e),await i.done}async function Ck(n,e){const t=xk(n),r=(await pO()).transaction(ff,"readwrite"),s=r.objectStore(ff),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await r.done,a&&(!o||o.fid!==a.fid)&&tY(n,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(n){let e;const t=await Ck(n.appConfig,i=>{const r=SAe(i),s=EAe(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===FT?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function SAe(n){const e=n||{fid:wAe(),registrationStatus:0};return rY(e)}function EAe(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(df.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=TAe(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IAe(n)}:{installationEntry:e}}async function TAe(n,e){try{const t=await pAe(n,e);return IA(n.appConfig,t)}catch(t){throw YG(t)&&t.customData.serverCode===409?await iY(n.appConfig):await IA(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function IAe(n){let e=await FB(n.appConfig);for(;e.registrationStatus===1;)await XG(100),e=await FB(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await bO(n);return i||t}return e}function FB(n){return Ck(n,e=>{if(!e)throw df.create("installation-not-found");return rY(e)})}function rY(n){return PAe(n)?{fid:n.fid,registrationStatus:0}:n}function PAe(n){return n.registrationStatus===1&&n.registrationTime+HG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RAe({appConfig:n,heartbeatServiceProvider:e},t){const i=OAe(n,t),r=hAe(n,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={installation:{sdkVersion:WG,appId:n.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await JG(()=>fetch(i,a));if(l.ok){const d=await l.json();return qG(d)}else throw await ZG("Generate Auth Token",l)}function OAe(n,{fid:e}){return`${KG(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e=!1){let t;const i=await Ck(n.appConfig,s=>{if(!sY(s))throw df.create("not-registered");const o=s.authToken;if(!e&&MAe(o))return s;if(o.requestStatus===1)return t=DAe(n,e),s;{if(!navigator.onLine)throw df.create("app-offline");const a=VAe(s);return t=NAe(n,a),a}});return t?await t:i.authToken}async function DAe(n,e){let t=await zB(n.appConfig);for(;t.authToken.requestStatus===1;)await XG(100),t=await zB(n.appConfig);const i=t.authToken;return i.requestStatus===0?vO(n,e):i}function zB(n){return Ck(n,e=>{if(!sY(e))throw df.create("not-registered");const t=e.authToken;return LAe(t)?{...e,authToken:{requestStatus:0}}:e})}async function NAe(n,e){try{const t=await RAe(n,e),i={...e,authToken:t};return await IA(n.appConfig,i),t}catch(t){if(YG(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await iY(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await IA(n.appConfig,i)}throw t}}function sY(n){return n!==void 0&&n.registrationStatus===2}function MAe(n){return n.requestStatus===2&&!BAe(n)}function BAe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+cAe}function VAe(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function LAe(n){return n.requestStatus===1&&n.requestTime+HG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FAe(n){const e=n,{installationEntry:t,registrationPromise:i}=await bO(e);return i?i.catch(console.error):vO(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zAe(n,e=!1){const t=n;return await jAe(t),(await vO(t,e)).token}async function jAe(n){const{registrationPromise:e}=await bO(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UAe(n){if(!n||!n.options)throw RS("App Configuration");if(!n.name)throw RS("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw RS(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function RS(n){return df.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="installations",$Ae="installations-internal",HAe=n=>{const e=n.getProvider("app").getImmediate(),t=UAe(e),i=yk(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},WAe=n=>{const e=n.getProvider("app").getImmediate(),t=yk(e,oY).getImmediate();return{getId:()=>FAe(t),getToken:r=>zAe(t,r)}};function GAe(){dc(new Fa(oY,HAe,"PUBLIC")),dc(new Fa($Ae,WAe,"PRIVATE"))}GAe();Ra($G,gO);Ra($G,gO,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="analytics",YAe="firebase_id",KAe="origin",qAe=60*1e3,ZAe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wO="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new iO("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QAe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xs=new Ef("analytics","Analytics",QAe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JAe(n){if(!n.startsWith(wO)){const e=Xs.create("invalid-gtag-resource",{gtagURL:n});return is.warn(e.message),""}return n}function aY(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function XAe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function e1e(n,e){const t=XAe("firebase-js-sdk-policy",{createScriptURL:JAe}),i=document.createElement("script"),r=`${wO}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function t1e(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function n1e(n,e,t,i,r,s){const o=i[r];try{if(o)await e[o];else{const l=(await aY(t)).find(d=>d.measurementId===r);l&&await e[l.appId]}}catch(a){is.error(a)}n("config",r,s)}async function i1e(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await aY(t);for(const l of o){const d=a.find(m=>m.measurementId===l),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",i,r||{})}catch(s){is.error(s)}}function r1e(n,e,t,i){async function r(s,...o){try{if(s==="event"){const[a,l]=o;await i1e(n,e,t,a,l)}else if(s==="config"){const[a,l]=o;await n1e(n,e,t,i,a,l)}else if(s==="consent"){const[a,l]=o;n("consent",a,l)}else if(s==="get"){const[a,l,d]=o;n("get",a,l,d)}else if(s==="set"){const[a]=o;n("set",a)}else n(s,...o)}catch(a){is.error(a)}}return r}function s1e(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=r1e(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function o1e(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(wO)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1e=30,l1e=1e3;class c1e{constructor(e={},t=l1e){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lY=new c1e;function u1e(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function d1e(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:u1e(t)},r=ZAe.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let o="";try{const a=await s.json();a.error?.message&&(o=a.error.message)}catch{}throw Xs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function f1e(n,e=lY,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Xs.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Xs.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new g1e;return setTimeout(async()=>{a.abort()},qAe),cY({appId:i,apiKey:r,measurementId:s},o,a,e)}async function cY(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=lY){const{appId:s,measurementId:o}=n;try{await h1e(i,e)}catch(a){if(o)return is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a?.message}]`),{appId:s,measurementId:o};throw a}try{const a=await d1e(n);return r.deleteThrottleMetadata(s),a}catch(a){const l=a;if(!m1e(l)){if(r.deleteThrottleMetadata(s),o)return is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:o};throw a}const d=Number(l?.customData?.httpStatus)===503?hB(t,r.intervalMillis,a1e):hB(t,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return r.setThrottleMetadata(s,f),is.debug(`Calling attemptFetch again in ${d} millis`),cY(n,f,i,r)}}function h1e(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Xs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m1e(n){if(!(n instanceof Qa)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class g1e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p1e(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const s=await e,o={...i,send_to:s};n("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1e(){if(sG())try{await oG()}catch(n){return is.warn(Xs.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return is.warn(Xs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v1e(n,e,t,i,r,s,o){const a=f1e(n);a.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&is.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>is.error(p)),e.push(a);const l=b1e().then(p=>{if(p)return i.getId()}),[d,f]=await Promise.all([a,l]);o1e(s)||e1e(s,d.measurementId),r("js",new Date);const m=o?.config??{};return m[KAe]="firebase",m.update=!0,f!=null&&(m[YAe]=f),r("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(e){this.app=e}_delete(){return delete kb[this.app.options.appId],Promise.resolve()}}let kb={},UB=[];const $B={};let OS="dataLayer",y1e="gtag",HB,uY,WB=!1;function _1e(){const n=[];if(rG()&&n.push("This is a browser extension environment."),jwe()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Xs.create("invalid-analytics-context",{errorInfo:e});is.warn(t.message)}}function A1e(n,e,t){_1e();const i=n.options.appId;if(!i)throw Xs.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xs.create("no-api-key");if(kb[i]!=null)throw Xs.create("already-exists",{id:i});if(!WB){t1e(OS);const{wrappedGtag:s,gtagCore:o}=s1e(kb,UB,$B,OS,y1e);uY=s,HB=o,WB=!0}return kb[i]=v1e(n,UB,$B,e,HB,OS,t),new w1e(n)}function k1e(n,e,t,i){n=Tf(n),p1e(uY,kb[n.app.options.appId],e,t,i).catch(r=>is.error(r))}const GB="@firebase/analytics",YB="0.10.18";function x1e(){dc(new Fa(jB,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return A1e(i,r,t)},"PUBLIC")),dc(new Fa("analytics-internal",n,"PRIVATE")),Ra(GB,YB),Ra(GB,YB,"esm2020");function n(e){try{const t=e.getProvider(jB).getImmediate();return{logEvent:(i,r,s)=>k1e(t,i,r,s)}}catch(t){throw Xs.create("interop-component-reg-failed",{reason:t})}}}x1e();const C1e={apiKey:Gt("VITE_FIREBASE_API"),authDomain:"blog-3d281.firebaseapp.com",projectId:"blog-3d281",storageBucket:"blog-3d281.firebasestorage.app",messagingSenderId:"167717405030",appId:"1:167717405030:web:6f284725422a5e121688a7",measurementId:"G-0NBLFHRH1C"},S1e=uG(C1e),E1e=rAe(S1e),T1e=new jl,I1e={"auth/popup-closed-by-user":"You closed the login popup. Please try again.","auth/cancelled-popup-request":"Login request was cancelled. Please try again.","auth/popup-blocked":"Popup was blocked by your browser. Allow popups and try again.","auth/network-request-failed":"Network error. Please check your internet and try again."};function dY(){const n=Ko(),e=wf(),[t,i]=C.useState(!1),r=async()=>{if(!t){i(!0);try{const o=(await h0e(E1e,T1e)).user,a={name:o.displayName,email:o.email,avatar:o.photoURL},l=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/google-login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),d=await l.json();if(!l.ok){Pt("error",d?.message||"Login failed");return}Pt("success",d?.message||"Login successful"),e(sP(d.data.user)),n(Fb)}catch(s){const o=I1e[s.code]||s?.message||"Something went wrong. Please try again.";Pt("error",o)}finally{i(!1)}}};return y.jsxs(ni,{variant:"outline",disabled:t,className:"w-full mb-4 flex items-center justify-center gap-2",onClick:r,children:[y.jsx(Awe,{}),t?"Please wait...":"Continue with Google"]})}function P1e(){const n=wf(),e=Ko(),t=Tn.object({email:Tn.string().email(),password:Tn.string().min(5,"Password must be at least 5 characters long")}),i=Mu({resolver:Lu(t),defaultValues:{email:"",password:""}}),r=async s=>{try{const o=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),a=await o.json();if(!o.ok){Pt("error",a?.message||"Login failed");return}Pt("success",a?.message||"Login successful"),n(sP(a.data.user)),e(Fb)}catch(o){Pt("error",o?.message||"Something went wrong")}};return y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4",children:y.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-xl ring-1 ring-gray-100",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsxs(ei,{to:Fb,className:"flex items-center gap-2",children:[y.jsx("img",{src:R2,alt:"Logo",className:"h-12 w-auto"}),y.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-pink-500 bg-clip-text text-transparent",children:"Blogify"})]})}),y.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Welcome Back"}),y.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Sign in to continue to your account"}),y.jsx(dY,{}),y.jsxs("div",{className:"relative my-6 flex items-center justify-center",children:[y.jsx("span",{className:"absolute bg-white px-2 text-sm text-gray-500",children:"Or continue with"}),y.jsx("div",{className:"h-px w-full bg-gray-200"})]}),y.jsx(Bu,{...i,children:y.jsxs("form",{onSubmit:i.handleSubmit(r),className:"space-y-5",children:[y.jsx(ti,{control:i.control,name:"email",render:({field:s})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Email"}),y.jsx(Hn,{children:y.jsx(Ri,{placeholder:"Enter your email",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...s})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:i.control,name:"password",render:({field:s})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Password"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"password",placeholder:"Enter your password",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...s})}),y.jsx(Wn,{})]})}),y.jsx("div",{className:"text-right",children:y.jsx(ei,{to:"#",className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 py-2 text-white font-semibold shadow hover:from-blue-700 hover:to-purple-700 transition",children:"Sign In"})]})}),y.jsxs("div",{className:"mt-6 text-center text-gray-600",children:["Dont have an account?"," ",y.jsx(ei,{to:n2,className:"font-medium text-blue-600 hover:underline",children:"Sign Up"})]})]})})}function R1e(){const n=Ko(),e=Tn.object({name:Tn.string().min(2,"Name should be at least two characters long"),email:Tn.string().email("Please enter a valid email address"),password:Tn.string().min(5,"Password must be at least 5 characters long"),confirmPassword:Tn.string().min(5,"Please confirm your password")}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),t=Mu({resolver:Lu(e),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),i=async r=>{try{const s=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await s.json();if(!s.ok){Pt("error",o?.message||"Registration failed");return}Pt("success",o?.message||"Registration successful"),n(Xd)}catch(s){Pt("error",s?.message||"Something went wrong")}};return y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4",children:y.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-xl ring-1 ring-gray-100",children:[y.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Create Your Account"}),y.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Join us and get started right away"}),y.jsx(dY,{}),y.jsxs("div",{className:"relative my-6 flex items-center justify-center",children:[y.jsx("span",{className:"absolute bg-white px-2 text-sm text-gray-500",children:"Or continue with"}),y.jsx("div",{className:"h-px w-full bg-gray-200"})]}),y.jsx(Bu,{...t,children:y.jsxs("form",{onSubmit:t.handleSubmit(i),className:"space-y-5",children:[y.jsx(ti,{control:t.control,name:"name",render:({field:r})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Name"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter your name",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...r})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:t.control,name:"email",render:({field:r})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Email"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"email",placeholder:"Enter your email",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...r})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:t.control,name:"password",render:({field:r})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Password"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"password",placeholder:"Enter your password",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...r})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:t.control,name:"confirmPassword",render:({field:r})=>y.jsxs(Un,{children:[y.jsx($n,{className:"text-gray-700",children:"Confirm Password"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"password",placeholder:"Re-enter your password",className:"rounded-xl border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",...r})}),y.jsx(Wn,{})]})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-blue-600 py-2 text-white font-semibold shadow hover:bg-blue-700 transition",children:"Sign Up"})]})}),y.jsxs("div",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",y.jsx(ei,{to:Xd,className:"font-medium text-blue-600 hover:underline",children:"Sign In"})]})]})})}const yO=C.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:Ye("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));yO.displayName="Textarea";var DS={exports:{}},NS,KB;function O1e(){if(KB)return NS;KB=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return NS=n,NS}var MS,qB;function D1e(){if(qB)return MS;qB=1;var n=O1e();function e(){}function t(){}return t.resetWarningCache=e,MS=function(){function i(o,a,l,d,f,m){if(m!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},MS}var ZB;function N1e(){return ZB||(ZB=1,DS.exports=D1e()()),DS.exports}var M1e=N1e();const kn=vf(M1e),B1e=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Mm(n,e,t){const i=V1e(n),{webkitRelativePath:r}=n,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof i.path!="string"&&QB(i,"path",s),QB(i,"relativePath",s),i}function V1e(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),r=B1e.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function QB(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const L1e=[".DS_Store","Thumbs.db"];function F1e(n){return Af(this,void 0,void 0,function*(){return PA(n)&&z1e(n.dataTransfer)?H1e(n.dataTransfer,n.type):j1e(n)?U1e(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?$1e(n):[]})}function z1e(n){return PA(n)}function j1e(n){return PA(n)&&PA(n.target)}function PA(n){return typeof n=="object"&&n!==null}function U1e(n){return zT(n.target.files).map(e=>Mm(e))}function $1e(n){return Af(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Mm(t))})}function H1e(n,e){return Af(this,void 0,void 0,function*(){if(n.items){const t=zT(n.items).filter(r=>r.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(W1e));return JB(fY(i))}return JB(zT(n.files).map(t=>Mm(t)))})}function JB(n){return n.filter(e=>L1e.indexOf(e.name)===-1)}function zT(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function W1e(n){if(typeof n.webkitGetAsEntry!="function")return XB(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?hY(e):XB(n,e)}function fY(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?fY(t):[t]],[])}function XB(n,e){return Af(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Mm(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Mm(i,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function G1e(n){return Af(this,void 0,void 0,function*(){return n.isDirectory?hY(n):Y1e(n)})}function hY(n){const e=n.createReader();return new Promise((t,i)=>{const r=[];function s(){e.readEntries(o=>Af(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(G1e));r.push(a),s()}else try{const a=yield Promise.all(r);t(a)}catch(a){i(a)}}),o=>{i(o)})}s()})}function Y1e(n){return Af(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const r=Mm(i,n.fullPath);e(r)},i=>{t(i)})})})}var P_={},e3;function K1e(){return e3||(e3=1,P_.__esModule=!0,P_.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):r===a})}return!0}),P_}var q1e=K1e();const BS=vf(q1e);function t3(n){return J1e(n)||Q1e(n)||gY(n)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function J1e(n){if(Array.isArray(n))return jT(n)}function n3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function i3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(t),!0).forEach(function(i){mY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function mY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ov(n,e){return tke(n)||eke(n,e)||gY(n,e)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(n,e){if(n){if(typeof n=="string")return jT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jT(n,e)}}function jT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function eke(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function tke(n){if(Array.isArray(n))return n}var nke=typeof BS=="function"?BS:BS.default,ike="file-invalid-type",rke="file-too-large",ske="file-too-small",oke="too-many-files",ake=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:ike,message:"File type must be ".concat(i)}},r3=function(e){return{code:rke,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},s3=function(e){return{code:ske,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},lke={code:oke,message:"Too many files"};function pY(n,e){var t=n.type==="application/x-moz-file"||nke(n,e);return[t,t?null:ake(e)]}function bY(n,e,t){if(Vd(n.size))if(Vd(e)&&Vd(t)){if(n.size>t)return[!1,r3(t)];if(n.size<e)return[!1,s3(e)]}else{if(Vd(e)&&n.size<e)return[!1,s3(e)];if(Vd(t)&&n.size>t)return[!1,r3(t)]}return[!0,null]}function Vd(n){return n!=null}function cke(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var d=pY(l,t),f=ov(d,1),m=f[0],p=bY(l,i,r),w=ov(p,1),A=w[0],x=a?a(l):null;return m&&A&&!x})}function RA(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function R_(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function o3(n){n.preventDefault()}function uke(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function dke(n){return n.indexOf("Edge/")!==-1}function fke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return uke(n)||dke(n)}function va(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(a){return!RA(i)&&a&&a.apply(void 0,[i].concat(s)),RA(i)})}}function hke(){return"showOpenFilePicker"in window}function mke(n){if(Vd(n)){var e=Object.entries(n).filter(function(t){var i=ov(t,2),r=i[0],s=i[1],o=!0;return vY(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(wY))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,i){var r=ov(i,2),s=r[0],o=r[1];return i3(i3({},t),{},mY({},s,o))},{});return[{description:"Files",accept:e}]}return n}function gke(n){if(Vd(n))return Object.entries(n).reduce(function(e,t){var i=ov(t,2),r=i[0],s=i[1];return[].concat(t3(e),[r],t3(s))},[]).filter(function(e){return vY(e)||wY(e)}).join(",")}function pke(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function bke(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function vY(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function wY(n){return/^.*\.[\w]+$/.test(n)}var vke=["children"],wke=["open"],yke=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_ke=["refKey","onChange","onClick"];function Ake(n){return Cke(n)||xke(n)||yY(n)||kke()}function kke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xke(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cke(n){if(Array.isArray(n))return UT(n)}function VS(n,e){return Tke(n)||Eke(n,e)||yY(n,e)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(n,e){if(n){if(typeof n=="string")return UT(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return UT(n,e)}}function UT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Eke(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function Tke(n){if(Array.isArray(n))return n}function a3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a3(Object(t),!0).forEach(function(i){$T(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $T(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OA(n,e){if(n==null)return{};var t=Ike(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Ike(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var ag=C.forwardRef(function(n,e){var t=n.children,i=OA(n,vke),r=Pke(i),s=r.open,o=OA(r,wke);return C.useImperativeHandle(e,function(){return{open:s}},[s]),Ue.createElement(C.Fragment,null,t(Zn(Zn({},o),{},{open:s})))});ag.displayName="Dropzone";var _Y={disabled:!1,getFilesFromEvent:F1e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ag.defaultProps=_Y;ag.propTypes={children:kn.func,accept:kn.objectOf(kn.arrayOf(kn.string)),multiple:kn.bool,preventDropOnDocument:kn.bool,noClick:kn.bool,noKeyboard:kn.bool,noDrag:kn.bool,noDragEventsBubbling:kn.bool,minSize:kn.number,maxSize:kn.number,maxFiles:kn.number,disabled:kn.bool,getFilesFromEvent:kn.func,onFileDialogCancel:kn.func,onFileDialogOpen:kn.func,useFsAccessApi:kn.bool,autoFocus:kn.bool,onDragEnter:kn.func,onDragLeave:kn.func,onDragOver:kn.func,onDrop:kn.func,onDropAccepted:kn.func,onDropRejected:kn.func,onError:kn.func,validator:kn.func};var HT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Pke(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Zn(Zn({},_Y),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,m=e.onDragOver,p=e.onDrop,w=e.onDropAccepted,A=e.onDropRejected,x=e.onFileDialogCancel,S=e.onFileDialogOpen,P=e.useFsAccessApi,I=e.autoFocus,O=e.preventDropOnDocument,M=e.noClick,B=e.noKeyboard,W=e.noDrag,$=e.noDragEventsBubbling,L=e.onError,ee=e.validator,pe=C.useMemo(function(){return gke(t)},[t]),Se=C.useMemo(function(){return mke(t)},[t]),ge=C.useMemo(function(){return typeof S=="function"?S:l3},[S]),Ee=C.useMemo(function(){return typeof x=="function"?x:l3},[x]),Te=C.useRef(null),Be=C.useRef(null),Y=C.useReducer(Rke,HT),de=VS(Y,2),Q=de[0],be=de[1],V=Q.isFocused,fe=Q.isFileDialogActive,Pe=C.useRef(typeof window<"u"&&window.isSecureContext&&P&&hke()),Ae=function(){!Pe.current&&fe&&setTimeout(function(){if(Be.current){var se=Be.current.files;se.length||(be({type:"closeDialog"}),Ee())}},300)};C.useEffect(function(){return window.addEventListener("focus",Ae,!1),function(){window.removeEventListener("focus",Ae,!1)}},[Be,fe,Ee,Pe]);var q=C.useRef([]),U=function(se){Te.current&&Te.current.contains(se.target)||(se.preventDefault(),q.current=[])};C.useEffect(function(){return O&&(document.addEventListener("dragover",o3,!1),document.addEventListener("drop",U,!1)),function(){O&&(document.removeEventListener("dragover",o3),document.removeEventListener("drop",U))}},[Te,O]),C.useEffect(function(){return!i&&I&&Te.current&&Te.current.focus(),function(){}},[Te,I,i]);var ce=C.useCallback(function(Z){L?L(Z):console.error(Z)},[L]),re=C.useCallback(function(Z){Z.preventDefault(),Z.persist(),F(Z),q.current=[].concat(Ake(q.current),[Z.target]),R_(Z)&&Promise.resolve(r(Z)).then(function(se){if(!(RA(Z)&&!$)){var me=se.length,$e=me>0&&cke({files:se,accept:pe,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:ee}),Ke=me>0&&!$e;be({isDragAccept:$e,isDragReject:Ke,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Z)}}).catch(function(se){return ce(se)})},[r,d,ce,$,pe,o,s,a,l,ee]),we=C.useCallback(function(Z){Z.preventDefault(),Z.persist(),F(Z);var se=R_(Z);if(se&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return se&&m&&m(Z),!1},[m,$]),Ie=C.useCallback(function(Z){Z.preventDefault(),Z.persist(),F(Z);var se=q.current.filter(function($e){return Te.current&&Te.current.contains($e)}),me=se.indexOf(Z.target);me!==-1&&se.splice(me,1),q.current=se,!(se.length>0)&&(be({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),R_(Z)&&f&&f(Z))},[Te,f,$]),ye=C.useCallback(function(Z,se){var me=[],$e=[];Z.forEach(function(Ke){var bt=pY(Ke,pe),gt=VS(bt,2),oi=gt[0],It=gt[1],wt=bY(Ke,o,s),ki=VS(wt,2),pn=ki[0],xi=ki[1],Ci=ee?ee(Ke):null;if(oi&&pn&&!Ci)me.push(Ke);else{var ta=[It,xi];Ci&&(ta=ta.concat(Ci)),$e.push({file:Ke,errors:ta.filter(function(tl){return tl})})}}),(!a&&me.length>1||a&&l>=1&&me.length>l)&&(me.forEach(function(Ke){$e.push({file:Ke,errors:[lke]})}),me.splice(0)),be({acceptedFiles:me,fileRejections:$e,isDragReject:$e.length>0,type:"setFiles"}),p&&p(me,$e,se),$e.length>0&&A&&A($e,se),me.length>0&&w&&w(me,se)},[be,a,pe,o,s,l,p,w,A,ee]),Fe=C.useCallback(function(Z){Z.preventDefault(),Z.persist(),F(Z),q.current=[],R_(Z)&&Promise.resolve(r(Z)).then(function(se){RA(Z)&&!$||ye(se,Z)}).catch(function(se){return ce(se)}),be({type:"reset"})},[r,ye,ce,$]),Oe=C.useCallback(function(){if(Pe.current){be({type:"openDialog"}),ge();var Z={multiple:a,types:Se};window.showOpenFilePicker(Z).then(function(se){return r(se)}).then(function(se){ye(se,null),be({type:"closeDialog"})}).catch(function(se){pke(se)?(Ee(se),be({type:"closeDialog"})):bke(se)?(Pe.current=!1,Be.current?(Be.current.value=null,Be.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(se)});return}Be.current&&(be({type:"openDialog"}),ge(),Be.current.value=null,Be.current.click())},[be,ge,Ee,P,ye,ce,Se,a]),at=C.useCallback(function(Z){!Te.current||!Te.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),Oe())},[Te,Oe]),ct=C.useCallback(function(){be({type:"focus"})},[]),gn=C.useCallback(function(){be({type:"blur"})},[]),cn=C.useCallback(function(){M||(fke()?setTimeout(Oe,0):Oe())},[M,Oe]),st=function(se){return i?null:se},Mn=function(se){return B?null:st(se)},Ct=function(se){return W?null:st(se)},F=function(se){$&&se.stopPropagation()},J=C.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=Z.refKey,me=se===void 0?"ref":se,$e=Z.role,Ke=Z.onKeyDown,bt=Z.onFocus,gt=Z.onBlur,oi=Z.onClick,It=Z.onDragEnter,wt=Z.onDragOver,ki=Z.onDragLeave,pn=Z.onDrop,xi=OA(Z,yke);return Zn(Zn($T({onKeyDown:Mn(va(Ke,at)),onFocus:Mn(va(bt,ct)),onBlur:Mn(va(gt,gn)),onClick:st(va(oi,cn)),onDragEnter:Ct(va(It,re)),onDragOver:Ct(va(wt,we)),onDragLeave:Ct(va(ki,Ie)),onDrop:Ct(va(pn,Fe)),role:typeof $e=="string"&&$e!==""?$e:"presentation"},me,Te),!i&&!B?{tabIndex:0}:{}),xi)}},[Te,at,ct,gn,cn,re,we,Ie,Fe,B,W,i]),ue=C.useCallback(function(Z){Z.stopPropagation()},[]),Ne=C.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=Z.refKey,me=se===void 0?"ref":se,$e=Z.onChange,Ke=Z.onClick,bt=OA(Z,_ke),gt=$T({accept:pe,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:st(va($e,Fe)),onClick:st(va(Ke,ue)),tabIndex:-1},me,Be);return Zn(Zn({},gt),bt)}},[Be,t,a,Fe,i]);return Zn(Zn({},Q),{},{isFocused:V&&!i,getRootProps:J,getInputProps:Ne,rootRef:Te,inputRef:Be,open:st(Oe)})}function Rke(n,e){switch(e.type){case"focus":return Zn(Zn({},n),{},{isFocused:!0});case"blur":return Zn(Zn({},n),{},{isFocused:!1});case"openDialog":return Zn(Zn({},HT),{},{isFileDialogActive:!0});case"closeDialog":return Zn(Zn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Zn(Zn({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Zn(Zn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Zn({},HT);default:return n}}function l3(){}function Oke(){const n=wf(),e=Es(m=>m.user),[t,i]=C.useState(null),[r,s]=C.useState(null),{loading:o}=ur(`${Gt("VITE_API_BASE_URL")}/auth/get-user`,{method:"get",credentials:"include"}),a=_W({name:Hd().min(2,"Name must be at least 2 characters long"),email:Hd().email(),bio:Hd().min(3,"Bio must at least 3 character long").optional(),password:Hd().optional()}),l=Mu({resolver:Lu(a),defaultValues:{name:"",email:"",bio:"",password:""}});C.useEffect(()=>{e?.userData&&l.reset({name:e?.userData?.name,email:e?.userData?.email,bio:e?.userData?.bio||""})},[]);const d=async m=>{try{const p=new FormData;r&&p.append("avatar",r),p.append("data",JSON.stringify(m));const w=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/update-profile`,{method:"PUT",credentials:"include",body:p}),A=await w.json();if(!w.ok)return Pt("error",A?.message);Pt("success",A?.message),n(sP(A.data)),i(null),s(null)}catch(p){Pt("error",p?.message)}},f=m=>{const p=m[0];s(p);const w=URL.createObjectURL(p);i(w)};return o?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx(Ka,{})}):y.jsx("div",{className:"container mx-auto px-4 py-10",children:y.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[y.jsx("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 h-28"}),y.jsxs("div",{className:"relative -mt-14 flex flex-col items-center px-6 pb-6",children:[y.jsx(ag,{onDrop:f,children:({getRootProps:m,getInputProps:p})=>y.jsxs("div",{...m(),className:"relative group",children:[y.jsx("input",{...p()}),y.jsxs(g1,{className:"w-28 h-28 border-4 border-white shadow-lg",children:[y.jsx(p1,{src:t||e?.userData?.avatar}),y.jsx(b1,{className:"text-3xl bg-gray-200",children:e?.userData?.name?.charAt(0)||"U"})]}),y.jsx("div",{className:"absolute bottom-1 right-1 flex items-center justify-center w-9 h-9 bg-white rounded-full shadow-md opacity-90 group-hover:opacity-100 transition cursor-pointer",children:y.jsx(die,{className:"text-gray-600"})})]})}),y.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:e?.userData?.name||"Your Name"}),y.jsx("p",{className:"text-sm text-gray-500",children:e?.userData?.email})]}),y.jsx("div",{className:"px-6 pb-8",children:y.jsx(Bu,{...l,children:y.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6 w-full",children:[y.jsx(ti,{control:l.control,name:"name",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium",children:"Name"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter your name",className:"rounded-lg",...m})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:l.control,name:"email",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium",children:"Email"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"email",placeholder:"Enter your email",className:"rounded-lg",...m})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:l.control,name:"bio",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium",children:"Bio"}),y.jsx(Hn,{children:y.jsx(yO,{placeholder:"Write something about yourself...",className:"rounded-lg",...m})}),y.jsx(Wn,{})]})}),y.jsx(ti,{control:l.control,name:"password",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium",children:"Password"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"password",placeholder:"Enter your password",className:"rounded-lg",...m})}),y.jsx(Wn,{})]})}),y.jsx(ni,{type:"submit",className:`w-full rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 \r
                hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 \r
                text-white font-semibold py-2.5 shadow-md transition-all duration-300`,children:"Save Changes"})]})})})]})})}const dw=C.forwardRef(({className:n,...e},t)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:t,className:Ye("w-full caption-bottom text-sm",n),...e})}));dw.displayName="Table";const fw=C.forwardRef(({className:n,...e},t)=>y.jsx("thead",{ref:t,className:Ye("[&_tr]:border-b",n),...e}));fw.displayName="TableHeader";const hw=C.forwardRef(({className:n,...e},t)=>y.jsx("tbody",{ref:t,className:Ye("[&_tr:last-child]:border-0",n),...e}));hw.displayName="TableBody";const Dke=C.forwardRef(({className:n,...e},t)=>y.jsx("tfoot",{ref:t,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));Dke.displayName="TableFooter";const Ss=C.forwardRef(({className:n,...e},t)=>y.jsx("tr",{ref:t,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Ss.displayName="TableRow";const Pi=C.forwardRef(({className:n,...e},t)=>y.jsx("th",{ref:t,className:Ye("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Pi.displayName="TableHead";const zn=C.forwardRef(({className:n,...e},t)=>y.jsx("td",{ref:t,className:Ye("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));zn.displayName="TableCell";const Nke=C.forwardRef(({className:n,...e},t)=>y.jsx("caption",{ref:t,className:Ye("mt-4 text-sm text-muted-foreground",n),...e}));Nke.displayName="TableCaption";const Sk=async(n,e)=>{if(confirm("Are you sure to delete this data?"))try{let i=n,r=null;if(n.includes("blog"))i=`${n}/${e}`;else if(n.includes("category"))i=`${n}/${e}`;else{const a=n.includes("blog")?"blog_id":"category_id";r=JSON.stringify({[a]:e})}const s=await fetch(i,{method:"delete",headers:r?{"Content-Type":"application/json"}:{},credentials:"include",body:r}),o=await s.json();if(!s.ok)throw new Error(s.statusText);return!0}catch(i){return console.log(i),!1}else return!1},AY=uj({name:"category",initialState:{refresh:!1},reducers:{triggerRefresh:n=>{n.refresh=!n.refresh}}}),{triggerRefresh:_O}=AY.actions,Mke=AY.reducer;function Bke(){const n=Es(s=>s.category.refresh),e=wf(),{data:t,loading:i}=ur(`${Gt("VITE_API_BASE_URL")}/auth/category/all`,{method:"get",credentials:"include"},[n]),r=async s=>{await Sk(`${Gt("VITE_API_BASE_URL")}/auth/category/delete`,s)?(e(_O()),Pt("success","Date deleted")):Pt("error","Date not deleted")};return i?y.jsx(Ka,{}):y.jsx("div",{children:y.jsxs(Ha,{children:[y.jsx(Nu,{children:y.jsx("div",{children:y.jsx(ni,{children:y.jsx(ei,{to:HF,children:"Add Category"})})})}),y.jsx(Wa,{children:y.jsxs(dw,{children:[y.jsx(fw,{children:y.jsxs(Ss,{children:[y.jsx(Pi,{children:"Category"}),y.jsx(Pi,{children:"Slug"}),y.jsx(Pi,{children:"Action"})]})}),y.jsx(hw,{children:t&&t.data.length>0?t.data.map(s=>y.jsxs(Ss,{children:[y.jsx(zn,{children:s.name}),y.jsx(zn,{children:s.slug}),y.jsxs(zn,{className:"flex gap-2",children:[y.jsx(ni,{variant:"outline",className:"hover:bg-violet-400 hover:text-white",asChild:!0,children:y.jsx(ei,{to:WF,state:{categoryId:s._id},children:y.jsx(vz,{})})}),y.jsx(ni,{variant:"outline",className:"hover:bg-red-400 hover:text-white",onClick:()=>r(s._id),children:y.jsx(v1,{})})]})]},s._id)):y.jsx(Ss,{children:y.jsx(zn,{colSpan:"3",children:"Data not found"})})})]})})]})})}var w0={exports:{}},Vke=w0.exports,c3;function Lke(){return c3||(c3=1,(function(n,e){(function(t,i,r){n.exports=r(),n.exports.default=r()})("slugify",Vke,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),i=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function r(s,o){if(typeof s!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=i[o.locale]||{},l=o.replacement===void 0?"-":o.replacement,d=o.trim===void 0?!0:o.trim,f=s.normalize().split("").reduce(function(m,p){var w=a[p];return w===void 0&&(w=t[p]),w===void 0&&(w=p),w===l&&(w=" "),m+w.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(f=f.replace(/[^A-Za-z0-9\s]/g,"")),d&&(f=f.trim()),f=f.replace(/\s+/g,l),o.lower&&(f=f.toLowerCase()),f}return r.extend=function(s){Object.assign(t,s)},r})})(w0)),w0.exports}var Fke=Lke();const Ek=vf(Fke);function zke(){const n=wf(),e=Tn.object({name:Tn.string().min(2,"Name should be atleast two character long"),slug:Tn.string().min(3,"Slug should be atleast three character long")}),t=Mu({resolver:Lu(e),defaultValues:{name:"",slug:""}}),i=t.watch("name");C.useEffect(()=>{if(i&&i.trim().length>0){const s=Ek(i,{lower:!0});t.setValue("slug",s)}else t.setValue("slug","")},[i,t]);const r=async s=>{try{const o=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/category/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)}),a=await o.json();if(!o.ok){Pt("error",a?.message);return}t.reset(),Pt("success",a?.message),n(_O())}catch(o){Pt("error",o?.message)}};return y.jsx("div",{className:"flex justify-center items-start min-h-screen bg-gray-50 p-6",children:y.jsxs(Ha,{className:"w-full max-w-2xl shadow-xl rounded-2xl",children:[y.jsx(Nu,{className:"pb-4",children:y.jsx(Dv,{className:"text-2xl font-bold text-center text-gray-800",children:"Add New Category"})}),y.jsx(Wa,{children:y.jsx(Bu,{...t,children:y.jsxs("form",{onSubmit:t.handleSubmit(r),className:"space-y-8",children:[y.jsx(ti,{control:t.control,name:"name",render:({field:s})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Name"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter category name",className:"rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 px-4 py-2",...s})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})}),y.jsx(ti,{control:t.control,name:"slug",render:({field:s})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Slug"}),y.jsx(Hn,{children:y.jsx(Ri,{placeholder:"auto-generated slug",readOnly:!0,className:"rounded-xl border-gray-300 bg-gray-100 text-gray-600 cursor-not-allowed px-4 py-2",...s})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white py-3 text-lg font-medium",children:"Submit"})]})})})]})})}function jke(){const n=Ko(),t=oo().state?.categoryId,i=wf(),r=Tn.object({name:Tn.string().min(2,"Name should be atleast two character long"),slug:Tn.string().min(3,"Slug should be atleast three character long")}),s=Mu({resolver:Lu(r),defaultValues:{name:"",slug:""}}),{data:o,loading:a,error:l}=ur(t?`${Gt("VITE_API_BASE_URL")}/auth/category/show/${t}`:null,{method:"get",credentials:"include"},[t]);C.useEffect(()=>{o?.data&&s.reset({name:o.data.name||"",slug:o.data.slug||""})},[o,s]),C.useEffect(()=>{l&&Wt(l.message)},[l]);const d=s.watch("name");C.useEffect(()=>{if(d&&d.trim().length>0){const m=Ek(d,{lower:!0});s.setValue("slug",m)}else s.setValue("slug","")},[d,s]);const f=async m=>{try{const p=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/category/edit/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(m)}),w=await p.json();if(!p.ok){Pt("error",w?.message);return}s.reset(),Pt("success",w?.message),i(_O()),n(z0)}catch(p){Pt("error",p?.message)}};return a?y.jsx("div",{children:y.jsx(Ka,{})}):l?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsxs("p",{className:"text-red-500",children:["Error loading category: ",l.message]})}):y.jsx("div",{className:"flex justify-center items-start min-h-screen bg-gray-50 p-6",children:y.jsxs(Ha,{className:"w-full max-w-2xl shadow-xl rounded-2xl",children:[y.jsx(Nu,{className:"pb-4",children:y.jsx(Dv,{className:"text-2xl font-bold text-center text-gray-800",children:"Edit Category"})}),y.jsx(Wa,{children:y.jsx(Bu,{...s,children:y.jsxs("form",{onSubmit:s.handleSubmit(f),className:"space-y-8",children:[y.jsx(ti,{control:s.control,name:"name",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Name"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter category name",className:"rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 px-4 py-2",...m})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})}),y.jsx(ti,{control:s.control,name:"slug",render:({field:m})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Slug"}),y.jsx(Hn,{children:y.jsx(Ri,{placeholder:"auto-generated slug",readOnly:!0,className:"rounded-xl border-gray-300 bg-gray-100 text-gray-600 cursor-not-allowed px-4 py-2",...m})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white py-3 text-lg font-medium",children:"Update"})]})})})]})})}function u3(n,[e,t]){return Math.min(t,Math.max(e,n))}function Uke(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var $ke=[" ","Enter","ArrowUp","ArrowDown"],Hke=[" ","Enter"],hf="Select",[Tk,Ik,Wke]=O2(hf),[lg,SUe]=wc(hf,[Wke,rg]),Pk=rg(),[Gke,Fu]=lg(hf),[Yke,Kke]=lg(hf),kY=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:r,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:d,name:f,autoComplete:m,disabled:p,required:w,form:A}=n,x=Pk(e),[S,P]=C.useState(null),[I,O]=C.useState(null),[M,B]=C.useState(!1),W=D2(d),[$,L]=xm({prop:i,defaultProp:r??!1,onChange:s,caller:hf}),[ee,pe]=xm({prop:o,defaultProp:a,onChange:l,caller:hf}),Se=C.useRef(null),ge=S?A||!!S.closest("form"):!0,[Ee,Te]=C.useState(new Set),Be=Array.from(Ee).map(Y=>Y.props.value).join(";");return y.jsx($2,{...x,children:y.jsxs(Gke,{required:w,scope:e,trigger:S,onTriggerChange:P,valueNode:I,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:B,contentId:Ia(),value:ee,onValueChange:pe,open:$,onOpenChange:L,dir:W,triggerPointerDownPosRef:Se,disabled:p,children:[y.jsx(Tk.Provider,{scope:e,children:y.jsx(Yke,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(Y=>{Te(de=>new Set(de).add(Y))},[]),onNativeOptionRemove:C.useCallback(Y=>{Te(de=>{const Q=new Set(de);return Q.delete(Y),Q})},[]),children:t})}),ge?y.jsxs(YY,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:m,value:ee,onChange:Y=>pe(Y.target.value),disabled:p,form:A,children:[ee===void 0?y.jsx("option",{value:""}):null,Array.from(Ee)]},Be):null]})})};kY.displayName=hf;var xY="SelectTrigger",CY=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...r}=n,s=Pk(t),o=Fu(xY,t),a=o.disabled||i,l=mn(e,o.onTriggerChange),d=Ik(t),f=C.useRef("touch"),[m,p,w]=qY(x=>{const S=d().filter(O=>!O.disabled),P=S.find(O=>O.value===o.value),I=ZY(S,x,P);I!==void 0&&o.onValueChange(I.value)}),A=x=>{a||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return y.jsx(H2,{asChild:!0,...s,children:y.jsx(Rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":KY(o.value)?"":void 0,...r,ref:l,onClick:it(r.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&A(x)}),onPointerDown:it(r.onPointerDown,x=>{f.current=x.pointerType;const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(A(x),x.preventDefault())}),onKeyDown:it(r.onKeyDown,x=>{const S=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(S&&x.key===" ")&&$ke.includes(x.key)&&(A(),x.preventDefault())})})})});CY.displayName=xY;var SY="SelectValue",EY=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,children:s,placeholder:o="",...a}=n,l=Fu(SY,t),{onValueNodeHasChildrenChange:d}=l,f=s!==void 0,m=mn(e,l.onValueNodeChange);return ji(()=>{d(f)},[d,f]),y.jsx(Rt.span,{...a,ref:m,style:{pointerEvents:"none"},children:KY(l.value)?y.jsx(y.Fragment,{children:o}):s})});EY.displayName=SY;var qke="SelectIcon",TY=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...r}=n;return y.jsx(Rt.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});TY.displayName=qke;var Zke="SelectPortal",IY=n=>y.jsx(jv,{asChild:!0,...n});IY.displayName=Zke;var mf="SelectContent",PY=C.forwardRef((n,e)=>{const t=Fu(mf,n.__scopeSelect),[i,r]=C.useState();if(ji(()=>{r(new DocumentFragment)},[]),!t.open){const s=i;return s?Ov.createPortal(y.jsx(RY,{scope:n.__scopeSelect,children:y.jsx(Tk.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),s):null}return y.jsx(OY,{...n,ref:e})});PY.displayName=mf;var Ao=10,[RY,zu]=lg(mf),Qke="SelectContentImpl",Jke=ef("SelectContent.RemoveScroll"),OY=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:w,sticky:A,hideWhenDetached:x,avoidCollisions:S,...P}=n,I=Fu(mf,t),[O,M]=C.useState(null),[B,W]=C.useState(null),$=mn(e,re=>M(re)),[L,ee]=C.useState(null),[pe,Se]=C.useState(null),ge=Ik(t),[Ee,Te]=C.useState(!1),Be=C.useRef(!1);C.useEffect(()=>{if(O)return Y2(O)},[O]),N2();const Y=C.useCallback(re=>{const[we,...Ie]=ge().map(Oe=>Oe.ref.current),[ye]=Ie.slice(-1),Fe=document.activeElement;for(const Oe of re)if(Oe===Fe||(Oe?.scrollIntoView({block:"nearest"}),Oe===we&&B&&(B.scrollTop=0),Oe===ye&&B&&(B.scrollTop=B.scrollHeight),Oe?.focus(),document.activeElement!==Fe))return},[ge,B]),de=C.useCallback(()=>Y([L,O]),[Y,L,O]);C.useEffect(()=>{Ee&&de()},[Ee,de]);const{onOpenChange:Q,triggerPointerDownPosRef:be}=I;C.useEffect(()=>{if(O){let re={x:0,y:0};const we=ye=>{re={x:Math.abs(Math.round(ye.pageX)-(be.current?.x??0)),y:Math.abs(Math.round(ye.pageY)-(be.current?.y??0))}},Ie=ye=>{re.x<=10&&re.y<=10?ye.preventDefault():O.contains(ye.target)||Q(!1),document.removeEventListener("pointermove",we),be.current=null};return be.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[O,Q,be]),C.useEffect(()=>{const re=()=>Q(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[Q]);const[V,fe]=qY(re=>{const we=ge().filter(Fe=>!Fe.disabled),Ie=we.find(Fe=>Fe.ref.current===document.activeElement),ye=ZY(we,re,Ie);ye&&setTimeout(()=>ye.ref.current.focus())}),Pe=C.useCallback((re,we,Ie)=>{const ye=!Be.current&&!Ie;(I.value!==void 0&&I.value===we||ye)&&(ee(re),ye&&(Be.current=!0))},[I.value]),Ae=C.useCallback(()=>O?.focus(),[O]),q=C.useCallback((re,we,Ie)=>{const ye=!Be.current&&!Ie;(I.value!==void 0&&I.value===we||ye)&&Se(re)},[I.value]),U=i==="popper"?WT:DY,ce=U===WT?{side:a,sideOffset:l,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:w,sticky:A,hideWhenDetached:x,avoidCollisions:S}:{};return y.jsx(RY,{scope:t,content:O,viewport:B,onViewportChange:W,itemRefCallback:Pe,selectedItem:L,onItemLeave:Ae,itemTextRefCallback:q,focusSelectedItem:de,selectedItemText:pe,position:i,isPositioned:Ee,searchRef:V,children:y.jsx(B1,{as:Jke,allowPinchZoom:!0,children:y.jsx(P1,{asChild:!0,trapped:I.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:it(r,re=>{I.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:y.jsx(Fv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:y.jsx(U,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:re=>re.preventDefault(),...P,...ce,onPlaced:()=>Te(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:it(P.onKeyDown,re=>{const we=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!we&&re.key.length===1&&fe(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ye=ge().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Fe=re.target,Oe=ye.indexOf(Fe);ye=ye.slice(Oe+1)}setTimeout(()=>Y(ye)),re.preventDefault()}})})})})})})});OY.displayName=Qke;var Xke="SelectItemAlignedPosition",DY=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...r}=n,s=Fu(mf,t),o=zu(mf,t),[a,l]=C.useState(null),[d,f]=C.useState(null),m=mn(e,$=>f($)),p=Ik(t),w=C.useRef(!1),A=C.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:P,focusSelectedItem:I}=o,O=C.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&d&&x&&S&&P){const $=s.trigger.getBoundingClientRect(),L=d.getBoundingClientRect(),ee=s.valueNode.getBoundingClientRect(),pe=P.getBoundingClientRect();if(s.dir!=="rtl"){const Fe=pe.left-L.left,Oe=ee.left-Fe,at=$.left-Oe,ct=$.width+at,gn=Math.max(ct,L.width),cn=window.innerWidth-Ao,st=u3(Oe,[Ao,Math.max(Ao,cn-gn)]);a.style.minWidth=ct+"px",a.style.left=st+"px"}else{const Fe=L.right-pe.right,Oe=window.innerWidth-ee.right-Fe,at=window.innerWidth-$.right-Oe,ct=$.width+at,gn=Math.max(ct,L.width),cn=window.innerWidth-Ao,st=u3(Oe,[Ao,Math.max(Ao,cn-gn)]);a.style.minWidth=ct+"px",a.style.right=st+"px"}const Se=p(),ge=window.innerHeight-Ao*2,Ee=x.scrollHeight,Te=window.getComputedStyle(d),Be=parseInt(Te.borderTopWidth,10),Y=parseInt(Te.paddingTop,10),de=parseInt(Te.borderBottomWidth,10),Q=parseInt(Te.paddingBottom,10),be=Be+Y+Ee+Q+de,V=Math.min(S.offsetHeight*5,be),fe=window.getComputedStyle(x),Pe=parseInt(fe.paddingTop,10),Ae=parseInt(fe.paddingBottom,10),q=$.top+$.height/2-Ao,U=ge-q,ce=S.offsetHeight/2,re=S.offsetTop+ce,we=Be+Y+re,Ie=be-we;if(we<=q){const Fe=Se.length>0&&S===Se[Se.length-1].ref.current;a.style.bottom="0px";const Oe=d.clientHeight-x.offsetTop-x.offsetHeight,at=Math.max(U,ce+(Fe?Ae:0)+Oe+de),ct=we+at;a.style.height=ct+"px"}else{const Fe=Se.length>0&&S===Se[0].ref.current;a.style.top="0px";const at=Math.max(q,Be+x.offsetTop+(Fe?Pe:0)+ce)+Ie;a.style.height=at+"px",x.scrollTop=we-q+x.offsetTop}a.style.margin=`${Ao}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=ge+"px",i?.(),requestAnimationFrame(()=>w.current=!0)}},[p,s.trigger,s.valueNode,a,d,x,S,P,s.dir,i]);ji(()=>O(),[O]);const[M,B]=C.useState();ji(()=>{d&&B(window.getComputedStyle(d).zIndex)},[d]);const W=C.useCallback($=>{$&&A.current===!0&&(O(),I?.(),A.current=!1)},[O,I]);return y.jsx(txe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:W,children:y.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:y.jsx(Rt.div,{...r,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});DY.displayName=Xke;var exe="SelectPopperPosition",WT=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:r=Ao,...s}=n,o=Pk(t);return y.jsx(W2,{...o,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WT.displayName=exe;var[txe,AO]=lg(mf,{}),GT="SelectViewport",NY=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...r}=n,s=zu(GT,t),o=AO(GT,t),a=mn(e,s.onViewportChange),l=C.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Tk.Slot,{scope:t,children:y.jsx(Rt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:it(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p?.current&&m){const w=Math.abs(l.current-f.scrollTop);if(w>0){const A=window.innerHeight-Ao*2,x=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),P=Math.max(x,S);if(P<A){const I=P+w,O=Math.min(A,I),M=I-O;m.style.height=O+"px",m.style.bottom==="0px"&&(f.scrollTop=M>0?M:0,m.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});NY.displayName=GT;var MY="SelectGroup",[nxe,ixe]=lg(MY),rxe=C.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=Ia();return y.jsx(nxe,{scope:t,id:r,children:y.jsx(Rt.div,{role:"group","aria-labelledby":r,...i,ref:e})})});rxe.displayName=MY;var BY="SelectLabel",VY=C.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=ixe(BY,t);return y.jsx(Rt.div,{id:r.id,...i,ref:e})});VY.displayName=BY;var DA="SelectItem",[sxe,LY]=lg(DA),FY=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:r=!1,textValue:s,...o}=n,a=Fu(DA,t),l=zu(DA,t),d=a.value===i,[f,m]=C.useState(s??""),[p,w]=C.useState(!1),A=mn(e,I=>l.itemRefCallback?.(I,i,r)),x=Ia(),S=C.useRef("touch"),P=()=>{r||(a.onValueChange(i),a.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(sxe,{scope:t,value:i,disabled:r,textId:x,isSelected:d,onItemTextChange:C.useCallback(I=>{m(O=>O||(I?.textContent??"").trim())},[]),children:y.jsx(Tk.ItemSlot,{scope:t,value:i,disabled:r,textValue:f,children:y.jsx(Rt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:A,onFocus:it(o.onFocus,()=>w(!0)),onBlur:it(o.onBlur,()=>w(!1)),onClick:it(o.onClick,()=>{S.current!=="mouse"&&P()}),onPointerUp:it(o.onPointerUp,()=>{S.current==="mouse"&&P()}),onPointerDown:it(o.onPointerDown,I=>{S.current=I.pointerType}),onPointerMove:it(o.onPointerMove,I=>{S.current=I.pointerType,r?l.onItemLeave?.():S.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(o.onPointerLeave,I=>{I.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:it(o.onKeyDown,I=>{l.searchRef?.current!==""&&I.key===" "||(Hke.includes(I.key)&&P(),I.key===" "&&I.preventDefault())})})})})});FY.displayName=DA;var db="SelectItemText",zY=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:r,...s}=n,o=Fu(db,t),a=zu(db,t),l=LY(db,t),d=Kke(db,t),[f,m]=C.useState(null),p=mn(e,P=>m(P),l.onItemTextChange,P=>a.itemTextRefCallback?.(P,l.value,l.disabled)),w=f?.textContent,A=C.useMemo(()=>y.jsx("option",{value:l.value,disabled:l.disabled,children:w},l.value),[l.disabled,l.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=d;return ji(()=>(x(A),()=>S(A)),[x,S,A]),y.jsxs(y.Fragment,{children:[y.jsx(Rt.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ov.createPortal(s.children,o.valueNode):null]})});zY.displayName=db;var jY="SelectItemIndicator",UY=C.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return LY(jY,t).isSelected?y.jsx(Rt.span,{"aria-hidden":!0,...i,ref:e}):null});UY.displayName=jY;var YT="SelectScrollUpButton",$Y=C.forwardRef((n,e)=>{const t=zu(YT,n.__scopeSelect),i=AO(YT,n.__scopeSelect),[r,s]=C.useState(!1),o=mn(e,i.onScrollButtonChange);return ji(()=>{if(t.viewport&&t.isPositioned){let a=function(){const d=l.scrollTop>0;s(d)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?y.jsx(WY,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});$Y.displayName=YT;var KT="SelectScrollDownButton",HY=C.forwardRef((n,e)=>{const t=zu(KT,n.__scopeSelect),i=AO(KT,n.__scopeSelect),[r,s]=C.useState(!1),o=mn(e,i.onScrollButtonChange);return ji(()=>{if(t.viewport&&t.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<d;s(f)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?y.jsx(WY,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});HY.displayName=KT;var WY=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...r}=n,s=zu("SelectScrollButton",t),o=C.useRef(null),a=Ik(t),l=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),ji(()=>{a().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),y.jsx(Rt.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:it(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:it(r.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:it(r.onPointerLeave,()=>{l()})})}),oxe="SelectSeparator",GY=C.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return y.jsx(Rt.div,{"aria-hidden":!0,...i,ref:e})});GY.displayName=oxe;var qT="SelectArrow",axe=C.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,r=Pk(t),s=Fu(qT,t),o=zu(qT,t);return s.open&&o.position==="popper"?y.jsx(G2,{...r,...i,ref:e}):null});axe.displayName=qT;var lxe="SelectBubbleInput",YY=C.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const r=C.useRef(null),s=mn(i,r),o=Uke(e);return C.useEffect(()=>{const a=r.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(m)}},[o,e]),y.jsx(Rt.select,{...t,style:{...Fj,...t.style},ref:s,defaultValue:e})});YY.displayName=lxe;function KY(n){return n===""||n===void 0}function qY(n){const e=Vo(n),t=C.useRef(""),i=C.useRef(0),r=C.useCallback(o=>{const a=t.current+o;e(a),(function l(d){t.current=d,window.clearTimeout(i.current),d!==""&&(i.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=C.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,r,s]}function ZY(n,e,t){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=cxe(n,Math.max(s,0));r.length===1&&(o=o.filter(d=>d!==t));const l=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function cxe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var uxe=kY,QY=CY,dxe=EY,fxe=TY,hxe=IY,JY=PY,mxe=NY,XY=VY,eK=FY,gxe=zY,pxe=UY,tK=$Y,nK=HY,iK=GY;const rK=uxe,sK=dxe,kO=C.forwardRef(({className:n,children:e,...t},i)=>y.jsxs(QY,{ref:i,className:Ye("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,y.jsx(fxe,{asChild:!0,children:y.jsx($8,{className:"h-4 w-4 opacity-50"})})]}));kO.displayName=QY.displayName;const oK=C.forwardRef(({className:n,...e},t)=>y.jsx(tK,{ref:t,className:Ye("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(Pde,{className:"h-4 w-4"})}));oK.displayName=tK.displayName;const aK=C.forwardRef(({className:n,...e},t)=>y.jsx(nK,{ref:t,className:Ye("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx($8,{className:"h-4 w-4"})}));aK.displayName=nK.displayName;const xO=C.forwardRef(({className:n,children:e,position:t="popper",...i},r)=>y.jsx(hxe,{children:y.jsxs(JY,{ref:r,className:Ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[y.jsx(oK,{}),y.jsx(mxe,{className:Ye("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(aK,{})]})}));xO.displayName=JY.displayName;const bxe=C.forwardRef(({className:n,...e},t)=>y.jsx(XY,{ref:t,className:Ye("px-2 py-1.5 text-sm font-semibold",n),...e}));bxe.displayName=XY.displayName;const CO=C.forwardRef(({className:n,children:e,...t},i)=>y.jsxs(eK,{ref:i,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(pxe,{children:y.jsx(U8,{className:"h-4 w-4"})})}),y.jsx(gxe,{children:e})]}));CO.displayName=eK.displayName;const vxe=C.forwardRef(({className:n,...e},t)=>y.jsx(iK,{ref:t,className:Ye("-mx-1 my-1 h-px bg-muted",n),...e}));vxe.displayName=iK.displayName;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wxe(){const n={resolve:null,promise:null};return n.promise=new Promise(e=>{n.resolve=e}),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yxe(n){let e=null;return(...t)=>(e||(e={current:n(...t)}),e.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const vr=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function _xe(){const[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+vr[n>>0&255]+vr[n>>8&255]+vr[n>>16&255]+vr[n>>24&255]+vr[e>>0&255]+vr[e>>8&255]+vr[e>>16&255]+vr[e>>24&255]+vr[t>>0&255]+vr[t>>8&255]+vr[t>>16&255]+vr[t>>24&255]+vr[i>>0&255]+vr[i>>8&255]+vr[i>>16&255]+vr[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Axe(n,e){const t=n.extraPlugins||[];return{...n,extraPlugins:[...t,...e.filter(i=>!t.includes(i))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lK(n){return!!n&&/^\d+\.\d+\.\d+/.test(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cK(n){return n?["nightly","alpha","internal","nightly-","staging"].some(e=>n.includes(e)):!1}function kxe(n){return lK(n)||cK(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xxe(n){if(!lK(n))throw new Error(`Invalid semantic version: ${n||"<blank>"}.`);const[e,t,i]=n.split(".");return{major:Number.parseInt(e,10),minor:Number.parseInt(t,10),patch:Number.parseInt(i,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cxe(n){if(cK(n))return 3;const{major:e}=xxe(n);switch(!0){case e>=44:return 3;case e>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Sxe(){const{CKEDITOR_VERSION:n,CKEDITOR:e}=window;return kxe(n)?{source:e?"cdn":"npm",version:n}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Exe(){const n=Sxe();return n?Cxe(n.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uK(n,e){switch(e||=Exe()||void 0,e){case 1:case 2:return n===void 0;case 3:return n==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Txe(n,e){return function(i){uK(i.config.get("licenseKey"))||i.on("collectUsageData",(r,{setUsageData:s})=>{s(`integration.${n}`,e)})}}var Ixe=Object.defineProperty,Pxe=(n,e,t)=>e in n?Ixe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,es=(n,e,t)=>Pxe(n,typeof e!="symbol"?e+"":e,t);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const dK=class fK{constructor(e,t){es(this,"_lifecycle"),es(this,"_element"),es(this,"_releaseLock",null),es(this,"_value",null),es(this,"_afterMountCallbacks",[]),es(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),es(this,"release",yxe(()=>{const{_releaseLock:i,_state:r,_element:s,_lifecycle:o}=this;r.mountingInProgress?r.mountingInProgress.then(()=>o.unmount({element:s,mountResult:this.value})).catch(a=>{console.error("CKEditor unmounting error:",a)}).then(i.resolve).then(()=>{this._value=null}):(r.destroyedBeforeInitialization=!0,i.resolve())})),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(t=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(e)||t(e)}),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:i}=this;if(t){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(t))return;e(t)}else i.push(e)}_lock(){const{_semaphores:e}=fK,{_state:t,_element:i,_lifecycle:r}=this,s=e.get(i)||Promise.resolve(null),o=wxe();this._releaseLock=o;const a=s.then(()=>t.destroyedBeforeInitialization?Promise.resolve(void 0):(t.mountingInProgress=r.mount().then(l=>(l&&this.unsafeSetValue(l),l)),t.mountingInProgress)).then(async l=>{l&&r.afterMount&&await r.afterMount({element:i,mountResult:l})}).then(()=>o.promise).catch(l=>{console.error("CKEditor mounting error:",l)}).then(()=>{e.get(i)===a&&e.delete(i)});e.set(i,a)}};es(dK,"_semaphores",new Map);let Rxe=dK;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Oxe="$__CKEditorReactContextMetadata";function Dxe(n,e){return{...e,[Oxe]:n}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Nxe=Ue.createContext(null),Mxe=n=>!!n&&typeof n=="object"&&"status"in n&&["initializing","initialized","error"].includes(n.status),hK=n=>e=>Mxe(e)&&e.status===n,d3=hK("initializing"),Bxe=n=>hK("initialized")(n)&&n.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Vxe=Txe("react",{version:"11.0.0",frameworkVersion:Ue.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Lxe(n){return uK(n.licenseKey)?n:Axe(n,[Vxe])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const LS="Lock from React integration (@ckeditor/ckeditor5-react)";class mK extends Ue.Component{constructor(e){super(e),es(this,"domContainer",Ue.createRef()),es(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:i}=this;return e.id!==t.id||e.disableWatchdog!==t.disableWatchdog?!0:(i&&(i.runAfterMount(({instance:r})=>{this._shouldUpdateEditorData(t,e,r)&&r.data.set(e.data)}),"disabled"in e&&i.runAfterMount(({instance:r})=>{e.disabled?r.enableReadOnlyMode(LS):r.disableReadOnlyMode(LS)})),!1)}componentDidMount(){d3(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){d3(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Rxe(this.domContainer.current,{isValueValid:e=>e&&!!e.instance,mount:async()=>{var e,t;try{return await this._initializeEditor()}catch(i){throw(t=(e=this.props).onError)==null||t.call(e,i,{phase:"initialization",willEditorRestart:!1}),i}},afterMount:({mountResult:e})=>{const{onReady:t}=this.props;t&&this.domContainer.current!==null&&t(e.instance)},unmount:async({element:e,mountResult:t})=>{const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(t),e.innerHTML=""}finally{i&&i(t.instance)}}})}render(){return Ue.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=Bxe(this.context)?new Fxe(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),t={current:0};return e.setCreator(async(i,r)=>{var s;const{editorSemaphore:o}=this,{onAfterDestroy:a}=this.props;t.current>0&&a&&((s=o?.value)!=null&&s.instance)&&a(o.value.instance);const l=await this._createEditor(i,r);return o&&t.current>0&&(o.unsafeSetValue({instance:l,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),t.current++,l}),e.on("error",(i,{error:r,causesRestart:s})=>{(this.props.onError||console.error)(r,{phase:"runtime",willEditorRestart:s})}),await e.create(this.domContainer.current,this._getConfig()),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:i}=this.props;return i&&(t=Dxe(i,t)),this.props.editor.create(e,Lxe(t)).then(r=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&r.enableReadOnlyMode(LS)}const s=r.model.document,o=r.editing.view.document;return s.on("change:data",a=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(a,r)}),o.on("focus",a=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(a,r)}),o.on("blur",a=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(a,r)}),r})}async _destroyEditor(e){const{watchdog:t,instance:i}=e;return new Promise((r,s)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(t)return await t.destroy(),r();if(i)return await i.destroy(),r();r()}catch(o){console.error(o),s(o)}})})}_shouldUpdateEditorData(e,t,i){return!(e.data===t.data||i.data.get()===t.data)}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}es(mK,"contextType",Nxe);class Fxe{constructor(e){es(this,"_contextWatchdog"),es(this,"_id"),es(this,"_creator"),this._contextWatchdog=e,this._id=_xe()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",(i,{itemId:r,error:s})=>{r===this._id&&t(null,{error:s,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function gK(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}const zxe=C.memo(C.forwardRef(({id:n,semaphore:e,rootName:t},i)=>{const r=C.useRef(null);return C.useEffect(()=>{let s,o;return e.runAfterMount(({instance:a})=>{if(!r.current)return;o=a;const{ui:l,model:d}=o,f=d.document.getRoot(t);f&&o.ui.getEditableElement(t)&&o.detachEditable(f),s=l.view.createEditable(t,r.current),l.addEditable(s),a.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(o&&o.state!=="destroyed"&&r.current){const a=o.model.document.getRoot(t);/* istanbul ignore else -- @preserve */a&&o.detachEditable(a)}}},[e.revision]),Ue.createElement("div",{key:e.revision,id:n,ref:gK(i,r)})}));zxe.displayName="EditorEditable";const jxe=C.forwardRef(({editor:n},e)=>{const t=C.useRef(null);return C.useEffect(()=>{const i=t.current;if(!n||!i)return;const r=n.ui.view.toolbar.element;return i.appendChild(r),()=>{i.contains(r)&&i.removeChild(r)}},[n&&n.id]),Ue.createElement("div",{ref:gK(t,e)})});jxe.displayName="EditorToolbarWrapper";function Uxe(n){return Number.isSafeInteger(n)&&n>=0}function pK(n){return n!=null&&typeof n!="function"&&Uxe(n.length)}function SO(n){return n}function av(n){return n==="__proto__"}function bK(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function EO(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function TO(n){const e=[],t=n.length;if(t===0)return e;let i=0,r="",s="",o=!1;for(n.charCodeAt(0)===46&&(e.push(""),i++);i<t;){const a=n[i];s?a==="\\"&&i+1<t?(i++,r+=n[i]):a===s?s="":r+=a:o?a==='"'||a==="'"?s=a:a==="]"?(o=!1,e.push(r),r=""):r+=a:a==="["?(o=!0,r&&(e.push(r),r="")):a==="."?r&&(e.push(r),r=""):r+=a,i++}return r&&e.push(r),e}function Ru(n,e,t){if(n==null)return t;switch(typeof e){case"string":{if(av(e))return t;const i=n[e];return i===void 0?bK(e)?Ru(n,TO(e),t):t:i}case"number":case"symbol":{typeof e=="number"&&(e=EO(e));const i=n[e];return i===void 0?t:i}default:{if(Array.isArray(e))return $xe(n,e,t);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),av(e))return t;const i=n[e];return i===void 0?t:i}}}function $xe(n,e,t){if(e.length===0)return t;let i=n;for(let r=0;r<e.length;r++){if(i==null||av(e[r]))return t;i=i[e[r]]}return i===void 0?t:i}function Hxe(n){return function(e){return Ru(e,n)}}function kr(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function mw(n){return n==null||typeof n!="object"&&typeof n!="function"}function lv(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function Wxe(n,e,t){return typeof t!="function"?IO(n,e):ZT(n,e,function i(r,s,o,a,l,d){const f=t(r,s,o,a,l,d);return f!==void 0?!!f:ZT(r,s,i,d)},new Map)}function ZT(n,e,t,i){if(e===n)return!0;switch(typeof e){case"object":return Gxe(n,e,t,i);case"function":return Object.keys(e).length>0?ZT(n,{...e},t,i):lv(n,e);default:return kr(n)?typeof e=="string"?e==="":!0:lv(n,e)}}function Gxe(n,e,t,i){if(e==null)return!0;if(Array.isArray(e))return vK(n,e,t,i);if(e instanceof Map)return Yxe(n,e,t,i);if(e instanceof Set)return Kxe(n,e,t,i);const r=Object.keys(e);if(n==null)return r.length===0;if(r.length===0)return!0;if(i&&i.has(e))return i.get(e)===n;i&&i.set(e,n);try{for(let s=0;s<r.length;s++){const o=r[s];if(!mw(n)&&!(o in n)||e[o]===void 0&&n[o]!==void 0||e[o]===null&&n[o]!==null||!t(n[o],e[o],o,n,e,i))return!1}return!0}finally{i&&i.delete(e)}}function Yxe(n,e,t,i){if(e.size===0)return!0;if(!(n instanceof Map))return!1;for(const[r,s]of e.entries()){const o=n.get(r);if(t(o,s,r,n,e,i)===!1)return!1}return!0}function vK(n,e,t,i){if(e.length===0)return!0;if(!Array.isArray(n))return!1;const r=new Set;for(let s=0;s<e.length;s++){const o=e[s];let a=!1;for(let l=0;l<n.length;l++){if(r.has(l))continue;const d=n[l];let f=!1;if(t(d,o,s,n,e,i)&&(f=!0),f){r.add(l),a=!0;break}}if(!a)return!1}return!0}function Kxe(n,e,t,i){return e.size===0?!0:n instanceof Set?vK([...n],[...e],t,i):!1}function IO(n,e){return Wxe(n,e,()=>{})}function NA(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Bm(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Rk="[object RegExp]",Vm="[object String]",gw="[object Number]",pw="[object Boolean]",Lm="[object Arguments]",Ok="[object Symbol]",Dk="[object Date]",Nk="[object Map]",Mk="[object Set]",PO="[object Array]",qxe="[object Function]",Bk="[object ArrayBuffer]",xb="[object Object]",Zxe="[object Error]",Vk="[object DataView]",RO="[object Uint8Array]",OO="[object Uint8ClampedArray]",DO="[object Uint16Array]",NO="[object Uint32Array]",Qxe="[object BigUint64Array]",MO="[object Int8Array]",BO="[object Int16Array]",VO="[object Int32Array]",Jxe="[object BigInt64Array]",LO="[object Float32Array]",FO="[object Float64Array]";function zO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Xxe(n,e){return Yd(n,void 0,n,new Map,e)}function Yd(n,e,t,i=new Map,r=void 0){const s=r?.(n,e,t,i);if(s!=null)return s;if(mw(n))return n;if(i.has(n))return i.get(n);if(Array.isArray(n)){const o=new Array(n.length);i.set(n,o);for(let a=0;a<n.length;a++)o[a]=Yd(n[a],a,t,i,r);return Object.hasOwn(n,"index")&&(o.index=n.index),Object.hasOwn(n,"input")&&(o.input=n.input),o}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(n instanceof Map){const o=new Map;i.set(n,o);for(const[a,l]of n)o.set(a,Yd(l,a,t,i,r));return o}if(n instanceof Set){const o=new Set;i.set(n,o);for(const a of n)o.add(Yd(a,void 0,t,i,r));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(zO(n)){const o=new(Object.getPrototypeOf(n)).constructor(n.length);i.set(n,o);for(let a=0;a<n.length;a++)o[a]=Yd(n[a],a,t,i,r);return o}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const o=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return i.set(n,o),Ld(o,n,t,i,r),o}if(typeof File<"u"&&n instanceof File){const o=new File([n],n.name,{type:n.type});return i.set(n,o),Ld(o,n,t,i,r),o}if(n instanceof Blob){const o=new Blob([n],{type:n.type});return i.set(n,o),Ld(o,n,t,i,r),o}if(n instanceof Error){const o=new n.constructor;return i.set(n,o),o.message=n.message,o.name=n.name,o.stack=n.stack,o.cause=n.cause,Ld(o,n,t,i,r),o}if(typeof n=="object"&&eCe(n)){const o=Object.create(Object.getPrototypeOf(n));return i.set(n,o),Ld(o,n,t,i,r),o}return n}function Ld(n,e,t=n,i,r){const s=[...Object.keys(e),...NA(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(n,a);(l==null||l.writable)&&(n[a]=Yd(e[a],a,t,i,r))}}function eCe(n){switch(Bm(n)){case Lm:case PO:case Bk:case Vk:case pw:case Dk:case LO:case FO:case MO:case BO:case VO:case Nk:case gw:case xb:case Rk:case Mk:case Vm:case Ok:case RO:case OO:case DO:case NO:return!0;default:return!1}}function tCe(n){return Yd(n,void 0,n,new Map,void 0)}function nCe(n){return n=tCe(n),e=>IO(e,n)}function Lk(n,e){return Xxe(n,(t,i,r,s)=>{const o=e?.(t,i,r,s);if(o!=null)return o;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case gw:case Vm:case pw:{const a=new n.constructor(n?.valueOf());return Ld(a,n),a}case Lm:{const a={};return Ld(a,n),a.length=n.length,a[Symbol.iterator]=n[Symbol.iterator],a}default:return}})}function Lr(n){return Lk(n)}const iCe=/^(?:0|[1-9]\d*)$/;function wK(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return iCe.test(n)}}function QT(n){return n!==null&&typeof n=="object"&&Bm(n)==="[object Arguments]"}function rCe(n,e){let t;if(Array.isArray(e)?t=e:typeof e=="string"&&bK(e)&&n?.[e]==null?t=TO(e):t=[e],t.length===0)return!1;let i=n;for(let r=0;r<t.length;r++){const s=t[r];if((i==null||!Object.hasOwn(i,s))&&!((Array.isArray(i)||QT(i))&&wK(s)&&s<i.length))return!1;i=i[s]}return!0}function sCe(n,e){switch(typeof n){case"object":{Object.is(n?.valueOf(),-0)&&(n="-0");break}case"number":{n=EO(n);break}}return e=Lr(e),function(t){const i=Ru(t,n);return i===void 0?rCe(t,n):e===void 0?i===void 0:IO(i,e)}}function yK(n){if(n==null)return SO;switch(typeof n){case"function":return n;case"object":return Array.isArray(n)&&n.length===2?sCe(n[0],n[1]):nCe(n);case"string":case"symbol":case"number":return Hxe(n)}}function JT(n){return typeof n=="object"&&n!==null}function _K(n){return typeof n=="symbol"||n instanceof Symbol}function oCe(n){return _K(n)?NaN:Number(n)}function aCe(n){return n?(n=oCe(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}function lCe(n){const e=aCe(n),t=e%1;return t?e-t:e}function f3(n){return typeof n=="string"||n instanceof String}function cCe(n,e){const t={};for(let i=0;i<n.length;i++){const r=n[i],s=e(r);Object.hasOwn(t,s)||(t[s]=[]),t[s].push(r)}return t}function uCe(n,e){if(n==null)return{};const t=pK(n)?Array.from(n):Object.values(n),i=yK(e??SO);return cCe(t,i)}const dCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fCe=/^\w*$/;function hCe(n,e){return Array.isArray(n)?!1:typeof n=="number"||typeof n=="boolean"||n==null||_K(n)?!0:typeof n=="string"&&(fCe.test(n)||!dCe.test(n))||e!=null&&Object.hasOwn(e,n)}function mCe(n){return Array.isArray(n)}function Wp(n){return n}const gCe=(n,e,t)=>{const i=n[e];(!(Object.hasOwn(n,e)&&lv(i,t))||t===void 0&&!(e in n))&&(n[e]=t)};function pCe(n,e,t,i){if(n==null&&!kr(n))return n;const r=hCe(e,n)?[e]:Array.isArray(e)?e:typeof e=="string"?TO(e):[e];let s=n;for(let o=0;o<r.length&&s!=null;o++){const a=EO(r[o]);if(av(a))continue;let l;if(o===r.length-1)l=t(s[a]);else{const d=s[a],f=i?.(d,a,n);l=f!==void 0?f:kr(d)?d:wK(r[o+1])?[]:{}}gCe(s,a,l),s=s[a]}return n}function AK(n,e,t){return pCe(n,e,()=>t,()=>{})}function bCe(n,e,{signal:t,edges:i}={}){let r,s=null;const o=i!=null&&i.includes("leading"),a=i==null||i.includes("trailing"),l=()=>{s!==null&&(n.apply(r,s),r=void 0,s=null)},d=()=>{a&&l(),w()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},e)},p=()=>{f!==null&&(clearTimeout(f),f=null)},w=()=>{p(),r=void 0,s=null},A=()=>{p(),l()},x=function(...S){if(t?.aborted)return;r=this,s=S;const P=f==null;m(),o&&P&&l()};return x.schedule=m,x.cancel=w,x.flush=A,t?.addEventListener("abort",w,{once:!0}),x}function Ps(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:i=!1,trailing:r=!0,maxWait:s}=t,o=Array(2);i&&(o[0]="leading"),r&&(o[1]="trailing");let a,l=null;const d=bCe(function(...p){a=n.apply(this,p),l=null},e,{edges:o}),f=function(...p){return s!=null&&(l===null&&(l=Date.now()),Date.now()-l>=s)?(a=n.apply(this,p),l=Date.now(),d.cancel(),d.schedule(),a):(d.apply(this,p),a)},m=()=>(d.flush(),a);return f.cancel=d.cancel,f.flush=m,f}function gf(n,e=0,t={}){typeof t!="object"&&(t={});const{leading:i=!0,trailing:r=!0}=t;return Ps(n,e,{leading:i,trailing:r,maxWait:e})}function Fk(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(Fk).join(",");const e=String(n);return e==="0"&&Object.is(Number(n),-0)?"-0":e}function h3(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function kK(n,e,t){return fb(n,e,void 0,void 0,void 0,void 0,t)}function fb(n,e,t,i,r,s,o){const a=o(n,e,t,i,r,s);if(a!==void 0)return a;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return Cb(n,e,s,o)}return Cb(n,e,s,o)}function Cb(n,e,t,i){if(Object.is(n,e))return!0;let r=Bm(n),s=Bm(e);if(r===Lm&&(r=xb),s===Lm&&(s=xb),r!==s)return!1;switch(r){case Vm:return n.toString()===e.toString();case gw:{const l=n.valueOf(),d=e.valueOf();return lv(l,d)}case pw:case Dk:case Ok:return Object.is(n.valueOf(),e.valueOf());case Rk:return n.source===e.source&&n.flags===e.flags;case qxe:return n===e}t=t??new Map;const o=t.get(n),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(n,e),t.set(e,n);try{switch(r){case Nk:{if(n.size!==e.size)return!1;for(const[l,d]of n.entries())if(!e.has(l)||!fb(d,e.get(l),l,n,e,t,i))return!1;return!0}case Mk:{if(n.size!==e.size)return!1;const l=Array.from(n.values()),d=Array.from(e.values());for(let f=0;f<l.length;f++){const m=l[f],p=d.findIndex(w=>fb(m,w,void 0,n,e,t,i));if(p===-1)return!1;d.splice(p,1)}return!0}case PO:case RO:case OO:case DO:case NO:case Qxe:case MO:case BO:case VO:case Jxe:case LO:case FO:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let l=0;l<n.length;l++)if(!fb(n[l],e[l],l,n,e,t,i))return!1;return!0}case Bk:return n.byteLength!==e.byteLength?!1:Cb(new Uint8Array(n),new Uint8Array(e),t,i);case Vk:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:Cb(new Uint8Array(n),new Uint8Array(e),t,i);case Zxe:return n.name===e.name&&n.message===e.message;case xb:{if(!(Cb(n.constructor,e.constructor,t,i)||h3(n)&&h3(e)))return!1;const d=[...Object.keys(n),...NA(n)],f=[...Object.keys(e),...NA(e)];if(d.length!==f.length)return!1;for(let m=0;m<d.length;m++){const p=d[m],w=n[p];if(!Object.hasOwn(e,p))return!1;const A=e[p];if(!fb(w,A,p,n,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function xK(){}function Fm(n,e){return kK(n,e,xK)}function vCe(n){return typeof Buffer<"u"&&Buffer.isBuffer(n)}function wCe(n){const e=n?.constructor,t=typeof e=="function"?e.prototype:Object.prototype;return n===t}function jO(n){return zO(n)}function yCe(n,e){if(n=lCe(n),n<1||!Number.isSafeInteger(n))return[];const t=new Array(n);for(let i=0;i<n;i++)t[i]=typeof e=="function"?e(i):i;return t}function _Ce(n){if(n==null)return[];switch(typeof n){case"object":case"function":return pK(n)?kCe(n):wCe(n)?ACe(n):MA(n);default:return MA(Object(n))}}function MA(n){const e=[];for(const t in n)e.push(t);return e}function ACe(n){return MA(n).filter(t=>t!=="constructor")}function kCe(n){const e=yCe(n.length,i=>`${i}`),t=new Set(e);return vCe(n)&&(t.add("offset"),t.add("parent")),jO(n)&&(t.add("buffer"),t.add("byteLength"),t.add("byteOffset")),[...e,...MA(n).filter(i=>!t.has(i))]}function CK(n,...e){for(let t=0;t<e.length;t++)xCe(n,e[t]);return n}function xCe(n,e){const t=_Ce(e);for(let i=0;i<t.length;i++){const r=t[i];(!(r in n)||!lv(n[r],e[r]))&&(n[r]=e[r])}}function SK(n){if(mw(n))return n;const e=Bm(n);if(!CCe(n))return{};if(mCe(n)){const i=Array.from(n);return n.length>0&&typeof n[0]=="string"&&Object.hasOwn(n,"index")&&(i.index=n.index,i.input=n.input),i}if(jO(n)){const i=n,r=i.constructor;return new r(i.buffer,i.byteOffset,i.length)}if(e===Bk)return new ArrayBuffer(n.byteLength);if(e===Vk){const i=n,r=i.buffer,s=i.byteOffset,o=i.byteLength,a=new ArrayBuffer(o),l=new Uint8Array(r,s,o);return new Uint8Array(a).set(l),new DataView(a)}if(e===pw||e===gw||e===Vm){const i=n.constructor,r=new i(n.valueOf());return e===Vm?ECe(r,n):FS(r,n),r}if(e===Dk)return new Date(Number(n));if(e===Rk){const i=n,r=new RegExp(i.source,i.flags);return r.lastIndex=i.lastIndex,r}if(e===Ok)return Object(Symbol.prototype.valueOf.call(n));if(e===Nk){const i=n,r=new Map;return i.forEach((s,o)=>{r.set(o,s)}),r}if(e===Mk){const i=n,r=new Set;return i.forEach(s=>{r.add(s)}),r}if(e===Lm){const i=n,r={};return FS(r,i),r.length=i.length,r[Symbol.iterator]=i[Symbol.iterator],r}const t={};return TCe(t,n),FS(t,n),SCe(t,n),t}function CCe(n){switch(Bm(n)){case Lm:case PO:case Bk:case Vk:case pw:case Dk:case LO:case FO:case MO:case BO:case VO:case Nk:case gw:case xb:case Rk:case Mk:case Vm:case Ok:case RO:case OO:case DO:case NO:return!0;default:return!1}}function FS(n,e){for(const t in e)Object.hasOwn(e,t)&&(n[t]=e[t])}function SCe(n,e){const t=Object.getOwnPropertySymbols(e);for(let i=0;i<t.length;i++){const r=t[i];Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}}function ECe(n,e){const t=e.valueOf().length;for(const i in e)Object.hasOwn(e,i)&&(Number.isNaN(Number(i))||Number(i)>=t)&&(n[i]=e[i])}function TCe(n,e){const t=Object.getPrototypeOf(e);t!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(n,t)}function Io(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const t=n[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${t}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function ICe(n,e){const t={},i=Object.keys(n);for(let r=0;r<i.length;r++){const s=i[r],o=n[s];t[s]=e(o,s,n)}return t}function PCe(n,e=SO){return n==null?{}:ICe(n,yK(e))}function RCe(n){if(mw(n))return n;if(Array.isArray(n)||zO(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const i=new t(n);return i.lastIndex=n.lastIndex,i}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const i=new t(n.message);return i.stack=n.stack,i.name=n.name,i.cause=n.cause,i}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const i=Object.create(e);return Object.assign(i,n)}return n}function EK(n,...e){const t=e.slice(0,-1),i=e[e.length-1];let r=n;for(let s=0;s<t.length;s++){const o=t[s];r=y0(r,o,i,new Map)}return r}function y0(n,e,t,i){if(mw(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(i.has(e))return RCe(i.get(e));if(i.set(e,n),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const r=[...Object.keys(e),...NA(e)];for(let s=0;s<r.length;s++){const o=r[s];if(av(o))continue;let a=e[o],l=n[o];if(QT(a)&&(a={...a}),QT(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Lr(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const f=[],m=Reflect.ownKeys(l);for(let p=0;p<m.length;p++){const w=m[p];f[w]=l[w]}l=f}else l=[];const d=t(l,a,o,n,e,i);d!=null?n[o]=d:Array.isArray(a)||JT(l)&&JT(a)?n[o]=y0(l,a,t,i):l==null&&Io(a)?n[o]=y0({},a,t,i):l==null&&jO(a)?n[o]=Lr(a):(l===void 0||a!==void 0)&&(n[o]=a)}return n}function UO(n,...e){return EK(n,...e,xK)}function BA(n){return typeof n=="function"}function hc(n){return JT(n)&&n.nodeType===1&&!Io(n)}function m3(n,e){if(!Number.isInteger(n)||n<0)throw new Error("n must be a non-negative integer.");let t=0;return(...i)=>{if(++t>=n)return e(...i)}}function XT(n,e,t){return typeof t!="function"&&(t=()=>{}),kK(n,e,(...i)=>{const r=t(...i);if(r!==void 0)return!!r;if(n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set)return XT(Array.from(n),Array.from(e),m3(2,t))})}const OCe=new RegExp("\\p{Lu}?\\p{Ll}+|[0-9]+|\\p{Lu}+(?!\\p{Ll})|\\p{Emoji_Presentation}|\\p{Extended_Pictographic}|\\p{L}+","gu");function DCe(n){return Array.from(n.match(OCe)??[])}function NCe(n){return typeof n!="string"&&(n=Fk(n)),n.replace(/['\u2019]/g,"")}function MCe(n){return n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function $O(n){return MCe(Fk(n))}function BCe(n){const e=DCe(NCe(n).trim());let t="";for(let i=0;i<e.length;i++){const r=e[i];t&&(t+=" "),r===r.toUpperCase()?t+=r:t+=r[0].toUpperCase()+r.slice(1).toLowerCase()}return t}function VCe(n){return n.substring(0,1).toUpperCase()+n.substring(1)}function LCe(n){return VCe(Fk(n))}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let Re;try{Re={window,document}}catch{/* istanbul ignore next -- @preserve */Re={window:{},document:{}}}function FCe(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const Sd=FCe(),nt={isMac:TK(Sd),isWindows:zCe(Sd),isGecko:jCe(Sd),isSafari:UCe(Sd),isiOS:$Ce(Sd),isAndroid:HCe(Sd),isBlink:WCe(Sd),get isMediaForcedColors(){return YCe()},features:{isRegExpUnicodePropertySupported:GCe()}};function TK(n){return n.indexOf("macintosh")>-1}function zCe(n){return n.indexOf("windows")>-1}function jCe(n){return!!n.match(/gecko\/\d+/)}function UCe(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function $Ce(n){return!!n.match(/iphone|ipad/i)||TK(n)&&navigator.maxTouchPoints>0}function HCe(n){return n.indexOf("android")>-1}function WCe(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function GCe(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function YCe(){return Re.window.matchMedia?Re.window.matchMedia("(forced-colors: active)").matches:!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IK(n,e,t,i){t=t||function(l,d){return l===d};const r=Array.isArray(n)?n:Array.prototype.slice.call(n),s=Array.isArray(e)?e:Array.prototype.slice.call(e),o=KCe(r,s,t);return i?ZCe(o,s.length):qCe(s,o)}function KCe(n,e,t){const i=g3(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=p3(n,i),s=p3(e,i),o=g3(r,s,t),a=n.length-o,l=e.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function g3(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function p3(n,e){return n.slice(e).reverse()}function qCe(n,e){const t=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:s}=e;return s-i>0&&t.push({index:i,type:"insert",values:n.slice(i,s)}),r-i>0&&t.push({index:i+(s-i),type:"delete",howMany:r-i}),t}function ZCe(n,e){const{firstIndex:t,lastIndexOld:i,lastIndexNew:r}=n;if(t===-1)return Array(e).fill("equal");let s=[];return t>0&&(s=s.concat(Array(t).fill("equal"))),r-t>0&&(s=s.concat(Array(r-t).fill("insert"))),i-t>0&&(s=s.concat(Array(i-t).fill("delete"))),r<e&&(s=s.concat(Array(e-r).fill("equal"))),s}function bm(n,e,t){t=t||function(x,S){return x===S};const i=n.length,r=e.length;if(i>200||r>200||i+r>300)return bm.fastDiff(n,e,t,!0);let s,o;if(r<i){const x=n;n=e,e=x,s="delete",o="insert"}else s="insert",o="delete";const a=n.length,l=e.length,d=l-a,f={},m={};function p(x){const S=(m[x-1]!==void 0?m[x-1]:-1)+1,P=m[x+1]!==void 0?m[x+1]:-1,I=S>P?-1:1;f[x+I]&&(f[x]=f[x+I].slice(0)),f[x]||(f[x]=[]),f[x].push(S>P?s:o);let O=Math.max(S,P),M=O-x;for(;M<a&&O<l&&t(n[M],e[O]);)M++,O++,f[x].push("equal");return O}let w=0,A;do{for(A=-w;A<d;A++)m[A]=p(A);for(A=d+w;A>d;A--)m[A]=p(A);m[d]=p(d),w++}while(m[d]!==l);return f[d].slice(1)}bm.fastDiff=IK;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function b3(){return function n(){n.called=!0}}class mc{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=b3(),this.off=b3()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const wr=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function Xi(){const[n,e,t,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+wr[n>>0&255]+wr[n>>8&255]+wr[n>>16&255]+wr[n>>24&255]+wr[e>>0&255]+wr[e>>8&255]+wr[e>>16&255]+wr[e>>24&255]+wr[t>>0&255]+wr[t>>8&255]+wr[t>>16&255]+wr[t>>24&255]+wr[i>>0&255]+wr[i>>8&255]+wr[i>>16&255]+wr[i>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ks={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function PK(n,e){const t=ks.get(e.priority);let i=0,r=n.length;for(;i<r;){const s=i+r>>1;ks.get(n[s].priority)<t?r=s:i=s+1}n.splice(i,0,e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const QCe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class z extends Error{context;data;constructor(e,t,i,r){super(XCe(e,i,r)),this.name="CKEditorError",this.context=t,this.data=i,r&&(this.stack=r.stack)}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){throw e.is&&e.is("CKEditorError")?e:new z("unexpected-error",t,void 0,e)}}function vt(n,e){console.warn(...OK(n,e))}function JCe(n,e){console.error(...OK(n,e))}function RK(n){return`
Read more: ${QCe}#error-${n}`}function XCe(n,e,t){const i=new WeakSet,s=e?` ${JSON.stringify(e,(l,d)=>{if(typeof d=="object"&&d!==null){if(i.has(d))return`[object ${d.constructor.name}]`;i.add(d)}return d})}`:"",o=RK(n),a=t?`
Original error: ${t.name}: ${t.message}`:"";return n+s+o+a}function OK(n,e){const t=RK(n);return e?[n,e,t]:[n,t]}const DK="46.0.3",eSe=new Date(2025,8,3);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new z("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=DK;const Xh=Symbol("listeningTo"),eI=Symbol("emitterId"),Dl=Symbol("delegations"),tSe=hn(Object);function hn(n){if(!n)return tSe;class e extends n{on(i,r,s){this.listenTo(this,i,r,s)}once(i,r,s){let o=!1;const a=(l,...d)=>{o||(o=!0,l.off(),r.call(this,l,...d))};this.listenTo(this,i,a,s)}off(i,r){this.stopListening(this,i,r)}listenTo(i,r,s,o={}){let a,l;this[Xh]||(this[Xh]={});const d=this[Xh];zS(i)||NK(i);const f=zS(i);(a=d[f])||(a=d[f]={emitter:i,callbacks:{}}),(l=a.callbacks[r])||(l=a.callbacks[r]=[]),l.push(s),oSe(this,i,r,s,o)}stopListening(i,r,s){const o=this[Xh];let a=i&&zS(i);const l=o&&a?o[a]:void 0,d=l&&r?l.callbacks[r]:void 0;if(!(!o||i&&!l||r&&!d))if(s)jS(this,i,r,s),d.indexOf(s)!==-1&&(d.length===1?delete l.callbacks[r]:jS(this,i,r,s));else if(d){for(;s=d.pop();)jS(this,i,r,s);delete l.callbacks[r]}else if(l){for(r in l.callbacks)this.stopListening(i,r);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[Xh]}}fire(i,...r){try{const s=i instanceof mc?i:new mc(this,i),o=s.name;let a=sSe(this,o);if(s.path.push(this),a){a=a.slice();for(let d=0;d<a.length;d++){const f=a[d].callback;if(f.call(this,s,...r),s.off.called&&(delete s.off.called,this._removeEventListener(o,f)),s.stop.called)break}}const l=this[Dl];if(l){const d=l.get(o),f=l.get("*");d&&v3(d,s,r),f&&v3(f,s,r)}return s.return}catch(s){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(s,this)}}delegate(...i){return{to:(r,s)=>{this[Dl]||(this[Dl]=new Map),i.forEach(o=>{const a=this[Dl].get(o);a?a.set(r,s):this[Dl].set(o,new Map([[r,s]]))})}}}stopDelegating(i,r){if(this[Dl])if(!i)this[Dl].clear();else if(!r)this[Dl].delete(i);else{const s=this[Dl].get(i);s&&s.delete(r)}}_addEventListener(i,r,s){rSe(this,i);const o=tI(this,i),a=ks.get(s.priority),l={callback:r,priority:a};for(const d of o)PK(d,l)}_removeEventListener(i,r){const s=tI(this,i);for(const o of s)for(let a=0;a<o.length;a++)o[a].callback==r&&(o.splice(a,1),a--)}}return e}function nSe(n,e){const t=n[Xh];return t&&t[e]?t[e].emitter:null}function NK(n,e){n[eI]||(n[eI]=e||Xi())}function zS(n){return n[eI]}function MK(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function iSe(){return{callbacks:[],childEvents:[]}}function rSe(n,e){const t=MK(n);if(t[e])return;let i=e,r=null;const s=[];for(;i!==""&&!t[i];)t[i]=iSe(),s.push(t[i]),r&&t[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of s)o.callbacks=t[i].callbacks.slice();t[i].childEvents.push(r)}}function tI(n,e){const t=MK(n)[e];if(!t)return[];let i=[t.callbacks];for(let r=0;r<t.childEvents.length;r++){const s=tI(n,t.childEvents[r]);i=i.concat(s)}return i}function sSe(n,e){if(!n._events)return null;let t=e;do{const i=n._events[t];if(i&&i.callbacks&&i.callbacks.length)return i.callbacks;const r=t.lastIndexOf(":");t=r>-1?t.substring(0,r):""}while(t);return null}function v3(n,e,t){for(let[i,r]of n){r?typeof r=="function"&&(r=r(e.name)):r=e.name;const s=new mc(e.source,r);s.path=[...e.path],i.fire(s,...t)}}function oSe(n,e,t,i,r){e._addEventListener?e._addEventListener(t,i,r):n._addEventListener.call(e,t,i,r)}function jS(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}const Sb=Symbol("observableProperties"),cv=Symbol("boundObservables"),Eb=Symbol("boundProperties"),Ed=Symbol("decoratedMethods"),w3=Symbol("decoratedOriginal"),aSe=ln(hn());function ln(n){if(!n)return aSe;class e extends n{set(i,r){if(kr(i)){Object.keys(i).forEach(o=>{this.set(o,i[o])},this);return}US(this);const s=this[Sb];if(i in this&&!s.has(i))throw new z("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return s.get(i)},set(o){const a=s.get(i);let l=this.fire(`set:${i}`,i,o,a);l===void 0&&(l=o),(a!==l||!s.has(i))&&(s.set(i,l),this.fire(`change:${i}`,i,l,a))}}),this[i]=r}bind(...i){if(!i.length||!y3(i))throw new z("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new z("observable-bind-duplicate-properties",this);US(this);const r=this[Eb];i.forEach(o=>{if(r.has(o))throw new z("observable-bind-rebind",this)});const s=new Map;return i.forEach(o=>{const a={property:o,to:[]};r.set(o,a),s.set(o,a)}),{to:lSe,toMany:cSe,_observable:this,_bindProperties:i,_to:[],_bindings:s}}unbind(...i){if(!this[Sb])return;const r=this[Eb],s=this[cv];if(i.length){if(!y3(i))throw new z("observable-unbind-wrong-properties",this);i.forEach(o=>{const a=r.get(o);a&&(a.to.forEach(([l,d])=>{const f=s.get(l),m=f[d];m.delete(a),m.size||delete f[d],Object.keys(f).length||(s.delete(l),this.stopListening(l,"change"))}),r.delete(o))})}else s.forEach((o,a)=>{this.stopListening(a,"change")}),s.clear(),r.clear()}decorate(i){US(this);const r=this[i];if(!r)throw new z("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(s,o)=>{s.return=r.apply(this,o)}),this[i]=function(...s){return this.fire(i,s)},this[i][w3]=r,this[Ed]||(this[Ed]=[]),this[Ed].push(i)}stopListening(i,r,s){if(!i&&this[Ed]){for(const o of this[Ed])this[o]=this[o][w3];delete this[Ed]}super.stopListening(i,r,s)}[Sb];[Ed];[Eb];[cv]}return e}function US(n){n[Sb]||(Object.defineProperty(n,Sb,{value:new Map}),Object.defineProperty(n,cv,{value:new Map}),Object.defineProperty(n,Eb,{value:new Map}))}function lSe(...n){const e=dSe(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new z("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new z("observable-bind-to-extra-callback",this);e.to.forEach(r=>{if(r.properties.length&&r.properties.length!==i)throw new z("observable-bind-to-properties-length",this);r.properties.length||(r.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),mSe(this._observable,this._to),hSe(this),this._bindProperties.forEach(r=>{BK(this._observable,r)})}function cSe(n,e,t){if(this._bindings.size>1)throw new z("observable-bind-to-many-not-one-binding",this);this.to(...uSe(n,e),t)}function uSe(n,e){const t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function y3(n){return n.every(e=>typeof e=="string")}function dSe(...n){if(!n.length)throw new z("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new z("observable-bind-to-parse-error",null)}),e}function fSe(n,e,t,i){const r=n[cv],s=r.get(t),o=s||{};o[i]||(o[i]=new Set),o[i].add(e),s||r.set(t,o)}function hSe(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(r=>{e=r.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([r.observable,e]),fSe(n._observable,t,r.observable,e)})})}function BK(n,e){const i=n[Eb].get(e);let r;i.callback?r=i.callback.apply(n,i.to.map(s=>s[0][s[1]])):(r=i.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=r:n.set(e,r)}function mSe(n,e){e.forEach(t=>{const i=n[cv];let r;i.get(t.observable)||n.listenTo(t.observable,"change",(s,o)=>{r=i.get(t.observable)[o],r&&r.forEach(a=>{BK(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class VK{_replacedElements;constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nI(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yr(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Rs(n){return!!(n&&n[Symbol.iterator])}function Zi(n,e,t={},i=[]){const r=t&&t.xmlns,s=r?n.createElementNS(r,e):n.createElement(e);for(const o in t)s.setAttribute(o,t[o]);(f3(i)||!Rs(i))&&(i=[i]);for(let o of i)f3(o)&&(o=n.createTextNode(o)),s.appendChild(o);return s}class LK{_config;constructor(e,t){this._config=Object.create(null),t&&this.define(_3(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,r=!1){if(Io(t)){this._setObjectToTarget(e,t,r);return}const s=t.split(".");t=s.pop();for(const o of s)Io(e[o])||(e[o]=Object.create(null)),e=e[o];if(Io(i)){Io(e[t])||(e[t]=Object.create(null)),e=e[t],this._setObjectToTarget(e,i,r);return}r&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const r of i){if(!Io(e[r])){e=null;break}e=e[r]}return e?_3(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(r=>{this._setToTarget(e,r,t[r],i)})}}function _3(n){return Lk(n,gSe)}function gSe(n){return hc(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Ou(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function VA(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}const pSe=Ur(hn());function Ur(n){if(!n)return pSe;class e extends n{listenTo(i,r,s,o={}){if(Ou(i)||VA(i)||i instanceof Re.window.EventTarget){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new bSe(i,a);this.listenTo(l,r,s,o)}else super.listenTo(i,r,s,o)}stopListening(i,r,s){if(Ou(i)||VA(i)||i instanceof Re.window.EventTarget){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,r,s)}else super.stopListening(i,r,s)}_getProxyEmitter(i,r){return nSe(this,FK(i,r))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(i,r)).filter(r=>!!r)}}return e}class bSe extends hn(){_domNode;_options;constructor(e,t){super(),NK(this,FK(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),hn().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){hn().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function vSe(n){return n["data-ck-expando"]||(n["data-ck-expando"]=Xi())}function FK(n,e){let t=vSe(n);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zK(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wSe(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jK(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function UK(n){if(!n.target)return null;const e=n.target.ownerDocument,t=n.clientX,i=n.clientY;let r=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(t,i)?r=e.caretRangeFromPoint(t,i):n.rangeParent&&(r=e.createRange(),r.setStart(n.rangeParent,n.rangeOffset),r.collapse(!0)),r}function $K(n){return!n||!n.parentNode||n.offsetParent===Re.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jn(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zk(n){return Object.prototype.toString.apply(n)=="[object Range]"}const HK=["top","right","bottom","left","width","height"];class rt{top;right;bottom;left;width;height;_source;constructor(e){const t=zk(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),iI(e)||t)if(t){const i=rt.getDomRangeRects(e);O_(this,rt.getBoundingRect(i))}else O_(this,e.getBoundingClientRect());else if(VA(e)){const{innerWidth:i,innerHeight:r}=e;O_(this,{top:0,right:i,bottom:r,left:0,width:i,height:r})}else O_(this,e)}clone(){return new rt(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const i=new rt(t);return i._source=this._source,i}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(A3(e))return t;let i=e,r=e.parentNode||e.commonAncestorContainer,s;for(;r&&!A3(r);){const o=ySe(r)==="visible";i instanceof HTMLElement&&k3(i)==="absolute"&&(s=i);const a=k3(r);if(o||s&&(a==="relative"&&o||a!=="relative")){i=r,r=r.parentNode;continue}const l=new rt(r),d=t.getIntersection(l);if(d)d.getArea()<t.getArea()&&(t=d);else return null;i=r,r=r.parentNode}return t}isEqual(e){for(const t of HK)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Re.window,i=this.clone().moveBy(e,t);if(iI(i._source)){const r=$K(i._source);r&&_Se(i,r)}return i}excludeScrollbarsAndBorders(){const e=this._source;let t,i,r;if(VA(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const s=jK(e);t=e.offsetWidth-e.clientWidth-s.left-s.right,i=e.offsetHeight-e.clientHeight-s.top-s.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,r==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const r of i)t.push(new rt(r));else{let r=e.startContainer;jn(r)&&(r=r.parentNode);const s=new rt(r.getBoundingClientRect());s.right=s.left,s.width=0,t.push(s)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const r of e)i++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new rt(t))}}function O_(n,e){for(const t of HK)n[t]=e[t]}function A3(n){return iI(n)?n===n.ownerDocument.body:!1}function iI(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function k3(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function ySe(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function _Se(n,e){const t=new rt(e),i=jK(e);let r=0,s=0;r-=t.left,s-=t.top,r+=e.scrollLeft,s+=e.scrollTop,r-=i.left,s-=i.top,n.moveBy(r,s)}let bw=class bi{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){bi._observerInstance||bi._createObserver(),this._element=e,this._callback=t,bi._addElementCallback(e,t),bi._observerInstance.observe(e)}get element(){return this._element}destroy(){bi._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){bi._elementCallbacks||(bi._elementCallbacks=new Map);let i=bi._elementCallbacks.get(e);i||(i=new Set,bi._elementCallbacks.set(e,i)),i.add(t)}static _deleteElementCallback(e,t){const i=bi._getElementCallbacks(e);i&&(i.delete(t),i.size||(bi._elementCallbacks.delete(e),bi._observerInstance.unobserve(e))),bi._elementCallbacks&&!bi._elementCallbacks.size&&(bi._observerInstance=null,bi._elementCallbacks=null)}static _getElementCallbacks(e){return bi._elementCallbacks?bi._elementCallbacks.get(e):null}static _createObserver(){bi._observerInstance=new Re.window.ResizeObserver(e=>{for(const t of e){const i=bi._getElementCallbacks(t.target);if(i)for(const r of i)r(t)}})}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function x3(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kc(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function om(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WK(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Tb(n){return n&&n.nodeType===Node.COMMENT_NODE}function GK(n){try{Re.document.createAttribute(n)}catch{return!1}return!0}function gc(n){return n?jn(n)?gc(n.parentElement):n.getClientRects?!!n.getClientRects().length:!1:!1}function HO({element:n,target:e,positions:t,limiter:i,fitInViewport:r,viewportOffsetConfig:s}){BA(e)&&(e=e()),BA(i)&&(i=i());const o=$K(n),a=ASe(s),l=new rt(n),d=C3(e,a);let f;if(!d||!a.getIntersection(d))return null;const m={targetRect:d,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!i&&!r)f=new YK(t[0],m);else{if(i){const p=C3(i,a);p&&(m.limiterRect=p)}f=kSe(t,m)}return f}function C3(n,e){const t=new rt(n).getVisible();return t?t.getIntersection(e):null}function ASe(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new rt(Re.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function kSe(n,e){const{elementRect:t}=e,i=t.getArea(),r=n.map(a=>new YK(a,e)).filter(a=>!!a.name);let s=0,o=null;for(const a of r){const{limiterIntersectionArea:l,viewportIntersectionArea:d}=a;if(l===i)return a;const f=d**2+l**2;f>s&&(s=f,o=a)}return o}class YK{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;const{left:r,top:s,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:r,top:s},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function S3(n){const e=n.parentNode;e&&e.removeChild(n)}function _0(){const n=Re.window.visualViewport;if(!n||!(nt.isiOS||nt.isSafari))return{left:0,top:0};const e=Math.max(Math.round(n.offsetLeft),0),t=Math.max(Math.round(n.offsetTop),0);return{left:e,top:t}}function xSe({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:r}){const s=WO(n);let o=s,a=null;for(e=ESe(e);o;){let l;o==s?l=E3(n):l=E3(a),SSe({parent:l,getRect:()=>$S(n,o),alignToTop:i,ancestorOffset:t,forceScroll:r});let d=$S(n,o);const f=$S(l,o);if(d.height>f.height){const m=d.getIntersection(f);m&&(d=m)}if(CSe({window:o,rect:d,viewportOffset:e,alignToTop:i,forceScroll:r}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function CSe({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:r}){const s=e.clone().moveBy(0,r.bottom),o=e.clone().moveBy(0,-r.top),a=new rt(n).excludeScrollbarsAndBorders(),l=[o,s],d=t&&i,f=l.every(x=>a.contains(x));let{scrollX:m,scrollY:p}=n;const w=m,A=p;d?p-=a.top-e.top+r.top:f||(qK(o,a)?p-=a.top-e.top+r.top:KK(s,a)&&(t?p+=e.top-a.top-r.top:p+=e.bottom-a.bottom+r.bottom)),f||(ZK(e,a)?m-=a.left-e.left+r.left:QK(e,a)&&(m+=e.right-a.right+r.right)),(m!=w||p!==A)&&n.scrollTo(m,p)}function SSe({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:r=0,limiterElement:s}){const o=WO(n),a=t&&i;let l,d,f;const m=s||o.document.body;for(;n!=m;)d=e(),l=new rt(n).excludeScrollbarsAndBorders(),f=l.contains(d),a?n.scrollTop-=l.top-d.top+r:f||(qK(d,l)?n.scrollTop-=l.top-d.top+r:KK(d,l)&&(t?n.scrollTop+=d.top-l.top-r:n.scrollTop+=d.bottom-l.bottom+r)),f||(ZK(d,l)?n.scrollLeft-=l.left-d.left+r:QK(d,l)&&(n.scrollLeft+=d.right-l.right+r)),n=n.parentNode}function KK(n,e){return n.bottom>e.bottom}function qK(n,e){return n.top<e.top}function ZK(n,e){return n.left<e.left}function QK(n,e){return n.right>e.right}function WO(n){return zk(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function E3(n){if(zk(n)){let e=n.commonAncestorContainer;return jn(e)&&(e=e.parentNode),e}else return n.parentNode}function $S(n,e){const t=WO(n),i=new rt(n);if(t===e)return i;{let r=t;for(;r!=e;){const s=r.frameElement,o=new rt(s).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),r=r.parent}}return i}function ESe(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}const TSe={ctrl:"",cmd:"",alt:"",shift:""},ISe={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},T3={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},_t=NSe(),PSe=Object.fromEntries(Object.entries(_t).map(([n,e])=>{let t;return e in T3?t=T3[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function pf(n){let e;if(typeof n=="string"){if(e=_t[n.toLowerCase()],!e)throw new z("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?_t.alt:0)+(n.ctrlKey?_t.ctrl:0)+(n.shiftKey?_t.shift:0)+(n.metaKey?_t.cmd:0);return e}function jk(n){return typeof n=="string"&&(n=MSe(n)),n.map(e=>typeof e=="string"?OSe(e):e).reduce((e,t)=>t+e,0)}function LA(n,e){let t=jk(n);const i=nt.isMac||nt.isiOS;return Object.entries(i?TSe:ISe).reduce((o,[a,l])=>((t&_t[a])!=0&&(t&=~_t[a],o+=l),o),"")+(t?PSe[t]:"")}function RSe(n){return n==_t.arrowright||n==_t.arrowleft||n==_t.arrowup||n==_t.arrowdown}function Uk(n,e){const t=e==="ltr";switch(n){case _t.arrowleft:return t?"left":"right";case _t.arrowright:return t?"right":"left";case _t.arrowup:return"up";case _t.arrowdown:return"down"}}function OSe(n){if(n.endsWith("!"))return pf(n.slice(0,-1));const e=pf(n);return(nt.isMac||nt.isiOS)&&e==_t.ctrl?_t.cmd:e}function DSe(n,e){const t=Uk(n,e);return t==="down"||t==="right"}function NSe(){const n={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function MSe(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const BSe=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig","ur","urd"];function rI(n){return BSe.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Jt(n){return Array.isArray(n)?n:[n]}/* istanbul ignore else -- @preserve */Re.window.CKEDITOR_TRANSLATIONS||(Re.window.CKEDITOR_TRANSLATIONS={});function VSe(n,e,t=1,i){if(typeof t!="number")throw new z("translation-service-quantity-not-a-number",null,{quantity:t});const r=i||Re.window.CKEDITOR_TRANSLATIONS,s=zSe(r);s===1&&(n=Object.keys(r)[0]);const o=e.id||e.string;if(s===0||!FSe(n,o,r))return t!==1?e.plural:e.string;const a=r[n].dictionary,l=r[n].getPluralForm||(m=>m===1?0:1),d=a[o];if(typeof d=="string")return d;const f=Number(l(t));return d[f]}function LSe(n){return Array.isArray(n)?n.reduce((e,t)=>UO(e,t)):n}function FSe(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function zSe(n){return Object.keys(n).length}class jSe{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor({uiLanguage:e="en",contentLanguage:t,translations:i}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=rI(this.uiLanguage),this.contentLanguageDirection=rI(this.contentLanguage),this.translations=LSe(i),this.t=(r,s)=>this._t(r,s)}_t(e,t=[]){t=Jt(t),typeof e=="string"&&(e={string:e});const r=!!e.plural?t[0]:1,s=VSe(this.uiLanguage,e,r,this.translations);return USe(s,t)}}function USe(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}class hi extends hn(){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const i=Rs(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new z("collection-add-item-invalid-index",this);let i=0;for(const r of e){const s=this._getItemIdBeforeAdding(r),o=t+i;this._items.splice(o,0,r),this._itemMap.set(s,r),this.fire("add",r,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new z("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new z("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(r,s,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(s);if(a&&l)this._bindToExternalToInternalMap.set(s,l),this._bindToInternalToExternalMap.set(l,s);else{const d=e(s);if(!d){this._skippedIndexesFromExternal.push(o);return}let f=o;for(const m of this._skippedIndexesFromExternal)o>m&&f--;for(const m of t._skippedIndexesFromExternal)f>=m&&f++;this._bindToExternalToInternalMap.set(s,d),this._bindToInternalToExternalMap.set(d,s),this.add(d,f);for(let m=0;m<t._skippedIndexesFromExternal.length;m++)f<=t._skippedIndexesFromExternal[m]&&t._skippedIndexesFromExternal[m]++}};for(const r of t)i(null,r,t.getIndex(r));this.listenTo(t,"add",i),this.listenTo(t,"remove",(r,s,o)=>{const a=this._bindToExternalToInternalMap.get(s);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,d)=>(o<d&&l.push(d-1),o>d&&l.push(d),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new z("collection-add-invalid-id",this);if(this.get(i))throw new z("collection-add-item-already-exists",this)}else e[t]=i=Xi();return i}_remove(e){let t,i,r,s=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,r=this._itemMap.get(i),s=!r,r&&(t=this._items.indexOf(r))):typeof e=="number"?(t=e,r=this._items[t],s=!r,r&&(i=r[o])):(r=e,i=r[o],t=this._items.indexOf(r),s=t==-1||!this._itemMap.get(i)),s)throw new z("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sn(n){const e=n.next();return e.done?null:e.value}class Ut extends Ur(ln()){_elements=new Set;_externalViews=new Set;_blurTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(P3(e))this._addElement(e);else if(I3(e))this._addView(e);else{if(!e.element)throw new z("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){P3(e)?this._removeElement(e):I3(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new z("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const t=this.externalViews.find(i=>$Se(e,i));t?this._focus(t.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(i=>i.contains(document.activeElement))||this.externalViews.find(i=>i.focusTracker.isFocused&&!i.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function I3(n){return"focusTracker"in n&&n.focusTracker instanceof Ut}function P3(n){return hc(n)}function $Se(n,e){return R3(n,e)?!0:!!e.focusTracker.externalViews.find(t=>R3(n,t))}function R3(n,e){return!!e.element&&e.element.contains(document.activeElement)&&n.contains(e.element)}class tn{_listener;constructor(){this._listener=new(Ur())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+pf(i),i)})}set(e,t,i={}){const r=jk(e),s=i.priority;this._listener.listenTo(this._listener,"_keydown:"+r,(o,a)=>{i.filter&&!i.filter(a)||(t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0)},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+pf(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function HSe(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}function $o(n){return Rs(n)?new Map(n):HSe(n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function O3(n,e,t){const i=n.length,r=e.length;for(let s=i-1;s>=t;s--)n[s+r]=n[s];for(let s=0;s<r;s++)n[t+s]=e[s]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GO(n,e){let t;function i(...r){i.cancel(),t=setTimeout(()=>n(...r),e)}return i.cancel=()=>{clearTimeout(t)},i}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function YO(n){try{if(!n.startsWith("ey"))return null;const e=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WSe(){const n=[];for(let e=0;e<256;e++){let t=e;for(let i=0;i<8;i++)t&1?t=3988292384^t>>>1:t=t>>>1;n[e]=t}return n}function GSe(n){const e=Array.isArray(n)?n:[n],t=WSe();let i=-1;const r=e.map(s=>Array.isArray(s)?s.join(""):String(s)).join("");for(let s=0;s<r.length;s++){const o=r.charCodeAt(s);i=i>>>8^t[(i^o)&255]}return i=(i^-1)>>>0,i.toString(16).padStart(8,"0")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function YSe(n){const e=[{name:"address",isVoid:!1},{name:"article",isVoid:!1},{name:"aside",isVoid:!1},{name:"blockquote",isVoid:!1},{name:"details",isVoid:!1},{name:"dialog",isVoid:!1},{name:"dd",isVoid:!1},{name:"div",isVoid:!1},{name:"dl",isVoid:!1},{name:"dt",isVoid:!1},{name:"fieldset",isVoid:!1},{name:"figcaption",isVoid:!1},{name:"figure",isVoid:!1},{name:"footer",isVoid:!1},{name:"form",isVoid:!1},{name:"h1",isVoid:!1},{name:"h2",isVoid:!1},{name:"h3",isVoid:!1},{name:"h4",isVoid:!1},{name:"h5",isVoid:!1},{name:"h6",isVoid:!1},{name:"header",isVoid:!1},{name:"hgroup",isVoid:!1},{name:"hr",isVoid:!0},{name:"li",isVoid:!1},{name:"main",isVoid:!1},{name:"nav",isVoid:!1},{name:"ol",isVoid:!1},{name:"p",isVoid:!1},{name:"section",isVoid:!1},{name:"table",isVoid:!1},{name:"tbody",isVoid:!1},{name:"td",isVoid:!1},{name:"th",isVoid:!1},{name:"thead",isVoid:!1},{name:"tr",isVoid:!1},{name:"ul",isVoid:!1}],t=e.map(o=>o.name).join("|"),i=n.replace(new RegExp(`</?(${t})( .*?)?>`,"g"),`
$&
`).replace(/<br[^>]*>/g,`$&
`).split(`
`);let r=0,s=!1;return i.map(o=>(s=ZSe(o,s),!o.length&&!s?"":KSe(o,e)?D_(o,r++):qSe(o,e)?D_(o,--r):s==="middle"||s==="last"?D_(o,0):D_(o,r))).join("").trimEnd()}function KSe(n,e){return e.some(t=>!(t.isVoid||!new RegExp(`<${t.name}( .*?)?>`).test(n)))}function qSe(n,e){return e.some(t=>new RegExp(`</${t.name}>`).test(n))}function D_(n,e,t="    "){return`${t.repeat(Math.max(0,e))}${n}
`}function ZSe(n,e){const t=/<pre( .*?)?>/.test(n),i=/<\/pre>/.test(n);return t&&i?!1:t?"first":i?"last":e==="first"||e==="middle"?"middle":!1}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QSe(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function JSe(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function XSe(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function KO(n,e){return JSe(n.charAt(e-1))&&XSe(n.charAt(e))}function qO(n,e){return QSe(n.charAt(e))}const eEe=tEe();function JK(n,e){const t=String(n).matchAll(eEe);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function tEe(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(r=>r.source).join("|")+")",i=`${e}|${t}(?:${t})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Gp=new WeakMap;let D3=!1;function $k({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:r=!1}){const s=n.document;Gp.has(s)||(Gp.set(s,new Map),s.registerPostFixer(a=>HS(Gp.get(s),a)),s.on("change:isComposing",()=>{n.change(a=>HS(Gp.get(s),a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,d)=>o(d)),e.placeholder?o(e.placeholder):t&&o(t),t&&rEe();function o(a){const l={text:a,isDirectHost:i,keepOnFocus:r,hostElement:i?e:null};Gp.get(s).set(e,l),n.change(d=>HS([[e,l]],d))}}function XK(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function sI(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function eq(n,e){if(!n.isAttached()||nEe(n))return!1;const t=n.document,r=t.selection.anchor;return t.isComposing&&r&&r.parent===n?!1:e||!t.isFocused?!0:!!r&&r.parent!==n}function nEe(n){for(const e of n.getChildren())if(!e.is("uiElement"))return!0;return!1}function HS(n,e){const t=[];let i=!1;for(const[r,s]of n)s.isDirectHost&&(t.push(r),N3(e,r,s)&&(i=!0));for(const[r,s]of n){if(s.isDirectHost)continue;const o=iEe(r);o&&(t.includes(o)||(s.hostElement=o,N3(e,r,s)&&(i=!0)))}return i}function N3(n,e,t){const{text:i,isDirectHost:r,hostElement:s}=t;let o=!1;return s.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,s),o=!0),(r||e.childCount==1)&&eq(s,t.keepOnFocus)?XK(n,s)&&(o=!0):sI(n,s)&&(o=!0),o}function iEe(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function rEe(){D3||vt("enableViewPlaceholder-deprecated-text-option"),D3=!0}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class If{is(){throw new Error("is() method is abstract")}}class Pf extends hn(If){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new z("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let s=0;for(;i[s]==r[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=yr(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t,i){this.fire(`change:${e}`,t,i),this.parent&&this.parent._fireChange(e,t,i)}toJSON(){const e=SK(this);return delete e.parent,e}}Pf.prototype.is=function(n){return n==="node"||n==="view:node"};class Oi extends Pf{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Oi?this===e||this.data===e.data:!1}_clone(){return new Oi(this.document,this.data)}}Oi.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class Ll extends If{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new z("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new z("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}Ll.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};class FA{_consumables=new Map;add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new sEe(e),this._consumables.set(e,i)),i.add(t?hb(t):e._getConsumables())}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(hb(t))}consume(e,t){if(e.is("$text")||e.is("documentFragment"))return this.test(e,t)?(this._consumables.set(e,!1),!0):!1;const i=this._consumables.get(e);return i===void 0?!1:i.consume(hb(t))}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(hb(t)))}static createFrom(e,t){if(t||(t=new FA),e.is("$text"))t.add(e);else if(e.is("element")||e.is("documentFragment")){t.add(e);for(const i of e.getChildren())FA.createFrom(i,t)}return t}}class sEe{element;_canConsumeName=null;_attributes=new Map;constructor(e){this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[t,i]of e.attributes)if(i){let r=this._attributes.get(t);(!r||typeof r=="boolean")&&(r=new Map,this._attributes.set(t,r)),r.set(i,!0)}else{if(t=="style"||t=="class")throw new z("viewconsumable-invalid-attribute",this);this._attributes.set(t,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[t,i]of e.attributes){const r=this._attributes.get(t);if(r===void 0)return null;if(r===!1)return!1;if(r!==!0){if(i){const s=r.get(i);if(s===void 0)return null;if(!s)return!1}else for(const s of r.values())if(!s)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[t,i]of e.attributes){const r=this._attributes.get(t);if(typeof r=="boolean")for(const[s]of this.element._getConsumables(t,i).attributes)this._attributes.set(s,!1);else if(i)for(const[,s]of this.element._getConsumables(t,i).attributes)r.set(s,!1);else for(const s of r.keys())r.set(s,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[t,i]of e.attributes){const r=this._attributes.get(t);if(r===!1){this._attributes.set(t,!0);continue}if(!(r===void 0||r===!0))if(i)r.get(i)===!1&&r.set(i,!0);else for(const s of r.keys())r.set(s,!0)}}}function hb(n){const e=[];return"attributes"in n&&n.attributes&&WS(e,n.attributes),"classes"in n&&n.classes&&WS(e,n.classes,"class"),"styles"in n&&n.styles&&WS(e,n.styles,"style"),{name:n.name||!1,attributes:e}}function WS(n,e,t){if(typeof e=="string"){n.push(t?[t,e]:[e]);return}for(const i of e)Array.isArray(i)?n.push(i):n.push(t?[t,i]:[i])}class Fr{_patterns=[];constructor(...e){this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const r=this._isElementMatching(t,i);if(r)return{element:t,pattern:i,match:r}}return null}matchAll(...e){const t=[];for(const i of e)for(const r of this._patterns){const s=this._isElementMatching(i,r);s&&t.push({element:i,pattern:r,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}_isElementMatching(e,t){if(typeof t=="function"){const s=t(e);return!s||typeof s!="object"?s:hb(s)}const i={};if(t.name&&(i.name=oEe(t.name,e.name),!i.name))return null;const r=[];return t.attributes&&!aEe(t.attributes,e,r)||t.classes&&!lEe(t.classes,e,r)||t.styles&&!cEe(t.styles,e,r)?null:(r.length&&(i.attributes=r),i)}}function zA(n,e){return n===!0||n===e||n instanceof RegExp&&!!String(e).match(n)}function oEe(n,e){return n instanceof RegExp?!!e.match(n):n===e}function ZO(n,e){if(Array.isArray(n))return n.map(i=>typeof i!="object"||i instanceof RegExp?e?[e,i,!0]:[i,!0]:((i.key===void 0||i.value===void 0)&&vt("matcher-pattern-missing-key-or-value",i),e?[e,i.key,i.value]:[i.key,i.value]));if(typeof n!="object"||n instanceof RegExp)return[e?[e,n,!0]:[n,!0]];const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(e?[e,i,n[i]]:[i,n[i]]);return t}function aEe(n,e,t){let i;return typeof n=="object"&&!(n instanceof RegExp)&&!Array.isArray(n)?(n.style!==void 0&&vt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&vt("matcher-pattern-deprecated-attributes-class-key",n)):i=["class","style"],e._collectAttributesMatch(ZO(n),t,i)}function lEe(n,e,t){return e._collectAttributesMatch(ZO(n,"class"),t)}function cEe(n,e,t){return e._collectAttributesMatch(ZO(n,"style"),t)}class vm{_styles;_cachedStyleNames=null;_cachedExpandedStyleNames=null;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=dEe(e);for(const[i,r]of t)this._styleProcessor.toNormalizedForm(i,r,this._styles);return this}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(i)}set(e,t){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,kr(e))for(const[i,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t={};for(const i of Jt(e)){const r=oI(i),s=Ru(this._styles,r);if(s)A0(t,r,s);else{const o=this.getAsString(i);o!==void 0&&this._styleProcessor.toNormalizedForm(i,o,t)}}Object.keys(t).length&&(tq(this._styles,t),this._cachedStyleNames=null,this._cachedExpandedStyleNames=null)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!kr(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames||=this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames||=this.getStylesEntries().map(([t])=>t),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.getStyleNames())if(!e.has(t)||e.getAsString(t)!==this.getAsString(t))return!1;return!0}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,t){const i=[];for(const r of this.getStyleNames(!0))if(zA(e,r)){if(t===!0){i.push(r);continue}const s=this.getAsString(r);zA(t,s)&&i.push(r)}return i.length?i:void 0}_getConsumables(e){const t=[];if(e){t.push(e);for(const i of this._styleProcessor.getRelatedStyles(e))t.push(i)}else for(const i of this.getStyleNames()){for(const r of this._styleProcessor.getRelatedStyles(i))t.push(r);t.push(i)}return t}_canMergeFrom(e){for(const t of e.getStyleNames())if(this.has(t)&&this.getAsString(t)!==e.getAsString(t))return!1;return!0}_mergeFrom(e){for(const t of e.getStyleNames())this.has(t)||this.set(t,e.getAsString(t))}_isMatching(e){for(const t of e.getStyleNames())if(!this.has(t)||this.getAsString(t)!==e.getAsString(t))return!1;return!0}}class uEe{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(kr(t)){A0(i,oI(e),t);return}if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:s,value:o}=r(t);A0(i,s,o)}else A0(i,e,t)}getNormalized(e,t){if(!e)return UO({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Ru(t,i);const r=i(e,t);if(r)return r}return Ru(t,oI(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=new Set;for(const i of this._consumables.keys()){const r=this.getNormalized(i,e);r&&(typeof r!="object"||Object.keys(r).length)&&t.add(i)}for(const i of Object.keys(e))t.add(i);return Array.from(t)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function dEe(n){let e=null,t=0,i=0,r=null;const s=new Map;if(n==="")return s;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":r||(r=n.substr(t,o-t),i=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(i,o-i);r&&s.set(r.trim(),l.trim()),r=null,t=o+1;break}}else a===e&&(e=null)}return s}function oI(n){return n.replace("-",".")}function A0(n,e,t){let i=t;kr(t)&&(i=UO({},Ru(n,e),t)),AK(n,e,i)}function tq(n,e){for(const t of Object.keys(e))n[t]!==null&&!Array.isArray(n[t])&&typeof n[t]=="object"&&typeof e[t]=="object"?(tq(n[t],e[t]),Object.keys(n[t]).length||delete n[t]):delete n[t]}class GS{_set=new Set;get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const t of e.split(/\s+/))t&&this._set.add(t);return this}set(e){for(const t of Jt(e))t&&this._set.add(t)}remove(e){for(const t of Jt(e))this._set.delete(t)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const t of this.keys())if(!e.has(t))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const t=[];if(e===!0){for(const i of this._set.keys())t.push(i);return t}if(typeof e=="string"){for(const i of e.split(/\s+/))if(this._set.has(i))t.push(i);else return;return t}for(const i of this._set.keys())i.match(e)&&t.push(i);return t.length?t:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const t of e._set.keys())this._set.has(t)||this._set.add(t)}_isMatching(e){for(const t of e._set.keys())if(!this._set.has(t))return!1;return!0}}class Ho extends Pf{name;_unsafeAttributesToRender=[];_attrs;_children;_customProperties=new Map;get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}constructor(e,t,i,r){super(e),this.name=t,this._attrs=this._parseAttributes(i),this._children=[],r&&this._insertChild(0,r)}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,t]of this._attrs.entries())yield[e,String(t)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,t){return this._attrs.has(e)?t!==void 0?zh(this.name,e)||Yp(this.name,e)?this._attrs.get(e).has(t):this._attrs.get(e)===t:!0:!1}isSimilar(e){if(!(e instanceof Ho))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[t,i]of this._attrs){const r=e._attrs.get(t);if(r===void 0)return!1;if(typeof i=="string"||typeof r=="string"){if(r!==i)return!1}else if(!i.isSimilar(r))return!1}return!0}hasClass(...e){for(const t of e)if(!this._classes||!this._classes.has(t))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],t=e[Symbol.iterator]();return Object.assign(e,{next:t.next.bind(t)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const t of e)if(!this._styles||!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Fr(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",t=this._styles&&String(this._styles),i=Array.from(this._attrs).filter(([r])=>r!="style"&&r!="class").map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this,{index:e});let i=0;const r=fEe(this.document,t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t,i=!0){if(this._fireChange("attributes",this),zh(this.name,e)||Yp(this.name,e)){let r=this._attrs.get(e);r||(r=zh(this.name,e)?new vm(this.document.stylesProcessor):new GS,this._attrs.set(e,r)),i?r.setTo(String(t)):zh(this.name,e)?Array.isArray(t)?r.set(t[0],t[1]):r.set(t):r.set(typeof t=="string"?t.split(/\s+/):t)}else this._attrs.set(e,String(t))}_removeAttribute(e,t){if(this._fireChange("attributes",this),t!==void 0&&(zh(this.name,e)||Yp(this.name,e))){const i=this._attrs.get(e);return i?(Yp(this.name,e)&&typeof t=="string"&&(t=t.split(/\s+/)),i.remove(t),i.isEmpty?this._attrs.delete(e):!1):!1}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,t){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,t],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,t,i){for(const[r,s,o]of e){let a=!1,l=!1;for(const[d,f]of this._attrs)if(!(i&&i.includes(d)||!zA(r,d)))if(a=!0,typeof f=="string"){if(zA(s,f))t.push([d]),l=!0;else if(!(r instanceof RegExp))return!1}else{const m=f._getTokensMatch(s,o||!0);if(m){l=!0;for(const p of m)t.push([d,p])}else if(!(r instanceof RegExp))return!1}if(!a||!l)return!1}return!0}_getConsumables(e,t){const i=[];if(e){const r=this._attrs.get(e);if(r!==void 0)if(typeof r=="string")i.push([e]);else for(const s of r._getConsumables(t))i.push([e,s])}else for(const[r,s]of this._attrs)if(typeof s=="string")i.push([r]);else for(const o of s._getConsumables())i.push([r,o]);return{name:!e,attributes:i}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[t,i]of e._attrs){const r=this._attrs.get(t);if(r!==void 0){if(typeof r=="string"||typeof i=="string"){if(r!==i)return!1}else if(!r._canMergeFrom(i))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[t,i]of e._attrs){const r=this._attrs.get(t);r===void 0||typeof r=="string"||typeof i=="string"?this._setAttribute(t,i):r._mergeFrom(i)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[t,i]of e._attrs){const r=this._attrs.get(t);if(r===void 0)return!1;if(typeof r=="string"||typeof i=="string"){if(r!==i)return!1}else if(!r._isMatching(i))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[t,i]of e._attrs){const r=this._attrs.get(t);typeof r=="string"||typeof i=="string"?this._attrs.delete(t):(r.remove(i.keys()),r.isEmpty&&this._attrs.delete(t))}}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const t=$o(e);for(const[i,r]of t)if(r===null)t.delete(i);else if(zh(this.name,i)){const s=r instanceof vm?r._clone():new vm(this.document.stylesProcessor).setTo(String(r));t.set(i,s)}else if(Yp(this.name,i)){const s=r instanceof GS?r._clone():new GS().setTo(String(r));t.set(i,s)}else typeof r!="string"&&t.set(i,String(r));return t}}Ho.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function fEe(n,e){if(typeof e=="string")return[new Oi(n,e)];Rs(e)||(e=[e]);const t=[];for(const i of e)typeof i=="string"?t.push(new Oi(n,i)):i instanceof Ll?t.push(new Oi(n,i.data)):t.push(i);return t}function Yp(n,e){return e=="class"||n=="a"&&e=="rel"}function zh(n,e){return e=="style"}class uv extends Ho{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=hEe}}uv.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function hEe(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}class Hk extends ln(uv){constructor(e,t,i,r){super(e,t,i,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Hk.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const M3=Symbol("rootName");class nq extends Hk{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(M3)}set rootName(e){this._setCustomProperty(M3,e)}set _name(e){this.name=e}}nq.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Kd{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new z("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new z("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Ve._createAt(e.startPosition):this._position=Ve._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(i&&i.is("view:$text")){if(e.isAtEnd)return this._position=Ve._createAfter(i),this._next();r=i.data[e.offset]}else r=i.getChild(e.offset);if(typeof r=="string"){let s;this.singleCharacters?s=1:s=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const o=new Ll(i,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",o,t,e,s)}if(r&&r.is("view:element")){if(!this.shallow)e=new Ve(r,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r&&r.is("view:$text")){if(this.singleCharacters)return e=new Ve(r,0),this._position=e,this._next();let s=r.data.length,o;return r==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new Ll(r,0,s),e=Ve._createAfter(o)):(o=new Ll(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Ve._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(i.is("view:$text")){if(e.isAtStart)return this._position=Ve._createBefore(i),this._previous();r=i.data[e.offset-1]}else r=i.getChild(e.offset-1);if(typeof r=="string"){let s;if(this.singleCharacters)s=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-a}e.offset-=s;const o=new Ll(i,e.offset,s);return this._position=e,this._formatReturnValue("text",o,t,e,s)}if(r&&r.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new Ve(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r&&r.is("view:$text")){if(this.singleCharacters)return e=new Ve(r,r.data.length),this._position=e,this._previous();let s=r.data.length,o;if(r==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Ll(r,a,r.data.length-a),s=o.data.length,e=Ve._createBefore(o)}else o=new Ll(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,s)}return e=Ve._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,r,s){return t.is("view:$textProxy")&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(r=Ve._createAfter(t.textNode),this._position=r):i=Ve._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(r=Ve._createBefore(t.textNode),this._position=r):i=Ve._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:r,length:s}}}}class Ve extends If{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Hk);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Ve._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Kd(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const r=yr(t,i);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<i[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Kd(e)}clone(){return new Ve(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Ve)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new z("view-createpositionat-offset-required",i)}return new Ve(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Ve(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new z("view-position-after-root",e,{root:e});return new Ve(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ve(e.textNode,e.offsetInText);if(!e.parent)throw new z("view-position-before-root",e,{root:e});return new Ve(e.parent,e.index)}}Ve.prototype.is=function(n){return n==="position"||n==="view:position"};class ht extends If{start;end;constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Kd({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(N_,{direction:"backward"}),t=this.end.getLastMatchingPosition(N_);return e.parent.is("$text")&&e.isAtStart&&(e=Ve._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Ve._createAfter(t.parent)),new ht(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(N_);if(e.isAfter(this.end)||e.isEqual(this.end))return new ht(e,e);let t=this.end.getLastMatchingPosition(N_,{direction:"backward"});const i=e.nodeAfter,r=t.nodeBefore;return i&&i.is("$text")&&(e=new Ve(i,0)),r&&r.is("$text")&&(t=new Ve(r,r.data.length)),new ht(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ht(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ht(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ht(t,i)}return null}getWalker(e={}){return e.boundaries=this,new Kd(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ht(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Kd(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Kd(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,r){return new this(new Ve(e,t),new Ve(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ve._createBefore(e),t)}}ht.prototype.is=function(n){return n==="range"||n==="view:range"};function N_(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}class Bo extends hn(If){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=nI(this.getRanges()),i=nI(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let s=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),r.start.isEqual(o.start)&&r.end.isEqual(o.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(r);else if(t instanceof Bo||t instanceof QO)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ht)this._setRanges([t],r&&r.backward),this._setFakeOptions(r);else if(t instanceof Ve)this._setRanges([new ht(t)]),this._setFakeOptions(r);else if(t instanceof Pf){const s=!!r&&!!r.backward;let o;if(i===void 0)throw new z("view-selection-setto-required-second-parameter",this);i=="in"?o=ht._createIn(t):i=="on"?o=ht._createOn(t):o=new ht(Ve._createAt(t,i)),this._setRanges([o],s),this._setFakeOptions(r)}else if(Rs(t))this._setRanges(t,r&&r.backward),this._setFakeOptions(r);else throw new z("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new z("view-selection-setfocus-no-ranges",this);const i=Ve._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),i.compareWith(r)=="before"?this._addRange(new ht(i,r),!0):this._addRange(new ht(r,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ht))throw new z("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new z("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ht(e.start,e.end))}}Bo.prototype.is=function(n){return n==="selection"||n==="view:selection"};class QO extends hn(If){_selection;constructor(...e){super(),this._selection=new Bo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}QO.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Rf extends mc{startRange;_eventPhase;_currentTarget;constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const YS=Symbol("bubbling contexts");function mEe(n){class e extends n{fire(i,...r){try{const s=i instanceof mc?i:new mc(this,i),o=KS(this);if(!o.size)return;if(Kp(s,"capturing",this),jh(o,"$capture",s,...r))return s.return;const a=s.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,d=l?!!iq(o,l):!1;let f=l||gEe(a);if(Kp(s,"atTarget",f),!d){if(jh(o,"$text",s,...r))return s.return;Kp(s,"bubbling",f)}for(;f;){if(f.is("rootElement")){if(jh(o,"$root",s,...r))return s.return}else if(f.is("element")&&jh(o,f.name,s,...r))return s.return;if(jh(o,f,s,...r))return s.return;f=f.parent,Kp(s,"bubbling",f)}return Kp(s,"bubbling",this),jh(o,"$document",s,...r),s.return}catch(s){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(s,this)}}_addEventListener(i,r,s){const o=Jt(s.context||"$document"),a=KS(this);for(const l of o){let d=a.get(l);d||(d=new(hn()),a.set(l,d)),this.listenTo(d,i,r,s)}}_removeEventListener(i,r){const s=KS(this);for(const o of s.values())this.stopListening(o,i,r)}}return e}function Kp(n,e,t){n instanceof Rf&&(n._eventPhase=e,n._currentTarget=t)}function jh(n,e,t,...i){const r=typeof e=="string"?n.get(e):iq(n,e);return r?(r.fire(t,...i),t.stop.called):!1}function iq(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function KS(n){return n[YS]||(n[YS]=new Map),n[YS]}function gEe(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,i=e.getPath(),r=t.getPath();return i.length>r.length?e:t}class Wk extends mEe(ln()){selection;roots;stylesProcessor;_postFixers=new Set;constructor(e){super(),this.selection=new QO,this.roots=new hi({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}const B3=10;class wm extends Ho{static DEFAULT_PRIORITY=B3;_priority=B3;_id=null;_clonesGroup=null;constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=pEe}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new z("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}_canMergeAttributesFrom(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id!==null||e.id!==null||this.priority!==e.priority?!1:super._canSubtractAttributesOf(e)}}wm.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function pEe(){if(qS(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(qS(n)>1)return null;n=n.parent}return!n||qS(n)>1?null:this.childCount}function qS(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}class JO extends Ho{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=bEe}_insertChild(e,t){if(t&&(t instanceof Pf||Array.from(t).length>0))throw new z("view-emptyelement-cannot-add",[this,t]);return 0}}JO.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function bEe(){return null}class Gk extends Ho{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=wEe}_insertChild(e,t){if(t&&(t instanceof Pf||Array.from(t).length>0))throw new z("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}Gk.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function vEe(n){n.document.on("arrowKey",(e,t)=>yEe(e,t,n.domConverter),{priority:"low"})}function wEe(){return null}function yEe(n,e,t){if(e.keyCode==_t.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),r=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(r||e.shiftKey){const s=i.focusNode,o=i.focusOffset,a=t.domPositionToView(s,o);if(a===null)return;let l=!1;const d=a.getLastMatchingPosition(f=>(f.item.is("uiElement")&&(l=!0),!!(f.item.is("uiElement")||f.item.is("attributeElement"))));if(l){const f=t.viewPositionToDom(d);r?i.collapse(f.parent,f.offset):i.extend(f.parent,f.offset)}}}}class XO extends Ho{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=_Ee}_insertChild(e,t){if(t&&(t instanceof Pf||Array.from(t).length>0))throw new z("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}XO.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function _Ee(){return null}class Jd extends hn(If){document;_children=[];_customProperties=new Map;constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this,{index:e});let i=0;const r=AEe(this.document,t);for(const s of r)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this,{index:e});for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t,i){this.fire(`change:${e}`,t,i)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Jd.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function AEe(n,e){return typeof e=="string"?[new Oi(n,e)]:(Rs(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Oi(n,t):t instanceof Ll?new Oi(n,t.data):t))}class e5{document;_cloneGroups=new Map;_slotFactory=null;constructor(e){this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Jd(this.document,e)}createText(e){return new Oi(this.document,e)}createAttributeElement(e,t,i={}){const r=new wm(this.document,e,t);return typeof i.priority=="number"&&(r._priority=i.priority),i.id&&(r._id=i.id),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createContainerElement(e,t,i={},r={}){let s;SEe(i)?r=i:s=i;const o=new uv(this.document,e,t,s);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(e,t,i={}){const r=new Hk(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEmptyElement(e,t,i={}){const r=new JO(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createUIElement(e,t,i){const r=new Gk(this.document,e,t);return i&&(r.render=i),r}createRawElement(e,t,i,r={}){const s=new XO(this.document,e,t);return i&&(s.render=i),r.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),s}setAttribute(e,t,i,r){r!==void 0?r._setAttribute(e,t,i):i._setAttribute(e,t)}removeAttribute(e,t,i){i!==void 0?i._removeAttribute(e,t):t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Io(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ve?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new z("view-writer-break-non-container-element",this.document);if(!t.parent)throw new z("view-writer-break-root",this.document);if(e.isAtStart)return Ve._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Ve._createAfter(t),i);const r=new ht(e,Ve._createAt(t,"end")),s=new Ve(i,0);this.move(r,s)}return Ve._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Ve(o,a))}const r=i.getChild(t-1),s=i.getChild(t);if(!r||!s)return e;if(r.is("$text")&&s.is("$text"))return L3(r,s);if(r.is("attributeElement")&&s.is("attributeElement")&&r.isSimilar(s)){const o=r.childCount;return r._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ve(r,o))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new z("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),s=r instanceof Oi?Ve._createAt(r,"end"):Ve._createAt(t,"end");return this.move(ht._createIn(i),Ve._createAt(t,"end")),this.remove(ht._createOn(i)),s}insert(e,t){t=Rs(t)?[...t]:[t],rq(t,this.document);const i=t.reduce((o,a)=>{const l=o[o.length-1],d=!a.is("uiElement");return!l||l.breakAttributes!=d?o.push({breakAttributes:d,nodes:[a]}):l.nodes.push(a),o},[]);let r=null,s=e;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(s,o,a);r||(r=l.start),s=l.end}return r?new ht(r,s):new ht(e)}remove(e){const t=e instanceof ht?e:ht._createOn(e);if(qp(t,this.document),t.isCollapsed)return new Jd(this.document);const{start:i,end:r}=this._breakAttributesRange(t,!0),s=i.parent,o=r.offset-i.offset,a=s._removeChildren(i.offset,o);for(const d of a)this._removeFromClonedElementsGroup(d);const l=this.mergeAttributes(i);return t.start=l,t.end=l.clone(),new Jd(this.document,a)}clear(e,t){qp(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of i){const s=r.item;let o;if(s.is("element")&&t.isSimilar(s))o=ht._createOn(s);else if(!r.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const a=s.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=ht._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const r=t.parent,s=r.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=r.childCount-s}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof wm))throw new z("view-writer-wrap-invalid-attribute",this.document);if(qp(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!kEe(i.parent)&&(i=i.getLastMatchingPosition(s=>s.item.is("uiElement"))),i=this._wrapPosition(i,t);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new ht(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof wm))throw new z("view-writer-unwrap-invalid-attribute",this.document);if(qp(e,this.document),e.isCollapsed)return e;const{start:i,end:r}=this._breakAttributesRange(e,!0),s=i.parent,o=this._unwrapChildren(s,i.offset,r.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ht(a,l)}rename(e,t){const i=new uv(this.document,e,t.getAttributes());return this.insert(Ve._createAfter(t),i),this.move(ht._createIn(t),Ve._createAt(i,0)),this.remove(ht._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Ve._createAt(e,t)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Bo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new z("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let r;if(i?r=aI(e):r=e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new z("view-writer-invalid-position-container",this.document);let s;i?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?ZS(e):e;const o=r._insertChild(s.offset,t);for(const f of t)this._addToClonedElementsGroup(f);const a=s.getShiftedBy(o),l=this.mergeAttributes(s);l.isEqual(s)||a.offset--;const d=this.mergeAttributes(a);return new ht(l,d)}_wrapChildren(e,t,i,r){let s=t;const o=[];for(;s<i;){const l=e.getChild(s),d=l.is("$text"),f=l.is("attributeElement");if(f&&l._canMergeAttributesFrom(r))l._mergeAttributesFrom(r),o.push(new Ve(e,s));else if(d||!f||xEe(r,l)){const m=r._clone();l._remove(),m._appendChild(l),e._insertChild(s,m),this._addToClonedElementsGroup(m),o.push(new Ve(e,s))}else this._wrapChildren(l,0,l.childCount,r);s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return ht._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,r){let s=t;const o=[];for(;s<i;){const l=e.getChild(s);if(!l.is("attributeElement")){s++;continue}if(l.isSimilar(r)){const d=l.getChildren(),f=l.childCount;l._remove(),e._insertChild(s,d),this._removeFromClonedElementsGroup(l),o.push(new Ve(e,s),new Ve(e,s+f)),s+=f,i+=f-1;continue}if(l._canSubtractAttributesOf(r)){l._subtractAttributesOf(r),o.push(new Ve(e,s),new Ve(e,s+1)),s++;continue}this._unwrapChildren(l,0,l.childCount,r),s++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return ht._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:r}=this._breakAttributesRange(e,!0),s=i.parent,o=this._wrapChildren(s,i.offset,r.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new ht(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return V3(e.clone());e.parent.is("$text")&&(e=ZS(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const r=new ht(e,e.getShiftedBy(1));this.wrap(r,t);const s=new Ve(i.parent,i.index);i._remove();const o=s.nodeBefore,a=s.nodeAfter;return o&&o.is("view:$text")&&a&&a.is("view:$text")?L3(o,a):V3(s)}_breakAttributesRange(e,t=!1){const i=e.start,r=e.end;if(qp(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new ht(l,l)}const s=this._breakAttributes(r,t),o=s.parent.childCount,a=this._breakAttributes(i,t);return s.offset+=s.parent.childCount-o,new ht(a,s)}_breakAttributes(e,t=!1){const i=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new z("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new z("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new z("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&lI(r.parent)||lI(r))return e.clone();if(r.is("$text"))return this._breakAttributes(ZS(e),t);const s=r.childCount;if(i==s){const o=new Ve(r.parent,r.index+1);return this._breakAttributes(o,t)}else if(i===0){const o=new Ve(r.parent,r.index);return this._breakAttributes(o,t)}else{const o=r.index+1,a=r._clone();r.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=r.childCount-i,d=r._removeChildren(i,l);a._appendChild(d);const f=new Ve(r.parent,o);return this._breakAttributes(f,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function kEe(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function aI(n){let e=n.parent;for(;!lI(e);){if(!e)return;e=e.parent}return e}function xEe(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function V3(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Ve(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Ve(t,0):n}function ZS(n){if(n.offset==n.parent.data.length)return new Ve(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Ve(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new Oi(n.root.document,e)),new Ve(n.parent.parent,n.parent.index+1)}function L3(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Ve(n,t)}const CEe=[Oi,wm,uv,JO,XO,Gk];function rq(n,e){for(const t of n){if(!CEe.some(i=>t instanceof i))throw new z("view-writer-insert-invalid-node-type",e);t.is("$text")||rq(t.getChildren(),e)}}function lI(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function qp(n,e){const t=aI(n.start),i=aI(n.end);if(!t||!i||t!==i)throw new z("view-writer-invalid-range-container",e)}function SEe(n){return Io(n)}const sq=n=>n.createTextNode(""),oq=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},aq=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},xs=7,dv="".repeat(xs);function Rr(n){return typeof n=="string"?n.substr(0,xs)===dv:jn(n)&&n.data.substr(0,xs)===dv}function am(n){return n.data.length==xs&&Rr(n)}function F3(n){const e=typeof n=="string"?n:n.data;return Rr(n)?e.slice(xs):e}function EEe(n){n.document.on("arrowKey",TEe,{priority:"low"})}function TEe(n,e){if(e.keyCode==_t.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset;Rr(i)&&r<=xs&&t.collapse(i,0)}}}class IEe extends ln(){domDocuments=new Set;domConverter;markedAttributes=new Set;markedChildren=new Set;markedTexts=new Set;selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),nt.isBlink&&!nt.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new z("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!nt.isAndroid)return;let e=null;const t=nt.isBlink&&!nt.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ve._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),r=i.parent.ownerDocument;Rr(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=z3(r,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(i,r),o=this._findUpdateActions(s,i,r,REe);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const d=a.equal+a.insert,f=a.equal+a.delete,m=e.getChild(d);m&&!m.is("uiElement")&&!m.is("rawElement")&&this._updateElementMappings(m,i[f]),S3(r[d]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ve._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&jn(t.parent)&&Rr(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Rr(e))throw new z("view-renderer-filler-was-lost",this);am(e)?e.remove():e.data=e.data.substr(xs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!PEe(t))return!1;const r=e.nodeBefore,s=e.nodeAfter;return!(r instanceof Oi||s instanceof Oi||i===t.getFillerOffset()&&(!r||!r.is("element","br"))||nt.isAndroid&&(r||s))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(s=dv+s),this._updateTextNode(i,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){for(const i of Array.from(t.attributes)){const r=i.name;e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}for(const i of e.getAttributeKeys())this.domConverter.setDomElementAttribute(t,i,e.getAttribute(i),e)}}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(nt.isAndroid){let m=null;for(const p of Array.from(i.childNodes)){if(m&&jn(m)&&jn(p)){i.normalize();break}m=p}}const r=t.inlineFillerPosition,s=i.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&z3(i.ownerDocument,o,r.offset);const a=this._diffNodeLists(s,o),l=this._findUpdateActions(a,s,o,OEe);let d=0;const f=new Set;for(const m of l)m==="delete"?(f.add(s[d]),S3(s[d])):(m==="equal"||m==="update")&&d++;d=0;for(const m of l)m==="insert"?(WK(i,d,o[d]),d++):m==="update"?(this._updateTextNode(s[d],o[d].data),d++):m==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[d])),d++);for(const m of f)m.parentNode||this.domConverter.unbindDomElement(m)}_diffNodeLists(e,t){return e=MEe(e,this._fakeSelectionContainer),bm(e,t,DEe.bind(null,this.domConverter))}_findUpdateActions(e,t,i,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const d of e)d==="insert"?a.push(i[l.equal+l.insert]):d==="delete"?o.push(t[l.equal+l.delete]):(s=s.concat(bm(o,a,r).map(f=>f==="equal"?"update":f)),s.push("equal"),o=[],a=[]),l[d]++;return s.concat(bm(o,a,r).map(d=>d==="equal"?"update":d))}_updateTextNode(e,t){const i=e.data;i!=t&&(nt.isAndroid&&this.isComposing&&i.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const i=IK(e.data,t);for(const r of i)r.type==="insert"?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(nt.isBlink&&!nt.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){!this.selection.isFake&&this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected&&this._removeFakeSelection();return}this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&nt.isAndroid||this._updateDomSelection(e)}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=BEe(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const r=t.getSelection(),s=t.createRange();r.removeAllRanges(),s.selectNodeContents(i),r.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,r.parent,r.offset),nt.isGecko&&NEe(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function PEe(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function z3(n,e,t){const i=e instanceof Array?e:e.childNodes,r=i[t];if(jn(r))return r.data=dv+r.data,r;{const s=n.createTextNode(dv);return Array.isArray(e)?i.splice(t,0,s):WK(e,t,s),s}}function REe(n,e){return Ou(n)&&Ou(e)&&!jn(n)&&!jn(e)&&!Tb(n)&&!Tb(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function OEe(n,e){return Ou(n)&&Ou(e)&&jn(n)&&jn(e)}function DEe(n,e,t){return e===t?!0:jn(e)&&jn(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function NEe(n,e){let t=n.parent,i=n.offset;if(jn(t)&&am(t)&&(i=om(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||i!=t.childNodes.length-1)return;const r=t.childNodes[i];r&&r.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function MEe(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function BEe(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}const VEe=aq(Re.document),LEe=sq(Re.document),FEe=oq(Re.document),M_="data-ck-unsafe-attribute-",j3="data-ck-unsafe-element";class Yk{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=new WeakMap;_viewToDomMapping=new WeakMap;_fakeSelectionMapping=new WeakMap;_rawContentElementMatcher=new Fr;_inlineObjectElementMatcher=new Fr;_elementsWithTemporaryCustomProperties=new Set;constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Re.document:Re.document.implementation.createHTMLDocument("")}get domDocument(){return this._domDocument}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Bo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of e.children)this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const i=new DOMParser().parseFromString(t,"text/html"),r=i.createDocumentFragment(),s=i.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);const o=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const d of a){for(const m of d.getAttributeNames())this.setDomElementAttribute(d,m,d.getAttribute(m));const f=d.tagName.toLowerCase();this._shouldRenameElement(f)&&(W3(f),d.replaceWith(this._createReplacementDomElement(f,d)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{const i=e;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let r;if(i.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,i);else{if(i.is("uiElement"))return i.name==="$comment"?r=this._domDocument.createComment(i.getCustomProperty("$rawContent")):r=i.render(this._domDocument,this),t.bind&&this.bindElements(r,i),r;this._shouldRenameElement(i.name)?(W3(i.name),r=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?r=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):r=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(r,this),t.bind&&this.bindElements(r,i);for(const s of i.getAttributeKeys())this.setDomElementAttribute(r,s,i.getAttribute(s),i)}if(t.withChildren!==!1)for(const s of this.viewChildrenToDom(i,t))r instanceof HTMLTemplateElement?r.content.appendChild(s):r.appendChild(s);return r}}setDomElementAttribute(e,t,i,r){const s=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);if(s||vt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),!GK(t)){vt("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i});return}e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(M_+t)&&s&&e.removeAttribute(M_+t),e.setAttribute(s?t:M_+t,i)}removeDomElementAttribute(e,t){t!=j3&&(e.removeAttribute(t),e.removeAttribute(M_+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const s of e.getChildren()){i===r&&(yield this._getBlockFiller());const o=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!sn(s.getAttributes());if(o&&this.renderingMode=="data")if(s.is("rawElement")){const a=this._domDocument.createElement(s.name);s.render(a,this),yield*[...a.childNodes]}else yield*this.viewChildrenToDom(s,t);else o&&vt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t);r++}i===r&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(i.parent,i.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let r=e.offset;return Rr(i)&&(r+=xs),i.data&&r>i.data.length&&(r=i.data.length),{parent:i,offset:r}}else{let i,r,s;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;s=i.childNodes[0]}else{const a=e.nodeBefore;if(r=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!r)return null;i=r.parentNode,s=r.nextSibling}if(jn(s)&&Rr(s))return{parent:s,offset:xs};const o=r?om(r)+1:0;return{parent:i,offset:o}}}domToView(e,t={}){const i=[],r=this._domToView(e,t,i),s=r.next().value;return!s||(r.next(),this._processDomInlineNodes(null,i,t),this.blockFillerMode=="br"&&$3(s))||s.is("$text")&&s.data.length==0?null:s}*domChildrenToView(e,t={},i=[]){let r=[];e instanceof HTMLTemplateElement?r=[...e.content.childNodes]:r=[...e.childNodes];for(let s=0;s<r.length;s++){const o=r[s],a=this._domToView(o,t,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(e,i,t),this.blockFillerMode=="br"&&$3(l)||(yield l),a.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(HEe(e))return new Bo([]);if(e.rangeCount===1){let r=e.getRangeAt(0).startContainer;jn(r)&&(r=r.parentNode);const s=this.fakeSelectionToView(r);if(s)return s}const t=this.isDomSelectionBackward(e),i=[];for(let r=0;r<e.rangeCount;r++){const s=e.getRangeAt(r),o=this.domRangeToView(s);o&&i.push(o)}return new Bo(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new ht(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,om(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Ve._createBefore(i);if(jn(e)){if(am(e))return this.domPositionToView(e.parentNode,om(e));const r=this.findCorrespondingViewText(e);let s=t;return r?(Rr(e)&&(s-=xs,s=s<0?0:s),new Ve(r,s)):null}else{if(t===0){const r=this.mapDomToView(e);if(r)return new Ve(r,0)}else{const r=e.childNodes[t-1];if(jn(r)&&am(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,om(r));const s=jn(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(s&&s.parent)return new Ve(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(am(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const r=this.mapDomToView(i);if(r){const s=r.nextSibling;return s instanceof Oi?s:null}}else{const r=this.mapDomToView(e.parentNode);if(r){const s=r.getChild(0);return s instanceof Oi?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(!t||t.ownerDocument.activeElement===t)return;const{scrollX:i,scrollY:r}=Re.window,s=[];U3(t,o=>{const{scrollLeft:a,scrollTop:l}=o;s.push([a,l])}),t.focus(),U3(t,o=>{const[a,l]=s.shift();o.scrollLeft=a,o.scrollTop=l}),Re.window.scrollTo(i,r)}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(VEe):H3(e,this.blockElements)?!0:e.isEqualNode(FEe)||jEe(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=zK(e);for(t.pop();t.length;){const i=t.pop(),r=this._domToViewMapping.get(i);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return sq(this._domDocument);case"markedNbsp":return oq(this._domDocument);case"br":return aq(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(jn(e)&&Rr(e)&&t<xs||this.isElement(e)&&Rr(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(e,t,i){if(this.blockFillerMode!="br"&&H3(e,this.blockElements))return null;const r=this.getHostViewElement(e);if(r)return r;if(Tb(e)&&t.skipComments)return null;if(jn(e)){if(am(e))return null;{const s=e.data;if(s==="")return null;const o=new Oi(this.document,s);return i.push(o),o}}else{let s=this.mapDomToView(e);if(s)return this._isInlineObjectElement(s)&&i.push(s),s;if(this.isDocumentFragment(e))s=new Jd(this.document),t.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,t),t.bind&&this.bindElements(e,s);const a=e.attributes;if(a)for(let l=a.length,d=0;d<l;d++)s._setAttribute(a[d].name,a[d].value);if(this._isViewElementWithRawContent(s,t))return s._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(s)||i.push(s),s;if(Tb(e))return s._setCustomProperty("$rawContent",e.data),s}yield s;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))s._appendChild(a);if(this._isInlineObjectElement(s))i.push(s),this._processDomInlineNodes(null,o,t);else for(const a of o)i.push(a)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let s=0;s<t.length;s++){const o=t[s];if(!o.is("$text")){r=!1;continue}let a,l=!1;if(this._isPreFormatted(o))a=F3(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const d=s>0?t[s-1]:null,f=s+1<t.length?t[s+1]:null,m=!d||d.is("element")&&d.name=="br"||r,p=f?!1:!Rr(o.data);i.withChildren!==!1&&(m&&(a=a.replace(/^ /,"")),p&&(a=a.replace(/ $/,""))),a=F3(a),this.blockFillerMode!="br"&&o.parent&&($Ee(o.parent,a)?(a="",o.parent.parent&&(o.parent.parent._setCustomProperty("$hasBlockFiller",!0),o.parent._remove())):UEe(o.parent,a,this.blockElements)&&(a="",o.parent._setCustomProperty("$hasBlockFiller",!0))),a=a.replace(/ \u00A0/g,"  ");const w=f&&f.is("element")&&f.name!="br",A=f&&f.is("$text")&&f.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!f||w||A)&&(a=a.replace(/\u00A0$/," ")),(m||d&&d.is("element")&&d.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(s,1),s--):(o._data=a,r=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),r=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||r)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_isPreFormatted(e){if(zEe(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(!(!t.is("element")||!t.hasStyle("white-space")||t.getStyle("white-space")==="inherit"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const i=new Kd({startPosition:t?Ve._createAfter(e):Ve._createBefore(e),direction:t?"forward":"backward"});for(const{item:r}of i){if(r.is("$textProxy"))return r;if(r.is("element")&&r.getCustomProperty("dataPipeline:transparentRendering"))continue;if(r.is("element","br"))return null;if(this._isInlineObjectElement(r))return r;if(r.is("containerElement"))return null}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(Tb(e))return new Gk(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ho(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(j3,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const r of t.getAttributeNames())i.setAttribute(r,t.getAttribute(r))}return i}}function zEe(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function U3(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function jEe(n,e){return n.isEqualNode(LEe)&&lq(n,e)&&n.parentNode.childNodes.length===1}function lq(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function UEe(n,e,t){return e==""&&n&&n.is("element")&&n.childCount==1&&t.includes(n.name)}function $Ee(n,e){return e==""&&n&&n.is("element","span")&&n.childCount==1&&n.hasAttribute("data-cke-filler")}function $3(n){return n.is("element","br")&&n.hasAttribute("data-cke-filler")}function H3(n,e){return n.tagName==="BR"&&lq(n,e)&&n.parentNode.childNodes.length===1}function W3(n){n==="script"&&vt("domconverter-unsafe-script-element-detected"),n==="style"&&vt("domconverter-unsafe-style-element-detected")}function HEe(n){if(!nt.isGecko||!n.rangeCount)return!1;const e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}class Jo extends Ur(){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class bf{view;document;domEvent;domTarget;constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,CK(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ja extends Jo{useCapture=!1;usePassive=!1;observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(r,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new bf(this.view,t,i))}}class WEe extends Ja{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return pf(this)}};this.fire(e.type,e,t)}}class GEe extends Jo{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Ps(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Bo(t.getRanges(),{backward:t.isBackward,fake:!1});(e==_t.arrowleft||e==_t.arrowup)&&i.setTo(i.getFirstPosition()),(e==_t.arrowright||e==_t.arrowdown)&&i.setTo(i.getLastPosition());const r={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}let cq=class extends Jo{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,r=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&r.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!r.has(l.parent)?i.add(l):!l&&Rr(o.target)&&r.add(t.mapDomToView(o.target.parentNode))}}const s=[];for(const o of i)s.push({type:"text",node:o});for(const o of r){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),d=Array.from(t.domChildrenToView(a,{withChildren:!1}));XT(l,d,YEe)||s.push({type:"children",node:o})}s.length&&this.document.fire("mutations",{mutations:s})}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function YEe(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}class jA extends Ja{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",()=>this._handleFocus()),t.on("blur",(i,r)=>this._handleBlur(r)),t.on("beforeinput",()=>{t.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const t=this.document.selection.editableElement;(t===null||t===e.target)&&(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class KEe extends Jo{mutationObserver;focusObserver;selection;domConverter;_documents=new WeakSet;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter=0;_pendingSelectionChange=new Set;constructor(e){super(e),this.mutationObserver=e.getObserver(cq),this.focusObserver=e.getObserver(jA),this.selection=this.document.selection,this.domConverter=e.domConverter,this._fireSelectionChangeDoneDebounced=Ps(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ps(()=>this.document.isSelecting=!1,5e3),this.view.document.on("change:isFocused",(t,i,r)=>{if(r&&this._pendingSelectionChange.size){for(const s of Array.from(this._pendingSelectionChange))this._handleSelectionChange(s);this._pendingSelectionChange.clear()}})}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},r=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",()=>{this.document.isComposing&&!nt.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(t)},{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(t);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.view.document.isFocused&&!this.view.document.isReadOnly){this._pendingSelectionChange.add(e);return}if(this._pendingSelectionChange.delete(e),!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(t))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(i))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:i,domSelection:t};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class qEe extends Ja{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0}),t.on("compositionend",()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class uq{_files;_native;constructor(e,t={}){this._files=t.cacheFiles?G3(e):null,this._native=e}get files(){return this._files||(this._files=G3(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function G3(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class ZEe extends Ja{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),i=this.view,r=i.document;let s=null,o=null,a=[];if(e.dataTransfer&&(s=new uq(e.dataTransfer)),e.data!==null?o=e.data:s&&(o=s.getData("text/plain")),r.selection.isFake)a=Array.from(r.selection.getRanges()),e.preventDefault();else if(t.length)a=t.map(l=>{let d=i.domConverter.domPositionToView(l.startContainer,l.startOffset);const f=i.domConverter.domPositionToView(l.endContainer,l.endOffset);if(d&&Rr(l.startContainer)&&l.startOffset<xs){e.preventDefault();let m=xs-l.startOffset;d=d.getLastMatchingPosition(p=>!!(p.item.is("attributeElement")||p.item.is("uiElement")||p.item.is("$textProxy")&&m--),{direction:"backward",singleCharacters:!0})}if(QEe(l.endContainer,l.endOffset)&&e.preventDefault(),d)return i.createRange(d,f);if(f)return i.createRange(f)}).filter(l=>!!l);else if(nt.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(nt.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(["insertText","insertReplacementText"].includes(e.inputType)&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let d=a;e.preventDefault();for(let f=0;f<l.length;f++){const m=l[f];m!=""&&(this.fire(e.type,e,{data:m,dataTransfer:s,targetRanges:d,inputType:e.inputType,isComposing:e.isComposing}),d=[r.selection.getFirstRange()]),f+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:d}),d=[r.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:s,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}function QEe(n,e){for(;n.parentNode;){if(jn(n)){if(e!=n.data.length)return!1}else if(e!=n.childNodes.length)return!1;if(e=om(n)+1,n=n.parentNode,e<n.childNodes.length&&Rr(n.childNodes[e]))return!0}return!1}class JEe extends Jo{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&RSe(i.keyCode)){const r=new Rf(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,i),r.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class XEe extends Jo{constructor(e){super(e);const t=this.document;t.on("keydown",(i,r)=>{if(!this.isEnabled||r.keyCode!=_t.tab||r.ctrlKey)return;const s=new Rf(t,"tab",t.selection.getFirstRange());t.fire(s,r),s.stop.called&&i.stop()})}observe(){}stopObserving(){}}class eTe extends ln(){document;domConverter;domRoots=new Map;_renderer;_initialDomRootAttributes=new WeakMap;_observers=new Map;_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new Wk(e),this.domConverter=new Yk(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new IEe(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new e5(this.document),this.addObserver(cq),this.addObserver(jA),this.addObserver(KEe),this.addObserver(WEe),this.addObserver(GEe),this.addObserver(qEe),this.addObserver(JEe),this.addObserver(ZEe),this.addObserver(XEe),EEe(this),vEe(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),nt.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(t,{mutations:i})=>{i.forEach(r=>this._renderer.markToSync(r.type,r.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const r={};for(const{name:o,value:a}of Array.from(e.attributes))r[o]=a,o==="class"?this._writer.addClass(a.split(" "),i):i.hasAttribute(o)||this._writer.setAttribute(o,a,i);this._initialDomRootAttributes.set(e,r);const s=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(s)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:r})=>t.removeAttribute(r));const i=this._initialDomRootAttributes.get(t);for(const r in i)t.setAttribute(r,i[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const r of this._observers.values())r.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,r]of this.domRoots)t.observe(r,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:r=20}={}){const s=this.document.selection.getFirstRange();if(!s)return;const o=Lr({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:r});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const a={target:this.domConverter.viewRangeToDom(s),viewportOffset:i,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),xSe(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new z("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(jA).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Ve._createAt(e,t)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Bo(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ju{is(){throw new Error("is() method is abstract")}}class Do extends ju{textNode;data;offsetInText;constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new z("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new z("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Do.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class Kl{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new z("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new z("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=xe._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,r,s;do r=this.position,s=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=r,this._visitedParent=s)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=Ib(t,i),s=r||dq(t,i,r);if(s&&s.is("model:element")){if(!this.shallow)t.path.push(0),this._visitedParent=s;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Td("elementStart",s,e,t,1)}if(s&&s.is("model:$text")){let o;if(this.singleCharacters)o=1;else{let d=s.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<d&&(d=this.boundaries.end.offset),o=d-t.offset}const a=t.offset-s.startOffset,l=new Do(s,a,o);return t.offset+=o,this._position=t,Td("text",l,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Td("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,s=Ib(t,r),o=s||fq(t,r,s);if(o&&o.is("model:element"))return t.offset--,this.shallow?(this._position=t,Td("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Td("elementEnd",o,e,t));if(o&&o.is("model:$text")){let a;if(this.singleCharacters)a=1;else{let f=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>f&&(f=this.boundaries.start.offset),a=t.offset-f}const l=t.offset-o.startOffset,d=new Do(o,l-a,a);return t.offset-=a,this._position=t,Td("text",d,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Td("elementStart",i,e,t,1)}}function Td(n,e,t,i,r){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:r}}}class xe extends ju{root;path;stickiness;constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new z("model-position-root-invalid",e);if(!Array.isArray(t)||t.length===0)throw new z("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)throw new z("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new z("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ib(this,this.parent)}get nodeAfter(){const e=this.parent;return dq(this,e,Ib(this,e))}get nodeBefore(){const e=this.parent;return fq(this,e,Ib(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChildAtOffset(this.path[t]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=yr(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Kl(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=yr(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const r=this.path[i]-e.path[i];if(r<-1||r>1)return!1;if(r===1)return Y3(e,this,i);if(r===-1)return Y3(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?cI(this.path,t):cI(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return yr(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=xe._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this);let r;return i?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?r=xe._createAt(e.deletionPosition):r=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,t){const i=xe._createAt(this);if(this.root!=e.root)return i;if(yr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(yr(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;i.path[r]-=t}}return i}_getTransformedByInsertion(e,t){const i=xe._createAt(this);if(this.root!=e.root)return i;if(yr(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(yr(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(i.path[r]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return xe._createAt(this);const r=this._getTransformedByDeletion(e,i);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):r._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,r=xe._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-e.offset,r.path=[...r.path,...this.path.slice(i+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e.is("model:position"))return new xe(e.root,e.path,e.stickiness);{const r=e;if(t=="end")t=r.maxOffset;else{if(t=="before")return this._createBefore(r,i);if(t=="after")return this._createAfter(r,i);if(t!==0&&!t)throw new z("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new z("model-position-parent-incorrect",[this,e]);const s=r.getPath();return s.push(t),new this(r.root,s,i)}}static _createAfter(e,t){if(!e.parent)throw new z("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new z("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new xe(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new z("model-position-fromjson-no-root",t,{rootName:e.root});return new xe(t.getRoot(e.root),e.path,e.stickiness)}}xe.prototype.is=function(n){return n==="position"||n==="model:position"};function Ib(n,e){const t=e.getChildAtOffset(n.offset);return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function dq(n,e,t){return t!==null?null:e.getChildAtOffset(n.offset)}function fq(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function Y3(n,e,t){return!(t+1===n.path.length||!cI(e.path,t+1)||!tTe(n,t+1))}function cI(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function tTe(n,e){let t=n.parent,i=n.path.length-1,r=0;for(;i>=e;){if(n.path[i]+r!==t.maxOffset)return!1;r=1,i--,t=t.parent}return!0}class ae extends ju{start;end;constructor(e,t){super(),this.start=xe._createAt(e),this.end=t?xe._createAt(t):xe._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Kl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return yr(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}containsItem(e){const t=xe._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ae(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ae(e.end,this.end))):t.push(new ae(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ae(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let r=this.start,s=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(s)&&(s=e.end),new ae(r,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=xe._createAt(this.start);let r=i.parent;for(;i.path.length>t+1;){const s=r.maxOffset-i.offset;s!==0&&e.push(new ae(i,i.getShiftedBy(s))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){const s=this.end.path[i.path.length-1],o=s-i.offset;o!==0&&e.push(new ae(i,i.getShiftedBy(o))),i.offset=s,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Kl(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Kl(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Kl(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ae(this.start,this.end)]}getTransformedByOperations(e){const t=[new ae(this.start,this.end)];for(const i of e)for(let r=0;r<t.length;r++){const s=t[r].getTransformedByOperation(i);t.splice(r,1,...s),r+=s.length-1}for(let i=0;i<t.length;i++){const r=t[i];for(let s=i+1;s<t.length;s++){const o=t[s];(r.containsRange(o)||o.containsRange(r)||r.isEqual(o))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,r=e.howMany,s=e.targetPosition;return this._getTransformedByMove(i,s,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new ae(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ae(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=xe._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new ae(t,i)):new ae(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new ae(this.start,e),new ae(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const r=new ae(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,t),r.end=r.end._getTransformedByInsertion(e,t),[r]}}_getTransformedByMove(e,t,i,r=!1){if(this.isCollapsed){const m=this.start._getTransformedByMove(e,t,i);return[new ae(m)]}const s=ae._createFromPositionAndShift(e,i),o=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!r&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const m=this.start._getTransformedByMove(e,t,i),p=this.end._getTransformedByMove(e,t,i);return[new ae(m,p)]}let a;const l=this.getDifference(s);let d=null;const f=this.getIntersection(s);if(l.length==1?d=new ae(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):l.length==2&&(d=new ae(this.start,this.end._getTransformedByDeletion(e,i))),d?a=d._getTransformedByInsertion(o,i,f!==null||r):a=[],f){const m=new ae(f.start._getCombined(s.start,o),f.end._getCombined(s.start,o));a.length==2?a.splice(1,0,m):a.push(m)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return i==null&&r==null?null:(i==null&&(i=e),r==null&&(r=e),new ae(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return new this(xe._createAt(e,0),xe._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(xe._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new z("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,o)=>s.start.isAfter(o.start)?1:-1);const i=e.indexOf(t),r=new this(t.start,t.end);for(let s=i-1;s>=0&&e[s].end.isEqual(r.start);s--)r.start=xe._createAt(e[s].start);for(let s=i+1;s<e.length&&e[s].start.isEqual(r.end);s++)r.end=xe._createAt(e[s].end);return r}static fromJSON(e,t){return new this(xe.fromJSON(e.start,t),xe.fromJSON(e.end,t))}}ae.prototype.is=function(n){return n==="range"||n==="model:range"};class hq extends hn(){_modelToViewMapping=new WeakMap;_viewToModelMapping=new WeakMap;_viewToModelLengthCallbacks=new Map;_markerNameToElements=new Map;_elementToMarkerNames=new Map;_deferredBindingRemovals=new Map;_unboundMarkerNames=new Set;_cache=new nTe;constructor(){super(),this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new z("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(i),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=xe._createAt(r,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)&&this._cache.stopTracking(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ae(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const r of t)if(r.is("attributeElement"))for(const s of r.getElementsWithSameId())i.add(s);else i.add(r);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){const s=this._toModelOffset(e.parent,e.index,i),o=this._toModelOffset(e,t,e);return s+o}if(e.is("$text"))return t;let r=0;for(let s=0;s<t;s++)r+=this.getModelLength(e.getChild(s));return r}getModelLength(e){const t=[e];let i=0;for(;t.length>0;){const r=t.pop(),s=r.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(r.name);if(s)i+=s(r);else if(this._viewToModelMapping.has(r))i+=1;else if(r.is("$text"))i+=r.data.length;else{if(r.is("uiElement"))continue;for(const o of r.getChildren())t.push(o)}}return i}findPositionIn(e,t){if(t===0)return this._moveViewPositionToTextNode(new Ve(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const r=this._cache.getClosest(e,t);return this._findPositionStartingFrom(r.viewPosition,r.modelOffset,t,e,!0)}else return this._findPositionStartingFrom(new Ve(e,0),0,t,e,!1)}_findPositionStartingFrom(e,t,i,r,s){let o=e.parent,a=e.offset;if(o.is("$text"))return new Ve(o,i-t);let l,d=t,f=0;for(;d<i;){if(l=o.getChild(a),!l){if(o==r)throw new z("mapping-model-offset-not-found",this,{modelOffset:i,viewContainer:r});a=o.parent.getChildIndex(o)+1,o=o.parent,s&&this._cache.save(o,a,r,d);continue}s?f=this._getModelLengthAndCache(l,r,d):f=this.getModelLength(l),d+=f,a++}let m=new Ve(o,a);if(s)for(;m.isAtEnd&&m.parent!==r&&m.parent.parent;){const p=m.parent.parent,w=p.getChildIndex(m.parent)+1;this._cache.save(p,w,r,d),m=new Ve(p,w)}return d==i?this._moveViewPositionToTextNode(m):this._findPositionStartingFrom(new Ve(l,0),d-f,i,r,s)}_getModelLengthAndCache(e,t,i){let r=0;if(this._viewToModelMapping.has(e))r=1;else if(e.is("$text"))r=e.data.length;else if(!e.is("uiElement"))for(const s of e.getChildren())r+=this._getModelLengthAndCache(s,t,i+r);return this._cache.save(e.parent,e.index+1,t,i+r),r}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t&&t.is("view:$text")?new Ve(t,t.data.length):i&&i.is("view:$text")?new Ve(i,0):e}}class nTe extends hn(){_cachedMapping=new WeakMap;_nodeToCacheListIndex=new WeakMap;_invalidateOnChildrenChangeCallback=(e,t,i)=>{this._clearCacheInsideParent(t,i.index)};_invalidateOnTextChangeCallback=(e,t)=>{this._clearCacheAfter(t)};save(e,t,i,r){const s=this._cachedMapping.get(i),o=s.cacheMap.get(r);if(o){const f=e.getChild(t-1),m=o.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(o.viewPosition.nodeBefore):0;this._nodeToCacheListIndex.set(f,m);return}const l={viewPosition:new Ve(e,t),modelOffset:r};s.maxModelOffset=r>s.maxModelOffset?r:s.maxModelOffset,s.cacheMap.set(r,l);let d=s.cacheList.length-1;for(;d>=0&&s.cacheList[d].modelOffset>r;)d--;if(s.cacheList.splice(d+1,0,l),t>0){const f=e.getChild(t-1);this._nodeToCacheListIndex.set(f,d+1)}}getClosest(e,t){const i=this._cachedMapping.get(e);let r;if(i)if(t>i.maxModelOffset)r=i.cacheList[i.cacheList.length-1];else{const s=i.cacheMap.get(t);s?r=s:r=this._findInCacheList(i.cacheList,t)}else r=this.startTracking(e);return{modelOffset:r.modelOffset,viewPosition:r.viewPosition.clone()}}startTracking(e){const i={viewPosition:new Ve(e,0),modelOffset:0},r={maxModelOffset:0,cacheList:[i],cacheMap:new Map([[0,i]])};return this._cachedMapping.set(e,r),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),i}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,t){if(t==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheInsideParent(e.parent,e.index);else{const i=e.getChild(t-1);this._clearCacheAfter(i)}}_clearCacheAll(e){const t=this._cachedMapping.get(e);t.maxModelOffset>0&&(t.maxModelOffset=0,t.cacheList.length=1,t.cacheMap.clear(),t.cacheMap.set(0,t.cacheList[0]))}_clearCacheAfter(e){const t=this._nodeToCacheListIndex.get(e);if(t===void 0){const r=e.parent;this._cachedMapping.has(r)||this._clearCacheInsideParent(r.parent,r.index);return}let i=e.parent;for(;!this._cachedMapping.has(i);)i=i.parent;this._clearCacheFromCacheIndex(i,t)}_clearCacheFromCacheIndex(e,t){t===0&&(t=1);const i=this._cachedMapping.get(e),r=i.cacheList[t-1];if(!r)return;i.maxModelOffset=r.modelOffset;const s=i.cacheList.splice(t);for(const o of s){i.cacheMap.delete(o.modelOffset);const a=o.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(a)}}_findInCacheList(e,t){let i=0,r=e.length-1,s=r-i>>1,o=e[s];for(;i<r;)o.modelOffset<t?i=s+1:r=s-1,s=i+(r-i>>1),o=e[s];return o.modelOffset<=t?o:e[s-1]}}class iTe{_consumable=new Map;_textProxyRegistry=new Map;add(e,t){t=B_(t),e instanceof Do&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=B_(t),e instanceof Do&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=B_(t),e instanceof Do&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const r=i.get(t);return r===void 0?null:r}revert(e,t){t=B_(t),e instanceof Do&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[i,r]of this._consumable)for(const[s,o]of r){const a=s.split(":")[0];o&&e==a&&t.push({event:s,item:i.name||i.description})}if(t.length)throw new z("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const r=i.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,r=e.parent,s=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(r,s),s}}function B_(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}class mq extends hn(){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const r=this._createConversionApi(i,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,r);const s=this._reduceChanges(e.getChanges());for(const o of s)o.type==="insert"?this._convertInsert(ae._createFromPositionAndShift(o.position,o.length),r):o.type==="reinsert"?this._convertReinsert(ae._createFromPositionAndShift(o.position,o.length),r):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,r):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const o of r.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,r),this._convertMarkerAdd(o,a,r)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,i,r={}){const s=this._createConversionApi(i,void 0,r);this._convertInsert(e,s);for(const[o,a]of t)this._convertMarkerAdd(o,a,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const r=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},r);const s=e.getFirstPosition().root;if(!r.mapper.toViewElement(s))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,o),this.fire("selection",{selection:e},r),!!e.isCollapsed){for(const a of o)if(r.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!rTe(e.getFirstPosition(),a,r.mapper))continue;const d={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,d,r)}for(const a of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const r of e.getWalker({shallow:!0}))this._testAndFire("insert",K3(r),t)}_convertRemove(e,t,i,r){this.fire(`remove:${i}`,{position:e,length:t},r)}_convertAttribute(e,t,i,r,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:ae._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:i,attributeNewValue:r};this._testAndFire(`attribute:${t}`,a,s)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const r of i.map(K3))this._testAndFire("insert",{...r,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(i.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,r)){this._addConsumablesForRange(i.consumable,t,r);for(const s of t.getItems()){if(!i.consumable.test(s,r))continue;const o={item:s,range:ae._createOn(s),markerName:e,markerRange:t};this.fire(r,o,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const r=i.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const s of r.getAttributeKeys())e.add(r,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,i){for(const r of t.getItems())e.add(r,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const r of i)e.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,i){const r=sTe(e,t),s=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(i),a=o.get(s);if(!a)o.set(s,new Set([r]));else if(!a.has(r))a.add(r);else return;this.fire(r,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:ae._createOn(e)};for(const r of i.item.getAttributeKeys())i.attributeKey=r,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(r),this._testAndFire(`attribute:${r}`,i,t)}_createConversionApi(e,t=new Set,i={}){const r={...this._conversionApi,consumable:new iTe,writer:e,options:i,convertItem:s=>this._convertInsert(ae._createOn(s),r),convertChildren:s=>this._convertInsert(ae._createIn(s),r,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,r),canReuseView:s=>!t.has(r.mapper.toModelElement(s))};return this._firedEventsMap.set(r,new Map),r}}function rTe(n,e,t){const i=e.getRange(),r=Array.from(n.getAncestors());return r.shift(),r.reverse(),!r.some(o=>{if(i.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function sTe(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function K3(n){return{item:n.item,range:ae._createFromPositionAndShift(n.previousPosition,n.length)}}class Of extends ju{parent=null;_attrs;_index=null;_startOffset=null;constructor(e){super(),this._attrs=$o(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let s=0;for(;i[s]==r[s]&&i[s];)s++;return s===0?null:i[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=yr(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=$o(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Of.prototype.is=function(n){return n==="node"||n==="model:node"};class As extends hn(ju){_lastRangeBackward=!1;_attrs=new Map;_ranges=[];constructor(...e){super(),e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ae(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new ae(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new ae(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof As)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ae)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof xe)this._setRanges([new ae(t)]);else if(t instanceof Of){const s=!!r&&!!r.backward;let o;if(i=="in")o=ae._createIn(t);else if(i=="on")o=ae._createOn(t);else if(i!==void 0)o=new ae(xe._createAt(t,i));else throw new z("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],s)}else if(Rs(t))this._setRanges(t,r&&!!r.backward);else throw new z("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const i=Array.from(e),r=i.some(s=>{if(!(s instanceof ae))throw new z("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(s))});i.length===this._ranges.length&&!r||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new z("model-selection-setfocus-no-ranges",[this,e]);const i=xe._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(r)=="before"?(this._pushRange(new ae(i,r)),this._lastRangeBackward=!0):(this._pushRange(new ae(r,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=q3(t.start,e);aTe(i,t)&&(yield i);const r=t.getWalker();for(const o of r){const a=o.item;o.type=="elementEnd"&&oTe(a,e,t)?yield a:o.type=="elementStart"&&a.is("model:element")&&a.root.document.model.schema.isBlock(a)&&r.jumpTo(xe._createAt(a,"end"))}const s=q3(t.end,e);lTe(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=xe._createAt(e,0),i=xe._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ae(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new z("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}As.prototype.is=function(n){return n==="selection"||n==="model:selection"};function gq(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function oTe(n,e,t){return gq(n,e)&&t5(n,t)}function q3(n,e){const i=n.parent.root.document.model.schema,r=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const o=r.find(a=>s?!1:(s=i.isLimit(a),!s&&gq(a,e)));return r.forEach(a=>e.add(a)),o}function t5(n,e){const t=cTe(n);return t?!e.containsRange(ae._createOn(t),!0):!0}function aTe(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(xe._createAt(n,n.maxOffset))?!1:t5(n,e):!1}function lTe(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(xe._createAt(n,0))?!1:t5(n,e):!1}function cTe(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class Dr extends hn(ae){constructor(e,t){super(e,t),uTe.call(this)}detach(){this.stopListening()}toRange(){return new ae(this.start,this.end)}static fromRange(e){return new Dr(e.start,e.end)}}Dr.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function uTe(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&dTe.call(this,t)},{priority:"low"})}function dTe(n){const e=this.getTransformedByOperation(n),t=ae._createFromRanges(e),i=!t.isEqual(this),r=fTe(this,n);let s=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?s=n.sourcePosition:s=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:s})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function fTe(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}class In extends Of{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new In(this.data,this.getAttributes())}static fromJSON(e){return new In(e.data,e.attributes)}}In.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};const fv="selection:";class Wo extends hn(ju){_selection;constructor(e){super(),this._selection=new hTe(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return fv+e}static _isStoreAttributeKey(e){return e.startsWith(fv)}}Wo.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class hTe extends As{markers=new hi({idProperty:"name"});_model;_document;_attributePriority=new Map;_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=new Set;_observedMarkers=new Set;constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const r=i[0];!r.isDocumentOperation||r.type=="marker"||r.type=="rename"||r.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,r,s)=>{this._updateMarker(i,s)}),this.listenTo(this._document,"change",(t,i)=>{mTe(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Xi();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new z("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new z("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Dr.fromRange(e);return t.on("change:range",(i,r,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const r of this._model.markers){const s=r.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const o=r.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(r)}const i=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let r=!1;const s=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),r=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),r=!0):!a&&o&&(this.markers.remove(e),r=!0)}r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=$o(this._getSurroundingAttributes()),i=$o(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,o]of this._attributePriority)o=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const r=[];for(const[s,o]of this.getAttributes())(!i.has(s)||i.get(s)!==o)&&r.push(s);for(const[s]of i)this.hasAttribute(s)||r.push(s);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,i=!0){const r=i?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[i,r]of this.getAttributes())e.get(i)!==r&&this._removeAttribute(i,!1);for(const[i,r]of e)this._setAttribute(i,r,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(fv)&&(yield[t.substr(fv.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=Zp(r,t)),i||(i=Zp(s,t)),!this.isGravityOverridden&&!i){let o=r;for(;o&&!i;)o=o.previousSibling,i=Zp(o,t)}if(!i){let o=s;for(;o&&!i;)o=o.nextSibling,i=Zp(o,t)}i||(i=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const s of r){if(s.item.is("element")&&t.isObject(s.item)){i=Zp(s.item,t);break}if(s.type=="text"){i=s.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function Zp(n,e){if(!n)return null;if(n instanceof Do||n instanceof In)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,r]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,r]);return t}function mTe(n,e){const t=n.document.differ;for(const i of t.getChanges()){if(i.type!="insert")continue;const r=i.position.parent;i.length===r.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(r.getAttributeKeys()).filter(l=>l.startsWith(fv));for(const l of a)o.removeAttribute(l,r)})}}class Pb{_nodes=[];_offsetToNode=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new z("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const t=this._offsetToNode[e];if(!t)throw new z("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(t)}_insertNodes(e,t){const i=[];for(const s of t){if(!(s instanceof Of))throw new z("model-nodelist-insertnodes-not-node",this);i.push(s)}let r=this.indexToOffset(e);O3(this._nodes,i,e),O3(this._offsetToNode,gTe(i),r);for(let s=e;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=r,r+=this._nodes[s].offsetSize}_removeNodes(e,t=1){if(t==0)return[];let i=this.indexToOffset(e);const r=this._nodes.splice(e,t),s=r[r.length-1],o=s.startOffset+s.offsetSize-i;this._offsetToNode.splice(i,o);for(const a of r)a._index=null,a._startOffset=null;for(let a=e;a<this._nodes.length;a++)this._nodes[a]._index=a,this._nodes[a]._startOffset=i,i+=this._nodes[a].offsetSize;return r}_removeNodesArray(e){if(e.length==0)return;for(const i of e)i._index=null,i._startOffset=null;this._nodes=this._nodes.filter(i=>i.index!==null),this._offsetToNode=this._offsetToNode.filter(i=>i.index!==null);let t=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i]._index=i,this._nodes[i]._startOffset=t,t+=this._nodes[i].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}function gTe(n){const e=[];let t=0;for(const i of n)for(let r=0;r<i.offsetSize;r++)e[t++]=i;return e}class wn extends Of{name;_children=new Pb;constructor(e,t,i){super(t),this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?bTe(this._children):void 0;return new wn(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=pTe(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(wn.fromJSON(i)):t.push(In.fromJSON(i))}return new wn(e.name,e.attributes,t)}}wn.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function pTe(n){if(typeof n=="string")return[new In(n)];Rs(n)||(n=[n]);const e=[];for(const t of n)typeof t=="string"?e.push(new In(t)):t instanceof Do?e.push(new In(t.data,t.getAttributes())):e.push(t);return e}function bTe(n){const e=[];for(const t of n)e.push(t._clone(!0));return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class pq{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class vTe extends pq{elementToElement(e){return this.add(BTe(e))}elementToStructure(e){return this.add(VTe(e))}attributeToElement(e){return this.add(LTe(e))}attributeToAttribute(e){return this.add(FTe(e))}markerToElement(e){return this.add(zTe(e))}markerToHighlight(e){return this.add(UTe(e))}markerToData(e){return this.add(jTe(e))}}function bq(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const i=t.writer,r=t.mapper.toViewPosition(e.range.start),s=i.createText(e.item.data);i.insert(r,s)}}function vq(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function wTe(){return(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),s=t.mapper.toViewPosition(r,{isPhantom:!0}),o=t.writer.createRange(i,s),a=t.writer.remove(o.getTrimmed());for(const l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function wq(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function yTe(){return(n,e,t)=>{const i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;const r=[];for(const s of i.getRanges())r.push(t.mapper.toViewRange(s));t.writer.setSelection(r,{backward:i.isBackward})}}function _Te(){return(n,e,t)=>{const i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;const r=t.writer,s=i.getFirstPosition(),o=t.mapper.toViewPosition(s),a=r.breakAttributes(o);r.setSelection(a)}}function ATe(){return(n,e,t)=>{const i=t.writer,r=i.document.selection;for(const s of r.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&t.writer.mergeAttributes(s.start);i.setSelection(null)}}function kTe(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const r=n(t.attributeOldValue,i,t),s=n(t.attributeNewValue,i,t);if(!r&&!s)return;i.consumable.consume(t.item,e.name);const o=i.writer,a=o.document.selection;if(t.item instanceof As||t.item instanceof Wo)o.wrap(a.getFirstRange(),s);else{let l=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&r&&(l=o.unwrap(l,r)),t.attributeNewValue!==null&&s&&o.wrap(l,s)}}}function xTe(n,e=qTe){return(t,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;const s=n(i.item,r,i);if(!s)return;e(i.item,r.consumable);const o=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,s),r.writer.insert(o,s),r.convertAttributes(i.item),xq(s,i.item.getChildren(),r,{reconversion:i.reconversion})}}function CTe(n,e){return(t,i,r)=>{if(!e(i.item,r.consumable,{preflight:!0}))return;const s=new Map;r.writer._registerSlotFactory(WTe(i.item,s,r));const o=n(i.item,r,i);if(r.writer._clearSlotFactory(),!o)return;GTe(i.item,s,r),e(i.item,r.consumable);const a=r.mapper.toViewPosition(i.range.start);r.mapper.bindElements(i.item,o),r.writer.insert(a,o),r.convertAttributes(i.item),YTe(o,s,r,{reconversion:i.reconversion})}}function STe(n){return(e,t,i)=>{t.isOpening=!0;const r=n(t,i);t.isOpening=!1;const s=n(t,i);if(!r||!s)return;const o=t.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const d of o)if(!i.consumable.consume(d.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),r),i.mapper.bindElementToMarker(r,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),s),i.mapper.bindElementToMarker(s,t.markerName)),e.stop()}}function ETe(){return(n,e,t)=>{const i=t.mapper.markerNameToElements(e.markerName);if(i){for(const r of i)t.mapper.unbindElementFromMarkerName(r,e.markerName),t.writer.clear(t.writer.createRangeOn(r),r);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function TTe(n){return(e,t,i)=>{const r=n(t.markerName,i);if(!r)return;const s=t.markerRange;i.consumable.consume(s,e.name)&&(Z3(s,!1,i,t,r),Z3(s,!0,i,t,r),e.stop())}}function Z3(n,e,t,i,r){const s=e?n.start:n.end,o=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,a=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(o||a){let d,f;e&&o||!e&&!a?(d=o,f=!0):(d=a,f=!1);const m=t.mapper.toViewElement(d);if(m){ITe(m,e,f,t,i,r);return}}const l=t.mapper.toViewPosition(s);PTe(l,e,t,i,r)}function ITe(n,e,t,i,r,s){const o=`data-${s.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(s.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,r.markerName)}function PTe(n,e,t,i,r){const s=`${r.group}-${e?"start":"end"}`,o=r.name?{name:r.name}:null,a=t.writer.createUIElement(s,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function RTe(n){return(e,t,i)=>{const r=n(t.markerName,i);if(!r)return;const s=i.mapper.markerNameToElements(t.markerName);if(!s)return;for(const a of s)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${r.group}-start-before`,a),o(`data-${r.group}-start-after`,a),o(`data-${r.group}-end-before`,a),o(`data-${r.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const d=new Set(l.getAttribute(a).split(","));d.delete(r.name),d.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(d).join(","),l)}}}}function OTe(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const r=n(t.attributeOldValue,i,t),s=n(t.attributeNewValue,i,t);if(!r&&!s)return;i.consumable.consume(t.item,e.name);const o=i.mapper.toViewElement(t.item),a=i.writer;if(!o)throw new z("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&r){let l=r.value;r.key=="style"&&(typeof r.value=="string"?l=new vm(a.document.stylesProcessor).setTo(r.value).getStylesEntries().map(([d])=>d):l=Object.keys(r.value)),a.removeAttribute(r.key,l,o)}if(t.attributeNewValue!==null&&s){let l=s.value;s.key=="style"&&typeof s.value=="string"&&(l=Object.fromEntries(new vm(a.document.stylesProcessor).setTo(s.value).getStylesEntries())),a.setAttribute(s.key,l,!1,o)}}}function DTe(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof As||t.item instanceof Wo)&&!t.item.is("$textProxy"))return;const r=n5(n,t,i);if(!r||!i.consumable.consume(t.item,e.name))return;const s=i.writer,o=wq(s,r),a=s.document.selection;if(t.item instanceof As||t.item instanceof Wo)s.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(t.range),d=s.wrap(l,o);for(const f of d.getItems())if(f.is("attributeElement")&&f.isSimilar(o)){i.mapper.bindElementToMarker(f,t.markerName);break}}}}function NTe(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof wn))return;const r=n5(n,t,i);if(!r||!i.consumable.test(t.item,e.name))return;const s=i.mapper.toViewElement(t.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(const a of ae._createIn(t.item))i.consumable.consume(a.item,e.name);s.getCustomProperty("addHighlight")(s,r,i.writer),i.mapper.bindElementToMarker(s,t.markerName)}}}function MTe(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;const r=n5(n,t,i);if(!r)return;const s=wq(i.writer,r),o=i.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),s):a.getCustomProperty("removeHighlight")(a,r.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function BTe(n){const e=yq(n.model),t=hv(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,xTe(t,kq(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",Aq(e),{priority:"low"})}}function VTe(n){const e=yq(n.model),t=hv(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new z("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,CTe(t,kq(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",Aq(e),{priority:"low"})}}function LTe(n){n=Lr(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const r of e.values)n.view[r]=hv(n.view[r],"attribute");else n.view=hv(n.view,"attribute");const i=_q(n);return r=>{r.on(t,kTe(i),{priority:n.converterPriority||"normal"})}}function FTe(n){n=Lr(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const r of e.values)n.view[r]=Q3(n.view[r]);else n.view=Q3(n.view);const i=_q(n);return r=>{r.on(t,OTe(i),{priority:n.converterPriority||"normal"})}}function zTe(n){const e=hv(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,STe(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,ETe(),{priority:n.converterPriority||"normal"})}}function jTe(n){n=Lr(n);const e=n.model;let t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,TTe(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,RTe(t),{priority:n.converterPriority||"normal"})}}function UTe(n){return e=>{e.on(`addMarker:${n.model}`,DTe(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,NTe(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,MTe(n.view),{priority:n.converterPriority||"normal"})}}function yq(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?Jt(n.attributes):[],children:!!n.children}}function hv(n,e){return typeof n=="function"?n:(t,i)=>$Te(n,i,e)}function $Te(n,e,t){typeof n=="string"&&(n={name:n});let i;const r=e.writer,s=Object.assign({},n.attributes);if(t=="container")i=r.createContainerElement(n.name,s);else if(t=="attribute"){const o={priority:n.priority||wm.DEFAULT_PRIORITY};i=r.createAttributeElement(n.name,s,o)}else i=r.createUIElement(n.name,s);if(n.styles){const o=Object.keys(n.styles);for(const a of o)r.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")r.addClass(o,i);else for(const a of o)r.addClass(a,i)}return i}function _q(n){return n.model.values?(e,t,i)=>{const r=n.view[e];return r?r(e,t,i):null}:n.view}function Q3(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function n5(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function HTe(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function Aq(n){const e=HTe(n);return(t,i)=>{const r=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const s of i.changes){const o=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!o||!e(o,s)){r.push(s);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=xe._createBefore(o);let l=r.length;for(let d=r.length-1;d>=0;d--){const f=r[d],p=(f.type=="attribute"?f.range.start:f.position).compareWith(a);if(p=="before"||f.type=="remove"&&p=="same")break;l=d}r.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=r}}function kq(n){return(e,t,i={})=>{const r=["insert"];for(const s of n.attributes)e.hasAttribute(s)&&r.push(`attribute:${s}`);return r.every(s=>t.test(e,s))?(i.preflight||r.forEach(s=>t.consume(e,s)),!0):!1}}function WTe(n,e,t){return(i,r)=>{const s=i.createContainerElement("$slot");let o=null;if(r==="children")o=Array.from(n.getChildren());else if(typeof r=="function")o=Array.from(n.getChildren()).filter(a=>r(a));else throw new z("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:r});return e.set(s,o),s}}function GTe(n,e,t){const i=Array.from(e.values()).flat(),r=new Set(i);if(r.size!=i.length)throw new z("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(r.size!=n.childCount)throw new z("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function YTe(n,e,t,i){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let r=null,s=null;for([r,s]of e)xq(n,s,t,i),t.writer.move(t.writer.createRangeIn(r),t.writer.createPositionBefore(r)),t.writer.remove(r);t.mapper.off("modelToViewPosition",o);function o(a,l){const d=l.modelPosition.nodeAfter,f=s.indexOf(d);f<0||(l.viewPosition=l.mapper.findPositionIn(r,f))}}function xq(n,e,t,i){for(const r of e)KTe(n.root,r,t,i)||t.convertItem(r)}function KTe(n,e,t,i){const{writer:r,mapper:s}=t;if(!i.reconversion)return!1;const o=s.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(r.move(r.createRangeOn(o),s.toViewPosition(xe._createBefore(e))),!0)}function qTe(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cq(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function Sq(n,e,t){const i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function Eq(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}class ZTe extends pq{elementToElement(e){return this.add(Tq(e))}elementToAttribute(e){return this.add(XTe(e))}attributeToAttribute(e){return this.add(eIe(e))}elementToMarker(e){return this.add(tIe(e))}dataToMarker(e){return this.add(nIe(e))}}function J3(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:r}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=r}}}function QTe(){return(n,e,{schema:t,consumable:i,writer:r})=>{let s=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(s,"$text")){if(!Sq(s,"$text",t)||e.viewItem.data.trim().length==0)return;s=Eq(s,r)}i.consume(e.viewItem);const o=r.createText(e.viewItem.data);r.insert(o,s),e.modelRange=r.createRange(s,s.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function JTe(n,e){return(t,i)=>{const r=i.newSelection,s=[];for(const a of r.getRanges())s.push(e.toModelRange(a));const o=n.createSelection(s,{backward:r.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function Tq(n){n=Lr(n);const e=uI(n),t=i5(n.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:n.converterPriority||"normal"})}}function XTe(n){n=Lr(n),Iq(n);const e=Pq(n,!1),t=i5(n.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:n.converterPriority||"low"})}}function eIe(n){n=Lr(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=sIe(n)),Iq(n,e);const t=Pq(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function tIe(n){const e=lIe(n.model);return Tq({...n,model:e})}function nIe(n){n=Lr(n),n.model||(n.model=r=>r?n.view+":"+r:n.view);const e={view:n.view,model:n.model},t=uI(X3(e,"start")),i=uI(X3(e,"end"));return r=>{r.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),r.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const s=ks.low,o=ks.highest,a=ks.get(n.converterPriority)/o;r.on("element",iIe(e),{priority:s+a})}}function iIe(n){return(e,t,i)=>{const r=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:r+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:r+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:r+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:r+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:r+"-end-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-start-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-end-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:r+"-start-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(r+"-start-before").split(","));function s(o,a){for(const l of a){const d=n.model(l,i),f=i.writer.createElement("$marker",{"data-name":d});i.writer.insert(f,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function i5(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function uI(n){const e=new Fr(n.view);return(t,i,r)=>{const s=e.match(i.viewItem);if(!s)return;const o=s.match;if(o.name=!0,!r.consumable.test(i.viewItem,o))return;const a=rIe(n.model,i.viewItem,r);a&&r.safeInsert(a,i.modelCursor)&&(r.consumable.consume(i.viewItem,o),r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i))}}function rIe(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function sIe(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return e=="class"||e=="style"?i={[e=="class"?"classes":"styles"]:t}:i={attributes:{[e]:t}},n.view.name&&(i.name=n.view.name),n.view=i,e}function Iq(n,e=null){const t=e===null?!0:s=>s.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,r=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:r}}function Pq(n,e){const t=new Fr(n.view);return(i,r,s)=>{if(!r.modelRange&&e)return;const o=t.match(r.viewItem);if(!o||(oIe(n.view,r.viewItem)?o.match.name=!0:delete o.match.name,!s.consumable.test(r.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(r.viewItem,s,r):n.model.value;if(l==null)return;r.modelRange||Object.assign(r,s.convertChildren(r.viewItem,r.modelCursor)),aIe(r.modelRange,{key:a,value:l},e,s)&&(s.consumable.test(r.viewItem,{name:!0})&&(o.match.name=!0),s.consumable.consume(r.viewItem,o.match))}}function oIe(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!i5(t)?!1:!t.classes&&!t.attributes&&!t.styles}function aIe(n,e,t,i){let r=!1;for(const s of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(s,e.key)&&(r=!0,!s.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,s));return r}function lIe(n){return(e,t)=>{const i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function X3(n,e){const t=(i,r)=>{const s=i.getAttribute("name"),o=n.model(s,r);return r.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}class cIe extends ln(){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new eTe(t),this.mapper=new hq,this.downcastDispatcher=new mq({mapper:this.mapper,schema:e.schema});const i=this.model.document,r=i.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(i.differ,s,o),this.downcastDispatcher.convertSelection(r,s,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",JTe(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",bq(),{priority:"lowest"}),this.downcastDispatcher.on("insert",vq(),{priority:"lowest"}),this.downcastDispatcher.on("remove",wTe(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",ATe()),this.downcastDispatcher.on("selection",yTe(),{priority:"low"}),this.downcastDispatcher.on("selection",_Te(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new nq(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new z("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class uIe extends ln(){_sourceDefinitions={};_attributeProperties=Object.create(null);_customChildChecks=new Map;_customAttributeChecks=new Map;_genericCheckSymbol=Symbol("$generic");_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new ec(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new ec(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new z("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new z("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(e,t):!1}checkAttribute(e,t){const i=this.getDefinition(e.last);if(!i)return!1;const r=this._evaluateAttributeChecks(e,t);return r!==void 0?r:i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof xe){const i=e.nodeBefore,r=e.nodeAfter;if(!(i instanceof wn))throw new z("schema-check-merge-no-element-before",this);if(!(r instanceof wn))throw new z("schema-check-merge-no-element-after",this);return this.checkMerge(i,r)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e,t){const i=t!==void 0?t:this._genericCheckSymbol,r=this._customChildChecks.get(i)||[];r.push(e),this._customChildChecks.set(i,r)}addAttributeCheck(e,t){const i=t!==void 0?t:this._genericCheckSymbol,r=this._customAttributeChecks.get(i)||[];r.push(e),this._customAttributeChecks.set(i,r)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let t;for(e instanceof xe?t=e.parent:t=(e instanceof ae?[e]:Array.from(e.getRanges())).reduce((r,s)=>{const o=s.getCommonAncestor();return r?r.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new In("",e.getAttributes())];return this.checkAttribute(r,t)}else{const i=e.getRanges();for(const r of i)for(const s of r)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=SIe(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ae(e);let i,r;const s=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(i=new Kl({boundaries:ae._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(r=new Kl({boundaries:ae._createIn(s),startPosition:e}));for(const o of CIe(i,r)){const a=o.walker==i?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return ae._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new ae(l.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const r=i.model;for(const[s,o]of Object.entries(t))r.schema.checkAttribute(e,s)&&i.setAttribute(s,o,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))e6(this,i,t);else{const s=ae._createIn(i).getPositions();for(const o of s){const a=o.nodeBefore||o.parent;e6(this,a,t)}}}getAttributesWithProperty(e,t,i){const r={};for(const[s,o]of e.getAttributes()){const a=this.getAttributeProperties(s);a[t]!==void 0&&(i===void 0||i===a[t])&&(r[s]=o)}return r}createContext(e){return new ec(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const s of i)e[s]=dIe(t[s],s);const r=Object.values(e);for(const s of r)fIe(e,s),hIe(e,s),mIe(e,s),gIe(e,s);for(const s of r)pIe(e,s);for(const s of r)bIe(e,s);for(const s of r)vIe(e,s);for(const s of r)yIe(e,s);for(const s of r)_Ie(e,s);this._compiledDefinitions=wIe(e)}_checkContextMatch(e,t){const i=e.last;let r=this._evaluateChildChecks(e,t);if(r=r!==void 0?r:t.allowIn.includes(i.name),!r)return!1;const s=this.getDefinition(i),o=e.trimLast();return s?o.length==0?!0:this._checkContextMatch(o,s):!1}_evaluateChildChecks(e,t){const i=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(t.name)||[];for(const s of[...i,...r]){const o=s(e,t);if(o!==void 0)return o}}_evaluateAttributeChecks(e,t){const i=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(t)||[];for(const s of[...i,...r]){const o=s(e,t);if(o!==void 0)return o}}*_getValidRangesForRange(e,t){let i=e.start,r=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(ae._createIn(s),t)),this.checkAttribute(s,t)||(i.isEqual(r)||(yield new ae(i,r)),i=xe._createAfter(s)),r=xe._createAfter(s);i.isEqual(r)||(yield new ae(i,r))}findOptimalInsertionRange(e,t){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return t=="before"||t=="after"?new ae(xe._createAt(i,t)):ae._createOn(i);const r=sn(e.getSelectedBlocks());if(!r)return new ae(e.focus);if(r.isEmpty)return new ae(xe._createAt(r,0));const s=xe._createAfter(r);return e.focus.isTouching(s)?new ae(s):new ae(xe._createBefore(r))}}class ec{_items;constructor(e){if(e instanceof ec)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(xIe)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ec([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new ec([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function dIe(n,e){const t={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return AIe(n,t),wa(n,t,"allowIn"),wa(n,t,"allowChildren"),wa(n,t,"disallowIn"),wa(n,t,"disallowChildren"),wa(n,t,"allowContentOf"),wa(n,t,"allowWhere"),wa(n,t,"allowAttributes"),wa(n,t,"disallowAttributes"),wa(n,t,"allowAttributesOf"),wa(n,t,"inheritTypesFrom"),kIe(n,t),t}function fIe(n,e){for(const t of e.allowIn){const i=n[t];i?i.allowChildren.add(e.name):e.allowIn.delete(t)}}function hIe(n,e){for(const t of e.allowChildren){const i=n[t];i?i.allowIn.add(e.name):e.allowChildren.delete(t)}}function mIe(n,e){for(const t of e.disallowIn){const i=n[t];i?i.disallowChildren.add(e.name):e.disallowIn.delete(t)}}function gIe(n,e){for(const t of e.disallowChildren){const i=n[t];i?i.disallowIn.add(e.name):e.disallowChildren.delete(t)}}function pIe(n,e){for(const t of e.disallowChildren)e.allowChildren.delete(t);for(const t of e.disallowIn)e.allowIn.delete(t);for(const t of e.disallowAttributes)e.allowAttributes.delete(t)}function bIe(n,e){for(const t of e.allowContentOf){const i=n[t];i&&(i.disallowChildren.forEach(r=>{e.allowChildren.has(r)||(e.disallowChildren.add(r),n[r].disallowIn.add(e.name))}),i.allowChildren.forEach(r=>{e.disallowChildren.has(r)||(e.allowChildren.add(r),n[r].allowIn.add(e.name))}))}}function vIe(n,e){for(const t of e.allowWhere){const i=n[t];i&&(i.disallowIn.forEach(r=>{e.allowIn.has(r)||(e.disallowIn.add(r),n[r].disallowChildren.add(e.name))}),i.allowIn.forEach(r=>{e.disallowIn.has(r)||(e.allowIn.add(r),n[r].allowChildren.add(e.name))}))}}function wIe(n){const e={};for(const t of Object.values(n))e[t.name]={name:t.name,isBlock:!!t.isBlock,isContent:!!t.isContent,isInline:!!t.isInline,isLimit:!!t.isLimit,isObject:!!t.isObject,isSelectable:!!t.isSelectable,allowIn:Array.from(t.allowIn).filter(i=>!!n[i]),allowChildren:Array.from(t.allowChildren).filter(i=>!!n[i]),allowAttributes:Array.from(t.allowAttributes)};return e}function yIe(n,e){for(const t of e.allowAttributesOf){const i=n[t];if(!i)return;i.allowAttributes.forEach(r=>{e.disallowAttributes.has(r)||e.allowAttributes.add(r)})}}function _Ie(n,e){for(const t of e.inheritTypesFrom){const i=n[t];if(i){const r=Object.keys(i).filter(s=>s.startsWith("is"));for(const s of r)s in e||(e[s]=i[s])}}}function AIe(n,e){for(const t of n){const i=Object.keys(t).filter(r=>r.startsWith("is"));for(const r of i)e[r]=!!t[r]}}function wa(n,e,t){for(const i of n){let r=i[t];typeof r=="string"&&(r=[r]),Array.isArray(r)&&r.forEach(s=>e[t].add(s))}}function kIe(n,e){for(const t of n){const i=t.inheritAllFrom;i&&(e.allowContentOf.add(i),e.allowWhere.add(i),e.allowAttributesOf.add(i),e.inheritTypesFrom.add(i))}}function xIe(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*CIe(n,e){let t=!1;for(;!t;){if(t=!0,n){const i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){const i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*SIe(n){for(const e of n)yield*e.getMinimalFlatRanges()}function e6(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}class EIe extends hn(){conversionApi;_splitParts=new Map;_cursorParents=new Map;_modelCursor=null;_emptyElementsToKeep=new Set;constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=IIe(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=FA.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(r){this._removeEmptyElements();const o=this._modelCursor.parent,a=o._removeChildren(0,o.childCount);s._insertChild(0,a),s.markers=TIe(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof ae))throw new z("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:xe._createAt(t,0);const r=new ae(i);for(const s of Array.from(e.getChildren())){const o=this._convertItem(s,i);o.modelRange instanceof ae&&(r.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:r,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){const i=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(i[i.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=r.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:r}=this.conversionApi;let s=i.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return Sq(t,e,i)?{position:Eq(t,r)}:null;const o=this.conversionApi.writer.split(t,s),a=[];for(const d of o.range.getWalker())if(d.type=="elementEnd")a.push(d.item);else{const f=a.pop(),m=d.item;this._registerSplitPair(f,m)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const t of this._splitParts.keys())if(t.isEmpty&&!this._emptyElementsToKeep.has(t)){const i=e.get(t.parent)||[];i.push(t),this._splitParts.delete(t),e.set(t.parent,i)}for(const[t,i]of e)t._removeChildrenArray(i);e.size&&this._removeEmptyElements()}}function TIe(n,e){const t=new Set,i=new Map,r=ae._createIn(n).getItems();for(const s of r)s.is("element","$marker")&&t.add(s);for(const s of t){const o=s.getAttribute("data-name"),a=e.createPositionBefore(s);i.has(o)?i.get(o).end=a.clone():i.set(o,new ae(a.clone())),e.remove(s)}return i}function IIe(n,e){let t;for(const i of new ec(n)){const r={};for(const o of i.getAttributeKeys())r[o]=i.getAttribute(o);const s=e.createElement(i.name,r);t&&e.insert(s,t),t=xe._createAt(s,0)}return t}class PIe{getHtml(e){const i=Re.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class Rq{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new Yk(e,{renderingMode:"data"}),this.htmlWriter=new PIe}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);return i}}class RIe extends hn(){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new hq,this.downcastDispatcher=new mq({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",bq(),{priority:"lowest"}),this.downcastDispatcher.on("insert",vq(),{priority:"lowest"}),this.upcastDispatcher=new EIe({schema:e.schema}),this.viewDocument=new Wk(t),this.stylesProcessor=t,this.htmlProcessor=new Rq(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new e5(this.viewDocument),this.upcastDispatcher.on("text",QTe(),{priority:"lowest"}),this.upcastDispatcher.on("element",J3(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",J3(),{priority:"lowest"}),ln().prototype.decorate.call(this,"init"),ln().prototype.decorate.call(this,"set"),ln().prototype.decorate.call(this,"get"),ln().prototype.decorate.call(this,"toView"),ln().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Cq)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new z("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||vt("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(r,{ignoreWhitespaces:!0})?"":this.stringify(r,e)}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const s=ae._createIn(e),o=new Jd(i);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:OIe(e);return this.downcastDispatcher.convert(s,a,r,t),o}init(e){if(this.model.document.version)throw new z("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new z("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const r of Object.keys(t)){const s=this.model.document.getRoot(r);i.insert(this.parse(t[r],s),s,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new z("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(i)){const o=this.model.document.getRoot(s);r.remove(r.createRangeIn(o)),r.insert(this.parse(i[s],o),o,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function OIe(n){const e=[],t=n.root.document;if(!t)return new Map;const i=ae._createIn(n);for(const r of t.model.markers){const s=r.getRange(),o=s.isCollapsed,a=s.start.isEqual(i.start)||s.end.isEqual(i.end);if(o&&a)e.push([r.name,s]);else{const l=i.getIntersection(s);l&&e.push([r.name,l])}}return e.sort(([r,s],[o,a])=>{if(s.end.compareWith(a.start)!=="after")return 1;if(s.start.compareWith(a.end)!=="before")return-1;switch(s.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(r)}}}),new Map(e)}class DIe{_helpers=new Map;_downcast;_upcast;constructor(e,t){this._downcast=Jt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Jt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new z("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new z("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of QS(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of QS(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of QS(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new z("conversion-group-exists",this);const r=i?new vTe(t):new ZTe(t);this._helpers.set(e,r)}}function*QS(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],r=n.upcastAlso?n.upcastAlso[e]:void 0;yield*t6(t,i,r)}else yield*t6(n.model,n.view,n.upcastAlso)}function*t6(n,e,t){if(yield{model:n,view:e},t)for(const i of Jt(t))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Os{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function r5(n,e){const t=Dq(e),i=t.reduce((o,a)=>o+a.offsetSize,0),r=n.parent;pv(n);const s=n.index;return r._insertChild(s,t),gv(r,s+t.length),gv(r,s),new ae(n,n.getShiftedBy(i))}function Oq(n){if(!n.isFlat)throw new z("operation-utils-remove-range-not-flat",this);const e=n.start.parent;pv(n.start),pv(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return gv(e,n.start.index),t}function mv(n,e){if(!n.isFlat)throw new z("operation-utils-move-range-not-flat",this);const t=Oq(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),r5(e,t)}function NIe(n,e,t){pv(n.start),pv(n.end);for(const i of n.getItems({shallow:!0})){const r=i.is("$textProxy")?i.textNode:i;t!==null?r._setAttribute(e,t):r._removeAttribute(e),gv(r.parent,r.index)}gv(n.end.parent,n.end.index)}function Dq(n){const e=[];function t(i){if(typeof i=="string")e.push(new In(i));else if(i instanceof Do)e.push(new In(i.data,i.getAttributes()));else if(i instanceof Of)e.push(i);else if(Rs(i))for(const r of i)t(r)}t(n);for(let i=1;i<e.length;i++){const r=e[i],s=e[i-1];r instanceof In&&s instanceof In&&Nq(r,s)&&(e.splice(i-1,2,new In(s.data+r.data,s.getAttributes())),i--)}return e}function gv(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&Nq(t,i)){const r=new In(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,r)}}function pv(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,r=e.index;t._removeChildren(r,1);const s=new In(e.data.substr(0,i),e.getAttributes()),o=new In(e.data.substr(i),e.getAttributes());t._insertChild(r,[s,o])}}function Nq(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const r of t){if(r[1]!==e.getAttribute(r[0]))return!1;i.next()}return i.next().done}class Xt extends Os{sourcePosition;howMany;targetPosition;constructor(e,t,i,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName==this.sourcePosition.root.rootName?"move":this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ae._createFromPositionAndShift(this.sourcePosition,this.howMany),ae._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Xt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Xt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,r=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new z("move-operation-nodes-do-not-exist",this);if(e===t&&i<r&&r<i+this.howMany)throw new z("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&yr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=i&&this.targetPosition.path[s]<i+this.howMany)throw new z("move-operation-node-into-itself",this)}}_execute(){mv(ae._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=xe.fromJSON(e.sourcePosition,t),r=xe.fromJSON(e.targetPosition,t);return new this(i,e.howMany,r,e.baseVersion)}}class er extends Os{position;nodes;shouldReceiveAttributes;constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Pb(Dq(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Pb([...this.nodes].map(i=>i._clone(!0))),t=new er(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new xe(e,[0]);return new Xt(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new z("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Pb([...e].map(t=>t._clone(!0))),r5(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const s of e.nodes)s.name?i.push(wn.fromJSON(s)):i.push(In.fromJSON(s));const r=new er(xe.fromJSON(e.position,t),i,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class yn extends Os{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,i,r,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new xe(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ae(this.splitPosition,e)}get affectedSelectable(){const e=[ae._createFromPositionAndShift(this.splitPosition,0),ae._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ae._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new yn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new xe(e,[0]);return new di(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new z("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new z("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new z("split-operation-graveyard-position-invalid",this)}else throw new z("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)mv(ae._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();r5(this.insertionPosition,i)}const t=new ae(xe._createAt(e,this.splitPosition.offset),xe._createAt(e,e.maxOffset));mv(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new xe(e.root,t,"toPrevious")}static fromJSON(e,t){const i=xe.fromJSON(e.splitPosition,t),r=xe.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?xe.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,r,s,e.baseVersion)}}class di extends Os{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,i,r,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new xe(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ae(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ae._createOn(e),ae._createFromPositionAndShift(this.targetPosition,0),ae._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new di(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new xe(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new yn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new z("merge-operation-how-many-invalid",this)}else throw new z("merge-operation-target-position-invalid",this);else throw new z("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=ae._createIn(e);mv(t,this.targetPosition),mv(ae._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=xe.fromJSON(e.sourcePosition,t),r=xe.fromJSON(e.targetPosition,t),s=xe.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,r,s,e.baseVersion)}}class Nr extends Os{name;oldRange;newRange;affectsData;_markers;constructor(e,t,i,r,s,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=s,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Nr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Nr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Nr(e.name,e.oldRange?ae.fromJSON(e.oldRange,t):null,e.newRange?ae.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class yi extends Os{range;key;oldValue;newValue;constructor(e,t,i,r,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new z("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Fm(e.getAttribute(this.key),this.oldValue))throw new z("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new z("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Fm(this.oldValue,this.newValue)||NIe(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yi(ae.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class zi extends Os{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new zi(this.baseVersion)}getReversed(){return new zi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class rs extends Os{position;oldName;newName;constructor(e,t,i,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new rs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new rs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof wn){if(e.name!==this.oldName)throw new z("rename-operation-wrong-name",this)}else throw new z("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new rs(xe.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class tc extends Os{root;key;oldValue;newValue;constructor(e,t,i,r,s){super(s),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new tc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new tc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new z("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new z("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new z("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new z("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new tc(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Da extends Os{rootName;elementName;isAdd;_document;constructor(e,t,i,r,s){if(super(s),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=r,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Da(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Da(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Da(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const uo={};uo[yi.className]=yi;uo[er.className]=er;uo[Nr.className]=Nr;uo[Xt.className]=Xt;uo[zi.className]=zi;uo[Os.className]=Os;uo[rs.className]=rs;uo[tc.className]=tc;uo[Da.className]=Da;uo[yn.className]=yn;uo[di.className]=di;class MIe{static fromJSON(e,t){return uo[e.__className].fromJSON(e,t)}}const dI=new Map;function qt(n,e,t){let i=dI.get(n);i||(i=new Map,dI.set(n,i)),i.set(e,t)}function BIe(n,e){const t=dI.get(n);return t&&t.has(e)?t.get(e):VIe}function VIe(n){return[n]}function n6(n,e,t={}){const i=BIe(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(r){throw r}}function LIe(n,e,t){n=n.slice(),e=e.slice();const i=new FIe(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const r=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:r};const s=new WeakMap;for(const l of n)s.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],d=s.get(l);if(d==e.length){a++;continue}const f=e[d],m=n6(l,f,i.getContext(l,f,!0)),p=n6(f,l,i.getContext(f,l,!1));i.updateRelation(l,f),i.setOriginalOperations(m,l),i.setOriginalOperations(p,f);for(const w of m)s.set(w,d+p.length);n.splice(a,1,...m),e.splice(d,1,...p)}return r6(n),r6(e),i6(n,o.nextBaseVersionB),i6(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:r}}class FIe{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,i||r)}updateRelation(e,t){if(e instanceof Xt)t instanceof di?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)?this._setRelation(e,t,"moveTargetAfter"):e.howMany>1&&e.sourcePosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"firstToMoveMerged"):e.howMany>1&&e.sourcePosition.getShiftedBy(e.howMany-1).isEqual(t.deletionPosition)&&this._setRelation(e,t,"lastToMoveMerged"):t instanceof Xt&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof yn){if(t instanceof di)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Xt)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=ae._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const r=i.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:r,offset:s})}}}else if(e instanceof di)t instanceof di?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof yn?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Xt&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Nr){const i=e.newRange;if(!i)return;if(t instanceof di){const r=i.start.isEqual(t.targetPosition),s=i.start.isEqual(t.deletionPosition),o=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(r||s||o||a)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),r=this._history.getUndoneOperation(i);if(!r)return null;const s=this.originalOperations.get(e),o=this._relations.get(s);return o&&o.get(r)||null}_setRelation(e,t,i){const r=this.originalOperations.get(e),s=this.originalOperations.get(t);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(s,i)}}function i6(n,e){for(const t of n)t.baseVersion=e++}function r6(n){const e=new Map;for(let t=0;t<n.length;t++){const i=n[t];i instanceof Nr&&(i.baseVersion!==-1?e.set(i.name,{op:i,ranges:i.newRange?[i.newRange]:[]}):(i.newRange&&e.get(i.name).ranges.push(i.newRange),n.splice(t,1),t--))}for(const{op:t,ranges:i}of e.values())i.length?t.newRange=ae._createFromRanges(i):t.newRange=null}qt(yi,yi,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(s=>new yi(s,n.key,n.oldValue,n.newValue,0)),r=n.range.getIntersection(e.range);return r&&t.aIsStrong&&i.push(new yi(r,e.key,e.newValue,n.newValue,0)),i.length==0?[new zi(0)]:i}else return[n]});qt(yi,er,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new yi(r,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const r=Mq(e,n.key,n.oldValue);r&&i.unshift(r)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function Mq(n,e,t){const r=n.nodes.getNode(0).getAttribute(e);if(r==t)return null;const s=new ae(n.position,n.position.getShiftedBy(n.howMany));return new yi(s,e,r,t,0)}qt(yi,di,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(ae._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(r=>new yi(r,n.key,n.oldValue,n.newValue,n.baseVersion))});qt(yi,Xt,(n,e)=>zIe(n.range,e).map(i=>new yi(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function zIe(n,e){const t=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,r=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(r=n.getDifference(t),i=n.getIntersection(t)):r=[n];const s=[];for(let o of r){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),d=o._getTransformedByInsertion(a,e.howMany,l);s.push(...d)}return i&&s.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}qt(yi,yn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new ae(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});qt(er,yi,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=Mq(n,e.key,e.newValue);i&&t.push(i)}return t});qt(er,er,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));qt(er,Xt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));qt(er,yn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));qt(er,di,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));qt(Nr,er,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));qt(Nr,Nr,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new zi(0)];return[n]});qt(Nr,di,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));qt(Nr,Xt,(n,e)=>{const t=[n];if(n.oldRange&&(n.oldRange=ae._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){const i=n.newRange._getTransformedByMoveOperation(e);n.newRange=i[0];for(let r=1;r<i.length;r++){const s=n.clone();s.oldRange=null,s.newRange=i[r],s.baseVersion=-1,t.push(s)}}return t});qt(Nr,yn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)?t.abRelation.wasStartBeforeMergedElement?n.newRange.start=xe._createAt(e.insertionPosition):t.abRelation.wasInLeftElement?n.newRange.start=xe._createAt(n.newRange.start):n.newRange.start=xe._createAt(e.moveTargetPosition):n.newRange.start=i.start,n.newRange.end.isEqual(e.splitPosition)?n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=xe._createAt(e.insertionPosition):t.abRelation.wasInRightElement?n.newRange.end=xe._createAt(e.moveTargetPosition):n.newRange.end=xe._createAt(n.newRange.end):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});qt(di,er,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));qt(di,di,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new xe(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new zi(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",r=e.targetPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),d=n.targetPosition._getTransformedByMergeOperation(e);return[new Xt(l,n.howMany,d,0)]}else return[new zi(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});qt(di,Xt,(n,e,t)=>{const i=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new zi(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});qt(di,yn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition)||t.abRelation=="mergeTargetNotMoved"))return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n];if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});qt(Xt,er,(n,e)=>{const i=ae._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});qt(Xt,Xt,(n,e,t)=>{const i=ae._createFromPositionAndShift(n.sourcePosition,n.howMany),r=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s6(n,e)&&s6(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),lm([i],a);if(r.containsPosition(n.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),lm([i],a);const f=yr(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(f=="prefix"||f=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),lm([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?s=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(s=!1);const m=[],p=i.getDifference(r);for(const A of p){A.start=A.start._getTransformedByDeletion(e.sourcePosition,e.howMany),A.end=A.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const x=yr(A.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",S=A._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,x);m.push(...S)}const w=i.getIntersection(r);return w!==null&&s&&(w.start=w.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),w.end=w.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),m.length===0?m.push(w):m.length==1?r.start.isBefore(i.start)||r.start.isEqual(i.start)?m.unshift(w):m.push(w):m.splice(1,0,w)),m.length===0?[new zi(n.baseVersion)]:lm(m,a)});qt(Xt,yn,(n,e,t)=>{let i=n.targetPosition.clone();if((!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e)),n.sourcePosition.isEqual(e.insertionPosition)&&t.abRelation=="firstToMoveMerged")return n.howMany++,n.targetPosition=i,[n];const r=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);if(r.end.isEqual(e.insertionPosition))return(!e.graveyardPosition||t.abRelation=="lastToMoveMerged")&&n.howMany++,n.targetPosition=i,[n];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let a=new ae(e.splitPosition,r.end);a=a._getTransformedBySplitOperation(e);const l=[new ae(r.start,e.splitPosition),a];return lm(l,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(ae._createFromPositionAndShift(e.insertionPosition,1))}return lm(o,i)});qt(Xt,di,(n,e,t)=>{const i=ae._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);const d=n.targetPosition.getTransformedByOperation(e);n.howMany>1&&(o.push(new Xt(n.sourcePosition,n.howMany-1,d,0)),a=a._getTransformedByMove(n.sourcePosition,d,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,d,n.howMany-1));const f=e.deletionPosition._getCombined(n.sourcePosition,d),m=new Xt(a,1,f,0),p=m.getMovedRangeStart().path.slice();p.push(0);const w=new xe(m.targetPosition.root,p);l=l._getTransformedByMove(a,f,1);const A=new Xt(l,e.howMany,w,0);return o.push(m),o.push(A),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new zi(0)]}const s=ae._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=s.start,n.howMany=s.end.offset-s.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});qt(rs,er,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));qt(rs,di,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));qt(rs,Xt,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));qt(rs,rs,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new zi(0)];return[n]});qt(rs,yn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if(yr(t,i)=="same"&&!e.graveyardPosition){const r=new rs(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,r]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});qt(tc,tc,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new zi(0)];n.oldValue=e.newValue}return[n]});qt(Da,Da,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new zi(0)]:[n]);qt(yn,er,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));qt(yn,di,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const r=new xe(e.graveyardPosition.root,i),s=yn.getInsertionPosition(new xe(e.graveyardPosition.root,i)),o=new yn(r,0,s,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=yn.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=yn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});qt(yn,Xt,(n,e,t)=>{const i=ae._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const s=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&s){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const d=new xe(a.root,l);return[new Xt(o,n.howMany,d,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const r=n.splitPosition.isEqual(e.targetPosition);if(r&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=yn.getInsertionPosition(n.splitPosition),[n];if(r&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:o}=t.abRelation;return n.howMany+=s,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const s=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=s,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=yn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=yn.getInsertionPosition(n.splitPosition),[n]});qt(yn,yn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new zi(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new zi(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",r=e.splitPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Xt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Xt(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new zi(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const r=new xe(e.insertionPosition.root,i),s=new Xt(n.insertionPosition,1,r,0);return[n,s]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=yn.getInsertionPosition(n.splitPosition),[n]});function s6(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function lm(n,e){const t=[];for(let i=0;i<n.length;i++){const r=n[i],s=new Xt(r.start,r.end.offset-r.start.offset,e,0);t.push(s);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}class Fn extends hn(xe){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new z("model-liveposition-root-not-rootelement",e);jIe.call(this)}detach(){this.stopListening()}toPosition(){return new xe(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Fn.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function jIe(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&UIe.call(this,t)},{priority:"low"})}function UIe(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Uh{operations;isUndoable;isLocal;isUndo;isTyping;constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},vt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:r=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=r,this.isTyping=s}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}class UA{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=new Map;_elementsSnapshots=new Map;_elementChildrenSnapshots=new Map;_elementState=new Map;_changedMarkers=new Map;_changedRoots=new Map;_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=new Set;constructor(e){this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),r=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),r||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const s=ae._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const o of s.getItems({shallow:!0}))this._setElementState(o,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=ae._createFromPositionAndShift(t.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(i)){const s=r.getData();this.bufferMarkerChange(r.name,s,s)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const i=t.splitPosition.parent;if(!this._isInInsertedElement(i)){this._markRemove(i,t.splitPosition.offset,t.howMany);const r=ae._createFromPositionAndShift(t.splitPosition,t.howMany);for(const s of r.getItems({shallow:!0}))this._setElementState(s,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const r=t.graveyardPosition.parent;this._markInsert(r,t.graveyardPosition.offset,1),this._setElementState(i,"move");const s=t.targetPosition.parent;if(!this._isInInsertedElement(s)){this._markInsert(s,t.targetPosition.offset,i.maxOffset);const o=ae._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const a of o.getItems({shallow:!0}))this._setElementState(a,"move")}break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=i:(r={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,r)),r.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,r=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(i||r||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const r=this._changesInElement.get(i).sort((f,m)=>f.offset===m.offset?f.type!=m.type?f.type=="remove"?-1:1:0:f.offset<m.offset?-1:1),s=this._elementChildrenSnapshots.get(i),o=a6(i.getChildren()),a=$Ie(s.length,r);let l=0,d=0;for(const f of a)if(f==="i"){const m=this._getDiffActionForNode(o[l].node,"insert"),p=this._elementsSnapshots.get(o[l].node),w=this._getInsertDiff(i,l,m,o[l],p);t.push(w),l++}else if(f==="r"){const m=this._getDiffActionForNode(s[d].node,"remove"),p=this._getRemoveDiff(i,l,m,s[d]);t.push(p),d++}else if(f==="a"){const m=s[d].attributes,p=o[l].attributes;let w;if(o[l].name=="$text")w=new ae(xe._createAt(i,l),xe._createAt(i,l+1));else{const x=i.offsetToIndex(l);w=new ae(xe._createAt(i,l),xe._createAt(i.getChild(x),0))}const A=this._getAttributesDiff(w,m,p);t.push(...A),l++,d++}else l++,d++}t.sort((i,r)=>i.position.root!=r.position.root?i.position.root.rootName<r.position.root.rootName?-1:1:i.position.isEqual(r.position)?i.changeCount-r.changeCount:i.position.isBefore(r.position)?-1:1);for(let i=1,r=0;i<t.length;i++){const s=t[r],o=t[i],a=s.type=="remove"&&o.type=="remove"&&s.name=="$text"&&o.name=="$text"&&s.position.isEqual(o.position),l=s.type=="insert"&&o.type=="insert"&&s.name=="$text"&&o.name=="$text"&&s.position.parent==o.position.parent&&s.position.offset+s.length==o.position.offset,d=s.type=="attribute"&&o.type=="attribute"&&s.position.parent==o.position.parent&&s.range.isFlat&&o.range.isFlat&&s.position.offset+s.length==o.position.offset&&s.attributeKey==o.attributeKey&&s.attributeOldValue==o.attributeOldValue&&s.attributeNewValue==o.attributeNewValue;a||l||d?(s.length++,d&&(s.range.end=s.range.end.getShiftedBy(1)),t[i]=null):r=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(HIe),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=ae._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const r=i.getData();this.bufferMarkerChange(i.name,r,r)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const i=t.getData();this.bufferMarkerChange(t.name,{...i,range:null},i)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,r){const s=this._changedRoots.get(e)||{name:e},o=s.attributes||{};if(o[t]){const a=o[t];r===a.oldValue?delete o[t]:a.newValue=r}else o[t]={oldValue:i,newValue:r};Object.entries(o).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=o,this._changedRoots.set(e,s))}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let r=0;r<i.length;r++)i[r].howMany<1&&(i.splice(r,1),r--)}_setElementState(e,t){if(!e.is("element"))return;const i=UA._statesPriority.indexOf(this._elementState.get(e));UA._statesPriority.indexOf(t)>i&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element")||!this._elementsSnapshots.has(e))return t;const i=this._elementState.get(e);return!i||i=="move"?t:i}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=a6(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const i of t)this._elementsSnapshots.set(i.node,i)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const r=e.offset+e.howMany,s=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<s&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<s){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:r,howMany:o-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(r<=i.offset)i.offset-=e.howMany;else if(r<=s)if(e.offset<i.offset){const o=r-i.offset;i.offset=e.offset,i.howMany-=o,e.nodesToHandle-=o}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<s){const o=s-e.offset;i.howMany-=o,e.nodesToHandle-=o}}if(i.type=="remove"&&(r<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(r<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const o=r-i.offset;i.offset=e.offset,i.howMany-=o}else if(e.offset<s)if(r<=s){const o=i.howMany;i.howMany=e.offset-i.offset;const a=o-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=s-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&r>i.offset){if(r>s){const o={type:"attribute",offset:s,howMany:r-s,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<s&&(r>s?(e.nodesToHandle=r-s,e.offset=s):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&r>i.offset){const o={type:"attribute",offset:i.offset,howMany:r-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&r<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&r>=s&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i,r,s){const o={type:"insert",position:xe._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:i};return i!="insert"&&s&&(o.before={name:s.name,attributes:new Map(s.attributes)}),o}_getRemoveDiff(e,t,i,r){return{type:"remove",action:i,position:xe._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const r=[];i=new Map(i);for(const[s,o]of t){const a=i.has(s)?i.get(s):null;a!==o&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(s)}for(const[s,o]of i)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),r=e.startOffset;if(i){for(const s of i)if(s.type=="insert"&&r>=s.offset&&r<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const r=new ae(xe._createAt(e,t),xe._createAt(e,t+i));for(const s of r.getItems({shallow:!0}))s.is("element")&&(this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function o6(n){return{node:n,name:n.is("$text")?"$text":n.name,attributes:new Map(n.getAttributes())}}function a6(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;++i)e.push(o6(t));else e.push(o6(t));return e}function $Ie(n,e){const t=[];let i=0,r=0;for(const s of e){if(s.offset>i){for(let o=0;o<s.offset-i;o++)t.push("e");r+=s.offset-i}if(s.type=="insert"){for(let o=0;o<s.howMany;o++)t.push("i");i=s.offset+s.howMany}else if(s.type=="remove"){for(let o=0;o<s.howMany;o++)t.push("r");i=s.offset,r+=s.howMany}else{if(s.howMany>1500)for(let o=0;o<s.howMany;o++)t.push("a");else t.push(..."a".repeat(s.howMany).split(""));i=s.offset+s.howMany,r+=s.howMany}}if(r<n)for(let s=0;s<n-r-i;s++)t.push("e");return t}function HIe(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class WIe{_operations=[];_undoPairs=new Map;_undoneOperations=new Set;_baseVersionToOperationIndex=new Map;_version=0;_gaps=new Map;get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new z("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let r=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),r>a&&r<l&&(r=a-1);if(r<i.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let o=this._baseVersionToOperationIndex.get(r);return o===void 0&&(o=this._operations.length-1),this._operations.slice(s,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class $A extends wn{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t,i="main"){super(t),this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}$A.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};const l6="$graveyard";class GIe extends hn(){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new WIe,this.selection=new Wo(this),this.roots=new hi({idProperty:"rootName"}),this.differ=new UA(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",l6),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,r,s,o)=>{const a={...i.getData(),range:s};this.differ.bufferMarkerChange(i.name,o,a),r===null&&i.on("change",(l,d)=>{const f=i.getData();this.differ.bufferMarkerChange(i.name,{...f,range:d},f)})}),this.registerPostFixer(t=>{let i=!1;for(const r of this.roots)!r.isAttached()&&!r.isEmpty&&(t.remove(t.createRangeIn(r)),i=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(t.removeMarker(r),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(l6)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new z("model-document-createroot-name-exists",this,{name:t});const i=new $A(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=SK(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,r=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&c6(e.start)&&c6(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function c6(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!KO(t,i)&&!qO(t,i)}return!0}class YIe extends hn(){_markers=new Map;[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof em?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,r=!1){const s=e instanceof em?e.name:e;if(s.includes(","))throw new z("markercollection-incorrect-marker-name",this);const o=this._markers.get(s);if(o){const d=o.getData(),f=o.getRange();let m=!1;return f.isEqual(t)||(o._attachLiveRange(Dr.fromRange(t)),m=!0),i!=o.managedUsingOperations&&(o._managedUsingOperations=i,m=!0),typeof r=="boolean"&&r!=o.affectsData&&(o._affectsData=r,m=!0),m&&this.fire(`update:${s}`,o,f,t,d),o}const a=Dr.fromRange(t),l=new em(s,a,i,r);return this._markers.set(s,l),this.fire(`update:${s}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof em?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const t=e instanceof em?e.name:e,i=this._markers.get(t);if(!i)throw new z("markercollection-refresh-marker-not-exists",this);const r=i.getRange();this.fire(`update:${t}`,i,r,r,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class em extends hn(ju){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,i,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}em.prototype.is=function(n){return n==="marker"||n==="model:marker"};class KIe extends Os{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new z("detach-operation-on-document-node",this)}_execute(){Oq(ae._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Aa extends ju{markers=new Map;_children=new Pb;constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChildAtOffset(i);return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(wn.fromJSON(i)):t.push(In.fromJSON(i));return new Aa(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=qIe(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const t of e)t.parent=null}}Aa.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function qIe(n){return typeof n=="string"?[new In(n)]:(Rs(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new In(e):e instanceof Do?new In(e.data,e.getAttributes()):e))}class ZIe{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new In(e,t)}createElement(e,t){return new wn(e,t)}createDocumentFragment(){return new Aa}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof In&&e.data=="")return;const r=xe._createAt(t,i);if(e.parent)if(f6(e.root,r.root)){this.move(ae._createOn(e),r);return}else{if(e.root.document)throw new z("model-writer-insert-forbidden-move",this);this.remove(e)}const s=r.root.document?r.root.document.version:null,o=e instanceof Aa?e._removeChildren(0,e.childCount):e,a=new er(r,o,s);if(e instanceof In&&(a.shouldReceiveAttributes=!0),this.batch.addOperation(a),this.model.applyOperation(a),e instanceof Aa)for(const[l,d]of e.markers){const f=xe._createAt(d.root,0),p={range:new ae(d.start._getCombined(f,r),d.end._getCombined(f,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,p):this.addMarker(l,p)}}insertText(e,t,i,r){t instanceof Aa||t instanceof wn||t instanceof xe?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,r)}insertElement(e,t,i,r){t instanceof Aa||t instanceof wn||t instanceof xe?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof Aa||t instanceof wn?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof Aa||t instanceof wn?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof ae){const r=i.getMinimalFlatRanges();for(const s of r)u6(this,e,t,s)}else d6(this,e,t,i)}setAttributes(e,t){for(const[i,r]of $o(e))this.setAttribute(i,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ae){const i=t.getMinimalFlatRanges();for(const r of i)u6(this,e,null,r)}else d6(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const r of i.getAttributeKeys())this.removeAttribute(r,i)};if(!(e instanceof ae))t(e);else for(const i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof ae))throw new z("writer-move-invalid-range",this);if(!e.isFlat)throw new z("writer-move-range-not-flat",this);const r=xe._createAt(t,i);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!f6(e.root,r.root))throw new z("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,o=new Xt(e.start,e.end.offset-e.start.offset,r,s);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof ae?e:ae._createOn(e)).getMinimalFlatRanges().reverse();for(const r of i)this._addOperationForAffectedMarkers("move",r),QIe(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof wn))throw new z("writer-merge-no-element-before",this);if(!(i instanceof wn))throw new z("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(ae._createIn(i),xe._createAt(t,"end")),this.remove(i)}_merge(e){const t=xe._createAt(e.nodeBefore,"end"),i=xe._createAt(e.nodeAfter,0),r=e.root.document.graveyard,s=new xe(r,[0]),o=e.root.document.version,a=new di(i,e.nodeAfter.maxOffset,t,s,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof wn))throw new z("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,r=new rs(xe._createBefore(e),e.name,t,i);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new z("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new z("writer-split-invalid-limit-element",this);let r,s;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,l=yn.getInsertionPosition(e),d=new yn(e,a,l,null,o);this.batch.addOperation(d),this.model.applyOperation(d),!r&&!s&&(r=i,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new ae(xe._createAt(r,"end"),xe._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new z("writer-wrap-range-not-flat",this);const i=t instanceof wn?t:new wn(t);if(i.childCount>0)throw new z("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new z("writer-wrap-element-attached",this);this.insert(i,e.start);const r=new ae(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,xe._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new z("writer-unwrap-element-no-parent",this);this.move(ae._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new z("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,r=t.range,s=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new z("writer-addmarker-marker-exists",this);if(!r)throw new z("writer-addmarker-no-range",this);return i?(Qp(this,e,null,r,s),this.model.markers.get(e)):this.model.markers._set(e,r,i,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new z("writer-updatemarker-marker-not-exists",this);if(!t){vt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(r);return}const s=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:r.affectsData;if(!s&&!t.range&&!o)throw new z("writer-updatemarker-wrong-options",this);const l=r.getRange(),d=t.range?t.range:l;if(s&&t.usingOperation!==r.managedUsingOperations){t.usingOperation?Qp(this,i,null,d,a):(Qp(this,i,l,null,a),this.model.markers._set(i,d,void 0,a));return}r.managedUsingOperations?Qp(this,i,l,d,a):this.model.markers._set(i,d,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new z("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const r=i.getRange();Qp(this,t,r,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new z("writer-addroot-root-exists",this);const r=this.model.document,s=new Da(e,t,!0,r,r.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new z("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const i=this.model.document,r=new Da(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,r]of $o(e))this._setSelectionAttribute(i,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const r=Wo._getStoreAttributeKey(e);this.setAttribute(r,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=Wo._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new z("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const r=i.getRange();let s=!1;if(e==="move"){const o=t;s=o.containsPosition(r.start)||o.start.isEqual(r.start)||o.containsPosition(r.end)||o.end.isEqual(r.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,d=r.start.parent==a&&r.start.isAtEnd,f=r.end.parent==l&&r.end.offset==0,m=r.end.nodeAfter==l,p=r.start.nodeAfter==l;s=d||f||m||p}s&&this.updateMarker(i.name,{range:r})}}}function u6(n,e,t,i){const r=n.model,s=r.document;let o=i.start,a,l,d;for(const m of i.getWalker({shallow:!0}))d=m.item.getAttribute(e),a&&l!=d&&(l!=t&&f(),o=a),a=m.nextPosition,l=d;a instanceof xe&&a!=o&&l!=t&&f();function f(){const m=new ae(o,a),p=m.root.document?s.version:null,w=new yi(m,e,l,t,p);n.batch.addOperation(w),r.applyOperation(w)}}function d6(n,e,t,i){const r=n.model,s=r.document,o=i.getAttribute(e);let a,l;if(o!=t){if(i.root===i){const f=i.document?s.version:null;l=new tc(i,e,o,t,f)}else{a=new ae(xe._createBefore(i),n.createPositionAfter(i));const f=a.root.document?s.version:null;l=new yi(a,e,o,t,f)}n.batch.addOperation(l),r.applyOperation(l)}}function Qp(n,e,t,i,r){const s=n.model,o=s.document,a=new Nr(e,t,i,s.markers,!!r,o.version);n.batch.addOperation(a),s.applyOperation(a)}function QIe(n,e,t,i){let r;if(n.root.document){const s=i.document,o=new xe(s.graveyard,[0]);r=new Xt(n,e,o,s.version)}else r=new KIe(n,e);t.addOperation(r),i.applyOperation(r)}function f6(n,e){return n===e||n instanceof $A&&e instanceof $A}function JIe(n){n.document.registerPostFixer(e=>XIe(e,n))}function XIe(n,e){const t=e.document.selection,i=e.schema,r=[];let s=!1;for(const o of t.getRanges()){const a=s5(o,i);a&&!a.isEqual(o)?(r.push(a),s=!0):r.push(o)}return s&&n.setSelection(i2e(r),{backward:t.isBackward}),!1}function s5(n,e){return n.isCollapsed?e2e(n,e):t2e(n,e)}function e2e(n,e){const t=n.start,i=e.getNearestSelectionRange(t);if(!i){const s=t.getAncestors().reverse().find(o=>e.isObject(o));return s?ae._createOn(s):null}if(!i.isCollapsed)return i;const r=i.start;return t.isEqual(r)?null:new ae(r)}function t2e(n,e){const{start:t,end:i}=n,r=e.checkChild(t,"$text"),s=e.checkChild(i,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(i);if(o===a){if(r&&s)return null;if(n2e(t,i,e)){const m=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),w=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),A=m?m.start:t,x=w?w.end:i;return new ae(A,x)}}const l=o&&!o.is("rootElement"),d=a&&!a.is("rootElement");if(l||d){const f=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,m=l&&(!f||!m6(t.nodeAfter,e)),p=d&&(!f||!m6(i.nodeBefore,e));let w=t,A=i;return m&&(w=xe._createBefore(h6(o,e))),p&&(A=xe._createAfter(h6(a,e))),new ae(w,A)}return null}function h6(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function n2e(n,e,t){const i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),r=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||r}function i2e(n){const e=[...n],t=new Set;let i=1;for(;i<e.length;){const s=e[i],o=e.slice(0,i);for(const[a,l]of o.entries())if(!t.has(a)){if(s.isEqual(l))t.add(a);else if(s.isIntersecting(l)){t.add(a),t.add(i);const d=s.getJoined(l);e.push(d)}}i++}return e.filter((s,o)=>!t.has(o))}function m6(n,e){return n&&e.isSelectable(n)}function r2e(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const r=n.schema;n.change(s=>{if(!t.doNotResetEntireContent&&h2e(r,e)){f2e(s,e);return}const o={};if(!t.doNotAutoparagraph){const d=e.getSelectedElement();d&&Object.assign(o,r.getAttributesWithProperty(d,"copyOnReplace",!0))}let a,l;t.doNotFixSelection?(a=Fn.fromPosition(i.start,"toPrevious"),l=Fn.fromPosition(i.end,"toNext")):[a,l]=s2e(i),a.isTouching(l)||s.remove(s.createRange(a,l)),t.leaveUnmerged||(a2e(s,a,l),r.removeDisallowedAttributes(a.parent.getChildren(),s)),Fq(s,e,a),!t.doNotAutoparagraph&&u2e(r,a)&&Lq(s,a,e,o),a.detach(),l.detach()})}function s2e(n){const e=n.root.document.model,t=n.start;let i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const r=o2e(i);if(r&&i.isTouching(e.createPositionAt(r,0))){const s=e.createSelection(n);e.modifySelection(s,{direction:"backward"});const o=s.getLastPosition(),a=e.createRange(o,i);e.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[Fn.fromPosition(t,"toPrevious"),Fn.fromPosition(i,"toNext")]}function o2e(n){const e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const r of i){if(t.isLimit(r))return null;if(t.isBlock(r))return r}}function a2e(n,e,t){const i=n.model;if(!o5(n.model.schema,e,t))return;const[r,s]=c2e(e,t);!r||!s||(!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(s,{ignoreMarkers:!0})?Vq(n,e,t,r.parent):Bq(n,e,t,r.parent))}function Bq(n,e,t,i){const r=e.parent,s=t.parent;if(!(r==i||s==i)){for(e=n.createPositionAfter(r),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(s,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}o5(n.model.schema,e,t)&&Bq(n,e,t,i)}}function Vq(n,e,t,i){const r=e.parent,s=t.parent;if(!(r==i||s==i)){for(e=n.createPositionAfter(r),t=n.createPositionBefore(s),t.isEqual(e)||n.insert(r,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(s),l2e(n,t),o5(n.model.schema,e,t)&&Vq(n,e,t,i)}}function l2e(n,e){const t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function o5(n,e,t){const i=e.parent,r=t.parent;return i==r||n.isLimit(i)||n.isLimit(r)?!1:d2e(e,t,n)}function c2e(n,e){const t=n.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]&&t[r]==i[r];)r++;return[t[r],i[r]]}function u2e(n,e){const t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function d2e(n,e,t){const i=new ae(n,e);for(const r of i.getWalker())if(t.isLimit(r.item))return!1;return!0}function Lq(n,e,t,i={}){const r=n.createElement("paragraph");n.model.schema.setAllowedAttributes(r,i,n),n.insert(r,e),Fq(n,t,n.createPositionAt(r,0))}function f2e(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),Lq(n,n.createPositionAt(t,0),e)}function h2e(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function Fq(n,e,t){e instanceof Wo?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function m2e(n,e){return n.change(t=>{const i=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return i;const s=r.start.root,o=r.start.getCommonPath(r.end),a=s.getNodeByPath(o);let l;r.start.parent==r.end.parent?l=r:l=t.createRange(t.createPositionAt(a,r.start.path[o.length]),t.createPositionAt(a,r.end.path[o.length]+1));const d=l.end.offset-l.start.offset;for(const f of l.getItems({shallow:!0}))f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),i):t.append(t.cloneElement(f,!0),i);if(l!=r){const f=r._getTransformedByMove(l.start,t.createPositionAt(i,0),d)[0],m=t.createRange(t.createPositionAt(i,0),f.start),p=t.createRange(f.end,t.createPositionAt(i,"end"));g6(p,t),g6(m,t)}return i})}function g6(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let r=i;for(;r.parent&&r.isEmpty;){const s=e.createRangeOn(r);r=r.parent,e.remove(s)}})}function g2e(n,e,t){return n.change(i=>{const r=t||n.document.selection;r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});const s=new p2e(n,i,r.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const f=[];for(const[m,p]of e.markers){const{start:w,end:A}=p,x=w.isEqual(A);f.push({position:w,name:m,isCollapsed:x},{position:A,name:m,isCollapsed:x})}f.sort(({position:m},{position:p})=>m.isBefore(p)?1:-1);for(const{position:m,name:p,isCollapsed:w}of f){let A=null,x=null;const S=m.parent===e&&m.isAtStart,P=m.parent===e&&m.isAtEnd;!S&&!P?(A=i.createElement("$marker"),i.insert(A,m)):w&&(x=S?"start":"end"),o.push({name:p,element:A,collapsed:x})}}a=e.getChildren()}else a=[e];s.handleNodes(a);let l=s.getSelectionRange();if(e.is("documentFragment")&&o.length){const f=l?Dr.fromRange(l):null,m={};for(let p=o.length-1;p>=0;p--){const{name:w,element:A,collapsed:x}=o[p],S=!m[w];if(S&&(m[w]=[]),A){const P=i.createPositionAt(A,"before");m[w].push(P),i.remove(A)}else{const P=s.getAffectedRange();if(!P){x&&m[w].push(s.position);continue}x?m[w].push(P[x]):m[w].push(S?P.start:P.end)}}for(const[p,[w,A]]of Object.entries(m))w&&A&&w.root===A.root&&w.root.document&&!i.model.markers.has(p)&&i.addMarker(p,{usingOperation:!0,affectsData:!0,range:new ae(w,A)});f&&(l=f.toRange(),f.detach())}/* istanbul ignore else -- @preserve */l&&(r instanceof Wo?i.setSelection(l):r.setTo(l));const d=s.getAffectedRange()||n.createRange(r.anchor);return s.destroy(),d})}class p2e{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,i){this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new z("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ae._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ae(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(!this._checkAndSplitToAllowedPosition(e)){this.schema.isObject(e)||this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Fn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new z("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Fn.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Fn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof wn)||!this._canMergeLeft(e))return;const t=Fn._createBefore(e);t.stickiness="toNext";const i=Fn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof wn)||!this._canMergeRight(e))return;const t=Fn._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new z("insertcontent-invalid-insertion-position",this);this.position=xe._createAt(t.nodeBefore,"end");const i=Fn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof wn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof wn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function b2e(n,e,t,i={}){if(!n.schema.isObject(e))throw new z("insertobject-element-not-an-object",n,{object:e});const r=t||n.document.selection;let s=r;i.findOptimalPosition&&n.schema.isBlock(e)&&(s=n.createSelection(n.schema.findOptimalInsertionRange(r,i.findOptimalPosition)));const o=sn(r.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});let d=e;const f=s.anchor.parent;!n.schema.checkChild(f,e)&&n.schema.checkChild(f,"paragraph")&&n.schema.checkChild("paragraph",e)&&(d=l.createElement("paragraph"),l.insert(e,d)),n.schema.setAllowedAttributes(d,a,l);const m=n.insertContent(d,s);return m.isCollapsed||i.setSelection&&v2e(l,e,i.setSelection,a),m})}function v2e(n,e,t,i){const r=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new z("insertobject-invalid-place-parameter-value",r);let s=e.nextSibling;if(r.schema.isInline(e)){n.setSelection(e,"after");return}!(s&&r.schema.checkChild(s,"$text"))&&r.schema.checkChild(e.parent,"paragraph")&&(s=n.createElement("paragraph"),r.schema.setAllowedAttributes(s,i,n),r.insertContent(s,n.createPositionAfter(e))),s&&n.setSelection(s,0)}const w2e=' ,.?!:;"-()';function y2e(n,e,t={}){const i=n.schema,r=t.direction!="backward",s=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new Kl({boundaries:x2e(a,r),singleCharacters:!0,direction:r?"forward":"backward"}),d={walker:l,schema:i,isForward:r,unit:s,treatEmojiAsSingleUnit:o};let f;for(;f=l.next();){if(f.done)return;const m=_2e(d,f.value);if(m){e instanceof Wo?n.change(p=>{p.setSelectionFocus(m)}):e.setFocus(m);return}}}function _2e(n,e){const{isForward:t,walker:i,unit:r,schema:s,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:d}=e;if(a=="text")return n.unit==="word"?k2e(i,t):A2e(i,r,o);if(a==(t?"elementStart":"elementEnd")){if(s.isSelectable(l))return xe._createAt(l,t?"after":"before");if(s.checkChild(d,"$text"))return d}else{if(s.isLimit(l)){i.skip(()=>!0);return}if(s.checkChild(d,"$text"))return d}}function A2e(n,e,t){const i=n.position.textNode;if(i){const r=i.data;let s=n.position.offset-i.startOffset;for(;KO(r,s)||e=="character"&&qO(r,s)||t&&JK(r,s);)n.next(),s=n.position.offset-i.startOffset}return n.position}function k2e(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const i=n.position.offset-t.startOffset;if(S2e(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(C2e(t.data,i,e))break;n.next()}}return n.position}function x2e(n,e){const t=n.root,i=xe._createAt(t,e?"end":0);return e?new ae(n,i):new ae(i,n)}function C2e(n,e,t){const i=e+(t?0:-1);return w2e.includes(n.charAt(i))}function S2e(n,e,t){return e===(t?n.offsetSize:0)}class E2e extends ln(){markers;document;schema;_pendingChanges;_currentWriter;constructor(){super(),this.markers=new YIe,this.document=new GIe(this),this.schema=new uIe,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),JIe(this),this.document.registerPostFixer(Cq),this.on("insertContent",(e,[t,i])=>{e.return=g2e(this,t,i)}),this.on("insertObject",(e,[t,i,r])=>{e.return=b2e(this,t,i,r)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Uh,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Uh):e instanceof Uh||(e=new Uh(e)):e=new Uh,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...r){const s=JS(t,i);return this.fire("insertContent",[e,s,i,...r])}insertObject(e,t,i,r,...s){const o=JS(t,i);return this.fire("insertObject",[e,o,r,r,...s])}deleteContent(e,t){r2e(this,e,t)}modifySelection(e,t){y2e(this,e,t)}getSelectedContent(e){return m2e(this,e)}hasContent(e,t={}){const i=e instanceof ae?e:ae._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:s=!1}=t;if(!s){for(const o of this.markers.getMarkersIntersectingRange(i))if(o.affectsData)return!0}for(const o of i.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(r){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=JS(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new xe(e,t,i)}createPositionAt(e,t){return xe._createAt(e,t)}createPositionAfter(e){return xe._createAfter(e)}createPositionBefore(e){return xe._createBefore(e)}createRange(e,t){return new ae(e,t)}createRangeIn(e){return ae._createIn(e)}createRangeOn(e){return ae._createOn(e)}createSelection(...e){return new As(...e)}createBatch(e){return new Uh(e)}createOperationFromJSON(e){return MIe.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new ZIe(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function JS(n,e){if(n)return n instanceof As||n instanceof Wo?n:n instanceof Of?e||e===0?new As(n,e):n.is("rootElement")?new As(n,"in"):new As(n,"on"):new As(n)}class T2e extends Ja{domEventType="click";onDomEvent(e){this.fire(e.type,e)}}class Kk extends Ja{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}class I2e extends Ja{domEventType=["touchstart","touchend","touchmove"];onDomEvent(e){this.fire(e.type,e)}}class Bs{document;constructor(e){this.document=e}createDocumentFragment(e){return new Jd(this.document,e)}createElement(e,t,i){return new Ho(this.document,e,t,i)}createText(e){return new Oi(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const r=i.getChildIndex(e);return this.removeChildren(r,1,i),this.insertChild(r,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new Ho(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){Io(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Ve._createAt(e,t)}createPositionAfter(e){return Ve._createAfter(e)}createPositionBefore(e){return Ve._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Bo(...e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const P2e=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,R2e=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,O2e=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,D2e=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,N2e=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,M2e=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,B2e=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function zq(n){return n.startsWith("#")?P2e.test(n):n.startsWith("rgb")?R2e.test(n)||O2e.test(n):n.startsWith("hsl")?D2e.test(n)||N2e.test(n):B2e.has(n.toLowerCase())}const V2e=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function L2e(n){return V2e.includes(n)}const F2e=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function qk(n){return F2e.test(n)}const z2e=/^[+-]?[0-9]*([.][0-9]+)?%$/;function jq(n){return z2e.test(n)}const j2e=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function U2e(n){return j2e.includes(n)}const $2e=["center","top","bottom","left","right"];function H2e(n){return $2e.includes(n)}const W2e=["fixed","scroll","local"];function G2e(n){return W2e.includes(n)}const Y2e=/^url\(/;function K2e(n){return Y2e.test(n)}function Rb(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=a5(n),t=e[0],i=e[2]||t,r=e[1]||t,s=e[3]||r;return{top:t,bottom:i,right:r,left:s}}function Ob(n){return e=>{const{top:t,right:i,bottom:r,left:s}=e,o=[];return[t,i,s,r].every(a=>!!a)?o.push([n,q2e(e)]):(t&&o.push([n+"-top",t]),i&&o.push([n+"-right",i]),r&&o.push([n+"-bottom",r]),s&&o.push([n+"-left",s])),o}}function q2e({top:n,right:e,bottom:t,left:i}){const r=[];return i!==e?r.push(n,e,t,i):t!==n?r.push(n,e,t):e!==n?r.push(n,e):r.push(n),r.join(" ")}function Uq(n){return e=>({path:n,value:Rb(e)})}function a5(n){const e=n.trim().slice(0,1500).matchAll(M2e);return Array.from(e).map(t=>t[0])}function l5(n){n.setNormalizer("background",Z2e()),n.setNormalizer("background-color",Q2e()),n.setReducer("background",J2e()),n.setStyleRelation("background",["background-color"])}function Z2e(){return n=>{const e={},t=a5(n);for(const i of t)U2e(i)?(e.repeat=e.repeat||[],e.repeat.push(i)):H2e(i)?(e.position=e.position||[],e.position.push(i)):G2e(i)?e.attachment=i:zq(i)?e.color=i:K2e(i)&&(e.image=i);return{path:"background",value:e}}}function Q2e(){return n=>({path:"background.color",value:n})}function J2e(){return n=>{const e=[];return e.push(["background-color",n.color]),e}}function $q(n){n.setNormalizer("border",X2e()),n.setNormalizer("border-top",V_("top")),n.setNormalizer("border-right",V_("right")),n.setNormalizer("border-bottom",V_("bottom")),n.setNormalizer("border-left",V_("left")),n.setNormalizer("border-color",XS("color")),n.setNormalizer("border-width",XS("width")),n.setNormalizer("border-style",XS("style")),n.setNormalizer("border-top-color",qs("color","top")),n.setNormalizer("border-top-style",qs("style","top")),n.setNormalizer("border-top-width",qs("width","top")),n.setNormalizer("border-right-color",qs("color","right")),n.setNormalizer("border-right-style",qs("style","right")),n.setNormalizer("border-right-width",qs("width","right")),n.setNormalizer("border-bottom-color",qs("color","bottom")),n.setNormalizer("border-bottom-style",qs("style","bottom")),n.setNormalizer("border-bottom-width",qs("width","bottom")),n.setNormalizer("border-left-color",qs("color","left")),n.setNormalizer("border-left-style",qs("style","left")),n.setNormalizer("border-left-width",qs("width","left")),n.setExtractor("border-top",L_("top")),n.setExtractor("border-right",L_("right")),n.setExtractor("border-bottom",L_("bottom")),n.setExtractor("border-left",L_("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",Ob("border-color")),n.setReducer("border-style",Ob("border-style")),n.setReducer("border-width",Ob("border-width")),n.setReducer("border-top",F_("top")),n.setReducer("border-right",F_("right")),n.setReducer("border-bottom",F_("bottom")),n.setReducer("border-left",F_("left")),n.setReducer("border",tPe()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function X2e(){return n=>{const{color:e,style:t,width:i}=Hq(n);return{path:"border",value:{color:Rb(e),style:Rb(t),width:Rb(i)}}}}function V_(n){return e=>{const{color:t,style:i,width:r}=Hq(e),s={};return t!==void 0&&(s.color={[n]:t}),i!==void 0&&(s.style={[n]:i}),r!==void 0&&(s.width={[n]:r}),{path:"border",value:s}}}function XS(n){return e=>({path:"border",value:ePe(e,n)})}function ePe(n,e){return{[e]:Rb(n)}}function qs(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function L_(n){return(e,t)=>{if(t.border)return mb(t.border,n)}}function mb(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function Hq(n){const e={},t=a5(n);for(const i of t)qk(i)||/thin|medium|thick/.test(i)?e.width=i:L2e(i)?e.style=i:e.color=i;return e}function tPe(){return e=>{const t=mb(e,"top"),i=mb(e,"right"),r=mb(e,"bottom"),s=mb(e,"left"),o=[t,i,r,s],a={width:n(o,"width"),style:n(o,"style"),color:n(o,"color")},l=tm(a,"all");return l.length?l:[...Object.entries(a).reduce((f,[m,p])=>(p&&(f.push([`border-${m}`,p]),o.forEach(w=>delete w[m])),f),[]),...tm(t,"top"),...tm(i,"right"),...tm(r,"bottom"),...tm(s,"left")]};function n(e,t){return e.map(i=>i[t]).reduce((i,r)=>i==r?i:null)}}function F_(n){return e=>tm(e,n)}function tm(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const i=t.map(r=>n[r]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,n[i]])}function nPe(n){n.setNormalizer("margin",Uq("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",Ob("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function iPe(n){n.setNormalizer("padding",Uq("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",Ob("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Wq{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const r of i)r.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fI(n,e=new Set){const t=[n],i=new Set;let r=0;for(;t.length>r;){const s=t[r++];if(!(i.has(s)||!rPe(s)||e.has(s)))if(i.add(s),Symbol.iterator in s)try{for(const o of s)t.push(o)}catch{}else for(const o in s)o!=="defaultValue"&&t.push(s[o])}return i}function rPe(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}function Gq(n,e,t=new Set){if(n===e&&sPe(n))return!0;const i=fI(n,t),r=fI(e,t);for(const s of i)if(r.has(s))return!0;return!1}function sPe(n){return typeof n=="object"&&n!==null}class Yq extends Wq{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e,t={}){super(t),this._throttledSave=gf(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,r)=>e.create(i,r)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],i=this._config.rootsAttributes||{},r={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",r[o]=i[o]||{}):t.push(o);const s={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:r,_watchdogInitialData:this._data};return delete s.initialData,s.extraPlugins.push(oPe),this._initUsingData?this.create(e,s,s.context):hc(this._elementOrData)?this.create(this._elementOrData,s,s.context):this.create(this._editables,s,s.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:i}=e,r=i.has("CommentsRepository")&&i.get("CommentsRepository"),s=i.has("TrackChanges")&&i.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return r&&(o.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),s&&(o.suggestions=JSON.stringify(s.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return Gq(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Lk(e,(t,i)=>{if(hc(t)||i==="context")return t})}}class oPe{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const i=e.createElement(t.name,t.attributes);if(t.children)for(const r of t.children)i._appendChild(this._createNode(e,r));return i}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([i,{content:r,attributes:s}])=>{const o=JSON.parse(r),a=JSON.parse(s),l=t.model.document.getRoot(i);for(const[d,f]of a)e.setAttribute(d,f,l);for(const d of o){const f=this._createNode(e,d);e.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([i,r])=>{const{document:s}=t.model,{rangeJSON:{start:o,end:a},...l}=r,d=s.getRoot(o.root),f=e.createPositionFromPath(d,o.path,o.stickiness),m=e.createPositionFromPath(d,a.path,a.stickiness),p=e.createRange(f,m);e.addMarker(i,{range:p,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(i=>{const r=this.editor.config.get("collaboration.channelId"),s=this.editor.plugins.get("CommentsRepository");s.hasCommentThread(i.threadId)&&s.getCommentThread(i.threadId).remove(),s.addCommentThread({channelId:r,...i})}),t.forEach(i=>{const r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(i.id)){const s=r.getSuggestion(i.id);s.attributes=i.attributes}else r.addSuggestionData(i)})}}const Db=Symbol("MainQueueId");class aPe extends Wq{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new lPe;_contextConfig;_item;constructor(e,t={}){super(t),this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Db,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=p6(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return r=new Yq(null,this._watchdogConfig),r.setCreator(i.creator),r._setExcludedProperties(this._contextProps),i.destructor&&r.setDestructor(i.destructor),this._watchdogs.set(i.id,r),r.on("error",(s,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:o}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{const d=()=>{r.off("restart",d),this._fire("itemRestart",{itemId:i.id}),l()};r.on("restart",d)}))}),r.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const t=p6(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{const r=this._getWatchdog(i);return this._watchdogs.delete(i),r.destroy()})))}destroy(){return this._actionQueues.enqueue(Db,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Db,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=fI(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return Gq(this._context,e.context)}}class lPe{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Db;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Db),this._queues.get(e)])).then(t),o=s.catch(()=>{});return this._queues.set(e,o),s.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function p6(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class H extends ln(){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",b6,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",b6),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function b6(n){n.return=!1,n.stop()}class Je extends ln(){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const i=e.model.document.selection,s=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!s)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",v6,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",v6),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function v6(n){n.return=!1,n.stop()}class w6 extends Je{_childCommandsDefinitions=[];refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){PK(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class cPe{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new z("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Kq extends hn(){_context;_plugins=new Map;_availablePlugins;_contextPlugins;constructor(e,t=[],i=[]){super(),this._context=e,this._availablePlugins=new Map;for(const r of t)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,s]of i)this._contextPlugins.set(r,s),this._contextPlugins.set(s,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new z("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const r=this,s=this._context;w(e),x(e);const o=e.filter(W=>!m(W,t)),a=[...A(o)];B(a,i);const l=O(a);return M(l,"init").then(()=>M(l,"afterInit")).then(()=>l);function d(W){return typeof W=="function"}function f(W){return d(W)&&!!W.isContextPlugin}function m(W,$){return $.some(L=>L===W||p(W)===L||p(L)===W)}function p(W){return d(W)?W.pluginName||W.name:W}function w(W,$=new Set){W.forEach(L=>{d(L)&&($.has(L)||($.add(L),L.pluginName&&!r._availablePlugins.has(L.pluginName)&&r._availablePlugins.set(L.pluginName,L),L.requires&&w(L.requires,$)))})}function A(W,$=new Set){return W.map(L=>d(L)?L:r._availablePlugins.get(L)).reduce((L,ee)=>$.has(ee)?L:($.add(ee),ee.requires&&(x(ee.requires,ee),A(ee.requires,$).forEach(pe=>L.add(pe))),L.add(ee)),new Set)}function x(W,$=null){W.map(L=>d(L)?L:r._availablePlugins.get(L)||L).forEach(L=>{S(L,$),P(L,$),I(L,$)})}function S(W,$){if(!d(W))throw $?new z("plugincollection-soft-required",s,{missingPlugin:W,requiredBy:p($)}):new z("plugincollection-plugin-not-found",s,{plugin:W})}function P(W,$){if(f($)&&!f(W))throw new z("plugincollection-context-required",s,{plugin:p(W),requiredBy:p($)})}function I(W,$){if($&&m(W,t))throw new z("plugincollection-required",s,{plugin:p(W),requiredBy:p($)})}function O(W){return W.map($=>{let L=r._contextPlugins.get($);return L=L||new $(s),r._add($,L),L})}function M(W,$){return W.reduce((L,ee)=>!ee[$]||r._contextPlugins.has(ee)?L:L.then(ee[$].bind(ee)),Promise.resolve())}function B(W,$){for(const L of $){if(typeof L!="function")throw new z("plugincollection-replace-plugin-invalid-type",null,{pluginItem:L});const ee=L.pluginName;if(!ee)throw new z("plugincollection-replace-plugin-missing-name",null,{pluginItem:L});if(L.requires&&L.requires.length)throw new z("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ee});const pe=r._availablePlugins.get(ee);if(!pe)throw new z("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ee});const Se=W.indexOf(pe);if(Se===-1){if(r._contextPlugins.has(pe))return;throw new z("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ee})}if(pe.requires&&pe.requires.length)throw new z("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ee});W.splice(Se,1,L),r._availablePlugins.set(ee,L)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new z("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}class y6{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...i}=e||{};this.config=new LK(i,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new Kq(this,r);const s=this.config.get("language")||{};this.locale=new jSe({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new hi}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new z("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new z("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new z("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}class Zk extends ln(){context;constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}class uPe extends tn{editor;constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const r=t;t=(s,o)=>{this.editor.execute(r),o()}}super.set(e,t,i)}}const eE="contentEditing",_6="common";class dPe{keystrokeInfos=new Map;_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),i=e.locale.t;this.addKeystrokeInfoCategory({id:eE,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&r.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory({id:e,label:t,description:i,groups:r}){this.keystrokeInfos.set(e,{id:e,label:t,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:_6}),r&&r.forEach(s=>{this.addKeystrokeInfoGroup({categoryId:e,...s})})}addKeystrokeInfoGroup({categoryId:e=eE,id:t,label:i,keystrokes:r}){const s=this.keystrokeInfos.get(e);if(!s)throw new z("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});s.groups.set(t,{id:t,label:i,keystrokes:r||[]})}addKeystrokeInfos({categoryId:e=eE,groupId:t=_6,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new z("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});const r=this.keystrokeInfos.get(e);if(!r.groups.has(t))throw new z("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:i});r.groups.get(t).keystrokes.push(...i)}}function fPe(n){return{sessionId:bPe(),pageSessionId:vPe(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:hPe(n),plugins:mPe(n.plugins),distribution:gPe(),env:pPe(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:tE(n.config.get("toolbar")),block:tE(n.config.get("blockToolbar")),balloon:tE(n.config.get("balloonToolbar"))}}}function hPe(n){return Object.getPrototypeOf(n).constructor.editorName}function mPe(n){return Array.from(n).filter(([e])=>!!e.pluginName).map(([e])=>{const{pluginName:t,isContextPlugin:i,isOfficialPlugin:r,isPremiumPlugin:s}=e;return{isContext:!!i,isOfficial:!!r,isPremium:!!s,name:t}})}function tE(n){if(!n)return;const e=Array.isArray(n)?{items:n}:n,t=s(e.items||[]);return{isMultiline:t.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:r(t)};function r(o){return o.filter(a=>a!=="|"&&a!=="-")}function s(o){return o.flatMap(a=>typeof a=="string"?[a]:s(a.items))}}function gPe(){return{channel:window[Symbol.for("cke distribution")]||"sh"}}function pPe(){let n="unknown",e="unknown";return nt.isMac?n="mac":nt.isWindows?n="windows":nt.isiOS?n="ios":nt.isAndroid&&(n="android"),nt.isGecko?e="gecko":nt.isBlink?e="blink":nt.isSafari&&(e="safari"),{os:n,browser:e}}function bPe(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",Xi()),localStorage.getItem("__ckeditor-session-id")}function vPe(){return Re.window.CKEDITOR_PAGE_SESSION_ID=Re.window.CKEDITOR_PAGE_SESSION_ID||Xi(),Re.window.CKEDITOR_PAGE_SESSION_ID}let wPe=class extends ln(){static get editorName(){return"Editor"}accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(e={}){if(super(),"sanitizeHtml"in e)throw new z("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:i,...r}=t.defaultConfig||{},{translations:s=i,...o}=e,a=e.language||r.language;this._context=e.context||new y6({language:a,translations:s}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new LK(o,r),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),f(this.config),this.plugins=new Kq(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new cPe,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new E2e,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const d=new uEe;this.data=new RIe(this.model,d),this.editing=new cIe(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new DIe([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new uPe(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new dPe(this),m(this);function f(p){let w=p.get("licenseKey");if(!w&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(w=window.CKEDITOR_GLOBAL_LICENSE_KEY,p.set("licenseKey",w)),!w)throw new z("license-key-missing")}function m(p){const w=p.config.get("licenseKey"),A=window[Symbol.for("cke distribution")]||"sh";function x(ee){p.enableReadOnlyMode(Symbol("invalidLicense")),p._showLicenseError(ee)}function S(ee){const pe=ee.split(".");return pe.length!=3?null:pe[1]}function P(ee){return["exp","jti","vc"].every(Se=>Se in ee)}function I(ee){return Object.getOwnPropertyNames(ee).sort().filter(ge=>ge!="vc"&&ee[ge]!=null).map(ge=>ee[ge])}function O(ee){const{hostname:pe}=new URL(window.location.href);if(ee.includes(pe))return!0;const Se=pe.split(".");return ee.filter(ge=>ge.includes("*")).map(ge=>ge.split(".")).filter(ge=>ge.length<=Se.length).map(ge=>Array(Se.length-ge.length).fill(ge[0]==="*"?"*":"").concat(ge)).some(ge=>Se.every((Ee,Te)=>ge[Te]===Ee||ge[Te]==="*"))}function M(ee){const pe=ee[0].toUpperCase()+ee.slice(1),Se=ee==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${pe} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${Se} ${ee} license of CKEditor 5${ee==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(w=="GPL"){A=="cloud"&&x("distributionChannel");return}const B=S(w);if(!B){x("invalid");return}const W=YO(B);if(!W){x("invalid");return}if(!P(W)){x("invalid");return}if(W.distributionChannel&&!Jt(W.distributionChannel).includes(A)){x("distributionChannel");return}if(GSe(I(W))!=W.vc.toLowerCase()){x("invalid");return}if(new Date(W.exp*1e3)<eSe){x("expired");return}const L=W.licensedHosts;if(L&&L.length>0&&!O(L)){x("domainLimit");return}if(["evaluation","trial"].includes(W.licenseType)&&W.exp*1e3<Date.now()){x("expired");return}if(["development","evaluation","trial"].includes(W.licenseType)){const{licenseType:ee}=W;window.CKEDITOR_WARNING_SUPPRESSIONS=window.CKEDITOR_WARNING_SUPPRESSIONS||{},window.CKEDITOR_WARNING_SUPPRESSIONS[ee]||(M(ee),window.CKEDITOR_WARNING_SUPPRESSIONS[ee]=!0)}if(["evaluation","trial"].includes(W.licenseType)){const ee=W.licenseType,pe=setTimeout(()=>{x(`${ee}Limit`)},6e5);p.on("destroy",()=>{clearTimeout(pe)})}W.usageEndpoint&&p.once("ready",()=>{const ee={requestId:Xi(),requestTime:Math.round(Date.now()/1e3),license:w,editor:yPe(p)};p._sendUsageRequest(W.usageEndpoint,ee).then(pe=>{const{status:Se,message:ge}=pe;ge&&console.warn(ge),Se!="ok"&&x("usageLimit")},()=>{JCe("license-key-validation-endpoint-not-reachable",{url:W.usageEndpoint})})},{priority:"high"})}}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new z("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),i,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){/* istanbul ignore next -- @preserve */z.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}static Context=y6;static EditorWatchdog=Yq;static ContextWatchdog=aPe;_showLicenseError(e,t){setTimeout(()=>{if(e=="invalid")throw new z("invalid-license-key");if(e=="expired")throw new z("license-key-expired");if(e=="domainLimit")throw new z("license-key-domain-limit");if(e=="featureNotAllowed")throw new z("license-key-plugin-not-allowed",null,{pluginName:t});if(e=="evaluationLimit")throw new z("license-key-evaluation-limit");if(e=="trialLimit")throw new z("license-key-trial-limit");if(e=="developmentLimit")throw new z("license-key-development-limit");if(e=="usageLimit")throw new z("license-key-usage-limit");if(e=="distributionChannel")throw new z("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,t){const i=new Headers({"Content-Type":"application/json"}),r=await fetch(new URL(e),{method:"POST",headers:i,body:JSON.stringify(t)});if(!r.ok)throw new Error(`HTTP Response: ${r.status}`);return r.json()}};function yPe(n){const e=fPe(n);function t(i,r){if(Ru(e,i)!==void 0)throw new z("editor-usage-data-path-already-set",{path:i});AK(e,i,r)}return n.fire("collectUsageData",{setUsageData:t}),e}function _Pe(n){if(!BA(n.updateSourceElement))throw new z("attachtoform-missing-elementapi-interface",n);const e=n.sourceElement;if(APe(e)&&e.form){let t;const i=e.form,r=()=>n.updateSourceElement();BA(i.submit)&&(t=i.submit,i.submit=()=>{r(),t.apply(i)}),i.addEventListener("submit",r),n.on("destroy",()=>{i.removeEventListener("submit",r),t&&(i.submit=t)})}}function APe(n){return!!n&&n.tagName.toLowerCase()==="textarea"}function kPe(n){class e extends n{sourceElement;updateSourceElement(i){if(!this.sourceElement)throw new z("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!s){x3(this.sourceElement,"");return}const o=typeof i=="string"?i:this.data.get();x3(this.sourceElement,o)}}return e}class zm extends Zk{_actions;static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new hi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new z("pendingactions-add-invalid-message",this);const t=new(ln());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class xPe extends ln(){total;_reader;_data;constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((i,r)=>{t.onload=()=>{const s=t.result;this._data=s,i(s)},t.onerror=()=>{r("error")},t.onabort=()=>{r("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Au extends H{loaders=new hi;_loadersMap=new Map;_pendingAction=null;static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[zm]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return vt("filerepository-no-upload-adapter"),null;const t=new A6(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(i=>{this._loadersMap.set(i,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let i=0;for(const r of this.loaders)i+=r.uploaded;this.uploaded=i}),t.on("change:uploadTotal",()=>{let i=0;for(const r of this.loaders)r.uploadTotal&&(i+=r.uploadTotal);this.uploadTotal=i}),t}destroyLoader(e){const t=e instanceof A6?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((i,r)=>{i===t&&this._loadersMap.delete(r)})}_updatePendingAction(){const e=this.editor.plugins.get(zm);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,i=r=>`${t("Upload in progress")} ${parseInt(r)}%.`;this._pendingAction=e.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else e.remove(this._pendingAction),this._pendingAction=null}}class A6 extends ln(){id;_filePromiseWrapper;_adapter;_reader;constructor(e,t){super(),this.id=Xi(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new xPe,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,r)=>r?i/r*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new z("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new z("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((i,r)=>{t.rejecter=r,t.isFulfilled=!1,e.then(s=>{t.isFulfilled=!0,i(s)}).catch(s=>{t.isFulfilled=!0,r(s)})}),t}}class CPe extends H{static get requires(){return[Au]}static get pluginName(){return"SimpleUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("simpleUpload");if(e){if(!e.uploadUrl){vt("simple-upload-adapter-missing-uploadurl");return}this.editor.plugins.get(Au).createUploadAdapter=t=>new SPe(t,e)}}}class SPe{loader;options;xhr;constructor(e,t){this.loader=e,this.options=t}upload(){return this.loader.file.then(e=>new Promise((t,i)=>{this._initRequest(),this._initListeners(t,i,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,t,i){const r=this.xhr,s=this.loader,o=`Couldn't upload file: ${i.name}.`;r.addEventListener("error",()=>t(o)),r.addEventListener("abort",()=>t()),r.addEventListener("load",()=>{const a=r.response;if(!a||a.error)return t(a&&a.error&&a.error.message?a.error.message:o);const l=a.url?{default:a.url}:a.urls;e({...a,urls:l})});/* istanbul ignore else -- @preserve */r.upload&&r.upload.addEventListener("progress",a=>{a.lengthComputable&&(s.uploadTotal=a.total,s.uploaded=a.loaded)})}_sendRequest(e){let t=this.options.headers||{};typeof t=="function"&&(t=t(e));const i=this.options.withCredentials||!1;for(const s of Object.keys(t))this.xhr.setRequestHeader(s,t[s]);this.xhr.withCredentials=i;const r=new FormData;r.append("upload",e),this.xhr.send(r)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */var k6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103z"/><path d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17m0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10" clip-rule="evenodd"/></svg>',EPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.75.75 0 0 1-.511.187.75.75 0 0 1-.511-.187M4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5z"/></svg>',qq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75"/></svg>',Zq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',c5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75"/></svg>',TPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.75 11.875a.75.75 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.75.75 0 0 1-.508.184.75.75 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75"/></svg>',Qq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75m0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75m0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75"/></svg>',IPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.75.75 0 0 1 .511-.187.75.75 0 0 1 .511.187M15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5z"/></svg>',Jq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.187 17H5.773q-.956 0-1.364-.415-.41-.416-.409-1.323V4.738q0-.926.419-1.332.418-.405 1.354-.406h4.68q1.035 0 1.793.124.76.124 1.36.478.512.296.906.75a3.26 3.26 0 0 1 .808 2.162q0 2.102-2.167 3.075 2.846.879 2.847 3.421a3.76 3.76 0 0 1-2.296 3.504 6 6 0 0 1-1.517.377q-.857.11-2 .11zm-.217-6.217H7v4.087h3.069q2.965 0 2.965-2.072 0-1.061-.768-1.537-.768-.478-2.296-.478M7 5.13v3.619h2.606q1.093 0 1.69-.2a1.6 1.6 0 0 0 .91-.765q.247-.4.247-.897 0-1.06-.778-1.409-.778-.348-2.375-.348z"/></svg>',PPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 16"><path d="M2 14.436V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v12.436a.5.5 0 0 1-.819.385l-3.862-3.2a.5.5 0 0 0-.638 0l-3.862 3.2A.5.5 0 0 1 2 14.436" class="ck-icon__fill"/></svg>',RPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.68 3.417a.24.24 0 0 0-.24.236v12.66l3.793-3.102a1.215 1.215 0 0 1 1.534 0l3.793 3.103V3.654a.24.24 0 0 0-.24-.237zM4 3.653C4 2.74 4.752 2 5.68 2h8.64c.928 0 1.68.74 1.68 1.653v13.164c0 1-1.185 1.547-1.967.908L10 14.426l-4.033 3.299c-.782.64-1.967.092-1.967-.908z" clip-rule="evenodd"/></svg>',OPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.4 2.24c-.11 0-.2.092-.2.207v11.077l3.16-2.714a.975.975 0 0 1 1.28 0l3.16 2.714V2.447a.203.203 0 0 0-.2-.207zM3 2.447C3 1.647 3.627 1 4.4 1h7.2c.773 0 1.4.648 1.4 1.447v11.518c0 .875-.988 1.354-1.64.794L8 11.873 4.64 14.76c-.652.56-1.64.081-1.64-.794z" clip-rule="evenodd"/></svg>',DPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><path d="M4.216 2.031a.503.503 0 0 0-.489.516v9.42l2.648-2.324a.94.94 0 0 1 1.25 0l2.648 2.324v-9.42a.503.503 0 0 0-.489-.516zm-1.466.516C2.75 1.693 3.406 1 4.216 1h5.568c.81 0 1.466.693 1.466 1.547v9.42c0 .873-.965 1.351-1.602.793L7 10.436 4.352 12.76c-.637.558-1.602.08-1.602-.793z" clip-rule="evenodd"/></svg>',u5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75m6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75m-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75"/></svg>',cg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414z"/></svg>',Xq='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2"/><path fill-opacity=".6" d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492z"/></svg>',vw='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.972 16.615a1 1 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a1 1 0 0 1-.745.292"/></svg>',x6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174m2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207M16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zM5.009 15l.003 1H3v-1zm2.188-2-1.471 1H5v-1zM10 11v.095L8.668 12H7v-1zm4-2v1H7V9zm0-2v1H7V7zm-4-2v1H5V5zM6 3v1H3V3z"/></svg>',NPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1m-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1"/></svg>',MPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 9 9 0 0 1-.372.008m-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414M9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415m4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415"/></svg>',BPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0" class="ck-icon__fill"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',VPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7zM0 7h1v2H0zm15 0h1v2h-1zm-8 8h2v1H7z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',LPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m-7 6.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0m7 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',Qk='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136z"/></svg>',FPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.5 8.25a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 8.5 8.25m5.5 0a1.25 1.25 0 1 1-2.499.001A1.25 1.25 0 0 1 14 8.25m-6.873 3.838a.75.75 0 1 0-1.254.824C6.88 14.444 8.423 15.25 10 15.25c1.578 0 3.12-.805 4.127-2.338a.75.75 0 0 0-1.254-.824C12.13 13.221 11.048 13.75 10 13.75c-1.047 0-2.13-.529-2.873-1.662" clip-rule="evenodd"/><path d="M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18m0-1.5a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15"/></svg>',hI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',zPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m8.38 9.262H7.62L10 5.506zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453z"/></svg>',jPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.4 10.3 10 4.5l-2.4 5.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2"/></svg>',C6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973zm-2.754 2.5L8.038 4.785 5.261 11.5zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663z"/></svg>',S6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825q0-.063.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782q.003.065.003.135z"/></svg>',UPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 9h16v2H2z"/></svg>',$Pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965zM2 10H1v5h1v-2h2v2h1v-5H4v2H2zm7 0H6v1h1v4h1v-4h1zm8 0h-1v5h3v-1h-2zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5M10 7v1H4V7zm3-2v1H4V5zm-3-2v1H4V3z"/></svg>',HPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1zM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1zm-5.655 6a2.13 2.13 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7"/></svg>',WPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a3 3 0 0 1-.414-.287 3 3 0 0 1-1.055-2.03 3 3 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.13 2.13 0 0 0-1.875-.978"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.8.8 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79"/></svg>',GPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.4 5.4 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023q.675.195 1.307.573l.058.033q.068.042.135.086V2.1c0-.63-.547-1.1-1.2-1.1zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.1 2.1 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.65.65 0 0 0-.096.492.66.66 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.74 1.74 0 0 1 2.478-.463 1.87 1.87 0 0 1 .476 2.55.64.64 0 0 0-.071.5.65.65 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.23 3.23 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.63.63 0 0 0 .092-.475.64.64 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.74 1.74 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.65.65 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.61.61 0 0 0-.845.17"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236z"/></svg>',YPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822zM14 5V2l3.3 3zm-3.692 12.5q.093.157.213.303L11.52 19H8v-.876a2.24 2.24 0 0 0 1.82-.624zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',E6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5M1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',KPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m9.586 14.633.021.004q-.054.502.393.962.123.125.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15q.711-.106 1.005-.334.235-.182.404-.597l2.416-9.55a1.05 1.05 0 0 0-.281-.823 1.1 1.1 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195q-.564.084-.823.296-.323.263-.623.79z"/></svg>',eZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184"/></svg>',qPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4m0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/></svg>',ZPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M5.714 15.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.141-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.143.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m6.078.914V8.531H10.79q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15zm3.344 0v-1.235h-1.235V15zm-9.422 9.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.833-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m7.088.914v-1.147H10.35q.097-.167.253-.343.155-.175.74-.712t.81-.821q.338-.431.493-.824.156-.394.156-.829 0-.765-.544-1.279-.546-.514-1.499-.514-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774t.615-.233q.391 0 .613.222t.222.635q0 .374-.255.756-.189.277-1.024 1.055-1.037.962-1.388 1.544-.352.583-.422 1.233zm2.334 0v-1.235h-1.235V24zM5.714 34.11q.935 0 1.46-.66.632-.799.632-2.627 0-1.832-.629-2.624-.527-.668-1.463-.668t-1.459.66q-.633.8-.633 2.619 0 1.854.576 2.577.577.723 1.516.723m0-1.024a.6.6 0 0 1-.398-.14q-.173-.142-.287-.565-.115-.424-.115-1.558c0-1.134.043-1.294.128-1.613q.096-.37.272-.512a.62.62 0 0 1 .4-.143.6.6 0 0 1 .398.143q.173.142.288.567t.114 1.558c0 1.134-.043 1.292-.128 1.608q-.096.37-.272.512a.62.62 0 0 1-.4.143m4.992 1.024q.924 0 1.543-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.927-.505.927-1.353 0-.598-.452-1.073-.55-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.667.55q-.24.349-.359.933l1.139.194q.048-.422.272-.642t.54-.22q.321 0 .515.194c.194.194.193.302.193.518q0 .383-.264.613-.263.231-.764.218l-.136 1.006q.33-.092.566-.092.36 0 .611.272.25.273.25.739 0 .492-.26.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.25-.241-.308-.698l-1.195.145q.093.813.668 1.316t1.45.503m4.43-.11v-1.235h-1.235V34z"/></svg>',QPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M10.29 15V8.531H9.286q-.21.59-.778 1.03-.567.442-1.05.6v1.121a4.3 4.3 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15zM11.3 24v-1.147H8.848q.096-.167.252-.343.156-.175.74-.712.585-.536.81-.821.338-.431.494-.824.156-.394.156-.829 0-.765-.545-1.279t-1.499-.514q-.87 0-1.45.444t-.69 1.463l1.23.124q.036-.54.264-.774.23-.233.616-.233.39 0 .613.222t.222.635q0 .374-.255.756-.19.277-1.024 1.055-1.038.962-1.389 1.544T6.971 24zm2.333 0v-1.235h-1.235V24zM9.204 34.11q.922 0 1.542-.598.62-.597.62-1.446 0-.585-.332-.997a1.5 1.5 0 0 0-.886-.532q.928-.505.928-1.353 0-.598-.453-1.073-.549-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.6 1.6 0 0 0-.668.55q-.24.349-.358.933l1.138.194q.048-.422.272-.642t.54-.22q.322 0 .515.194c.193.194.193.302.193.518q0 .383-.263.613-.263.231-.765.218l-.136 1.006q.33-.092.567-.092.36 0 .61.272.251.273.251.739 0 .492-.261.782a.83.83 0 0 1-.644.29.84.84 0 0 1-.607-.242q-.251-.241-.307-.698l-1.196.145q.093.813.668 1.316t1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>',JPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6"/></svg>',XPe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M9.62 14.105q.408 0 .768-.153c.36-.153.466-.257.677-.462q.013.036.044.145.07.242.119.365h1.221a2.7 2.7 0 0 1-.222-.626q-.06-.293-.059-.908l.013-1.441q0-.804-.165-1.105-.165-.302-.569-.497-.405-.195-1.23-.195-.91 0-1.371.325-.462.325-.65 1.002l1.12.202q.114-.326.299-.455.184-.13.514-.13.488 0 .663.152.176.151.176.508v.123q-.333.14-1.2.303-.641.123-.982.288t-.53.474a1.33 1.33 0 0 0-.188.706q0 .598.415.988.416.391 1.136.391zm.368-.87a.68.68 0 0 1-.492-.189.6.6 0 0 1-.193-.448q0-.263.241-.435.159-.105.673-.215a7 7 0 0 0 .751-.19v.247q0 .443-.048.602a.77.77 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14zM10.2 25.105q.813 0 1.382-.646.57-.645.57-1.84 0-1.156-.559-1.774a1.82 1.82 0 0 0-1.41-.617q-.783 0-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592q.39.2.79.2zm-.299-.975q-.531 0-.852-.492-.23-.348-.229-1.073 0-.703.295-1.048a.93.93 0 0 1 .738-.345q.453 0 .743.354t.29 1.154q0 .751-.288 1.1t-.697.35m4.478.87v-1.235h-1.234V25zm-4.017 9.105q.9 0 1.437-.426.536-.426.725-1.261l-1.213-.207q-.092.489-.316.688a.83.83 0 0 1-.576.2.92.92 0 0 1-.75-.343q-.278-.343-.278-1.173 0-.747.274-1.066.275-.318.736-.318.348 0 .565.184t.28.55l1.216-.22q-.22-.751-.722-1.119-.504-.366-1.356-.366-1.042 0-1.653.643-.61.645-.61 1.8 0 1.143.608 1.788.609.646 1.633.646M14.633 34v-1.235h-1.235V34z"/></svg>',eRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.88 8.7V7.558h-1.234V8.7zm0 5.3V9.333h-1.234V14zm2.5 0v-1.235h-1.234V14zm-4.75 4.7v-1.142H8.395V18.7zm0 5.3v-4.667H8.395V24zm2.5-5.3v-1.142h-1.234V18.7zm0 5.3v-4.667h-1.234V24zm2.501 0v-1.235h-1.235V24zM7.38 28.7v-1.142H6.145V28.7zm0 5.3v-4.667H6.145V34zm2.5-5.3v-1.142H8.646V28.7zm0 5.3v-4.667H8.646V34zm2.5-5.3v-1.142h-1.234V28.7zm0 5.3v-4.667h-1.234V34zm2.501 0v-1.235h-1.235V34z"/></svg>',tRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M14 27v6H8v-6zm0-9v6H8v-6zm0-9v6H8V9z"/></svg>',nRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15zM9.352 25q1.244-.009 1.569-.044.518-.057.872-.305.354-.249.558-.664t.205-.855q0-.558-.317-.97-.315-.414-.905-.585a1.5 1.5 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83q0-.419-.197-.754a1.65 1.65 0 0 0-.495-.539 1.7 1.7 0 0 0-.672-.266q-.375-.063-1.14-.063H7.158V25zm.142-3.88H8.46v-1.49h.747q.918 0 1.112.022.325.04.49.226.165.188.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 12 12 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05q.888 0 1.154.092.266.093.406.295a.84.84 0 0 1 .14.492q0 .342-.181.547a.8.8 0 0 1-.473.257q-.189.04-.892.04M14.88 25v-1.235h-1.234V25zm-5.018 9.11q1.037 0 1.711-.512t.965-1.567l-1.261-.4q-.163.708-.536 1.037-.375.33-.892.33-.704 0-1.143-.519-.44-.518-.44-1.74 0-1.15.447-1.665.445-.514 1.162-.514.52 0 .881.29.362.29.477.79l1.288-.307q-.22-.774-.66-1.187-.738-.698-1.92-.698-1.353 0-2.184.89-.83.89-.83 2.498 0 1.521.825 2.397.826.877 2.11.877M14.88 34v-1.235h-1.234V34z"/></svg>',iRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44"><path fill-opacity=".163" d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1z"/><path d="M11.916 15V8.558h-1.301V15zm2.465 0v-1.235h-1.235V15zM9.665 25v-6.442h-1.3V25zm2.5 0v-6.442h-1.3V25zm2.466 0v-1.235h-1.235V25zm-7.216 9v-6.442h-1.3V34zm2.5 0v-6.442h-1.3V34zm2.501 0v-6.442h-1.3V34zm2.465 0v-1.235h-1.235V34z"/></svg>',rRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.68 13.74 4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474M13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0"/></svg>',sRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z" class="ck-icon__fill"/><path d="m2.556 16.727.234-.348q-.445-.226-.498-.426-.054-.206.115-.837.14-.375.169-.595a4.5 4.5 0 0 0 0-.725q-.313-.931-.284-1.26.03-.327.475-.862l6.77-9.414q.808-1.365 3.199.18 2.39 1.549 1.784 2.686l-5.877 10.36q-.237.618-.526.782-.29.163-1.232.21-.543.196-.738.318t-.526.47q-.44.397-.632.397-.143 0-.524-.226l-.31.41zm-.279.415 1.575 1.103-.392.515H1.19zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574q.263-.375-1.092-1.192-1.354-.819-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5z"/></svg>',oRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 42"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098s-4.538-.083-4.538-1.678 2.032-3.43 4.538-4.098c.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556L49 17zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.99 1.99 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17m29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155zM20.6 21.375v1.616h1.616v-1.616zm0 3.231v1.616h1.616v-1.616zm0 3.231v1.616h1.616v-1.616zm0 3.231v1.616h1.616v-1.616zm0 3.231v1.616h1.616v-1.616zm0 3.231v1.616h1.616V37.53zm24.233-16.155v1.616h1.615v-1.616zm0 3.231v1.616h1.615v-1.616zm0 3.231v1.616h1.615v-1.616zm0 3.231v1.616h1.615v-1.616zm0 3.231v1.616h1.615v-1.616zm0 3.231v1.616h1.615V37.53zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35z"/></svg>',aRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 20"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288zm16.448 0h1.003v1h-1.003zm-14.24 1h13.008v12H4.467zm-2.208 1h1.003v1H2.288zm16.448 0h1.003v1h-1.003zm-16.448 2h1.003v1H2.288zm16.448 0h1.003v1h-1.003zm-16.448 2h1.003v1H2.288zm16.448 0h1.003v1h-1.003zm-16.448 2h1.003v1H2.288zm16.448 0h1.003v1h-1.003zm-16.448 2h1.003l-.029 1h-.974zm16.448 0h1.003v1h-1.003zm-16.448 2h.974v1h-.974zm16.448 0h1.003v1h-1.003z"/><path d="M8.374 6.648a.4.4 0 0 1 .395-.4.4.4 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35z"/></svg>',tZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382z"/></svg>',d5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M3.5 3v5H2V3.7H1v-1h2.5zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001q-.073.607-.333.988-.263.381-1.244 1.312H4.3v1h-4zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',HA='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H6.5V12h6.997z"/></svg>',lRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1m-1.505.5H3.504V12h12.991z"/></svg>',f5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',WA='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',nZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',iZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H3.5V12h6.997z"/></svg>',rZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3h16v1.5H2zm0 12h16v1.5H2z" opacity=".5"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1m-1.506.5H9.5V12h6.997z"/></svg>',cRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95zm.55 3.5v-2h2v2zm0 9.3v2h2v-2zm15-11.3v2h2v-2zM8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046zm11.421-9.101a.6.6 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.6.6 0 0 1 .206-.138.6.6 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243"/></svg>',uRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15.5v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm-19-2v1H0v-1zm19 0v1h-1v-1zm0-2v1h-1v-1zm-19 0v1H0v-1zM14.5 2v1h-1V2zm2 0v1h-1V2zm2 0v1h-1V2zm-8 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm-2 0v1h-1V2zm8 0v1h-1V2zm-10 0v1h-1V2z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2m0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.49.49 0 0 1-.476-.5V4c0-.276.213-.5.476-.5z"/></svg>',dRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2M13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7z"/></svg>',fRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2M10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9z"/></svg>',hRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 16.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zM1 15v1H0v-1zm19 0v1h-1v-1zM1 13v1H0v-1zm19 0v1h-1v-1zM1 11v1H0v-1zm19 0v1h-1v-1zM1 9v1H0V9zm19 0v1h-1V9zM1 7v1H0V7zm19 0v1h-1V7zM1 5v1H0V5zm19 0v1h-1V5zm0-2v1h-1V3zM1 3v1H0V3zm13.5-1.5v1h-1v-1zm2 0v1h-1v-1zm2 0v1h-1v-1zm-8 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm-2 0v1h-1v-1zm8 0v1h-1v-1zm-10 0v1h-1v-1z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2M7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11z"/></svg>',T6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75m5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75M2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5m1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',mRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z"/><path d="M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z"/><path d="M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z"/></svg>',gRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5M5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1"/></svg>',GA='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.3 17.37-.061.088a1.52 1.52 0 0 1-.934.535l-4.178.663-.806-4.153a1.5 1.5 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346zM6.07 16.512l-3.276-2.295.53 2.73zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328M8 18.5 9.375 17H19v1.5z"/></svg>',pRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568z" class="ck-icon__fill"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97q.249-.348.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005zm-.634.166-1.976.516-.026-1.918zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349M8.245 18.5 9.59 17h9.406v1.5z"/></svg>',bRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4"/></svg>',vRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1"/></svg>',Uu='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',wRe=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,yRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003z"/></svg>',I6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.75.75 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.8.8 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032z"/></svg>',_Re='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8.69 14.915q.08.078.36.093a.366.366 0 0 1 .345.485l-.003.01a.74.74 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.68.68 0 0 1 .644-.458q.295-.018.386-.093a.3.3 0 0 0 .072-.11L9.592 4.5H6.269q-.538-.026-.75.09-.213.117-.442.563c-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486q.002-.426-.167-.54-.168-.114-.766-.091h-3.28l-2.68 10.257q-.009.111.038.158M3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1m11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',ARe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1m1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7s-.3-.8-1-.8h-2.4z"/></svg>',kRe='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',xRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75m18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75m-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2z"/></svg>',CRe=`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.734 6.375H1.75a.75.75 0 0 1 0-1.5h1.984a2.626 2.626 0 0 1 5.032 0h9.48a.75.75 0 0 1 0 1.5h-9.48a2.626 2.626 0 0 1-5.032 0Zm1.141-.75a1.375 1.375 0 1 1 2.75 0 1.375 1.375 0 0 1-2.75 0ZM16.263 14.625h1.983a.75.75 0 0 1 0 1.5h-1.983a2.626 2.626 0 0 1-5.033 0H1.75a.75.75 0 0 1 0-1.5h9.48a2.626 2.626 0 0 1 5.033 0Zm-1.142.75a1.375 1.375 0 1 1-2.75 0 1.375 1.375 0 0 1 2.75 0Z"/></svg>
`,SRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m6.395 9.196 2.545-.007V6.498a.6.6 0 0 1 .598-.598h.299a.6.6 0 0 1 .598.598v6.877a.6.6 0 0 1-.598.598h-.299a.6.6 0 0 1-.598-.598v-2.691l-2.545.007v2.691a.6.6 0 0 1-.598.598h-.299a.6.6 0 0 1-.598-.598V6.505a.6.6 0 0 1 .598-.598h.299a.6.6 0 0 1 .598.598zm8.699 4.221V6.462a.56.56 0 0 0-.562-.562h-.782a1 1 0 0 0-.39.08l-1.017.43a.56.56 0 0 0-.343.517v.197c0 .4.406.67.775.519l.819-.337v6.111c0 .31.251.562.561.562h.377c.31 0 .562-.251.562-.562M0 15.417v1.5h1.5v-1.5zm18.5 0v1.5H20v-1.5zm0-3.084v1.5H20v-1.5zm0-3.083v1.5H20v-1.5zm0-3.083v1.5H20v-1.5zM0 18.5v.5a1 1 0 0 0 1 1h.5v-1.5zm3.083 0V20h1.5v-1.5zm3.084 0V20h1.5v-1.5zm3.083 0V20h1.5v-1.5zm3.083 0V20h1.5v-1.5zm3.084 0V20h1.5v-1.5zm3.083 0V20h.5a1 1 0 0 0 1-1v-.5z"/><path d="M0 1a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v3.583h-1.5V1.5h-17v12.333H0z" clip-rule="evenodd"/></svg>',ERe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m12.5 0 5 4.5v15.003h-16V0zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692z"/><path d="M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0"/></svg>',TRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6M6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',IRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53zm8.147 7.829h2.549q.38 0 .58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197a.62.62 0 0 1-.205-.463q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553t.405-.57.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646c.3-.289.454-.349.762-.467a3 3 0 0 1 1.081-.178q.747 0 1.274.228a1.92 1.92 0 0 1 1.004 1.032 1.98 1.98 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.584-1.008.906a3 3 0 0 0-.24.309z"/></svg>',PRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M15.677 8.678h2.549q.38 0 .58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393q-.158.162-.48.162h-3.594q-.367 0-.572-.197a.62.62 0 0 1-.205-.463q0-.171.132-.453a1.6 1.6 0 0 1 .288-.444q.65-.654 1.172-1.122t.747-.615q.401-.275.667-.553.265-.278.405-.57t.139-.57a1.01 1.01 0 0 0-.554-.917 1.2 1.2 0 0 0-.56-.133q-.639 0-1.005.546a2.3 2.3 0 0 0-.164.39 1.6 1.6 0 0 1-.258.488q-.144.17-.423.17a.56.56 0 0 1-.405-.156.57.57 0 0 1-.161-.427q0-.327.151-.683.152-.357.452-.646c.3-.289.454-.349.762-.467a3 3 0 0 1 1.081-.178q.747 0 1.274.228a1.92 1.92 0 0 1 1.004 1.032 1.98 1.98 0 0 1-.156 1.794q-.3.48-.613.754-.312.273-1.048.857-.735.584-1.008.906a3 3 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53z"/></svg>',RRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5zM2 12h5V8H2zm10-4H8v4h4zM2 2v5h5V2zm0 16h5v-5H2zM13 7h5V2h-5zM8 2v5h4V2z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM13 6a1 1 0 0 1 1 1v3.172a2 2 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.98 1.98 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm-1 2H8v4h4z"/></svg>',ORe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M18 7v1H2V7zm0 5v1H2v-1z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1m-2 1H8v4h4zm0 6H8v4h4zm0 6H8v4h4z"/></svg>',DRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v7h-1zm6 5v1H2V7zM8 12v1H2v-1z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1m1 2v9h10V9z"/></svg>',sZ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2zm4 6H8v4h4z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2 2 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"/></svg>',NRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1M2 2v16h16V2z" opacity=".6"/><path d="M7 2h1v16H7zm5 0h1v16h-1z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1m1 2v4h4V8zm6 0v4h4V8zm6 0v4h4V8z"/></svg>',P6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 5.5v3h4v-3zm0 4v3h4v-3zm0 4v3h4v-3zm5 3h4v-3H8zm5 0h4v-3h-4zm4-4v-3h-4v3zm0-4v-3h-4v3zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5zm-6.5-4v-3H8v3zm0-4v-3H8v3z"/></svg>',R6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M1.5 4.121C1.5 2.95 2.426 2 3.568 2h12.864c1.142 0 2.068.95 2.068 2.121V16.38c0 1.171-.926 2.121-2.068 2.121H3.568c-1.142 0-2.068-.95-2.068-2.121zm2.068-.707a.7.7 0 0 0-.69.707V6.38h14.244V4.12a.7.7 0 0 0-.69-.707zm13.554 4.38h-4.968v3.939h4.968zm0 5.353h-4.968v3.939h4.278c.381 0 .69-.317.69-.707zm-6.347 3.939V7.794H2.878v8.585c0 .39.309.707.69.707z"/></svg>',MRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1zm10.453 2.61a1.89 1.89 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.9 1.9 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598M7.463 8.163a.6.6 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.63.63 0 0 0-.417-.185m6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.62.62 0 0 0-.42-.165M.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.91.91 0 0 0-.912-.912zM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516zm4.947 0h1.801v4.3h2.7v1.4h-4.5zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9zm-8.517 1.457-.614 2.059h1.262z"/></svg>',BRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.816 11.5 7.038 4.785 4.261 11.5zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254z"/></svg>',h5='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',VRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m2.315 14.705 2.224-2.24a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.7.7 0 0 1-.112.089.65.65 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75M2.329 5.745l2.21-2.226a.69.69 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.7.7 0 0 1-.496.196.64.64 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75"/></svg>',LRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8s3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4"/></svg>',O6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.75.75 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.8.8 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032z"/></svg>',FRe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.8.8 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.7.7 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294zm5.494-5.335a.8.8 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.8.8 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955m-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184m4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06z"/></svg>';const D6={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var N6={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function M6(n){var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),D6[n])t=D6[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var s=n.slice(1),o=s.length,a=o<=4;i=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var l=e[1];r=l.replace(/a$/,"");var d=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(f,m){if(f[f.length-1]==="%")return f=parseFloat(f)/100,m===3?f:r==="rgb"?f*255:r[0]==="h"||r[0]==="l"&&!m?f*100:r==="lab"?f*125:r==="lch"?m<2?f*150:f*360:r[0]==="o"&&!m?f:r==="oklab"?f*.4:r==="oklch"?m<2?f*.4:f*360:f;if(r[m]==="h"||m===2&&r[r.length-1]==="h"){if(N6[f]!==void 0)return N6[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=t.length>d?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=n.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:t,alpha:i}}const bv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},oZ={};for(const n of Object.keys(bv))oZ[bv[n]]=n;const Ge={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},nc=(6/29)**3;function ym(n){const e=n>.0031308?1.055*n**.4166666666666667-.055:n*12.92;return Math.min(Math.max(0,e),1)}function _m(n){return n>.04045?((n+.055)/1.055)**2.4:n/12.92}for(const n of Object.keys(Ge)){if(!("channels"in Ge[n]))throw new Error("missing channels property: "+n);if(!("labels"in Ge[n]))throw new Error("missing channel labels property: "+n);if(Ge[n].labels.length!==Ge[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=Ge[n];delete Ge[n].channels,delete Ge[n].labels,Object.defineProperty(Ge[n],"channels",{value:e}),Object.defineProperty(Ge[n],"labels",{value:t})}Ge.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=s-r;let a,l;switch(s){case r:{a=0;break}case e:{a=(t-i)/o;break}case t:{a=2+(i-e)/o;break}case i:{a=4+(e-t)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const d=(r+s)/2;return s===r?l=0:d<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,d*100]};Ge.rgb.hsv=function(n){let e,t,i,r,s;const o=n[0]/255,a=n[1]/255,l=n[2]/255,d=Math.max(o,a,l),f=d-Math.min(o,a,l),m=function(p){return(d-p)/6/f+1/2};if(f===0)r=0,s=0;else{switch(s=f/d,e=m(o),t=m(a),i=m(l),d){case o:{r=i-t;break}case a:{r=1/3+e-i;break}case l:{r=2/3+t-e;break}}r<0?r+=1:r>1&&(r-=1)}return[r*360,s*100,d*100]};Ge.rgb.hwb=function(n){const e=n[0],t=n[1];let i=n[2];const r=Ge.rgb.hsl(n)[0],s=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[r,s*100,i*100]};Ge.rgb.oklab=function(n){const e=_m(n[0]/255),t=_m(n[1]/255),i=_m(n[2]/255),r=Math.cbrt(.4122214708*e+.5363325363*t+.0514459929*i),s=Math.cbrt(.2119034982*e+.6806995451*t+.1073969566*i),o=Math.cbrt(.0883024619*e+.2817188376*t+.6299787005*i),a=.2104542553*r+.793617785*s-.0040720468*o,l=1.9779984951*r-2.428592205*s+.4505937099*o,d=.0259040371*r+.7827717662*s-.808675766*o;return[a*100,l*100,d*100]};Ge.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(1-e,1-t,1-i),s=(1-e-r)/(1-r)||0,o=(1-t-r)/(1-r)||0,a=(1-i-r)/(1-r)||0;return[s*100,o*100,a*100,r*100]};function zRe(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}Ge.rgb.keyword=function(n){const e=oZ[n];if(e)return e;let t=Number.POSITIVE_INFINITY,i;for(const r of Object.keys(bv)){const s=bv[r],o=zRe(n,s);o<t&&(t=o,i=r)}return i};Ge.keyword.rgb=function(n){return bv[n]};Ge.rgb.xyz=function(n){const e=_m(n[0]/255),t=_m(n[1]/255),i=_m(n[2]/255),r=e*.4124564+t*.3575761+i*.1804375,s=e*.2126729+t*.7151522+i*.072175,o=e*.0193339+t*.119192+i*.9503041;return[r*100,s*100,o*100]};Ge.rgb.lab=function(n){const e=Ge.rgb.xyz(n);let t=e[0],i=e[1],r=e[2];t/=95.047,i/=100,r/=108.883,t=t>nc?t**(1/3):7.787*t+16/116,i=i>nc?i**(1/3):7.787*i+16/116,r=r>nc?r**(1/3):7.787*r+16/116;const s=116*i-16,o=500*(t-i),a=200*(i-r);return[s,o,a]};Ge.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;let r,s;if(t===0)return s=i*255,[s,s,s];const o=i<.5?i*(1+t):i+t-i*t,a=2*i-o,l=[0,0,0];for(let d=0;d<3;d++)r=e+1/3*-(d-1),r<0&&r++,r>1&&r--,6*r<1?s=a+(o-a)*6*r:2*r<1?s=o:3*r<2?s=a+(o-a)*(2/3-r)*6:s=a,l[d]=s*255;return l};Ge.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,i=n[2]/100,r=t;const s=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,r*=s<=1?s:2-s;const o=(i+t)/2,a=i===0?2*r/(s+r):2*t/(i+t);return[e,a*100,o*100]};Ge.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let i=n[2]/100;const r=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-t),a=255*i*(1-t*s),l=255*i*(1-t*(1-s));switch(i*=255,r){case 0:return[i,l,o];case 1:return[a,i,o];case 2:return[o,i,l];case 3:return[o,a,i];case 4:return[l,o,i];case 5:return[i,o,a]}};Ge.hsv.hsl=function(n){const e=n[0],t=n[1]/100,i=n[2]/100,r=Math.max(i,.01);let s,o;o=(2-t)*i;const a=(2-t)*r;return s=t*r,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Ge.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,i=n[2]/100;const r=t+i;let s;r>1&&(t/=r,i/=r);const o=Math.floor(6*e),a=1-i;s=6*e-o,(o&1)!==0&&(s=1-s);const l=t+s*(a-t);let d,f,m;switch(o){default:case 6:case 0:{d=a,f=l,m=t;break}case 1:{d=l,f=a,m=t;break}case 2:{d=t,f=a,m=l;break}case 3:{d=t,f=l,m=a;break}case 4:{d=l,f=t,m=a;break}case 5:{d=a,f=t,m=l;break}}return[d*255,f*255,m*255]};Ge.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=n[3]/100,s=1-Math.min(1,e*(1-r)+r),o=1-Math.min(1,t*(1-r)+r),a=1-Math.min(1,i*(1-r)+r);return[s*255,o*255,a*255]};Ge.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100;let r,s,o;return r=e*3.2404542+t*-1.5371385+i*-.4985314,s=e*-.969266+t*1.8760108+i*.041556,o=e*.0556434+t*-.2040259+i*1.0572252,r=ym(r),s=ym(s),o=ym(o),[r*255,s*255,o*255]};Ge.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>nc?e**(1/3):7.787*e+16/116,t=t>nc?t**(1/3):7.787*t+16/116,i=i>nc?i**(1/3):7.787*i+16/116;const r=116*t-16,s=500*(e-t),o=200*(t-i);return[r,s,o]};Ge.xyz.oklab=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=Math.cbrt(.8189330101*e+.3618667424*t-.1288597137*i),s=Math.cbrt(.0329845436*e+.9293118715*t+.0361456387*i),o=Math.cbrt(.0482003018*e+.2643662691*t+.633851707*i),a=.2104542553*r+.793617785*s-.0040720468*o,l=1.9779984951*r-2.428592205*s+.4505937099*o,d=.0259040371*r+.7827717662*s-.808675766*o;return[a*100,l*100,d*100]};Ge.oklab.oklch=function(n){return Ge.lab.lch(n)};Ge.oklab.xyz=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=(.999999998*e+.396337792*t+.215803758*i)**3,s=(1.000000008*e-.105561342*t-.063854175*i)**3,o=(1.000000055*e-.089484182*t-1.291485538*i)**3,a=1.227013851*r-.55779998*s+.281256149*o,l=-.040580178*r+1.11225687*s-.071676679*o,d=-.076381285*r-.421481978*s+1.58616322*o;return[a*100,l*100,d*100]};Ge.oklab.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,r=(e+.3963377774*t+.2158037573*i)**3,s=(e-.1055613458*t-.0638541728*i)**3,o=(e-.0894841775*t-1.291485548*i)**3,a=ym(4.0767416621*r-3.3077115913*s+.2309699292*o),l=ym(-1.2684380046*r+2.6097574011*s-.3413193965*o),d=ym(-.0041960863*r-.7034186147*s+1.707614701*o);return[a*255,l*255,d*255]};Ge.oklch.oklab=function(n){return Ge.lch.lab(n)};Ge.lab.xyz=function(n){const e=n[0],t=n[1],i=n[2];let r,s,o;s=(e+16)/116,r=t/500+s,o=s-i/200;const a=s**3,l=r**3,d=o**3;return s=a>nc?a:(s-16/116)/7.787,r=l>nc?l:(r-16/116)/7.787,o=d>nc?d:(o-16/116)/7.787,r*=95.047,s*=100,o*=108.883,[r,s,o]};Ge.lab.lch=function(n){const e=n[0],t=n[1],i=n[2];let r;r=Math.atan2(i,t)*360/2/Math.PI,r<0&&(r+=360);const o=Math.sqrt(t*t+i*i);return[e,o,r]};Ge.lch.lab=function(n){const e=n[0],t=n[1],r=n[2]/360*2*Math.PI,s=t*Math.cos(r),o=t*Math.sin(r);return[e,s,o]};Ge.rgb.ansi16=function(n,e=null){const[t,i,r]=n;let s=e===null?Ge.rgb.hsv(n)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return s===2&&(o+=60),o};Ge.hsv.ansi16=function(n){return Ge.rgb.ansi16(Ge.hsv.rgb(n),n[2])};Ge.rgb.ansi256=function(n){const e=n[0],t=n[1],i=n[2];return e>>4===t>>4&&t>>4===i>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};Ge.ansi16.rgb=function(n){n=n[0];let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(Math.trunc(n>50)+1)*.5,i=(e&1)*t*255,r=(e>>1&1)*t*255,s=(e>>2&1)*t*255;return[i,r,s]};Ge.ansi256.rgb=function(n){if(n=n[0],n>=232){const s=(n-232)*10+8;return[s,s,s]}n-=16;let e;const t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,r=e%6/5*255;return[t,i,r]};Ge.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};Ge.hex.rgb=function(n){const e=n.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=[...t].map(a=>a+a).join(""));const i=Number.parseInt(t,16),r=i>>16&255,s=i>>8&255,o=i&255;return[r,s,o]};Ge.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.max(Math.max(e,t),i),s=Math.min(Math.min(e,t),i),o=r-s;let a;const l=o<1?s/(1-o):0;return o<=0?a=0:r===e?a=(t-i)/o%6:r===t?a=2+(i-e)/o:a=4+(e-t)/o,a/=6,a%=1,[a*360,o*100,l*100]};Ge.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t);let r=0;return i<1&&(r=(t-.5*i)/(1-i)),[n[0],i*100,r*100]};Ge.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=e*t;let r=0;return i<1&&(r=(t-i)/(1-i)),[n[0],i*100,r*100]};Ge.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];const r=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:{r[0]=1,r[1]=o,r[2]=0;break}case 1:{r[0]=a,r[1]=1,r[2]=0;break}case 2:{r[0]=0,r[1]=1,r[2]=o;break}case 3:{r[0]=0,r[1]=a,r[2]=1;break}case 4:{r[0]=o,r[1]=0,r[2]=1;break}default:r[0]=1,r[1]=0,r[2]=a}return l=(1-t)*i,[(t*r[0]+l)*255,(t*r[1]+l)*255,(t*r[2]+l)*255]};Ge.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);let r=0;return i>0&&(r=e/i),[n[0],r*100,i*100]};Ge.hcg.hsl=function(n){const e=n[1]/100,i=n[2]/100*(1-e)+.5*e;let r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[n[0],r*100,i*100]};Ge.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};Ge.hwb.hcg=function(n){const e=n[1]/100,i=1-n[2]/100,r=i-e;let s=0;return r<1&&(s=(i-r)/(1-r)),[n[0],r*100,s*100]};Ge.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};Ge.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};Ge.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};Ge.gray.hsl=function(n){return[0,0,n[0]]};Ge.gray.hsv=Ge.gray.hsl;Ge.gray.hwb=function(n){return[0,100,n[0]]};Ge.gray.cmyk=function(n){return[0,0,0,n[0]]};Ge.gray.lab=function(n){return[n[0],0,0]};Ge.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(i.length)+i};Ge.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};function jRe(){const n={},e=Object.keys(Ge);for(let{length:t}=e,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function URe(n){const e=jRe(),t=[n];for(e[n].distance=0;t.length>0;){const i=t.pop(),r=Object.keys(Ge[i]);for(let{length:s}=r,o=0;o<s;o++){const a=r[o],l=e[a];l.distance===-1&&(l.distance=e[i].distance+1,l.parent=i,t.unshift(a))}}return e}function $Re(n,e){return function(t){return e(n(t))}}function HRe(n,e){const t=[e[n].parent,n];let i=Ge[e[n].parent][n],r=e[n].parent;for(;e[r].parent;)t.unshift(e[r].parent),i=$Re(Ge[e[r].parent][r],i),r=e[r].parent;return i.conversion=t,i}function WRe(n){const e=URe(n),t={},i=Object.keys(e);for(let{length:r}=i,s=0;s<r;s++){const o=i[s];e[o].parent!==null&&(t[o]=HRe(o,e))}return t}const Fd={},GRe=Object.keys(Ge);function YRe(n){const e=function(...t){const i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function KRe(n){const e=function(...t){const i=t[0];if(i==null)return i;i.length>1&&(t=i);const r=n(t);if(typeof r=="object")for(let{length:s}=r,o=0;o<s;o++)r[o]=Math.round(r[o]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}for(const n of GRe){Fd[n]={},Object.defineProperty(Fd[n],"channels",{value:Ge[n].channels}),Object.defineProperty(Fd[n],"labels",{value:Ge[n].labels});const e=WRe(n),t=Object.keys(e);for(const i of t){const r=e[i];Fd[n][i]=KRe(r),Fd[n][i].raw=YRe(r)}}const vv=(n,e=0,t=1)=>n>t?t:n<e?e:n,lr=(n,e=0,t=Math.pow(10,e))=>Math.round(t*n)/t,qRe=n=>eOe(mI(n)),mI=n=>(n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?lr(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?lr(parseInt(n.substring(6,8),16)/255,2):1}),ZRe=n=>XRe(JRe(n)),QRe=({h:n,s:e,v:t,a:i})=>{const r=(200-e)*t/100;return{h:lr(n),s:lr(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:lr(r/2),a:lr(i,2)}},gI=n=>{const{h:e,s:t,l:i}=QRe(n);return`hsl(${e}, ${t}%, ${i}%)`},JRe=({h:n,s:e,v:t,a:i})=>{n=n/360*6,e=e/100,t=t/100;const r=Math.floor(n),s=t*(1-e),o=t*(1-(n-r)*e),a=t*(1-(1-n+r)*e),l=r%6;return{r:lr([t,o,s,s,a,t][l]*255),g:lr([a,t,t,o,s,s][l]*255),b:lr([s,s,a,t,t,o][l]*255),a:lr(i,2)}},z_=n=>{const e=n.toString(16);return e.length<2?"0"+e:e},XRe=({r:n,g:e,b:t,a:i})=>{const r=i<1?z_(lr(i*255)):"";return"#"+z_(n)+z_(e)+z_(t)+r},eOe=({r:n,g:e,b:t,a:i})=>{const r=Math.max(n,e,t),s=r-Math.min(n,e,t),o=s?r===n?(e-t)/s:r===e?2+(t-n)/s:4+(n-e)/s:0;return{h:lr(60*(o<0?o+6:o)),s:lr(r?s/r*100:0),v:lr(r/255*100),a:i}},aZ=(n,e)=>{if(n===e)return!0;for(const t in n)if(n[t]!==e[t])return!1;return!0},tOe=(n,e)=>n.toLowerCase()===e.toLowerCase()?!0:aZ(mI(n),mI(e)),B6={},lZ=n=>{let e=B6[n];return e||(e=document.createElement("template"),e.innerHTML=n,B6[n]=e),e},m5=(n,e,t)=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Am=!1;const pI=n=>"touches"in n,nOe=n=>Am&&!pI(n)?!1:(Am||(Am=pI(n)),!0),V6=(n,e)=>{const t=pI(e)?e.touches[0]:e,i=n.el.getBoundingClientRect();m5(n.el,"move",n.getMove({x:vv((t.pageX-(i.left+window.pageXOffset))/i.width),y:vv((t.pageY-(i.top+window.pageYOffset))/i.height)}))},iOe=(n,e)=>{const t=e.keyCode;t>40||n.xy&&t<37||t<33||(e.preventDefault(),m5(n.el,"move",n.getMove({x:t===39?.01:t===37?-.01:t===34?.05:t===33?-.05:t===35?1:t===36?-1:0,y:t===40?.01:t===38?-.01:0},!0)))};class cZ{constructor(e,t,i,r){const s=lZ(`<div role="slider" tabindex="0" part="${t}" ${i}><div part="${t}-pointer"></div></div>`);e.appendChild(s.content.cloneNode(!0));const o=e.querySelector(`[part=${t}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=r,this.nodes=[o.firstChild,o]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Am?"touchmove":"mousemove",this),t(Am?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!nOe(e)||!Am&&e.button!=0)return;this.el.focus(),V6(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),V6(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":iOe(this,e);break}}style(e){e.forEach((t,i)=>{for(const r in t)this.nodes[i].style.setProperty(r,t[r])})}}class rOe extends cZ{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:gI({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${lr(e)}`)}getMove(e,t){return{h:t?vv(this.h+e.x*360,0,360):360*e.x}}}class sOe extends cZ{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:gI(e)},{"background-color":gI({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${lr(e.s)}%, Brightness ${lr(e.v)}%`)}getMove(e,t){return{s:t?vv(this.hsva.s+e.x*100,0,100):e.x*100,v:t?vv(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const oOe=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',aOe="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",lOe="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",j_=Symbol("same"),nE=Symbol("color"),L6=Symbol("hsva"),iE=Symbol("update"),F6=Symbol("parts"),z6=Symbol("css"),j6=Symbol("sliders");class cOe extends HTMLElement{static get observedAttributes(){return["color"]}get[z6](){return[oOe,aOe,lOe]}get[j6](){return[sOe,rOe]}get color(){return this[nE]}set color(e){if(!this[j_](e)){const t=this.colorModel.toHsva(e);this[iE](t),this[nE]=e}}constructor(){super();const e=lZ(`<style>${this[z6].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[F6]=this[j6].map(i=>new i(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,i){const r=this.colorModel.fromAttr(i);this[j_](r)||(this.color=r)}handleEvent(e){const t=this[L6],i={...t,...e.detail};this[iE](i);let r;!aZ(i,t)&&!this[j_](r=this.colorModel.fromHsva(i))&&(this[nE]=r,m5(this,"color-changed",{value:r}))}[j_](e){return this.color&&this.colorModel.equal(e,this.color)}[iE](e){this[L6]=e,this[F6].forEach(t=>t.update(e))}}const uOe={defaultColor:"#000",toHsva:qRe,fromHsva:({h:n,s:e,v:t})=>ZRe({h:n,s:e,v:t,a:1}),equal:tOe,fromAttr:n=>n};class dOe extends cOe{get colorModel(){return uOe}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Ai extends hi{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,r)=>{this._renderViewIntoCollectionParent(i,r)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!fOe(e))throw new z("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const r of e)i.delegate(r).to(t);this.on("add",(i,r)=>{for(const s of e)r.delegate(s).to(t)}),this.on("remove",(i,r)=>{for(const s of e)r.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function fOe(n){return n.every(e=>typeof e=="string")}const hOe="http://www.w3.org/1999/xhtml";class Mr extends hn(){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,$6(U6(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=G6(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new z("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const i of t.children)YA(i)?yield i:g5(i)&&(yield*e(i))}yield*e(this)}static bind(e,t){return{to(i,r){return new mOe({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:r})},if(i,r,s){return new uZ({observable:e,emitter:t,attribute:i,valueIfTrue:r,callback:s})}}}static extend(e,t){if(e._isRendered)throw new z("template-extend-render",[this,e]);mZ(e,$6(U6(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new z("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||hOe,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),k0(this.text)?this._bindToObservable({schema:this.text,updater:pOe(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const r in this.attributes){const s=t.getAttribute(r),o=this.attributes[r];i&&(i.attributes[r]=s);const a=W6(o)?o[0].ns:null;if(k0(o)){const l=W6(o)?o[0].value:o;i&&Y6(r)&&l.unshift(s),this._bindToObservable({schema:l,updater:bOe(t,r,a),data:e})}else if(r=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{i&&s&&Y6(r)&&o.unshift(s);const l=o.map(d=>d&&(d.value||d)).reduce((d,f)=>d.concat(f),[]).reduce(hZ,"");jm(l)||t.setAttributeNS(a,r,l)}}}_renderStyleAttribute(e,t){const i=t.node;for(const r in e){const s=e[r];k0(s)?this._bindToObservable({schema:[s],updater:vOe(i,r),data:t}):i.style[r]=s}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let s=0;for(const o of this.children)if(p5(o)){if(!r){o.setParent(t);for(const a of o)i.appendChild(a.element)}}else if(YA(o))r||(o.isRendered||o.render(),i.appendChild(o.element));else if(Ou(o))i.appendChild(o);else if(r){const a=e.revertData,l=G6();a.children.push(l),o._renderNode({intoFragment:!1,node:i.childNodes[s++],isApplying:!0,revertData:l})}else i.appendChild(o.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(r=>{const[s,o]=t.split("@");return r.activateDomEventListener(s,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const r=i.revertData;dZ(e,t,i);const s=e.filter(o=>!jm(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,i));r&&r.bindings.push(s)}_revertTemplateFromNode(e,t){for(const r of t.bindings)for(const s of r)s();if(t.text){e.textContent=t.text;return}const i=e;for(const r in t.attributes){const s=t.attributes[r];s===null?i.removeAttribute(r):i.setAttribute(r,s)}for(let r=0;r<t.children.length;++r)this._revertTemplateFromNode(i.childNodes[r],t.children[r])}}class ww{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const r=()=>dZ(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class mOe extends ww{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const r=(s,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,r),()=>{this.emitter.stopListening(i.node,e,r)}}}class uZ extends ww{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return jm(t)?!1:this.valueIfTrue||!0}}function k0(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(k0):n instanceof ww):!1}function gOe(n,e){return n.map(t=>t instanceof ww?t.getValue(e):t)}function dZ(n,e,{node:t}){const i=gOe(n,t);let r;n.length==1&&n[0]instanceof uZ?r=i[0]:r=i.reduce(hZ,""),jm(r)?e.remove():e.set(r)}function pOe(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function bOe(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function vOe(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function U6(n){return Lk(n,t=>{if(t&&(t instanceof ww||g5(t)||YA(t)||p5(t)))return t})}function $6(n){if(typeof n=="string"?n=_Oe(n):n.text&&AOe(n),n.on&&(n.eventListeners=yOe(n.on),delete n.on),!n.text){n.attributes&&wOe(n.attributes);const e=[];if(n.children)if(p5(n.children))e.push(n.children);else for(const t of n.children)g5(t)||YA(t)||Ou(t)?e.push(t):e.push(new Mr(t));n.children=e}return n}function wOe(n){for(const e in n)n[e].value&&(n[e].value=Jt(n[e].value)),fZ(n,e)}function yOe(n){for(const e in n)fZ(n,e);return n}function _Oe(n){return{text:[n]}}function AOe(n){n.text=Jt(n.text)}function fZ(n,e){n[e]=Jt(n[e])}function hZ(n,e){return jm(e)?n:jm(n)?e:`${n} ${e}`}function H6(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function mZ(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),H6(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),H6(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new z("ui-template-extend-children-mismatch",n);let t=0;for(const i of e.children)mZ(n.children[t++],i)}}function jm(n){return!n&&n!==0}function YA(n){return n instanceof Me}function g5(n){return n instanceof Mr}function p5(n){return n instanceof Ai}function W6(n){return kr(n[0])&&n[0].ns}function G6(){return{children:[],bindings:[],attributes:{}}}function Y6(n){return n=="class"||n=="style"}class Me extends Ur(ln()){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new hi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Mr.bind(this,this)}createCollection(e){const t=new Ai(e);return this._viewCollections.add(t),t}registerChild(e){Rs(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Rs(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Mr(e)}extendTemplate(e){Mr.extend(this.template,e)}render(){if(this.isRendered)throw new z("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const K6={POLITE:"polite",ASSERTIVE:"assertive"};class kOe{editor;view;constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(K6))this.announce("",t)})}announce(e,t=K6.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new xOe(i.locale),i.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:s}=typeof t=="string"?{politeness:t}:t;let o=this.view.regionViews.find(a=>a.politeness===r);o||(o=new COe(i,r),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:s})}}class xOe extends Me{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class COe extends Me{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const i=document.createElement("li");t?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Xo({emitter:n,activator:e,callback:t,contextElements:i,listenerOptions:r}){n.listenTo(document,"mousedown",(s,o)=>{if(!e())return;const a=typeof o.composedPath=="function"?o.composedPath():[],l=typeof i=="function"?i():i;for(const d of l)if(d.contains(o.target)||a.includes(d))return;t()},r)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Um(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.template&&this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function SOe(n){class e extends n{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(...i){super(...i),this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Re.document,"mouseup",this._onDragEndBound),this.listenTo(Re.document,"touchend",this._onDragEndBound),this.listenTo(Re.document,"mousemove",this._onDragBound),this.listenTo(Re.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Re.document,"mouseup",this._onDragEndBound),this.stopListening(Re.document,"touchend",this._onDragEndBound),this.stopListening(Re.document,"mousemove",this._onDragBound),this.stopListening(Re.document,"touchmove",this._onDragBound)}_onDragStart(i,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let s=0,o=0;r instanceof MouseEvent?(s=r.clientX,o=r.clientY):(s=r.touches[0].clientX,o=r.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:o},this.isDragging=!0}_onDrag(i,r){if(!this.isDragging){this._detachDragListeners();return}let s=0,o=0;r instanceof MouseEvent?(s=r.clientX,o=r.clientY):(s=r.touches[0].clientX,o=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xc({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yw({keystrokeHandler:n,focusTracker:e,gridItems:t,numberOfColumns:i,uiLanguageDirection:r}){const s=typeof i=="number"?()=>i:i;n.set("arrowright",o((d,f)=>r==="rtl"?l(d,f.length):a(d,f.length))),n.set("arrowleft",o((d,f)=>r==="rtl"?a(d,f.length):l(d,f.length))),n.set("arrowup",o((d,f)=>{let m=d-s();return m<0&&(m=d+s()*Math.floor(f.length/s()),m>f.length-1&&(m-=s())),m})),n.set("arrowdown",o((d,f)=>{let m=d+s();return m>f.length-1&&(m=d%s()),m}));function o(d){return f=>{const m=t.find(A=>A.element===e.focusedElement),p=t.getIndex(m),w=d(p,t);t.get(w).focus(),f.stopPropagation(),f.preventDefault()}}function a(d,f){return d===f-1?0:d+1}function l(d,f){return d===0?f-1:d-1}}class ns extends Me{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Xi()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class EOe extends Me{constructor(e,t){super(e);const i=e.t,r=new ns;r.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[Zi(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),r]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const i=[Zi(document,"h3",{},t.label),...Array.from(t.groups.values()).map(r=>this._createGroup(r)).flat()];return t.description&&i.splice(1,0,Zi(document,"p",{},t.description)),Zi(document,"section",{},i)})}_createGroup(e){const t=e.keystrokes.sort((r,s)=>r.label.localeCompare(s.label)).map(r=>this._createGroupRow(r)).flat(),i=[Zi(document,"dl",{},t)];return e.label&&i.unshift(Zi(document,"h4",{},e.label)),i}_createGroupRow(e){const t=this.locale.t,i=Zi(document,"dt"),r=Zi(document,"dd"),s=IOe(e.keystroke),o=[];for(const a of s)o.push(a.map(TOe).join(""));return i.innerHTML=e.label,r.innerHTML=o.join(", ")+(e.mayRequireFn&&nt.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[i,r]}}function TOe(n){return LA(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function IOe(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}class Vs extends Me{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!t)throw new z("ui-iconview-invalid-svg",this);const i=t.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:r,value:s}of Array.from(t.attributes))Vs.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}class gZ extends Me{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class ze extends Me{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new gZ){super(e);const i=this.bindTemplate,r=Xi();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new Vs,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",o=>!o),i.if("isVisible","ck-hidden",o=>!o),i.to("isOn",o=>o?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",o=>o||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("_ariaChecked"),"aria-pressed":i.to("_ariaPressed"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,o=>!o),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||q6(l)?!1:String(!!o)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(o,a,l)=>!a||!q6(l)?!1:String(!!o)),nt.isSafari&&(this._focusDelayed||(this._focusDelayed=GO(()=>this.focus(),0)),s.on.mousedown=i.to(()=>{this._focusDelayed()}),s.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(s)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",(e,t,i,r)=>{i&&!r?this.children.add(this.iconView,0):!i&&r&&this.children.remove(this.iconView)}),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Me;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>LA(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=LA(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}function q6(n){switch(n){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class Xa extends Me{children;iconView;constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),t.icon&&(this.iconView=new Vs,this.iconView.content=t.icon,this.children.add(this.iconView));const r=new Me(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(r)}}class si extends hn(){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const r of i)e.keystrokeHandler.set(r,(s,o)=>{this[t](),o()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(rE)||null}get last(){return this.focusables.filter(rE).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const r=t.element===this.focusTracker.focusedElement;return r&&(e=i),r}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",i=>{const r=t();this.focusNext(),r!==t()&&i.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",i=>{const r=t();this.focusPrevious(),r!==t()&&i.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const i=this.current;if(i===null)return this[e===1?"first":"last"];let r=this.focusables.get(i),s=(i+t+e)%t;do{const o=this.focusables.get(s);if(rE(o)){r=o;break}s=(s+t+e)%t}while(s!==i);return r}}function rE(n){return ug(n)&&gc(n.element)}function ug(n){return"focus"in n&&typeof n.focus=="function"}function pZ(n){return ug(n)&&"focusCycler"in n&&n.focusCycler instanceof si}class POe extends Me{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new tn,this._focusTracker=new Ut,this._focusables=new Ai,this.focusCycler=new si({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const i=new ze(this.locale);let r;i.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(i);for(r in t)r!="onExecute"&&r!="onCreate"&&i.set(r,t[r]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class ROe extends Me{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const ko={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},Z6=kc("px");class wv extends SOe(Me){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,{getCurrentDomRoot:t,getViewportOffset:i,keystrokeHandlerOptions:r}){super(e);const s=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",ko.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new tn,this.focusTracker=new Ut,this._focusables=new Ai,this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",a=>!a),s.if("_isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.if("isModal","ck-dialog_modal"),s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",a=>Z6(a)),left:s.to("_left",a=>Z6(a)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),t())}),this.on("drag",(e,{deltaX:t,deltaY:i})=>{this.wasMoved=!0,this.moveBy(t,i)}),this.listenTo(Re.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(Re.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:i=!0,content:r,actionButtons:s}){t&&(this.headerView=new Xa(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),r&&(r instanceof Me&&(r=[r]),this.contentView=new ROe(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),s&&(this.actionsView=new POe(this.locale),this.actionsView.setButtons(s),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const i=this._getViewportRect(),r=this._getDialogRect();e+r.width>i.right&&(e=i.right-r.width),e<i.left&&(e=i.left),t<i.top&&(t=i.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,i;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(e):t=ko.SCREEN_CENTER;const r=wv.defaultOffset,s=this._getDialogRect();switch(t){case ko.EDITOR_TOP_SIDE:{if(i){const o=this.locale.contentLanguageDirection==="ltr"?i.right-s.width-r:i.left+r;this.moveTo(o,i.top+r)}else this._moveOffScreen();break}case ko.EDITOR_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),Math.round(i.top+i.height/2-s.height/2)):this._moveOffScreen();break}case ko.SCREEN_CENTER:{this.moveTo(Math.round((e.width-s.width)/2),Math.round((e.height-s.height)/2));break}case ko.EDITOR_TOP_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.top+r):this._moveOffScreen();break}case ko.EDITOR_BOTTOM_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.bottom-s.height-r):this._moveOffScreen();break}case ko.EDITOR_ABOVE_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.top-s.height-r):this._moveOffScreen();break}case ko.EDITOR_BELOW_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-s.width/2),i.bottom+r):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let t=new rt(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new rt(this.element.firstElementChild)}_getViewportRect(){const e=new rt(Re.window);if(this.isModal)return e;const t={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e.left+=t.left,e.right-=t.right,e.width-=t.left+t.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)ug(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),pZ(t)&&this._focusCycler.chain(t.focusCycler)})}_createCloseButton(){const e=new ze(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:cg}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}class vs extends H{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),vs._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{vs._visibleDialogPlugin&&vs._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,i)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const i of t)i.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:i,hasCloseButton:r=!0,content:s,actionButtons:o,className:a,isModal:l,position:d,onHide:f,keystrokeHandlerOptions:m}){const p=this.editor;this.view=new wv(p.locale,{getCurrentDomRoot:()=>p.editing.view.getDomRoot(p.model.document.selection.anchor.root.rootName),getViewportOffset:()=>p.ui.viewportOffset,keystrokeHandlerOptions:m});const w=this.view;w.on("close",()=>{this.hide()}),p.ui.view.body.add(w),p.keystrokes.listenTo(w.element),d||(d=l?ko.SCREEN_CENTER:ko.EDITOR_CENTER),l&&this._lockBodyScroll(),w.set({position:d,_isVisible:!0,className:a,isModal:l}),w.setupParts({icon:t,title:i,hasCloseButton:r,content:s,actionButtons:o}),this.id=e,f&&(this._onHide=f),this.isOpen=!0,vs._visibleDialogPlugin=this}hide(){vs._visibleDialogPlugin&&vs._visibleDialogPlugin.fire(`hide:${vs._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.isModal&&this._unlockBodyScroll(),t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,vs._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}class dg extends ze{_checkIconHolderView=new OOe;constructor(e,t=new gZ){super(e,t),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",i.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(r,s)=>r||s)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,t,i)=>{const{children:r,_checkIconHolderView:s}=this;i?r.add(s,0):r.remove(s)})}}class OOe extends Me{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",t=>t?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,t,i)=>{const{children:r,_checkIconView:s}=this;i&&!r.has(s)?r.add(s):!i&&r.has(s)&&r.remove(s)})}_createCheckIconView(){const e=new Vs;return e.content=vw,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class Yt extends dg{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class DOe extends H{contentView=null;static get requires(){return[vs]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(ze);return i.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),i}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(Yt);return i.label=t("Accessibility"),i}),e.keystrokes.set("Alt+0",(i,r)=>{this._toggleDialog(),r()}),this._setupRootLabels()}_createButton(e){const t=this.editor,i=t.plugins.get("Dialog"),r=t.locale,s=new e(r);return s.set({keystroke:"Alt+0",icon:k6,isToggleable:!0}),s.on("execute",()=>this._toggleDialog()),s.bind("isOn").to(i,"id",o=>o==="accessibilityHelp"),s}_setupRootLabels(){const e=this.editor,t=e.editing.view,i=e.t;e.ui.on("ready",()=>{t.change(s=>{for(const o of t.document.roots)r(s,o)}),e.on("addRoot",(s,o)=>{const a=e.editing.view.document.getRoot(o.rootName);t.change(l=>r(l,a))},{priority:"low"})});function r(s,o){const l=[o.getAttribute("aria-label"),i("Press %0 for help.",[LA("Alt+0")])].filter(d=>d).join(". ");s.setAttribute("aria-label",l,o)}}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new EOe(e.locale,e.accessibility.keystrokeInfos)),t.id==="accessibilityHelp"?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:k6,hasCloseButton:!0,content:this.contentView})}}class xo extends Ai{locale;_bodyCollectionContainer;static _bodyWrapper;constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Mr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),(!xo._bodyWrapper||!xo._bodyWrapper.isConnected)&&(xo._bodyWrapper=Zi(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(xo._bodyWrapper)),xo._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),xo._bodyWrapper&&!xo._bodyWrapper.childElementCount&&(xo._bodyWrapper.remove(),delete xo._bodyWrapper)}}const Q6=kc("px"),NOe={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class Rn extends Me{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",i=>`ck-balloon-panel_${i}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Q6),left:t.to("left",Q6)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=x0(e.target);if(t&&!gc(t))return!1;this.show();const i=Rn.defaultPositions,r=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:Re.document.body,fitInViewport:!0},e),s=Rn._getOptimalPosition(r)||NOe,o=parseInt(s.left),a=parseInt(s.top),l=s.name,d=s.config||{},{withArrow:f=!0}=d;return this.top=a,this.left=o,this.position=l,this.withArrow=f,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=x0(e.target);const i=e.limiter?x0(e.limiter):Re.document.body;if(this.listenTo(Re.document,"scroll",(r,s)=>{const o=s.target,a=t&&o.contains(t),l=i&&o.contains(i);(a||l||!t||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Re.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(t&&jn(t)&&(t=t.parentElement),t)){const r=()=>{gc(t)||this.unpin()};this._resizeObserver=new bw(t,r)}return!0}_stopPinning(){this.stopListening(Re.document,"scroll"),this.stopListening(Re.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:t=Rn.arrowSideOffset,heightOffset:i=Rn.arrowHeightOffset,stickyVerticalOffset:r=Rn.stickyVerticalOffset,config:s}=e;return{northWestArrowSouthWest:(l,d)=>({top:o(l,d),left:l.left-t,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(l,d)=>({top:o(l,d),left:l.left-d.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(l,d)=>({top:o(l,d),left:l.left-d.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(l,d)=>({top:o(l,d),left:l.left-d.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(l,d)=>({top:o(l,d),left:l.left-d.width+t,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(l,d)=>({top:o(l,d),left:l.left+l.width/2-t,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(l,d)=>({top:o(l,d),left:l.left+l.width/2-d.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(l,d)=>({top:o(l,d),left:l.left+l.width/2-d.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(l,d)=>({top:o(l,d),left:l.left+l.width/2-d.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(l,d)=>({top:o(l,d),left:l.left+l.width/2-d.width+t,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(l,d)=>({top:o(l,d),left:l.right-t,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(l,d)=>({top:o(l,d),left:l.right-d.width*.25-t,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(l,d)=>({top:o(l,d),left:l.right-d.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(l,d)=>({top:o(l,d),left:l.right-d.width*.75+t,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(l,d)=>({top:o(l,d),left:l.right-d.width+t,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:l=>({top:a(l),left:l.left-t,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(l,d)=>({top:a(l),left:l.left-d.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(l,d)=>({top:a(l),left:l.left-d.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(l,d)=>({top:a(l),left:l.left-d.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(l,d)=>({top:a(l),left:l.left-d.width+t,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:l=>({top:a(l),left:l.left+l.width/2-t,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(l,d)=>({top:a(l),left:l.left+l.width/2-d.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(l,d)=>({top:a(l),left:l.left+l.width/2-d.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(l,d)=>({top:a(l),left:l.left+l.width/2-d.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(l,d)=>({top:a(l),left:l.left+l.width/2-d.width+t,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:l=>({top:a(l),left:l.right-t,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(l,d)=>({top:a(l),left:l.right-d.width*.25-t,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(l,d)=>({top:a(l),left:l.right-d.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(l,d)=>({top:a(l),left:l.right-d.width*.75+t,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(l,d)=>({top:a(l),left:l.right-d.width+t,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(l,d)=>({top:l.top+l.height/2-d.height/2,left:l.left-d.width-i,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(l,d)=>({top:l.top+l.height/2-d.height/2,left:l.right+i,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(l,d,f)=>{const m=new rt(Re.document.body).getIntersection(f.getVisible());if(!m)return null;const p=m.getVisible();return!l.getIntersection(p)||!(p.top-l.top-r<d.height&&p.bottom-l.bottom<d.height)?null:{top:p.top+r,left:l.left+l.width/2-d.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function o(l,d){return l.top-d.height-i}function a(l){return l.bottom+i}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=HO;static defaultPositions=Rn.generatePositions()}function x0(n){return hc(n)?n:zk(n)?n.commonAncestorContainer:typeof n=="function"?x0(n()):null}const MOe=50,BOe=350;class bZ extends Ur(){editor;_balloonView=null;_showBalloonThrottled=gf(()=>this._showBalloon(),50,{leading:!0});_lastFocusedEditableElement=null;_balloonClass;constructor(e,t={}){super(),this.editor=e,this._balloonClass=t.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,i,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,i,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,t=new Rn,i=this._createBadgeContent();return t.content.add(i),this._balloonClass&&(t.class=this._balloonClass),e.ui.view.body.add(t),t}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),t=e.side==="right"?VOe(this._lastFocusedEditableElement,e):LOe(this._lastFocusedEditableElement,e);return{target:this._lastFocusedEditableElement,positions:[t]}}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i){this._lastFocusedEditableElement=null;return}const r=Array.from(e.ui.getEditableElementsNames()).map(s=>e.ui.getEditableElement(s));r.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=r[0]}}function VOe(n,e){return vZ(n,e,(t,i)=>t.left+t.width-i.width-e.horizontalOffset)}function LOe(n,e){return vZ(n,e,t=>t.left+e.horizontalOffset)}function vZ(n,e,t){return(i,r)=>{const s=new rt(n);if(s.width<BOe||s.height<MOe)return null;let o;e.position==="inside"?o=s.bottom-r.height:o=s.bottom-r.height/2,o-=e.verticalOffset;const a=t(s,r),d=i.clone().moveTo(a,o).getIntersection(r.clone().moveTo(a,o)).getVisible();return!d||d.getArea()<r.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}const FOe="Powered by";class zOe extends bZ{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const i=e.config.get("licenseKey");if(i=="GPL")return!0;const r=YO(i.split(".")[1]);return r?!r.whiteLabel:!0}_createBadgeContent(){return new jOe(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},i=t.position||e.position,r=i==="inside"?5:e.verticalOffset;return{position:i,side:t.side||e.side,label:t.label===void 0?FOe:t.label,verticalOffset:t.verticalOffset!==void 0?t.verticalOffset:r,horizontalOffset:t.horizontalOffset!==void 0?t.horizontalOffset:e.horizontalOffset,forceVisible:!!t.forceVisible}}}class jOe extends Me{constructor(e,t){super(e);const i=new Vs,r=this.bindTemplate;i.set({content:wRe,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:r.to(s=>s.preventDefault())}}]})}}class _w extends ze{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Me;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class J6 extends wZ(ze){}class UOe extends wZ(dg){}function wZ(n){class e extends n{_fileInputView;constructor(...i){super(...i),this._fileInputView=new $Oe(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}return e}class $Oe extends Me{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element?.files?.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class yZ extends Me{buttonView;children;constructor(e,t){super(e);const i=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",i.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:i.if("isCollapsed","hidden"),"aria-labelledby":i.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new ze(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Qk}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",i=>!i),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yv(n,e){const t=n.t,i={Black:t("Black"),"Dim grey":t("Dim grey"),Grey:t("Grey"),"Light grey":t("Light grey"),White:t("White"),Red:t("Red"),Orange:t("Orange"),Yellow:t("Yellow"),"Light green":t("Light green"),Green:t("Green"),Aquamarine:t("Aquamarine"),Turquoise:t("Turquoise"),"Light blue":t("Light blue"),Blue:t("Blue"),Purple:t("Purple")};return e.map(r=>{const s=i[r.label];return s&&s!=r.label&&(r.label=s),r})}function _v(n){return n.map(HOe).filter(e=>!!e)}function HOe(n){return typeof n=="string"?{model:n,label:n,hasBorder:!1,view:{name:"span",styles:{color:n}}}:{model:n.color,label:n.label||n.color,hasBorder:n.hasBorder===void 0?!1:n.hasBorder,view:{name:"span",styles:{color:`${n.color}`}}}}class _Z extends ze{constructor(e){super(e);const t=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon=BPe,this.extendTemplate({attributes:{style:{backgroundColor:t.to("color",i=>nt.isMediaForcedColors?null:i)},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class X6 extends Me{columns;items;focusTracker;keystrokes;constructor(e,t){super(e);const i=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t?.columns||5;const r={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Ut,this.keystrokes=new tn,this.items.on("add",(s,o)=>{o.isOn=o.color===this.selectedColor}),i.forEach(s=>{const o=new _Z;o.set({color:s.color,label:s.label,tooltip:!0,hasBorder:s.options.hasBorder}),o.on("execute",()=>{this.fire("execute",{value:s.color,hasBorder:s.options.hasBorder,label:s.label})}),this.items.add(o)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:r}}),this.on("change:selectedColor",(s,o,a)=>{for(const l of this.items)l.isOn=l.color===a})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),yw({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale?.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}function AZ(n,e){if(!n)return"";const t=kZ(n);if(!t)return"";if(t.space===e)return n;if(!KOe(t))return"";const r=Fd[t.space][e];if(!r)return"";const s=r(t.space==="hex"?t.hexValue:t.values);return YOe(s,e)}function WOe(n){if(!n)return"";const e=kZ(n);return e?e.space==="hex"?e.hexValue:AZ(n,"hex"):"#000"}function GOe(n,e){customElements.get(n)===void 0&&customElements.define(n,e)}function YOe(n,e){switch(e){case"hex":return`#${n}`;case"rgb":return`rgb(${n[0]}, ${n[1]}, ${n[2]})`;case"hsl":return`hsl(${n[0]}, ${n[1]}%, ${n[2]}%)`;case"hwb":return`hwb(${n[0]}, ${n[1]}, ${n[2]})`;case"lab":return`lab(${n[0]}% ${n[1]} ${n[2]})`;case"lch":return`lch(${n[0]}% ${n[1]} ${n[2]})`;default:return""}}function kZ(n){if(n.startsWith("#")){const t=M6(n);return{space:"hex",values:t.values,hexValue:n,alpha:t.alpha}}const e=M6(n);return e.space?e:null}function KOe(n){return Object.keys(Fd).includes(n.space)}class Xn extends Me{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);const i=`ck-labeled-field-view-${Xi()}`,r=`ck-labeled-field-view-status-${Xi()}`;this.fieldView=t(this,i,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",o=>!o),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new ns(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Me(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",r=>!r)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class qOe extends Me{focusTracker;constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ut,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=ZOe(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function ZOe(n){return!n.value}class xZ extends qOe{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class CZ extends xZ{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class QOe extends xZ{constructor(e,{min:t,max:i,step:r}={}){super(e);const s=this.bindTemplate;this.set("min",t),this.set("max",i),this.set("step",r),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:s.to("min"),max:s.to("max"),step:s.to("step")}})}}class JOe extends Me{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():vt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}class KA extends Me{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,i){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new tn,this.focusTracker=new Ut,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,i,r)=>{if(r)if(this.panelPosition==="auto"){const s=KA._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(t,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(t,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:r,northEast:s,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:d,northMiddleWest:f}=KA.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,r,a,l,e,s,o,d,f,t]:[r,i,l,a,e,o,s,f,d,t]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)*3/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)*3/4,name:"nmw"})};static _getOptimalPosition=HO}class b5 extends ze{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Vs;return e.content=Qk,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class no extends Me{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Aw extends Me{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class C0 extends Me{labelView;items;children;constructor(e,t=new ns){super(e);const i=this.bindTemplate,r=new Df(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:t.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof Aw));e&&e.focus()}}}class Df extends Me{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=new WeakMap;constructor(e){super(e);const t=this.bindTemplate;this.focusables=new Ai,this.items=this.createCollection(),this.focusTracker=new Ut,this.keystrokes=new tn,this._focusCycler=new si({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof C0?this._registerFocusableItemsGroup(e):e instanceof no&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const i of t.removed)i instanceof C0?this._deregisterFocusableItemsGroup(i):i instanceof no&&this._deregisterFocusableListItem(i);for(const i of Array.from(t.added).reverse())i instanceof C0?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(const r of i.removed)this._deregisterFocusableListItem(r);for(const r of Array.from(i.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((r,s)=>{const o=typeof t<"u"?t+s:void 0;this._registerFocusableListItem(r,o)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class v5 extends Me{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class XOe extends Me{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function e5e(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Jk(n){if(Array.isArray(n))return{items:n,removeItems:[]};const e={items:[],removeItems:[]};return n?{...e,...n}:e}const bI={alignLeft:c5,bold:Jq,importExport:YPe,paragraph:gRe,plus:vRe,text:BRe,threeVerticalDots:h5,pilcrow:bRe,dragIndicator:LPe};class pc extends Me{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const i=this.bindTemplate,r=this.t;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.set("isGrouping",!!this.options.shouldGroupWhenFull),this.items=this.createCollection(),this.focusTracker=new Ut,this.keystrokes=new tn,this.set("class",void 0),this.set("isCompact",!1),this.set("isVertical",!1),this.itemsView=new t5e(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new si({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact"),i.if("isGrouping","ck-toolbar_grouping"),i.if("isVertical","ck-toolbar_vertical")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:i.to("role"),"aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:e5e(this)}}),this._behavior=this.options.shouldGroupWhenFull?new tV(this):new eV(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,t)=>{this.focusTracker.add(t)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}switchBehavior(e){this._behavior.type!==e&&(this._behavior.destroy(),this.itemsView.children.clear(),this.focusables.clear(),e==="dynamic"?(this._behavior=new tV(this),this._behavior.render(this),this._behavior.refreshItems()):(this._behavior=new eV(this),this._behavior.render(this)))}_buildItemsFromConfig(e,t,i){const r=Jk(e),s=i||r.removeItems;return this._cleanItemsConfiguration(r.items,t,s).map(a=>kr(a)?this._createNestedToolbarDropdown(a,t,s):a==="|"?new v5:a==="-"?new XOe:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){const r=e.filter((s,o,a)=>s==="|"?!0:i.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(vt("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!kr(s)&&!t.has(s)?(vt("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",i=e.length,r=e.findIndex(t);if(r===-1)return[];const s=i-e.slice().reverse().findIndex(t);return e.slice(r,s).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,i){let{label:r,icon:s,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,i),!o.length)return null;const d=this.locale,f=ii(d);return r||vt("toolbarview-nested-toolbar-dropdown-missing-label",e),f.class="ck-toolbar__nested-toolbar-dropdown",f.buttonView.set({label:r,tooltip:a,withText:!!l}),s!==!1?f.buttonView.icon=bI[s]||s||h5:f.buttonView.withText=!0,kw(f,()=>f.toolbarView._buildItemsFromConfig(o,t,i)),f}}class t5e extends Me{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class eV{type="static";constructor(e){e.isGrouping=!1,e.itemsView.children.bindTo(e.items).using(t=>t),e.focusables.bindTo(e.items).using(t=>ug(t)?t:null)}render(){}destroy(){}}class tV{type="dynamic";view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.view.isGrouping=!0,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,i)=>{const r=i.index,s=Array.from(i.added);for(const o of i.removed)r>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=r;o<r+s.length;o++){const a=s[o-r];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.viewChildren.length>1&&(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last)),this.resizeObserver.destroy()}refreshItems(){const e=this.view;if(e.items.length){for(let t=0;t<e.items.length;t++){const i=[...e.items][t];this.ungroupedItems.add(i,t)}this._updateGrouping()}}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!gc(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new rt(e.lastChild),r=new rt(e);if(!this.cachedPadding){const s=Re.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[o])}return t==="ltr"?i.right>r.right-this.cachedPadding:i.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new bw(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new v5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=ii(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",kw(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:h5}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{ug(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class $u extends Me{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new tn,this.focusTracker=new Ut,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",r=>!r),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new ze;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new ze,t=e.bindTemplate;return e.icon=Qk,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function ii(n,e=b5){const t=typeof e=="function"?new e(n):e,i=new JOe(n),r=new KA(n,t,i);return t.bind("isEnabled").to(r),t instanceof $u?t.arrowView.bind("isOn").to(r,"isOpen"):t.bind("isOn").to(r,"isOpen"),n5e(r),r}function kw(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?nV(n,e,t):n.once("change:isOpen",()=>nV(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&Xk(n,()=>n.toolbarView.items.find(i=>i.isOn))}function nV(n,e,t){const i=n.locale,r=i.t,s=n.toolbarView=new pc(i),o=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel||r("Dropdown toolbar"),t.maxWidth&&(s.maxWidth=t.maxWidth),t.class&&(s.class=t.class),t.isCompact&&(s.isCompact=t.isCompact),t.isVertical&&(s.isVertical=!0),o instanceof Ai?s.items.bindTo(o).using(a=>a):s.items.addMany(o),n.panelView.children.add(s),n.focusTracker.add(s),s.items.delegate("execute").to(n)}function ea(n,e,t={}){n.isOpen?iV(n,e,t):n.once("change:isOpen",()=>iV(n,e,t),{priority:"highest"}),Xk(n,()=>n.listView.items.find(i=>i instanceof no?i.children.first.isOn:!1))}function iV(n,e,t){const i=n.locale,r=n.listView=new Df(i),s=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel,r.role=t.role,EZ(n,r.items,s,i),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function Xk(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():vt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:ks.low-10})}function n5e(n){i5e(n),r5e(n),s5e(n),o5e(n),a5e(n),l5e(n)}function i5e(n){Xo({emitter:n,activator:()=>n.isRendered&&n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...SZ(n.focusTracker).filter(e=>!n.element.contains(e))]})}function SZ(n){return[...n.elements,...n.externalViews.flatMap(e=>SZ(e.focusTracker))]}function r5e(n){n.on("execute",e=>{e.source instanceof _w||(n.isOpen=!1)})}function s5e(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{i||!n.isOpen||(n.isOpen=!1)})}function o5e(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function a5e(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;n.focusTracker.elements.some(s=>s.contains(Re.document.activeElement))&&n.buttonView.focus()})}function l5e(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}function EZ(n,e,t,i){c5e(e),e.bindTo(t).using(r=>{if(r.type==="separator")return new Aw(i);if(r.type==="group"){const s=new C0(i);return s.set({label:r.label}),EZ(n,s.items,r.items,i),s.items.delegate("execute").to(n),s}else if(r.type==="button"||r.type==="switchbutton"){const s=r.model.role==="menuitemcheckbox"||r.model.role==="menuitemradio",o=new no(i);let a;return r.type==="button"?(a=new dg(i),a.set({isToggleable:s})):a=new _w(i),a.bind(...Object.keys(r.model)).to(r.model),a.delegate("execute").to(o),o.children.add(a),o}return null})}function c5e(n){let e=0;const t=s=>!(s instanceof no)||!(s.children.first instanceof dg)?null:s.children.first,i=s=>{const o=t(s);return!o||!o.isToggleable?null:o},r=s=>{for(const o of n){const a=t(o);a&&(a.hasCheckSpace=s)}};n.on("change",(s,o)=>{const a=e>0;for(const d of o.removed)i(d)&&e--;for(const d of o.added){const f=t(d);f&&(f.isToggleable&&e++,f.hasCheckSpace=e>0)}const l=e>0;a!==l&&r(l)})}const _r=(n,e,t)=>{const i=new CZ(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(n,"isEnabled",r=>!r),i.bind("hasError").to(n,"errorText",r=>!!r),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},TZ=(n,e,t)=>{const i=new QOe(n.locale);return i.set({id:e,ariaDescribedById:t,inputMode:"numeric"}),i.bind("isReadOnly").to(n,"isEnabled",r=>!r),i.bind("hasError").to(n,"errorText",r=>!!r),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i},IZ=(n,e,t)=>{const i=ii(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isEnabled").to(n),i},u5e=150;class d5e extends Me{hexInputRow;_debounceColorPickerEvent;_config;constructor(e,t={}){super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const i=this.createCollection();t.hideInput||i.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:i}),this._config=t,this._debounceColorPickerEvent=Ps(r=>{this.set("color",r),this.fire("colorSelected",{color:this.color})},u5e,{leading:!0}),this.on("set:color",(r,s,o)=>{r.return=AZ(o,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=sE(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),sE(this.color)!=sE(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),GOe("hex-color-picker",dOe),this.picker=Re.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const t=e.detail.value;this._debounceColorPickerEvent(t)})}focus(){/* istanbul ignore next -- @preserve */!this._config.hideInput&&(nt.isGecko||nt.isiOS||nt.isSafari||nt.isBlink)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const i=[...this.picker.shadowRoot.children].filter(r=>r.getAttribute("role")==="slider").map(r=>new f5e(r));this.slidersView=this.createCollection(),i.forEach(r=>{this.slidersView.add(r)})}_createInputRow(){const e=this._createColorInput();return new m5e(this.locale,e)}_createColorInput(){const e=new Xn(this.locale,_r),{t}=this.locale;return e.set({label:t("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",i=>e.isFocused?e.fieldView.value:i.startsWith("#")?i.substring(1):i),e.fieldView.on("input",()=>{const i=e.fieldView.element.value;if(i){const r=PZ(i);r&&this._debounceColorPickerEvent(r)}}),e}isValid(){const{t:e}=this.locale;return this._config.hideInput?!0:(this.resetValidationStatus(),this.hexInputRow.getParsedColor()?!0:(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function sE(n){let e=WOe(n);return e||(e="#000"),e.length===4&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class f5e extends Me{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class h5e extends Me{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class m5e extends Me{children;inputView;constructor(e,t){super(e),this.inputView=t,this.children=this.createCollection([new h5e,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return PZ(this.inputView.fieldView.element.value)}}function PZ(n){if(!n)return null;const e=n.trim().replace(/^#/,"");return![3,4,6,8].includes(e.length)||!/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(e)?null:`#${e}`}class g5e extends ln(hi){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(e,t){return this.find(i=>i.color===e.color)?this:super.add(e,t)}hasColor(e){return!!this.find(t=>t.color===e)}}class p5e extends Me{items;colorDefinitions;focusTracker;columns;documentColors;documentColorsCount;staticColorsGrid;documentColorsGrid;colorPickerButtonView;removeColorButtonView;_focusables;_documentColorsLabel;_removeButtonLabel;_colorPickerLabel;constructor(e,{colors:t,columns:i,removeButtonLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:l,focusables:d}){super(e);const f=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=t,this.columns=i,this.documentColors=new g5e,this.documentColorsCount=o,this._focusables=d,this._removeButtonLabel=r,this._colorPickerLabel=a,this._documentColorsLabel=s,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",f.if("isVisible","ck-hidden",m=>!m)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,t){const i=e.document,r=this.documentColorsCount;this.documentColors.clear();for(const s of i.getRoots()){const o=e.createRangeIn(s);for(const a of o.getItems())if(a.is("$textProxy")&&a.hasAttribute(t)&&(this._addColorToDocumentColors(a.getAttribute(t)),this.documentColors.length>=r))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,i=this.selectedColor;t.selectedColor=i,e&&(e.selectedColor=i)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=Mr.bind(this.documentColors,this.documentColors),t=new Me(this.locale);t.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new ze,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:MPe,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new ze;return e.set({withText:!0,icon:hI,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new X6(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(t,i)=>{this.fire("execute",{value:i.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=Mr.bind(this.documentColors,this.documentColors),t=new X6(this.locale,{columns:this.columns});return t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using(i=>{const r=new _Z;return r.set({color:i.color,hasBorder:i.options?.hasBorder}),i.label&&r.set({label:i.label,tooltip:!0}),r.on("execute",()=>{this.fire("execute",{value:i.color,source:"documentColorsGrid"})}),r}),this.documentColors.on("change:isEmpty",(i,r,s)=>{s&&(t.selectedColor=null)}),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(i=>i.color===e);t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class b5e extends Me{items;colorPickerView;saveButtonView;cancelButtonView;actionBarView;focusTracker;keystrokes;_focusables;_colorPickerViewConfig;constructor(e,{focusTracker:t,focusables:i,keystrokes:r,colorPickerViewConfig:s}){super(e),this.items=this.createCollection(),this.focusTracker=t,this.keystrokes=r,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=i,this._colorPickerViewConfig=s;const o=this.bindTemplate,{saveButtonView:a,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=a,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:a,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",o.if("isVisible","ck-hidden",d=>!d)]},children:this.items})}render(){super.render();const e=new d5e(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(t,i,r)=>{e.color=r}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:t}){const i=new Me,r=this.createCollection();return r.add(e),r.add(t),i.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:r}),i}_createActionButtons(){const e=this.locale,t=e.t,i=new ze(e),r=new ze(e);return i.set({icon:vw,class:"ck-button-save",type:"button",withText:!1,label:t("Accept")}),r.set({icon:cg,class:"ck-button-cancel",type:"button",withText:!1,label:t("Cancel")}),i.on("execute",()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),r.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:i,cancelButtonView:r}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,t)=>{this.fire("execute",{value:t.color,source:"colorPicker"}),this.set("selectedColor",t.color)})}}class w5 extends Me{focusTracker;keystrokes;items;colorGridsFragmentView;colorPickerFragmentView;_focusCycler;_focusables;_colorPickerViewConfig;constructor(e,{colors:t,columns:i,removeButtonLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,colorPickerViewConfig:l}){super(e),this.items=this.createCollection(),this.focusTracker=new Ut,this.keystrokes=new tn,this._focusables=new Ai,this._colorPickerViewConfig=l,this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new p5e(e,{colors:t,columns:i,removeButtonLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerLabel:a,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new b5e(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(d,f,m)=>{this.colorGridsFragmentView.set("selectedColor",m),this.colorPickerFragmentView.set("selectedColor",m)}),this.colorGridsFragmentView.on("change:selectedColor",(d,f,m)=>{this.set("selectedColor",m)}),this.colorPickerFragmentView.on("change:selectedColor",(d,f,m)=>{this.set("selectedColor",m)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible||(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,t){this.colorGridsFragmentView.updateDocumentColors(e,t)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class v5e{editor;_components=new Map;constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(oE(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new z("componentfactory-item-missing",this,{name:e});return this._components.get(oE(e)).callback(this.editor.locale)}has(e){return this._components.has(oE(e))}}function oE(n){return String(n).toLowerCase()}const rV="ck-tooltip";class Tr extends Ur(){tooltipTextView;balloonPanelView;static defaultBalloonPositions=Rn.generatePositions({heightOffset:5,sideOffset:13});_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=new Set;static _instance=null;constructor(e){if(super(),Tr._editors.add(e),Tr._instance)return Tr._instance;Tr._instance=this,this.tooltipTextView=new Me(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Rn(e.locale),this.balloonPanelView.class=rV,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=w5e(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Ps(this._pinTooltip,600),this._unpinTooltipDebounced=Ps(this._unpinTooltip,400),this.listenTo(Re.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Re.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Re.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Re.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Re.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Re.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Tr._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Tr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Tr._instance=null)}static getPositioningFunctions(e){const t=Tr.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const i=aE(t);if(!i){e.name==="focus"&&this._unpinTooltip();return}if(i===this._currentElementWithTooltip){this._unpinTooltipDebounced.cancel();return}this._unpinTooltip(),e.name==="focus"&&!i.matches(":hover")||i.matches("[data-cke-tooltip-instant]")?this._pinTooltip(i,lE(i)):this._pinTooltipDebounced(i,lE(i))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!hc(t))return;const r=this.balloonPanelView.element,s=r&&(r===i||r.contains(i)),o=!s&&t===r;if(s){this._unpinTooltipDebounced.cancel();return}if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=aE(t),l=aE(i);(o||a&&a!==l)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||a&&a.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:r}){this._unpinTooltip();const s=sn(Tr._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.class=[rV,r].filter(o=>o).join(" "),this.balloonPanelView.pin({target:e,positions:Tr.getPositioningFunctions(i)}),this._mutationObserver.attach(e);for(const o of Tr._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Tr._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=lE(this._currentElementWithTooltip);if(!gc(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Tr.getPositioningFunctions(e.position)})}}function aE(n){return hc(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function lE(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function w5e(n){const e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}class y5e extends bZ{licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"};constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"})}_isEnabled(){const t=this.editor.config.get("licenseKey"),i=sV(t);return!!(i&&this.licenseTypeMessage[i])}_createBadgeContent(){const e=this.editor.config.get("licenseKey"),t=sV(e);return new _5e(this.editor.locale,this.licenseTypeMessage[t])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),t=this.editor.config.get("ui.poweredBy")||{},i=t.position||e.position,r=t.side||e.side;return{position:i,side:r==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class _5e extends Me{constructor(e,t){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[t]}]})}}function sV(n){if(n=="GPL")return"GPL";const e=YO(n.split(".")[1]);return e?e.licenseType||"production":null}class Go extends no{constructor(e,t){super(e);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const U_=5,$h={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(!(!n.isFocusBorderEnabled&&!n.isOpen)){if(n.isOpen)for(const t of n.menus){const i=e.path[0],r=i instanceof Go&&i.children.first===t;t.isOpen=(e.path.includes(t)||r)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){const e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{t(i.source,e?-1:1)}),n.on("menu:arrowleft",i=>{t(i.source,e?1:-1)});function t(i,r){const s=n.children.getIndex(i),o=i.isOpen,a=n.children.length,l=n.children.get((s+a+r)%a);i.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,i)=>{i&&n.menus.filter(r=>e.source.parentMenuView===r.parentMenuView&&e.source!==r&&r.isOpen).forEach(r=>{r.isOpen=!1})})},closeOnClickOutside(n){Xo({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(n){let e=!1;n.on("change:isOpen",(t,i,r)=>{r||(e||(n.isFocusBorderEnabled=!1),e=!1)}),n.listenTo(n.element,"keydown",()=>{e=!0},{useCapture:!0}),n.listenTo(n.element,"keyup",()=>{e=!1},{useCapture:!0}),n.listenTo(n.element,"focus",()=>{e&&(n.isFocusBorderEnabled=!0)},{useCapture:!0})}},du={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isEnabled&&n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen})},openAndFocusOnEnterKeyPress(n){n.keystrokes.set("enter",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen=!0,n.panelView.focus(),t())})},closeOnArrowLeftKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,i)=>{!i&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},A5e={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-U_,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-U_,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+U_,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+U_,name:"wn"})},k5e=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"fullscreen",items:["menuBar:fullscreen"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable","menuBar:insertTableLayout"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:lineHeight","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function x5e(n){let e;return!("items"in n)||!n.items?e={items:Lr(k5e),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:e={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},e}function C5e({normalizedConfig:n,locale:e,componentFactory:t,extraItems:i}){const r=Lr(n);return oV(n,r,i),S5e(n,r),oV(n,r,r.addItems),E5e(n,r,t),RZ(n,r),T5e(r,e),r}function S5e(n,e){const t=e.removeItems,i=[];e.items=e.items.filter(({menuId:r})=>t.includes(r)?(i.push(r),!1):!0),fg(e.items,r=>{r.groups=r.groups.filter(({groupId:s})=>t.includes(s)?(i.push(s),!1):!0);for(const s of r.groups)s.items=s.items.filter(o=>{const a=OZ(o);return t.includes(a)?(i.push(a),!1):!0})});for(const r of t)i.includes(r)||vt("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:r})}function oV(n,e,t){const i=[];if(t.length!=0){for(const r of t){const s=R5e(r.position),o=O5e(r.position);if(I5e(r))if(!o)s==="start"?(e.items.unshift(r.menu),i.push(r)):s==="end"&&(e.items.push(r.menu),i.push(r));else{const a=e.items.findIndex(l=>l.menuId===o);a!=-1?s==="before"?(e.items.splice(a,0,r.menu),i.push(r)):s==="after"&&(e.items.splice(a+1,0,r.menu),i.push(r)):aV(e,r.menu,o,s)&&i.push(r)}else P5e(r)?fg(e.items,a=>{if(a.menuId===o)s==="start"?(a.groups.unshift(r.group),i.push(r)):s==="end"&&(a.groups.push(r.group),i.push(r));else{const l=a.groups.findIndex(d=>d.groupId===o);l!==-1&&(s==="before"?(a.groups.splice(l,0,r.group),i.push(r)):s==="after"&&(a.groups.splice(l+1,0,r.group),i.push(r)))}}):aV(e,r.item,o,s)&&i.push(r)}for(const r of t)i.includes(r)||vt("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:r})}}function aV(n,e,t,i){let r=!1;return fg(n.items,s=>{for(const{groupId:o,items:a}of s.groups){if(r)return;if(o===t)i==="start"?(a.unshift(e),r=!0):i==="end"&&(a.push(e),r=!0);else{const l=a.findIndex(d=>OZ(d)===t);l!==-1&&(i==="before"?(a.splice(l,0,e),r=!0):i==="after"&&(a.splice(l+1,0,e),r=!0))}}}),r}function E5e(n,e,t){fg(e.items,i=>{for(const r of i.groups)r.items=r.items.filter(s=>{const o=typeof s=="string"&&!t.has(s);return o&&!e.isUsingDefaultConfig&&vt("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Lr(i),componentName:s}),!o})})}function RZ(n,e){const t=e.isUsingDefaultConfig;let i=!1;if(e.items=e.items.filter(r=>r.groups.length?!0:(cE(n,r,t),!1)),!e.items.length){cE(n,n,t);return}fg(e.items,r=>{r.groups=r.groups.filter(s=>s.items.length?!0:(i=!0,!1));for(const s of r.groups)s.items=s.items.filter(o=>DZ(o)&&!o.groups.length?(cE(n,o,t),i=!0,!1):!0)}),i&&RZ(n,e)}function cE(n,e,t){t||vt("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function T5e(n,e){const t=e.t,i={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};fg(n.items,r=>{r.label in i&&(r.label=i[r.label])})}function fg(n,e){if(Array.isArray(n))for(const i of n)t(i);function t(i){e(i);for(const r of i.groups)for(const s of r.items)DZ(s)&&t(s)}}function I5e(n){return typeof n=="object"&&"menu"in n}function P5e(n){return typeof n=="object"&&"group"in n}function R5e(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function O5e(n){const e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function OZ(n){return typeof n=="string"?n:n.menuId}function DZ(n){return typeof n=="object"&&"menuId"in n}class D5e extends ln(){editor;componentFactory;focusTracker;tooltipManager;poweredBy;evaluationBadge;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=new Map;_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;_domEmitter;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new v5e(e),this.focusTracker=new Ut,this.tooltipManager=new Tr(e),this.poweredBy=new zOe(e),this.evaluationBadge=new y5e(e),this.ariaLiveAnnouncer=new kOe(e),this._initViewportOffset(this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking(),this._initVisualViewportSupport()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._domEmitter&&this._domEmitter.stopListening()}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const i=x5e(this.editor.config.get("menuBar")||{});e.fillFromConfig(i,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(r,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),s())}),this.editor.keystrokes.set("Alt+F9",(r,s)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),s())})}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",(i,r)=>{this._saveLastFocusedForeignElement();const s=this._getCurrentFocusedToolbarDefinition();(!s||!t)&&(t=this._getFocusableCandidateToolbarDefinitions());for(let o=0;o<t.length;o++){const a=t.shift();if(t.push(a),a!==s&&this._focusFocusableCandidateToolbar(a)){s&&s.options.afterBlur&&s.options.afterBlur();break}}r()}),e.keystrokes.set("Esc",(i,r)=>{const s=this._getCurrentFocusedToolbarDefinition();s&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),s.options.afterBlur&&s.options.afterBlur(),r())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:r}=t;(gc(i.element)||r.beforeFocus)&&e.push(t)}return e.sort((t,i)=>lV(t)-lV(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),gc(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",(t,i)=>{this.focusTracker.add(i.element)}),e.on("remove",(t,i)=>{this.focusTracker.remove(i.element)})}_initViewportOffset(e){this.on("set:viewportOffset",(t,i,r)=>{const s=this._getVisualViewportTopOffset(r);r.visualTop!==s&&(t.return={...r,visualTop:s})}),this.set("viewportOffset",e)}_initVisualViewportSupport(){if(!Re.window.visualViewport)return;const e=()=>{const t=this._getVisualViewportTopOffset(this.viewportOffset);this.viewportOffset.visualTop!==t&&(this.viewportOffset={...this.viewportOffset,visualTop:t})};this._domEmitter=new(Ur()),this._domEmitter.listenTo(Re.window.visualViewport,"scroll",e),this._domEmitter.listenTo(Re.window.visualViewport,"resize",e)}_getVisualViewportTopOffset(e){const t=_0().top,i=e.top||0;return t>i?0:i-t}}function lV(n){const{toolbarView:e,options:t}=n;let i=10;return gc(e.element)&&i--,t.isContextual&&(i-=2),i}class N5e extends Me{body;menuBarView;toolbar;constructor(e){super(e),this.body=new xo(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class M5e extends N5e{top;main;_voiceLabelView;constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new ns;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class B5e extends Me{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,i){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(r){e.change(s=>{const o=e.document.getRoot(r.name);s.addClass(r.isFocused?"ck-focused":"ck-blurred",o),s.removeClass(r.isFocused?"ck-blurred":"ck-focused",o)})}function i(r){e.once("change:isRenderingInProgress",(s,o,a)=>{a?i(r):t(r)})}}}class V5e extends B5e{_options;constructor(e,t,i,r={}){super(e,t,i),this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),i)})}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,i=this._editableElement,r=this.name;if(typeof t=="string")return t;if(typeof t=="object")return t[r];if(typeof t=="function")return t(this);if(i){const s=i.getAttribute("aria-label");if(s)return s}return e("Rich Text Editor. Editing area: %0",r)}}class Qi extends Me{children;constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("class",["ck","ck-form__row",...Jt(t.class||[])]),this.children=this.createCollection(),t.children&&t.children.forEach(r=>this.children.add(r)),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:i.to("class",r=>r.join(" ")),role:i.to("_role"),"aria-labelledby":i.to("_ariaLabelledBy")},children:this.children})}}class cV extends Zk{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class io extends ln(){constructor(e,t){super(),t&&CK(this,t),e&&this.set(e)}}const $_=kc("px");class xr extends H{positionLimiter;visibleStack;_viewToStack=new Map;_idToStack=new Map;_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.positionLimiter=()=>{const t=this.editor.editing.view,r=t.document.selection.editableElement;return r?t.domConverter.mapViewToDom(r.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new z("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new z("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:{...this.editor.ui.viewportOffset,top:this.editor.ui.viewportOffset.visualTop}})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new z("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Rn(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new L5e(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,r)=>!r&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,r)=>{if(r<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[s,r])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new F5e(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:r=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),r&&(this._singleViewMode=!0)}}class L5e extends Me{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ut,this.buttonPrevView=this._createButtonView(t("Previous"),Uu),this.buttonNextView=this._createButtonView(t("Next"),tZ),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",r=>r?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new ze(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class F5e extends Me{content;_balloonPanelView;constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",r=>r?"":"ck-hidden")],style:{top:i.to("top",$_),left:i.to("left",$_),width:i.to("width",$_),height:i.to("height",$_)}},children:this.content}),this.on("change:numberOfPanels",(r,s,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Me;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:r}=new rt(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:r})}}}const Hh=kc("px");class z5e extends Me{content;contentPanelElement;_contentPanelPlaceholder;constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Mr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?Hh(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Mr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?Hh(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",i=>i&&Hh(i)),bottom:t.to("_stickyBottomOffset",i=>i&&Hh(i)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Re.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()}),Re.window.visualViewport&&(this.listenTo(Re.window.visualViewport,"scroll",()=>{this.checkIfShouldBeSticky()}),this.listenTo(Re.window.visualViewport,"resize",()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new rt(this.limiterElement);let t=e.getVisible();if(t){const s=new rt(Re.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,t=t.getIntersection(s)}const{left:i,top:r}=_0();if(e.moveBy(i,r),t&&t.moveBy(i,r),t&&e.top<t.top)if(this._contentPanelRect.height+this.limiterBottomOffset>t.height){const s=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;this._contentPanelRect.height+s+1<e.height?this._stickToBottomOfLimiter(s):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(t.top):this._unstick();else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Hh(-Re.window.scrollX+_0().left)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Hh(-Re.window.scrollX+_0().left)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new rt(this.contentPanelElement)}}class j5e extends Xn{iconView;resetButtonView;_viewConfig;constructor(e,t){const i=e.t,r=Object.assign({},{showResetButton:!0,showIcon:!0,creator:_r},t);super(e,r.creator),this.label=t.label,this._viewConfig=r,this._viewConfig.showIcon&&(this.iconView=new Vs,this.iconView.content=rRe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new ze(e),this.resetButtonView.set({label:i("Clear"),icon:cg,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",s=>!s),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class NZ extends Me{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class U5e extends Me{focusTracker;children;_focusCycler;constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ut,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new si({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class $5e extends Me{focusTracker;keystrokes;resultsView;filteredView;infoView;queryView;focusCycler;_config;constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ut,this.keystrokes=new tn,this.resultsView=new U5e(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new NZ,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new si({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:r,totalItemsCount:s})=>{this.resultsCount=r,this.totalItemsCount=s}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(e){const t=e?new RegExp($O(e),"ig"):null,i=this.filteredView.filter(t);this.fire("search",{query:e,...i})}_createSearchTextQueryView(){const e=new j5e(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(r,s)=>{if(s.resultsCount)t.set({isVisible:!1});else{const o=this._config.infoView&&this._config.infoView.text;let a,l;s.totalItemsCount?o?.notFound?(a=o.notFound.primary,l=o.notFound.secondary):(a=e("No results found"),l=""):o?.noSearchableItems?(a=o.noSearchableItems.primary,l=o.noSearchableItems.secondary):(a=e("No searchable items"),l=""),t.set({primaryText:i(a,s),secondaryText:i(l,s),isVisible:!0})}});function i(r,{query:s,resultsCount:o,totalItemsCount:a}){return typeof r=="function"?r(s,o,a):r}}}const H5e=kc("px");class W5e extends H{toolbarView;focusTracker;_balloonConfig;_resizeObserver=null;_balloon;_fireSelectionChangeDebounced;static get pluginName(){return"BalloonToolbar"}static get isOfficialPlugin(){return!0}static get requires(){return[xr]}constructor(e){super(e),this._balloonConfig=Jk(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new Ut,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(xr),this._fireSelectionChangeDebounced=Ps(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const e=this.editor,t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(i,r,s)=>{const o=this._balloon.visibleView===this.toolbarView;!s&&o?this.hide():s&&this.show()}),this.listenTo(t,"change:range",(i,r)=>{(r.directChange||t.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",()=>{const i=e.ui.view.editable.element;this._resizeObserver=new bw(i,r=>{this.toolbarView.maxWidth=H5e(r.contentRect.width*.9)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)})}_createToolbarView(){const e=this.editor.locale.t,t=!this._balloonConfig.shouldNotGroupWhenFull,i=new pc(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return i.ariaLabel=e("Editor contextual toolbar"),i.render(),i}show(e=!1){const t=this.editor,i=t.model.document.selection,r=t.model.schema;this._balloon.hasView(this.toolbarView)||i.isCollapsed&&!e||G5e(i,r)||Array.from(this.toolbarView.items).every(s=>s.isEnabled!==void 0&&!s.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:t}=this,{editing:i}=e;i.view.addObserver(class extends Jo{observe(s){t.add(s)}stopObserving(s){t.remove(s)}})}_getBalloonPositionData(){const t=this.editor.editing.view,i=t.document,r=i.selection,s=i.selection.isBackward;return{target:()=>{const o=s?r.getFirstRange():r.getLastRange(),a=rt.getDomRangeRects(t.domConverter.viewRangeToDom(o));return s?a[0]:(a.length>1&&a[a.length-1].width===0&&a.pop(),a[a.length-1])},positions:this._getBalloonPositions(s)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const i=nt.isSafari&&nt.isiOS?Rn.generatePositions({heightOffset:Math.max(Rn.arrowHeightOffset,Math.round(20/Re.window.visualViewport.scale))}):Rn.defaultPositions;return e?[i.northWestArrowSouth,i.northWestArrowSouthWest,i.northWestArrowSouthEast,i.northWestArrowSouthMiddleEast,i.northWestArrowSouthMiddleWest,i.southWestArrowNorth,i.southWestArrowNorthWest,i.southWestArrowNorthEast,i.southWestArrowNorthMiddleWest,i.southWestArrowNorthMiddleEast]:[i.southEastArrowNorth,i.southEastArrowNorthEast,i.southEastArrowNorthWest,i.southEastArrowNorthMiddleEast,i.southEastArrowNorthMiddleWest,i.northEastArrowSouth,i.northEastArrowSouthEast,i.northEastArrowSouthWest,i.northEastArrowSouthMiddleEast,i.northEastArrowSouthMiddleWest]}}function G5e(n,e){return n.rangeCount===1?!1:[...n.getRanges()].every(t=>{const i=t.getContainedElement();return i&&e.isSelectable(i)})}const uV=kc("px");class Y5e extends ze{constructor(e){super(e);const t=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:t.to("top",i=>uV(i)),left:t.to("left",i=>uV(i))}}})}}const Jp=kc("px");class K5e extends H{toolbarView;panelView;buttonView;_resizeObserver=null;_blockToolbarConfig;static get pluginName(){return"BlockToolbar"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._blockToolbarConfig=Jk(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),Xo({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const e=this.editor,t=e.t,i=t("Click to edit block"),r=t("Drag to move"),s=t("Edit block"),o=e.plugins.has("DragDropBlockToolbar"),a=o?`${i}
${r}`:s;this.buttonView.label=a,o&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(e.model.document.selection,"change:range",(l,d)=>{d.directChange&&this._hidePanel()}),this.listenTo(e.ui,"update",()=>this._updateButton()),this.listenTo(e,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(l,d,f)=>{f?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),this._repositionButtonOnScroll(),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),e.ui.once("ready",()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const l of this.toolbarView.items)l.on("execute",()=>this._hidePanel(!0),{priority:"high"})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const e=this.editor.locale.t,t=!this._blockToolbarConfig.shouldNotGroupWhenFull,i=new pc(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return i.ariaLabel=e("Editor block content toolbar"),i}_createPanelView(){const e=this.editor,t=new Rn(e.locale);return t.content.add(this.toolbarView),t.class="ck-toolbar-container",e.ui.view.body.add(t),this.toolbarView.keystrokes.set("Esc",(i,r)=>{this._hidePanel(!0),r()}),t}_createButtonView(){const e=this.editor,t=e.t,i=new Y5e(e.locale),r=this._blockToolbarConfig.icon,s=bI[r]||r||bI.dragIndicator;return i.set({label:t("Edit block"),icon:s,withText:!1}),i.bind("isOn").to(this.panelView,"isVisible"),i.bind("tooltip").to(this.panelView,"isVisible",o=>!o),this.listenTo(i,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),this.listenTo(i,"change:isEnabled",(o,a,l)=>{!l&&this.panelView.isVisible&&this._hidePanel(!1)}),e.ui.view.body.add(i),i}_updateButton(){const e=this.editor,t=e.model,i=e.editing.view;if(!e.ui.focusTracker.isFocused){this._hideButton();return}if(!e.model.canEditAt(e.model.document.selection)){this._hideButton();return}const r=Array.from(t.document.selection.getSelectedBlocks())[0];if(!r||Array.from(this.toolbarView.items).every(o=>!o.isEnabled)){this._hideButton();return}const s=i.domConverter.mapViewToDom(e.editing.mapper.toViewElement(r));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(s),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const e=this.panelView.isVisible;this.panelView.show();const t=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(t),this.panelView.pin({target:this.buttonView.element,limiter:t}),e||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const e=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(e)}_hidePanel(e){this.panelView.isVisible=!1,e&&this.editor.editing.view.focus()}_repositionButtonOnScroll(){const{buttonView:e}=this;let t=!1;const i=(r,s)=>{if(t)return;const o=this._getSelectedEditableElement();s.target!==Re.document&&!zK(o).includes(s.target)||(t=!0,Re.window.requestAnimationFrame(()=>{this._updateButton(),t=!1}))};e.on("change:isVisible",(r,s,o)=>{o?e.listenTo(Re.document,"scroll",i,{useCapture:!0,usePassive:!0}):e.stopListening(Re.document,"scroll",i)})}_attachButtonToElement(e){const t=this.buttonView.element,i=this._getSelectedEditableElement(),r=window.getComputedStyle(e),s=new rt(i),o=parseInt(r.paddingTop,10),a=parseInt(r.lineHeight,10)||parseInt(r.fontSize,10)*1.2,l=new rt(t),d=new rt(e);let f;this.editor.locale.uiLanguageDirection==="ltr"?f=s.left-l.width:f=s.right;const m=d.top+o+(a-l.height)/2;l.moveTo(f,m);const p=l.toAbsoluteRect();this.buttonView.top=p.top,this.buttonView.left=p.left,this._clipButtonToViewport(this.buttonView,i)}_clipButtonToViewport(e,t){const i=new rt(e.element),r=new rt(t).getVisible(),s=(...a)=>{e.element.style.clipPath=a.length?`polygon(${a.join(",")})`:""},o=a=>{e.isEnabled=!a,e.element.style.pointerEvents=a?"none":""};if(r&&r.bottom<i.bottom){const a=Math.min(i.height,i.bottom-r.bottom);o(a>=i.height),s("0 0","100% 0",`100% calc(100% - ${Jp(a)})`,`0 calc(100% - ${Jp(a)}`)}else if(r&&r.top>i.top){const a=Math.min(i.height,r.top-i.top);o(a>=i.height),s(`0 ${Jp(a)}`,`100% ${Jp(a)}`,"100% 100%","0 100%")}else o(!1),s()}_setupToolbarResize(){const e=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==e&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new bw(e,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(e)})))}_getToolbarMaxWidth(e){const t=new rt(e),i=new rt(this.buttonView.element),s=this.editor.locale.uiLanguageDirection==="rtl"?i.left-t.right+i.width:t.left-i.left;return Jp(t.width+s)}}class q5e extends dg{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Vs;return e.content=Qk,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class Z5e extends Me{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),t.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}class cr extends Me{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new q5e(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new Z5e(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new tn,this.focusTracker=new Ut,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",i=>!i),t.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),du.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(du.openOnButtonClick(this),du.openOnArrowRightKey(this),du.closeOnArrowLeftKey(this),du.openAndFocusOnEnterKeyPress(this),du.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),du.openAndFocusPanelOnArrowDownKey(this),du.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,i)=>{if(!i)return;const r=cr._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:i,northWest:r,westSouth:s,eastSouth:o,westNorth:a,eastNorth:l}=A5e;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[o,l,s,a]:[e,t,i,r]:this.parentMenuView?[s,a,o,l]:[t,e,r,i]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}static _getOptimalPosition=HO}class ja extends Df{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(t=>{const i=dV(t);return i&&i.isToggleable});this.items.forEach(t=>{const i=dV(t);i&&(i.hasCheckSpace=e)})}}function dV(n){return n instanceof no?n.children.map(e=>Q5e(e)?e.buttonView:e).find(e=>e instanceof dg):null}function Q5e(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof ze}class MZ extends UOe{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const fV=["mouseenter","arrowleft","arrowright","change:isOpen"];class J5e extends Me{children;menus=[];constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",i.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t,i=[]){const r=this.locale,o=C5e({normalizedConfig:e,locale:r,componentFactory:t,extraItems:i}).items.map(a=>this._createMenu({componentFactory:t,menuDefinition:a}));this.children.addMany(o)}render(){super.render(),$h.toggleMenusAndFocusItemsOnHover(this),$h.closeMenusWhenTheBarCloses(this),$h.closeMenuWhenAnotherOnTheSameLevelOpens(this),$h.focusCycleMenusOnArrows(this),$h.closeOnClickOutside(this),$h.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}disable(){for(const e of this.children)e.isEnabled=!1}enable(){for(const e of this.children)e.isEnabled=!0}registerMenu(e,t=null){t?(e.delegate(...fV).to(t),e.parentMenuView=t):e.delegate(...fV).to(this,i=>"menu:"+i),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:i}){const r=this.locale,s=new cr(r);return this.registerMenu(s,i),s.buttonView.set({label:t.label}),s.once("change:isOpen",()=>{const o=new ja(r);o.ariaLabel=t.label,s.panelView.children.add(o),o.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:s,componentFactory:e}))}),s}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:i}){const r=this.locale,s=[];for(const o of e.groups){for(const a of o.items){const l=new Go(r,t);if(kr(a))l.children.add(this._createMenu({componentFactory:i,menuDefinition:a,parentMenuView:t}));else{const d=this._createMenuItemContentFromFactory({componentName:a,componentFactory:i,parentMenuView:t});if(!d)continue;l.children.add(d)}s.push(l)}o!==e.groups[e.groups.length-1]&&s.push(new Aw(r))}return s}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:i}){const r=i.create(e);return r instanceof cr||r instanceof Yt||r instanceof MZ?(this._registerMenuTree(r,t),r.on("execute",()=>{this.close()}),r):(vt("menu-bar-component-unsupported",{componentName:e,componentView:r}),null)}_registerMenuTree(e,t){if(!(e instanceof cr)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const i=e.panelView.children.filter(s=>s instanceof ja)[0];if(!i){e.delegate("mouseenter").to(t);return}const r=i.items.filter(s=>s instanceof no);for(const s of r)this._registerMenuTree(s.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,i,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(s=>s.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const y5=["left","right","center","justify"];function BZ(n){return y5.includes(n)}function VZ(n,e){return e.contentLanguageDirection=="rtl"?n==="right":n==="left"}function LZ(n){const e=n.map(i=>{let r;return typeof i=="string"?r={name:i}:r=i,r}).filter(i=>{const r=y5.includes(i.name);return r||vt("alignment-config-name-not-recognized",{option:i}),r}),t=e.filter(i=>!!i.className).length;if(t&&t<e.length)throw new z("alignment-config-classnames-are-missing",{configuredOptions:n});return e.forEach((i,r,s)=>{const o=s.slice(r+1);if(o.some(l=>l.name==i.name))throw new z("alignment-config-name-already-defined",{option:i,configuredOptions:n});if(i.className&&o.some(d=>d.className==i.className))throw new z("alignment-config-classname-already-defined",{option:i,configuredOptions:n})}),e}const _5="alignment";class X5e extends Je{refresh(){const t=this.editor.locale,i=sn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i),this.isEnabled&&i.hasAttribute("alignment")?this.value=i.getAttribute("alignment"):this.value=t.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,i=t.locale,r=t.model,s=r.document,o=e.value;r.change(a=>{const l=Array.from(s.selection.getSelectedBlocks()).filter(m=>this._canBeAligned(m)),d=l[0].getAttribute("alignment");VZ(o,i)||d===o||!o?eDe(l,a):tDe(l,a,o)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,_5)}}function eDe(n,e){for(const t of n)e.removeAttribute(_5,t)}function tDe(n,e,t){for(const i of n)e.setAttribute(_5,t,i)}class nDe extends H{static get pluginName(){return"AlignmentEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("alignment",{options:y5.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,i=e.model.schema,s=LZ(e.config.get("alignment.options")).filter(d=>BZ(d.name)&&!VZ(d.name,t)),o=s.some(d=>!!d.className);i.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),o?e.conversion.attributeToAttribute(oDe(s)):e.conversion.for("downcast").attributeToAttribute(iDe(s));const a=rDe(s);for(const d of a)e.conversion.for("upcast").attributeToAttribute(d);const l=sDe(s);for(const d of l)e.conversion.for("upcast").attributeToAttribute(d);e.commands.add("alignment",new X5e(e))}}function iDe(n){const e={};for(const{name:i}of n)e[i]={key:"style",value:{"text-align":i}};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}function rDe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"style",value:{"text-align":t}},model:{key:"alignment",value:t}});return e}function sDe(n){const e=[];for(const{name:t}of n)e.push({view:{key:"align",value:t},model:{key:"alignment",value:t}});return e}function oDe(n){const e={};for(const i of n)e[i.name]={key:"class",value:i.className};return{model:{key:"alignment",values:n.map(i=>i.name)},view:e}}const Xp=new Map([["left",c5],["right",Qq],["center",qq],["justify",Zq]]);class aDe extends H{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=LZ(e.config.get("alignment.options"));t.map(i=>i.name).filter(BZ).forEach(i=>this._addButton(i)),this._addToolbarDropdown(t),this._addMenuBarMenu(t)}_addButton(e){this.editor.ui.componentFactory.add(`alignment:${e}`,i=>this._createButton(i,e))}_createButton(e,t,i={}){const r=this.editor,s=r.commands.get("alignment"),o=new ze(e);return o.set({label:this.localizedOptionTitles[t],icon:Xp.get(t),tooltip:!0,isToggleable:!0,...i}),o.bind("isEnabled").to(s),o.bind("isOn").to(s,"value",a=>a===t),this.listenTo(o,"execute",()=>{r.execute("alignment",{value:t}),r.editing.view.focus()}),o}_addToolbarDropdown(e){const t=this.editor;t.ui.componentFactory.add("alignment",r=>{const s=ii(r),o=r.uiLanguageDirection==="rtl"?"w":"e",a=r.t;kw(s,()=>e.map(f=>this._createButton(r,f.name,{tooltipPosition:o})),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:a("Text alignment toolbar")}),s.buttonView.set({label:a("Text alignment"),tooltip:!0}),s.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const l=r.contentLanguageDirection==="rtl"?Xp.get("right"):Xp.get("left"),d=t.commands.get("alignment");return s.buttonView.bind("icon").to(d,"value",f=>Xp.get(f)||l),s.bind("isEnabled").to(d,"isEnabled"),this.listenTo(s,"execute",()=>{t.editing.view.focus()}),s})}_addMenuBarMenu(e){const t=this.editor;t.ui.componentFactory.add("menuBar:alignment",i=>{const r=t.commands.get("alignment"),s=i.t,o=new cr(i),a=new ja(i);o.bind("isEnabled").to(r),a.set({ariaLabel:s("Text alignment"),role:"menu"}),o.buttonView.set({label:s("Text alignment")});for(const l of e){const d=new Go(i,o),f=new Yt(i);f.delegate("execute").to(o),f.set({label:this.localizedOptionTitles[l.name],icon:Xp.get(l.name),role:"menuitemcheckbox",isToggleable:!0}),f.on("execute",()=>{t.execute("alignment",{value:l.name}),t.editing.view.focus()}),f.bind("isOn").to(r,"value",m=>m===l.name),f.bind("isEnabled").to(r,"isEnabled"),d.children.add(f),a.items.add(d)}return o.panelView.children.add(a),o})}}class lDe extends H{static get requires(){return[nDe,aDe]}static get pluginName(){return"Alignment"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class FZ{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e,t=20){this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,r)=>{r.isLocal&&r.isUndoable&&r!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class cDe extends Je{_buffer;constructor(e,t){super(e),this._buffer=new FZ(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,r=e.text||"",s=r.length;let o=i.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=Array.from(i.selection.getAttributes());t.deleteContent(o),r&&t.insertContent(l.createText(r,d),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(s)})}}const zZ=["insertText","insertReplacementText"],uDe=[...zZ,"insertCompositionText"];class dDe extends Jo{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(jA);const t=nt.isAndroid?uDe:zZ,i=e.document;i.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{data:o,targetRanges:a,inputType:l,domEvent:d,isComposing:f}=s;if(!t.includes(l))return;this.focusObserver.flush();const m=new mc(i,"insertText");i.fire(m,new bf(e,d,{text:o,selection:e.createSelection(a),isComposing:f})),m.stop.called&&r.stop()}),nt.isAndroid||i.on("compositionend",(r,{data:s,domEvent:o})=>{this.isEnabled&&s&&i.fire("insertText",new bf(e,o,{text:s,isComposing:!0}))},{priority:"low"})}observe(){}stopObserving(){}}class jZ extends H{_typingQueue;static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,i=e.editing.view,r=e.editing.mapper,s=t.document.selection;this._typingQueue=new fDe(e),i.addObserver(dDe);const o=new cDe(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(i.document,"beforeinput",()=>{this._typingQueue.flush("next beforeinput")},{priority:"high"}),this.listenTo(i.document,"insertText",(a,l)=>{const{text:d,selection:f}=l;if(i.document.selection.isFake&&f&&i.document.selection.isSimilar(f)&&l.preventDefault(),f&&Array.from(f.getRanges()).some(A=>!A.isCollapsed)&&l.preventDefault(),!o.isEnabled){l.preventDefault();return}let m;f?m=Array.from(f.getRanges()).map(A=>r.toModelRange(A)).map(A=>s5(A,t.schema)||A):m=Array.from(s.getRanges());let p=d;if(nt.isAndroid){const A=Array.from(m[0].getItems()).reduce((x,S)=>x+(S.is("$textProxy")?S.data:""),"");if(A&&(A.length<=p.length?p.startsWith(A)&&(p=p.substring(A.length),m[0].start=m[0].start.getShiftedBy(A.length)):A.startsWith(p)&&(m[0].start=m[0].start.getShiftedBy(p.length),p="")),p.length==0&&m[0].isCollapsed)return}const w={text:p,selection:t.createSelection(m)};this._typingQueue.push(w,!!l.isComposing),l.domEvent.defaultPrevented&&this._typingQueue.flush("beforeinput default prevented")}),nt.isAndroid?this.listenTo(i.document,"keydown",(a,l)=>{s.isCollapsed||l.keyCode!=229||!i.document.isComposing||hV(t,o)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||hV(t,o)},{priority:"high"}),this.listenTo(i.document,"mutations",(a,{mutations:l})=>{if(this._typingQueue.hasAffectedElements())for(const{node:d}of l){const f=mDe(d,r),m=r.toModelElement(f);if(this._typingQueue.isElementAffected(m)){this._typingQueue.flush("mutations");return}}}),this.listenTo(i.document,"compositionend",()=>{this._typingQueue.flush("before composition end")},{priority:"high"}),this.listenTo(i.document,"compositionend",()=>{this._typingQueue.flush("after composition end");const a=[];if(this._typingQueue.hasAffectedElements())for(const l of this._typingQueue.flushAffectedElements()){const d=r.toViewElement(l);d&&a.push({type:"children",node:d})}(a.length||!nt.isAndroid)&&i.document.fire("mutations",{mutations:a})},{priority:"lowest"})}destroy(){super.destroy(),this._typingQueue.destroy()}}class fDe{editor;flushDebounced=Ps(()=>this.flush("timeout"),50);_queue=[];_isComposing=!1;_affectedElements=new Set;constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._affectedElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e,t){const i={text:e.text};if(e.selection){i.selectionRanges=[];for(const r of e.selection.getRanges())i.selectionRanges.push(Dr.fromRange(r)),this._affectedElements.add(r.start.parent)}this._queue.push(i),this._isComposing||=t,this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const i=e.selectionRanges.map(r=>hDe(r)).filter(r=>!!r);i.length&&(t.selection=this.editor.model.createSelection(i))}return t}flush(e){const t=this.editor,i=t.model,r=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const o=t.commands.get("insertText").buffer;i.enqueueChange(o.batch,()=>{for(o.lock();this._queue.length;){const a=this.shift();t.execute("insertText",a)}o.unlock(),this._isComposing||this._affectedElements.clear(),this._isComposing=!1}),r.scrollToTheSelection()}isElementAffected(e){return this._affectedElements.has(e)}hasAffectedElements(){return this._affectedElements.size>0}flushAffectedElements(){const e=Array.from(this._affectedElements);return this._affectedElements.clear(),e}}function hV(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}function hDe(n){const e=n.toRange();return n.detach(),e.root.rootName=="$graveyard"?null:e}function mDe(n,e){let t=n.is("$text")?n.parent:n;for(;!e.toModelElement(t);)t=t.parent;return t}class mV extends Je{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new FZ(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,r=>{this._buffer.lock();const s=r.createSelection(e.selection||i.selection);if(!t.canEditAt(s))return;const o=e.sequence||1,a=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(r);return}if(this._shouldReplaceFirstBlockWithParagraph(s,o)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let l=0;s.getFirstRange().getMinimalFlatRanges().forEach(d=>{l+=nI(d.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),r.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const a=s.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,r=t.document.selection,s=t.schema.getLimitElement(r),o=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(o,s),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const r=e.getFirstPosition(),s=i.schema.getLimitElement(r),o=s.getChild(0);return!(r.parent!=o||!e.containsEntireContent(o)||!i.schema.checkChild(s,"paragraph")||o.name=="paragraph")}}const gDe="character",gV="word",pDe="codePoint",wu="selection",nm="backward",gb="forward",UZ={deleteContent:{unit:wu,direction:nm},deleteContentBackward:{unit:pDe,direction:nm},deleteWordBackward:{unit:gV,direction:nm},deleteHardLineBackward:{unit:wu,direction:nm},deleteSoftLineBackward:{unit:wu,direction:nm},deleteContentForward:{unit:gDe,direction:gb},deleteWordForward:{unit:gV,direction:gb},deleteHardLineForward:{unit:wu,direction:gb},deleteSoftLineForward:{unit:wu,direction:gb}};class bDe extends Jo{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=s,d=UZ[l];if(!d)return;const f={direction:d.direction,unit:d.unit,sequence:i};f.unit==wu&&(f.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(nt.isAndroid&&(f.sequence=1),wDe(o)&&(f.unit=wu,f.selectionToRemove=e.createSelection(o)));const m=new Rf(t,"delete",o[0]);t.fire(m,new bf(e,a,f)),m.stop.called&&r.stop()}),nt.isBlink&&vDe(this)}observe(){}stopObserving(){}}function vDe(n){const e=n.view,t=e.document;let i=null,r=!1;t.on("keydown",(a,{keyCode:l})=>{i=l,r=!1}),t.on("keyup",(a,{keyCode:l,domEvent:d})=>{const f=t.selection,m=n.isEnabled&&l==i&&s(l)&&!f.isCollapsed&&!r;if(i=null,m){const p=f.getFirstRange(),w=new Rf(t,"delete",p),A={unit:wu,direction:o(l),selectionToRemove:f};t.fire(w,new bf(e,d,A))}}),t.on("beforeinput",(a,{inputType:l})=>{const d=UZ[l];s(i)&&d&&d.direction==o(i)&&(r=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:d})=>{i==_t.delete&&l=="insertText"&&d==""&&a.stop()},{priority:"high"});function s(a){return a==_t.backspace||a==_t.delete}function o(a){return a==_t.backspace?nm:gb}}function wDe(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i,item:r}of e){if(i.parent.is("$text")){const s=i.parent.data,o=i.offset;if(KO(s,o)||qO(s,o)||JK(s,o))continue;t++}else(r.is("containerElement")||r.is("emptyElement"))&&t++;if(t>1)return!0}return!1}class Ua extends H{_undoOnBackspace;static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,r=e.model.document;t.addObserver(bDe),this._undoOnBackspace=!1;const s=new mV(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new mV(e,"backward")),this.listenTo(i,"delete",(o,a)=>{i.isComposing||a.preventDefault();const{direction:l,sequence:d,selectionToRemove:f,unit:m}=a,p=l==="forward"?"deleteForward":"delete",w={sequence:d};if(m=="selection"){const A=Array.from(f.getRanges()).map(x=>e.editing.mapper.toModelRange(x)).map(x=>s5(x,e.model.schema)||x);w.selection=e.model.createSelection(A)}else w.unit=m;e.execute(p,w),t.scrollToTheSelection()},{priority:"low"}),this.listenTo(i,"keydown",(o,a)=>{if(i.isComposing||a.keyCode!=_t.backspace||!r.selection.isCollapsed)return;const l=e.model.schema.getLimitElement(r.selection),d=e.model.createPositionAt(l,0);if(d.isTouching(r.selection.getFirstPosition())){a.preventDefault();const f=e.model.schema.getNearestSelectionRange(d,"forward");if(!f)return;const m=t.createSelection(e.editing.mapper.toViewRange(f)),p=m.getFirstRange(),w=new Rf(document,"delete",p),A={unit:"selection",direction:"backward",selectionToRemove:m};i.fire(w,new bf(t,a.domEvent,A))}}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(r,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class A5 extends H{static get requires(){return[jZ,Ua]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function $Z(n,e){let t=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((r,{item:s})=>s.is("$text")||s.is("$textProxy")?r+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,n.end)}}class k5 extends ln(){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:r})=>{if(r){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,r)=>{r.isUndo||!r.isLocal||this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,s=i.document.selection,o=i.createRange(i.createPositionAt(s.focus.parent,0),s.focus),{text:a,range:l}=$Z(o,i),d=this.testCallback(a);if(!d&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!d,d){const f=Object.assign(t,{text:a,range:l});typeof d=="object"&&Object.assign(f,d),this.fire(`matched:${e}`,f)}}}class qA extends H{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,i=e.editing.view,r=e.locale,s=t.document.selection;this.listenTo(i.document,"arrowKey",(o,a)=>{if(!s.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==_t.arrowright,d=a.keyCode==_t.arrowleft;if(!l&&!d)return;const f=r.contentLanguageDirection;let m=!1;f==="ltr"&&l||f==="rtl"&&d?m=this._handleForwardMovement(a):m=this._handleBackwardMovement(a),m===!0&&o.stop()},{context:"$text",priority:"highest"}),this.listenTo(s,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&Zs(s.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,i=this.editor.model,r=i.document.selection,s=r.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Nl(r,t)?!1:Zs(s,t)?(e&&tb(e),Nl(r,t)&&Zs(s,t,!0)?eb(i,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,r=i.document.selection,s=r.getFirstPosition();return this._isGravityOverridden?(e&&tb(e),this._restoreGravity(),Zs(s,t,!0)?eb(i,t):H_(i,t,s),!0):s.isAtStart?Nl(r,t)?(e&&tb(e),H_(i,t,s),!0):!1:!Nl(r,t)&&Zs(s,t,!0)?(e&&tb(e),H_(i,t,s),!0):pV(s,t)?s.isAtEnd&&!Nl(r,t)&&Zs(s,t)?(e&&tb(e),H_(i,t,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,t=e.model,i=t.document.selection,r=e.editing.view.document;e.editing.view.addObserver(Kk),e.editing.view.addObserver(I2e);let s=!1,o=!1;this.listenTo(r,"touchstart",()=>{o=!1,s=!0}),this.listenTo(r,"mousedown",()=>{o=!0}),this.listenTo(r,"selectionChange",()=>{const a=this.attributes;if(!o&&!s||(o=!1,s=!1,!i.isCollapsed)||!Nl(i,a))return;const l=i.getFirstPosition();Zs(l,a)&&(l.isAtStart||Zs(l,a,!0)?eb(t,a):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection,r=this.attributes;this.listenTo(t,"insertContent",()=>{const s=i.getFirstPosition();Nl(i,r)&&Zs(s,r)&&eb(t,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,i=t.document.selection,r=e.editing.view;let s=!1,o=!1;this.listenTo(r.document,"delete",(a,l)=>{s=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!s)return;const a=i.getFirstPosition();o=Nl(i,this.attributes)&&!pV(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{s&&(s=!1,!o&&e.model.enqueueChange(()=>{const a=i.getFirstPosition();Nl(i,this.attributes)&&Zs(a,this.attributes)&&(a.isAtStart||Zs(a,this.attributes,!0)?eb(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Nl(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function H_(n,e,t){const i=t.nodeBefore;n.change(r=>{if(i){const s=[],o=n.schema.isObject(i)&&n.schema.isInline(i);for(const[a,l]of i.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&s.push([a,l]);r.setSelectionAttribute(s)}else r.removeSelectionAttribute(e)})}function eb(n,e){n.change(t=>{t.removeSelectionAttribute(e)})}function tb(n){n.preventDefault()}function pV(n,e){const t=n.getShiftedBy(-1);return Zs(t,e)}function Zs(n,e,t=!1){const{nodeBefore:i,nodeAfter:r}=n;for(const s of e){const o=i?i.getAttribute(s):void 0,a=r?r.getAttribute(s):void 0;if(!(t&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}const bV={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Wh('"'),to:[null,"",null,""]},quotesSecondary:{from:Wh("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Wh("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Wh('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Wh('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Wh("'"),to:[null,"",null,""]}},vV={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},yDe=["symbols","mathematical","typography","quotes"];class _De extends H{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("typing",{transformations:{include:yDe}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,i=e.plugins.get("Delete"),r=CDe(e.config.get("typing.transformations")),s=a=>{for(const l of r)if(l.from.test(a))return{normalizedTransformation:l}},o=new k5(e.model,s);o.on("matched:data",(a,l)=>{if(!l.batch.isTyping)return;const{from:d,to:f}=l.normalizedTransformation,m=d.exec(l.text),p=f(m.slice(1)),w=l.range;let A=m.index;t.enqueueChange(x=>{for(let S=1;S<m.length;S++){const P=m[S],I=p[S-1];if(I==null){A+=P.length;continue}const O=w.start.getShiftedBy(A),M=t.createRange(O,O.getShiftedBy(P.length)),B=xDe(O);t.insertContent(x.createText(I,B),M),A+=I.length}t.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}function ADe(n){return typeof n=="string"?new RegExp(`(${$O(n)})$`):n}function kDe(n){return typeof n=="string"?()=>[n]:n instanceof Array?()=>n:n}function xDe(n){return(n.textNode?n.textNode:n.nodeAfter).getAttributes()}function Wh(n){return new RegExp(`(^|\\s)(${n})([^${n}]*)(${n})$`)}function CDe(n){const e=n.extra||[],t=n.remove||[],i=s=>!t.includes(s),r=n.include.concat(e).filter(i);return SDe(r).filter(i).map(s=>typeof s=="string"&&bV[s]?bV[s]:s).filter(s=>typeof s=="object").map(s=>({from:ADe(s.from),to:kDe(s.to)}))}function SDe(n){const e=new Set;for(const t of n)if(typeof t=="string"&&vV[t])for(const i of vV[t])e.add(i);else e.add(t);return Array.from(e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xw(n,e,t,i){return i.createRange(vI(n,e,t,!0,i),vI(n,e,t,!1,i))}function vI(n,e,t,i,r){let s=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;s&&s.getAttribute(e)==t;)o=s,s=i?s.previousSibling:s.nextSibling;return o?r.createPositionAt(o,i?"before":"after"):n}function HZ(n,e,t,i){const r=n.editing.view,s=new Set;r.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const d=xw(a.getFirstPosition(),e,a.getAttribute(e),n.model),f=n.editing.mapper.toViewRange(d);for(const m of f.getItems())m.is("element",t)&&!m.hasClass(i)&&(o.addClass(i,m),s.add(m),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){r.change(l=>{for(const d of s.values())l.removeClass(i,d),s.delete(d)})}})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fu(n,e,t,i){let r,s=null;typeof i=="function"?r=i:(s=n.commands.get(i),r=()=>{n.execute(i)}),n.model.document.on("change:data",(o,a)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const l=sn(n.model.document.selection.getRanges());if(!l.isCollapsed||a.isUndo||!a.isLocal)return;const d=Array.from(n.model.document.differ.getChanges()),f=d[0];if(d.length!=1||f.type!=="insert"||f.name!="$text"||f.length!=1)return;const m=f.position.parent;if(m.is("element","codeBlock")||m.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||s&&s.value===!0)return;const p=m.getChild(0),w=n.model.createRangeOn(p);if(!w.containsRange(l)&&!l.end.isEqual(w.end))return;const A=t.exec(p.data.substr(0,l.end.offset));A&&n.model.enqueueChange(x=>{const S=n.model.document.selection,P=x.createPositionAt(m,0),I=x.createPositionAt(m,A[0].length),O=new Dr(P,I);if(r({match:A})!==!1){const B=Array.from(S.getAttributes());x.remove(O);const W=S.getFirstRange(),$=x.createRangeIn(m);m.isEmpty&&!$.isEqual(W)&&!$.containsRange(W,!0)&&x.remove(m),EDe(x,S,B)}O.detach(),n.model.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})})})}function EDe(n,e,t){const i=n.model.schema,r=e.getFirstPosition();let s=new ec(r);i.checkChild(s,"$text")&&(s=s.push("$text"));for(const[o,a]of t)i.checkAttribute(s,o)&&n.setSelectionAttribute(o,a)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gh(n,e,t,i){let r,s;t instanceof RegExp?r=t:s=t,s=s||(o=>{let a;const l=[],d=[];for(;(a=r.exec(o))!==null&&!(a&&a.length<4);){let{index:f,"1":m,"2":p,"3":w}=a;const A=m+p+w;f+=a[0].length-A.length;const x=[f,f+m.length],S=[f+m.length+p.length,f+m.length+p.length+w.length];l.push(x),l.push(S),d.push([f+m.length,f+m.length+p.length])}return{remove:l,format:d}}),n.model.document.on("change:data",(o,a)=>{if(a.isUndo||!a.isLocal||!e.isEnabled)return;const l=n.model,d=l.document.selection;if(!d.isCollapsed)return;const f=Array.from(l.document.differ.getChanges()),m=f[0];if(f.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)return;const p=d.focus,w=p.parent,{text:A,range:x}=TDe(l.createRange(l.createPositionAt(w,0),p),l),S=s(A),P=wV(x.start,S.format,l),I=wV(x.start,S.remove,l);P.length&&I.length&&l.enqueueChange(O=>{if(i(O,P)!==!1){for(const B of I.reverse())O.remove(B);l.enqueueChange(()=>{n.plugins.get("Delete").requestUndoOnBackspace()})}})})}function wV(n,e,t){return e.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>t.createRange(n.getShiftedBy(i[0]),n.getShiftedBy(i[1])))}function TDe(n,e){let t=n.start;return{text:Array.from(n.getItems()).reduce((r,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(t=e.createPositionAfter(s),""):r+s.data,""),range:e.createRange(t,n.end)}}class IDe extends H{static get requires(){return[Ua]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&fu(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&fu(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&fu(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&fu(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=W_(this.editor,"bold");Gh(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Gh(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=W_(this.editor,"italic");Gh(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Gh(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=W_(this.editor,"code");Gh(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=W_(this.editor,"strikethrough");Gh(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const i=t[7],r=new RegExp(`^(#{${i}})\\s$`);fu(this.editor,this,r,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&fu(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&fu(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&fu(this.editor,this,/^---$/,"horizontalLine")}}function W_(n,e){return(t,i)=>{if(!n.commands.get(e).isEnabled)return!1;const s=n.model.schema.getValidRanges(i,e);for(const o of s)t.setAttribute(e,!0,o);t.removeSelectionAttribute(e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class PDe extends H{adapter;_debouncedSave;_lastDocumentVersion;_savePromise;_domEmitter;_config;_pendingActions;_makeImmediateSave;_action=null;static get pluginName(){return"Autosave"}static get isOfficialPlugin(){return!0}static get requires(){return[zm]}constructor(e){super(e);const t=e.config.get("autosave")||{},i=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=Ps(this._save.bind(this),i),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(Ur()),this._config=t,this._pendingActions=e.plugins.get(zm),this._makeImmediateSave=!1}init(){const e=this.editor,t=e.model.document;this.listenTo(e,"ready",()=>{this.listenTo(t,"change:data",(i,r)=>{this._saveCallbacks.length&&r.isLocal&&(this.state==="synchronized"&&(this.state="waiting",this._setPendingAction()),this.state==="waiting"&&this._debouncedSave())})}),this.listenTo(e,"destroy",()=>this._flush(),{priority:"highest"});/* istanbul ignore next -- @preserve */this._domEmitter.listenTo(window,"beforeunload",(i,r)=>{this._pendingActions.hasAny&&(r.returnValue=this._pendingActions.first.message)})}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).finally(()=>{this._savePromise=null}).then(()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)}).catch(e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e}),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Nf extends Je{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(r.isCollapsed)s?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const l of a)s?o.setAttribute(this.attributeKey,s,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const r of i.getRanges())for(const s of r.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const Yh="bold";class RDe extends H{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Yh}),e.model.schema.setAttributeProperties(Yh,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Yh,view:"strong",upcastAlso:["b",i=>{const r=i.getStyle("font-weight");return r&&(r=="bold"||Number(r)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Yh,new Nf(e,Yh)),e.keystrokes.set("CTRL+B",Yh),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function Mf({editor:n,commandName:e,plugin:t,icon:i,label:r,keystroke:s}){return o=>{const a=n.commands.get(e),l=new o(n.locale);return l.set({label:r,icon:i,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof Yt?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),t.listenTo(l,"execute",()=>{n.execute(e),n.editing.view.focus()}),l}}const uE="bold";class ODe extends H{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:uE,plugin:this,icon:Jq,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(uE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+uE,()=>i(Yt))}}class DDe extends H{static get requires(){return[RDe,ODe]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}const Id="code",NDe="ck-code_selected";class MDe extends H{static get pluginName(){return"CodeEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[qA]}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Id}),e.model.schema.setAttributeProperties(Id,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:Id,view:"code"}),e.commands.add(Id,new Nf(e,Id)),e.plugins.get(qA).registerAttribute(Id),HZ(e,Id,"code",NDe),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const dE="code";class BDe extends H{static get pluginName(){return"CodeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:dE,plugin:this,icon:NPe,label:t("Code")});e.ui.componentFactory.add(dE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+dE,()=>i(Yt))}}class VDe extends H{static get requires(){return[MDe,BDe]}static get pluginName(){return"Code"}static get isOfficialPlugin(){return!0}}const Kh="italic";class LDe extends H{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Kh}),e.model.schema.setAttributeProperties(Kh,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Kh,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Kh,new Nf(e,Kh)),e.keystrokes.set("CTRL+I",Kh),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const fE="italic";class FDe extends H{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:fE,plugin:this,icon:KPe,keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(fE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+fE,()=>i(Yt))}}class zDe extends H{static get requires(){return[LDe,FDe]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}const nb="strikethrough";class jDe extends H{static get pluginName(){return"StrikethroughEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:nb}),e.model.schema.setAttributeProperties(nb,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:nb,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(nb,new Nf(e,nb)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const hE="strikethrough";class UDe extends H{static get pluginName(){return"StrikethroughUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:hE,plugin:this,icon:TRe,keystroke:"CTRL+SHIFT+X",label:t("Strikethrough")});e.ui.componentFactory.add(hE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+hE,()=>i(Yt))}}class $De extends H{static get requires(){return[jDe,UDe]}static get pluginName(){return"Strikethrough"}static get isOfficialPlugin(){return!0}}const ib="subscript";class HDe extends H{static get pluginName(){return"SubscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ib}),e.model.schema.setAttributeProperties(ib,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ib,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),e.commands.add(ib,new Nf(e,ib))}}const mE="subscript";class WDe extends H{static get pluginName(){return"SubscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:mE,plugin:this,icon:IRe,label:t("Subscript")});e.ui.componentFactory.add(mE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+mE,()=>i(Yt))}}class GDe extends H{static get requires(){return[HDe,WDe]}static get pluginName(){return"Subscript"}static get isOfficialPlugin(){return!0}}const rb="superscript";class YDe extends H{static get pluginName(){return"SuperscriptEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:rb}),e.model.schema.setAttributeProperties(rb,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:rb,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),e.commands.add(rb,new Nf(e,rb))}}const gE="superscript";class KDe extends H{static get pluginName(){return"SuperscriptUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:gE,plugin:this,icon:PRe,label:t("Superscript")});e.ui.componentFactory.add(gE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+gE,()=>i(Yt))}}class qDe extends H{static get requires(){return[YDe,KDe]}static get pluginName(){return"Superscript"}static get isOfficialPlugin(){return!0}}const sb="underline";class ZDe extends H{static get pluginName(){return"UnderlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:sb}),e.model.schema.setAttributeProperties(sb,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:sb,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(sb,new Nf(e,sb)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}}const pE="underline";class QDe extends H{static get pluginName(){return"UnderlineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=Mf({editor:e,commandName:pE,plugin:this,icon:LRe,label:t("Underline"),keystroke:"CTRL+U"});e.ui.componentFactory.add(pE,()=>i(ze)),e.ui.componentFactory.add("menuBar:"+pE,()=>i(Yt))}}class JDe extends H{static get requires(){return[ZDe,QDe]}static get pluginName(){return"Underline"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function*WZ(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class XDe extends Je{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,r=t.schema,s=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(r.isLimit(a)||r.isLimit(l))return!s&&a==l&&t.deleteContent(i),!1;if(s){const d=WZ(e.model.schema,i.getAttributes());return yV(e,o.start),e.setSelectionAttribute(d),!0}else{const d=!(o.start.isAtStart&&o.end.isAtEnd),f=a==l;if(t.deleteContent(i,{leaveUnmerged:d}),d){if(f)return yV(e,i.focus),!0;e.setSelection(l,0)}}return!1}}function yV(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}const e4e={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class GZ extends Jo{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(r,s)=>{i=s.shiftKey}),t.on("beforeinput",(r,s)=>{if(!this.isEnabled)return;let o=s.inputType;nt.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=s.domEvent,l=e4e[o];if(!l)return;const d=new Rf(t,"enter",s.targetRanges[0]);t.fire(d,new bf(e,a,{isSoft:l.isSoft})),d.stop.called&&r.stop()})}observe(){}stopObserving(){}}class Cw extends H{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=t.document,r=this.editor.t;t.addObserver(GZ),e.commands.add("enter",new XDe(e)),this.listenTo(i,"enter",(s,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class t4e extends Je{execute(){const e=this.editor.model,t=e.document;e.change(i=>{i4e(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=n4e(e.schema,t.selection)}}function n4e(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const i=e.getFirstRange(),r=i.start.parent,s=i.end.parent;return!((wI(r,n)||wI(s,n))&&r!==s)}function i4e(n,e,t){const i=t.isCollapsed,r=t.getFirstRange(),s=r.start.parent,o=r.end.parent,a=s==o;if(i){const l=WZ(n.schema,t.getAttributes());_V(n,e,r.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(r.start.isAtStart&&r.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?_V(n,e,t.focus):l&&e.setSelection(o,0)}}function _V(n,e,t){const i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function wI(n,e){return n.is("rootElement")?!1:e.isLimit(n)||wI(n.parent,e)}class YZ extends H{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,i=e.conversion,r=e.editing.view,s=r.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),r.addObserver(GZ),e.commands.add("shiftEnter",new t4e(e)),this.listenTo(s,"enter",(a,l)=>{s.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class r4e extends Je{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,r=t.document.selection,s=Array.from(r.getSelectedBlocks()),o=e.forceValue===void 0?!this.value:e.forceValue;t.change(a=>{if(!o)this._removeQuote(a,s.filter(G_));else{const l=s.filter(d=>G_(d)||kV(i,d));this._applyQuote(a,l)}})}_getValue(){const e=this.editor.model.document.selection,t=sn(e.getSelectedBlocks());return!!(t&&G_(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=sn(e.getSelectedBlocks());return i?kV(t,i):!1}_removeQuote(e,t){AV(e,t).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd){e.unwrap(i.start.parent);return}if(i.start.isAtStart){const s=e.createPositionBefore(i.start.parent);e.move(i,s);return}i.end.isAtEnd||e.split(i.end);const r=e.createPositionAfter(i.end.parent);e.move(i,r)})}_applyQuote(e,t){const i=[];AV(e,t).reverse().forEach(r=>{let s=G_(r.start);s||(s=e.createElement("blockQuote"),e.wrap(r,s)),i.push(s)}),i.reverse().reduce((r,s)=>r.nextSibling==s?(e.merge(e.createPositionAfter(r)),r):s)}}function G_(n){return n.parent.name=="blockQuote"?n.parent:null}function AV(n,e){let t,i=0;const r=[];for(;i<e.length;){const s=e[i],o=e[i+1];t||(t=n.createPositionBefore(s)),(!o||s.nextSibling!=o)&&(r.push(n.createRange(t,n.createPositionAfter(s))),t=null),i++}return r}function kV(n,e){const t=n.checkChild(e.parent,"blockQuote"),i=n.checkChild(["$root","blockQuote"],e);return t&&i}class s4e extends H{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Cw,Ua]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new r4e(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(o=>{const a=e.model.document.differ.getChanges();for(const l of a)if(l.type=="insert"){const d=l.position.nodeAfter;if(!d)continue;if(d.is("element","blockQuote")&&d.isEmpty)return o.remove(d),!0;if(d.is("element","blockQuote")&&!t.checkChild(l.position,d))return o.unwrap(d),!0;if(d.is("element")){const f=o.createRangeIn(d);for(const m of f.getItems())if(m.is("element","blockQuote")&&!t.checkChild(o.createPositionBefore(m),m))return o.unwrap(m),!0}}else if(l.type=="remove"){const d=l.position.parent;if(d.is("element","blockQuote")&&d.isEmpty)return o.remove(d),!0}return!1});const i=this.editor.editing.view.document,r=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(i,"enter",(o,a)=>{if(!r.isCollapsed||!s.value)return;r.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(o,a)=>{if(a.direction!="backward"||!r.isCollapsed||!s.value)return;const l=r.getLastPosition().parent;l.isEmpty&&!l.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())},{context:"blockquote"})}}class o4e extends H{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const t=this._createButton(Yt);return t.set({role:"menuitemcheckbox"}),t})}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("blockQuote"),s=new e(t.locale),o=i.t;return s.set({label:o("Block quote"),icon:yRe,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value"),this.listenTo(s,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),s}}class a4e extends H{static get requires(){return[s4e,o4e]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class l4e extends hn(){_stack=[];add(e,t){const i=this._stack,r=i[0];this._insertDescriptor(e);const s=i[0];r!==s&&!bE(r,s)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:s,writer:t})}remove(e,t){const i=this._stack,r=i[0];this._removeDescriptor(e);const s=i[0];r!==s&&!bE(r,s)&&this.fire("change:top",{oldDescriptor:r,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex(s=>s.id===e.id);if(bE(e,t[i]))return;i>-1&&t.splice(i,1);let r=0;for(;t[r]&&c4e(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex(r=>r.id===e);i>-1&&t.splice(i,1)}}function bE(n,e){return n&&e&&n.priority==e.priority&&ZA(n.classes)==ZA(e.classes)}function c4e(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:ZA(n.classes)>ZA(e.classes)}function ZA(n){return Array.isArray(n)?n.sort().join(","):n}const u4e="ck-widget",xV="ck-widget_selected";function Jn(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function Cc(n,e,t={}){if(!n.is("containerElement"))throw new z("widget-to-widget-wrong-element-type",null,{element:n});return e.setAttribute("contenteditable","false",n),e.addClass(u4e,n),e.setCustomProperty("widget",!0,n),n.getFillerOffset=g4e,e.setCustomProperty("widgetLabel",[],n),t.label&&h4e(n,t.label),t.hasSelectionHandle&&p4e(n,e),KZ(n,e),n}function d4e(n,e,t){if(e.classes&&t.addClass(Jt(e.classes),n),e.attributes)for(const i in e.attributes)t.setAttribute(i,e.attributes[i],n)}function f4e(n,e,t){if(e.classes&&t.removeClass(Jt(e.classes),n),e.attributes)for(const i in e.attributes)t.removeAttribute(i,n)}function KZ(n,e,t=d4e,i=f4e){const r=new l4e;r.on("change:top",(a,l)=>{l.oldDescriptor&&i(n,l.oldDescriptor,l.writer),l.newDescriptor&&t(n,l.newDescriptor,l.writer)});const s=(a,l,d)=>r.add(l,d),o=(a,l,d)=>r.remove(l,d);e.setCustomProperty("addHighlight",s,n),e.setCustomProperty("removeHighlight",o,n)}function h4e(n,e){n.getCustomProperty("widgetLabel").push(e)}function m4e(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}function x5(n,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],n),t.withAriaRole!==!1&&e.setAttribute("role","textbox",n),e.setAttribute("tabindex","-1",n),t.label&&e.setAttribute("aria-label",t.label,n),e.setAttribute("contenteditable",n.isReadOnly?"false":"true",n),n.on("change:isReadOnly",(i,r,s)=>{e.setAttribute("contenteditable",s?"false":"true",n)}),n.on("change:isFocused",(i,r,s)=>{s?e.addClass("ck-editor__nested-editable_focused",n):e.removeClass("ck-editor__nested-editable_focused",n)}),KZ(n,e),n}function Sw(n,e){const t=n.getSelectedElement();if(t){const i=gu(n);if(i)return e.createRange(e.createPositionAt(t,i))}return e.schema.findOptimalInsertionRange(n)}function g4e(){return null}function p4e(n,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(i){const r=this.toDomElement(i),s=new Vs;return s.set("content",VPe),s.render(),r.appendChild(s.element),r});e.insert(e.createPositionAt(n,0),t),e.addClass(["ck-widget_with-selection-handle"],n)}function C5(n){const e=a=>{const{width:l,paddingLeft:d,paddingRight:f}=a.ownerDocument.defaultView.getComputedStyle(a);return parseFloat(l)-(parseFloat(d)||0)-(parseFloat(f)||0)},t=n.parentElement;if(!t)return 0;let i=e(t);const r=5;let s=0,o=t;for(;isNaN(i);){if(o=o.parentElement,++s>r)return 0;i=e(o)}return i}function b4e(n,e=new rt(n)){const t=C5(n);return t?e.width/t*100:0}const Bl="widget-type-around";function Pd(n,e,t){return!!n&&Jn(n)&&!t.isInline(e)}function v4e(n){return n.closest(".ck-widget__type-around__button")}function w4e(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function y4e(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function gu(n){return n.getAttribute(Bl)}const qZ=["before","after"],_4e=new DOMParser().parseFromString(kRe,"image/svg+xml").firstChild,CV="ck-widget__type-around_disabled";class A4e extends H{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[Cw,Ua]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,r,s)=>{t.change(o=>{for(const a of t.document.roots)s?o.removeClass(CV,a):o.addClass(CV,a)}),s||e.model.change(o=>{o.removeSelectionAttribute(Bl)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,r=i.editing.view,s=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:s}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,i,r){this.listenTo(e,t,(...s)=>{this.isEnabled&&i(...s)},r)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,r=gu(i);if(!r)return!1;const s=i.getSelectedElement();return this._insertParagraph(s,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,r={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&Pd(l,o.item,t)&&(k4e(a.writer,r,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,r=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Jn,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&e.model.change(d=>{d.removeSelectionAttribute(Bl)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=i.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(Pd(l,a,r))return}e.model.change(l=>{l.removeSelectionAttribute(Bl)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,d)=>{const f=d.writer;if(this._currentFakeCaretModelElement){const A=d.mapper.toViewElement(this._currentFakeCaretModelElement);A&&(f.removeClass(qZ.map(o),A),this._currentFakeCaretModelElement=null)}const m=l.selection.getSelectedElement();if(!m)return;const p=d.mapper.toViewElement(m);if(!Pd(p,m,r))return;const w=gu(l.selection);w&&(f.addClass(o(w),p),this._currentFakeCaretModelElement=m)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,d)=>{d||e.model.change(f=>{f.removeSelectionAttribute(Bl)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const i=this.editor,r=i.model,s=r.document.selection,o=r.schema,a=i.editing.view,l=t.keyCode,d=DSe(l,i.locale.contentLanguageDirection),f=a.document.selection.getSelectedElement(),m=i.editing.mapper.toModelElement(f);let p;Pd(f,m,o)?p=this._handleArrowKeyPressOnSelectedWidget(d):s.isCollapsed?p=this._handleArrowKeyPressWhenSelectionNextToAWidget(d):t.shiftKey||(p=this._handleArrowKeyPressWhenNonCollapsedSelection(d)),p&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,r=i.document.selection,s=gu(r);return i.change(o=>{if(s){if(!(s===(e?"after":"before")))return o.removeSelectionAttribute(Bl),!0}else return o.setSelectionAttribute(Bl,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,r=i.schema,s=t.plugins.get("Widget"),o=s._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return Pd(a,o,r)?(i.change(l=>{s._setSelectionOverElement(o),l.setSelectionAttribute(Bl,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,r=i.schema,s=t.editing.mapper,o=i.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=s.toViewElement(a);return Pd(l,a,r)?(i.change(d=>{d.setSelection(a,"on"),d.setSelectionAttribute(Bl,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,r)=>{const s=v4e(r.domTarget);if(!s)return;const o=w4e(s),a=y4e(s,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),r.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(r,s)=>{if(r.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let d;this._insertParagraphAccordingToFakeCaretPosition()?d=!0:Pd(a,o,l)&&(this._insertParagraph(o,s.isSoft?"before":"after"),d=!0),d&&(s.preventDefault(),r.stop())},{context:Jn})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=t.selection)},{priority:"high"}),nt.isAndroid?this._listenToIfEnabled(t,"keydown",(i,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"highest"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,r=i.schema;this._listenToIfEnabled(t.document,"delete",(s,o)=>{if(s.eventPhase!="atTarget")return;const a=gu(i.document.selection);if(!a)return;const l=o.direction,d=i.document.selection.getSelectedElement(),f=a==="before",m=l=="forward";if(f===m)e.execute("delete",{selection:i.createSelection(d,"on")});else{const w=r.getNearestSelectionRange(i.createPositionAt(d,a),l);if(w)if(!w.isCollapsed)i.change(A=>{A.setSelection(w),e.execute(m?"deleteForward":"delete")});else{const A=i.createSelection(w.start);if(i.modifySelection(A,{direction:l}),!A.focus.isEqual(w.start))i.change(x=>{x.setSelection(w),e.execute(m?"deleteForward":"delete")});else{const x=S4e(r,w.start.parent);i.deleteContent(i.createSelection(x,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),s.stop()},{context:Jn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(r,[s,o])=>{if(o&&!o.is("documentSelection"))return;const a=gu(i);if(a)return r.stop(),t.change(l=>{const d=i.getSelectedElement(),f=t.createPositionAt(d,a),m=l.createSelection(f),p=t.insertContent(s,m);return l.setSelection(m),p})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,s)=>{const[,o,a={}]=s;if(o&&!o.is("documentSelection"))return;const l=gu(i);l&&(a.findOptimalPosition=l,s[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[s])=>{if(s&&!s.is("documentSelection"))return;gu(i)&&r.stop()},{priority:"high"})}}function k4e(n,e,t){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(r){const s=this.toDomElement(r);return x4e(s,e),C4e(s),s});n.insert(n.createPositionAt(t,"end"),i)}function x4e(n,e){for(const t of qZ){const i=new Mr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(_4e,!0)]});n.appendChild(i.render())}}function C4e(n){const e=new Mr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function S4e(n,e){let t=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}function E4e(n){const e=n.model;return(t,i)=>{const r=i.keyCode==_t.arrowup,s=i.keyCode==_t.arrowdown,o=i.shiftKey,a=e.document.selection;if(!r&&!s)return;const l=s;if(o&&P4e(a,l))return;const d=T4e(n,a,l);if(d){if(d.isCollapsed){if(a.isCollapsed)return;if(o)return}(d.isCollapsed||I4e(n,d,l))&&(e.change(f=>{const m=l?d.end:d.start;if(o){const p=e.createSelection(a.anchor);p.setFocus(m),f.setSelection(p)}else f.setSelection(m)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function T4e(n,e,t){const i=n.model;if(t){const r=e.isCollapsed?e.focus:e.getLastPosition(),s=SV(i,r,"forward");if(!s)return null;const o=i.createRange(r,s),a=EV(i.schema,o,"backward");return a?i.createRange(r,a):null}else{const r=e.isCollapsed?e.focus:e.getFirstPosition(),s=SV(i,r,"backward");if(!s)return null;const o=i.createRange(s,r),a=EV(i.schema,o,"forward");return a?i.createRange(a,r):null}}function SV(n,e,t){const i=n.schema,r=n.createRangeIn(e.root),s=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of r.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==s&&i.isBlock(a))return null}return null}function EV(n,e,t){const i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:r}of e.getWalker({direction:t}))if(n.checkChild(r,"$text"))return r;return null}function I4e(n,e,t){const i=n.model,r=n.view.domConverter;if(t){const d=i.createSelection(e.start);i.modifySelection(d),!d.focus.isAtEnd&&!e.start.isEqual(d.focus)&&(e=i.createRange(d.focus,e.end))}const s=n.mapper.toViewRange(e),o=r.viewRangeToDom(s),a=rt.getDomRangeRects(o);let l;for(const d of a){if(l===void 0){l=Math.round(d.bottom);continue}if(Math.round(d.top)>=l)return!1;l=Math.max(l,Math.round(d.bottom))}return!0}function P4e(n,e){return!n.isCollapsed&&n.isBackward==e}class el extends H{_previouslySelected=new Set;static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[A4e,Ua]}init(){const e=this.editor,t=e.editing.view,i=t.document,r=e.t;this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{const l=a.writer,d=o.selection;if(d.isCollapsed)return;const f=d.getSelectedElement();if(!f)return;const m=e.editing.mapper.toViewElement(f);Jn(m)&&a.consumable.consume(d,"selection")&&l.setSelection(l.createRangeOn(m),{fake:!0,label:m4e(m)})}),this.editor.editing.downcastDispatcher.on("selection",(s,o,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const l=a.writer,d=l.document.selection;let f=null;for(const m of d.getRanges())for(const p of m){const w=p.item;Jn(w)&&!D4e(w,f)&&(l.addClass(xV,w),this._previouslySelected.add(w),f=w)}},{priority:"low"}),t.addObserver(Kk),this.listenTo(i,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(i,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Jn,"$text"]}),this.listenTo(i,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(i,"arrowKey",E4e(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(s,o)=>{this._handleDelete(o.direction=="forward")&&(o.preventDefault(),s.stop())},{context:"$root"}),this.listenTo(i,"tab",(s,o)=>{s.eventPhase=="atTarget"&&(o.shiftKey||this._selectFirstNestedEditable()&&(o.preventDefault(),s.stop()))},{context:Jn,priority:"low"}),this.listenTo(i,"tab",(s,o)=>{o.shiftKey&&this._selectAncestorWidget()&&(o.preventDefault(),s.stop())},{priority:"low"}),this.listenTo(i,"keydown",(s,o)=>{o.keystroke==_t.esc&&this._selectAncestorWidget()&&(o.preventDefault(),s.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:r("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:r("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:r("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:r("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:r("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:r("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const i=this.editor,r=i.editing.view,s=r.document;let o=t.target;if(!o)return;if(t.domEvent.detail>=3){this._selectBlockContent(o)&&t.preventDefault();return}if(!Jn(o)){const l=R4e(o);if(!l)return;if(Jn(l))o=l;else{const d=O4e(r,t);if(d&&Jn(d))o=d;else return}}nt.isAndroid&&t.preventDefault(),s.isFocused||r.focus();const a=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,i=t.model,r=t.editing.mapper,s=i.schema,o=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=N4e(r.toModelElement(o),i.schema);return a?(i.change(l=>{const d=s.isLimit(a)?null:M4e(l.createPositionAfter(a),s),f=l.createPositionAt(a,0),m=d?l.createPositionAt(d,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(f,m))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,r=this.editor.model,s=r.schema,o=r.document.selection,a=o.getSelectedElement(),l=Uk(i,this.editor.locale.contentLanguageDirection),d=l=="down"||l=="right",f=l=="up"||l=="down";if(a&&s.isObject(a)){const p=d?o.getLastPosition():o.getFirstPosition(),w=s.getNearestSelectionRange(p,d?"forward":"backward");w&&(r.change(A=>{A.setSelection(w)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const p=o.getFirstPosition(),w=o.getLastPosition(),A=p.nodeAfter,x=w.nodeBefore;(A&&s.isObject(A)||x&&s.isObject(x))&&(r.change(S=>{S.setSelection(d?w:p)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const m=this._getObjectElementNextToSelection(d);if(m&&s.isObject(m)){if(s.isInline(m)&&f)return;this._setSelectionOverElement(m),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,r=i.schema,s=i.document.selection.getSelectedElement();s&&r.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);if(r)return this.editor.model.change(s=>{let o=i.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,s.remove(a)}this._setSelectionOverElement(r)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,r=t.document.selection,s=t.createSelection(r);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(r))return null;const o=e?s.focus.nodeBefore:s.focus.nodeAfter;return o&&i.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(xV,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const r of i.selection.getFirstRange().getItems())if(r.is("editableElement")){const s=e.editing.mapper.toModelElement(r);/* istanbul ignore next -- @preserve */if(!s)continue;const o=e.model.createPositionAt(s,0),a=e.model.schema.getNearestSelectionRange(o,"forward");return e.model.change(l=>{l.setSelection(a)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,o=(r.is("$text")?r.parent:r).findAncestor(Jn);if(!o)return!1;const a=t.toModelElement(o);/* istanbul ignore next -- @preserve */return a?(e.model.change(l=>{l.setSelection(a,"on")}),!0):!1}}function R4e(n){let e=n;for(;e;){if(e.is("editableElement")||Jn(e))return e;e=e.parent}return null}function O4e(n,e){const t=UK(e.domEvent);let i=null;if(t?i=n.domConverter.domRangeToView(t):i=n.createRange(n.createPositionAt(e.target,0)),!i)return null;const r=i.start;if(!r.parent)return null;let s=r.parent;return r.parent.is("editableElement")&&(r.isAtEnd&&r.nodeBefore?s=r.nodeBefore:r.isAtStart&&r.nodeAfter&&(s=r.nodeAfter)),s.is("$text")?s.parent:s}function D4e(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function N4e(n,e){for(const t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function M4e(n,e){const t=new Kl({startPosition:n});for(const{item:i}of t){if(e.isLimit(i)||!i.is("element"))return null;if(e.checkChild(i,"$text"))return i}return null}class $m extends H{_toolbarDefinitions=new Map;_balloon;static get requires(){return[xr]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",i=>{B4e(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:i,getRelatedElement:r,balloonClassName:s="ck-toolbar-container",positions:o}){if(!i.length){vt("widget-toolbar-no-items",{toolbarId:e});return}const a=this.editor,l=a.t,d=new pc(a.locale);if(d.ariaLabel=t||l("Widget toolbar"),this._toolbarDefinitions.has(e))throw new z("widget-toolbar-duplicated",this,{toolbarId:e});const f={view:d,getRelatedElement:r,balloonClassName:s,itemsConfig:i,positions:o,initialized:!1};a.ui.addToolbar(d,{isContextual:!0,beforeFocus:()=>{const m=r(a.editing.view.document.selection);m&&this._showToolbar(f,m)},afterBlur:()=>{this._hideToolbar(f)}}),this._toolbarDefinitions.set(e,f)}_updateToolbarsVisibility(){let e=0,t=null,i=null;for(const r of this._toolbarDefinitions.values()){const s=r.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(r)&&this._hideToolbar(r);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(r)&&this._hideToolbar(r);else{const o=s.getAncestors().length;o>e&&(e=o,t=s,i=r)}}i&&this._showToolbar(i,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?TV(this.editor,t,e.positions):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:ZZ(this.editor,t,e.positions),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const r=i.getRelatedElement(this.editor.editing.view.document.selection);TV(this.editor,r,e.positions)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function TV(n,e,t){const i=n.plugins.get("ContextualBalloon"),r=ZZ(n,e,t);i.updatePosition(r)}function ZZ(n,e,t){const i=n.editing.view,r=Rn.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:t||[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}function B4e(n){const e=n.getSelectedElement();return!!(e&&Jn(e))}class V4e extends ln(){_referenceCoordinates;_options;_originalWidth;_originalHeight;_originalWidthPercents;_aspectRatio;constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,i){const r=new rt(t);this.activeHandlePosition=z4e(e),this._referenceCoordinates=L4e(t,j4e(this.activeHandlePosition)),this._originalWidth=r.width,this._originalHeight=r.height,this._aspectRatio=r.width/r.height;const s=i.style.width;s&&s.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(s):this._originalWidthPercents=b4e(i,r)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function L4e(n,e){const t=new rt(n),i=e.split("-"),r={x:i[1]=="right"?t.right:t.left,y:i[0]=="bottom"?t.bottom:t.top};return r.x+=n.ownerDocument.defaultView.scrollX,r.y+=n.ownerDocument.defaultView.scrollY,r}function F4e(n){return`ck-widget__resizer__handle-${n}`}function z4e(n){const e=["top-left","top-right","bottom-right","bottom-left"];for(const t of e)if(n.classList.contains(F4e(t)))return t}function j4e(n){const e=n.split("-"),t={top:"bottom",bottom:"top",left:"right",right:"left"};return`${t[e[0]]}-${t[e[1]]}`}class U4e extends Me{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(i,r)=>i!==null&&r!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(i,r,s)=>e.unit==="px"?`${i}${r}`:`${s}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(i,r,s)=>r<50||s<50?"above-center":i)}_dismiss(){this.unbind(),this._isVisible=!1}}class IV extends ln(){_state;_sizeView;_options;_viewResizerWrapper=null;_initialViewWidth;constructor(e){super(),this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,i)=>t&&i),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{!this.state.proposedWidth&&!this.state.proposedWidthPercents&&(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(t=>{t.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(t=>{t.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(r=>{const s=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(o){const a=this.toDomElement(o);return e._appendHandles(a),e._appendSizeUI(a),a});r.insert(r.createPositionAt(t,"end"),s),r.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=s,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new V4e(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(d=>{const f=this._options.unit||"%",m=(f==="%"?t.widthPercents:t.width)+f;d.setStyle("width",m,this._options.viewElement)});const r=this._getHandleHost(),s=new rt(r),o=Math.round(s.width),a=Math.round(s.height),l=new rt(r);t.width=Math.round(l.width),t.height=Math.round(l.height),this.redraw(s),this.state.update({...t,handleHostWidth:o,handleHostHeight:a})}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!W4e(t))return;const i=t.parentElement,r=this._getHandleHost(),s=this._viewResizerWrapper,o=[s.getStyle("width"),s.getStyle("height"),s.getStyle("left"),s.getStyle("top")];let a;if(i.isSameNode(r)){const l=e||new rt(r);a=[l.width+"px",l.height+"px",void 0,void 0]}else a=[r.offsetWidth+"px",r.offsetHeight+"px",r.offsetLeft+"px",r.offsetTop+"px"];yr(o,a)!=="same"&&this._options.editor.editing.view.change(l=>{l.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},s)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,i=H4e(e),r=this._options.isCentered?this._options.isCentered(this):!0,s={x:t._referenceCoordinates.x-(i.x+t.originalWidth),y:i.y-t.originalHeight-t._referenceCoordinates.y};r&&t.activeHandlePosition.endsWith("-right")&&(s.x=i.x-(t._referenceCoordinates.x+t.originalWidth)),r&&(s.x*=2);let o=Math.abs(t.originalWidth+s.x),a=Math.abs(t.originalHeight+s.y);return(o/t.aspectRatio>a?"width":"height")=="width"?a=o/t.aspectRatio:o=a*t.aspectRatio,{width:Math.round(o),height:Math.round(a),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*o*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const i of t)e.appendChild(new Mr({tag:"div",attributes:{class:`ck-widget__resizer__handle ${$4e(i)}`}}).render())}_appendSizeUI(e){this._sizeView=new U4e,this._sizeView.render(),e.appendChild(this._sizeView.element)}}function $4e(n){return`ck-widget__resizer__handle-${n}`}function H4e(n){return{x:n.pageX,y:n.pageY}}function W4e(n){return n&&n.ownerDocument&&n.ownerDocument.contains(n)}class vE extends H{_resizers=new Map;_observer;_redrawSelectedResizerThrottled;static get pluginName(){return"WidgetResize"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.editing,t=Re.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(Kk),this._observer=new(Ur()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=gf(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[r,s]of this._resizers)r.isAttached()||(this._resizers.delete(r),s.destroy())},{priority:"lowest"}),this._observer.listenTo(Re.window,"resize",this._redrawSelectedResizerThrottled);const i=this.editor.editing.view.document.selection;i.on("change",()=>{const r=i.getSelectedElement(),s=this.getResizerByViewElement(r)||null;s?this.select(s):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new IV(e),i=this.editor.plugins;if(t.attach(),i.has("WidgetToolbarRepository")){const o=i.get("WidgetToolbarRepository");t.on("begin",()=>{o.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{o.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{o.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const s=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(s)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const i=t.domTarget;IV.isResizeHandle(i)&&(this._activeResizer=this._getResizerByHandle(i)||null,this._activeResizer&&(this._activeResizer.begin(i),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class G4e extends Me{focusTracker=new Ut;keystrokes=new tn;idInputView;backButtonView;saveButtonView;children;_validators;_focusables=new Ai;_focusCycler;constructor(e,t){super(e),this._validators=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.idInputView=this._createIdInput(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Qi(e,{children:[this.idInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this.keystrokes.set("Esc",(i,r)=>{this.fire("cancel"),r()}),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-bookmark-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.backButtonView,this.idInputView,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.idInputView.focus()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.idInputView.errorText=t,!1}return!0}resetFormStatus(){this.idInputView.errorText=null}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Bookmark")});return t.children.add(this.backButtonView,0),t}_createIdInput(){const e=this.locale.t,t=new Xn(this.locale,_r);return t.label=e("Bookmark name"),t.infoText=e("Enter the bookmark name without spaces."),t.class="ck-labeled-field-view_full-width",t}get id(){const{element:e}=this.idInputView.fieldView;return e?e.value.trim():null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QZ(n){return!(!n||typeof n!="string"||/\s/.test(n))}class Y4e extends Je{refresh(){const t=this.editor.model.document.selection,i=this._getPositionToInsertBookmark(t);this.isEnabled=!!i}execute(e){if(!e)return;const{bookmarkId:t}=e;if(!QZ(t)){vt("insert-bookmark-command-executed-with-invalid-name");return}const i=this.editor,r=i.model,s=r.document.selection;r.change(o=>{let a=this._getPositionToInsertBookmark(s);if(!r.schema.checkChild(a,"bookmark")){const f=i.execute("insertParagraph",{position:a});if(!f)return;a=f}const d=o.createElement("bookmark",{...Object.fromEntries(s.getAttributes()),bookmarkId:t});r.insertObject(d,a,null,{setSelection:"on"})})}_getPositionToInsertBookmark(e){const t=this.editor.model,i=t.schema,r=e.getFirstRange(),s=r.start;if(wE(s,i))return s;for(const{previousPosition:o,item:a}of r){if(a.is("element")&&i.checkChild(a,"$text")&&wE(a,i))return t.createPositionAt(a,0);if(wE(o,i))return o}return null}}function wE(n,e){return e.checkChild(n,"bookmark")?!0:e.checkChild(n,"paragraph")?e.checkChild("paragraph","bookmark"):!1}class K4e extends Je{refresh(){const t=this.editor.model.document.selection,i=PV(t);this.isEnabled=!!i,this.value=i?i.getAttribute("bookmarkId"):void 0}execute(e){if(!e)return;const{bookmarkId:t}=e;if(!QZ(t)){vt("update-bookmark-command-executed-with-invalid-name");return}const i=this.editor.model,r=i.document.selection,s=PV(r);s&&i.change(o=>{o.setAttribute("bookmarkId",t,s)})}}function PV(n){const e=n.getSelectedElement();return e&&e.is("element","bookmark")?e:null}class Nb extends H{_bookmarkElements=new Map;static get pluginName(){return"BookmarkEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("bookmark",{toolbar:["bookmarkPreview","|","editBookmark","removeBookmark"]})}init(){const{editor:e}=this;this._defineSchema(),this._defineConverters(),e.commands.add("insertBookmark",new Y4e(e)),e.commands.add("updateBookmark",new K4e(e)),this.listenTo(e.model.document,"change:data",()=>{this._trackBookmarkElements()})}getElementForBookmarkId(e){for(const[t,i]of this._bookmarkElements)if(i==e)return t;return null}getAllBookmarkNames(){return new Set(this._bookmarkElements.values())}_defineSchema(){this.editor.model.schema.register("bookmark",{inheritAllFrom:"$inlineObject",allowAttributes:"bookmarkId",disallowAttributes:["linkHref","htmlA"]})}_defineConverters(){const{editor:e}=this,{conversion:t,t:i}=e;e.data.htmlProcessor.domConverter.registerInlineObjectMatcher(r=>yI(r)),e.editing.view.domConverter.registerInlineObjectMatcher(r=>yI(r,!1)),t.for("dataDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(r,{writer:s})=>s.createEmptyElement("a",{id:r.getAttribute("bookmarkId")})}),t.for("editingDowncast").elementToElement({model:{name:"bookmark",attributes:["bookmarkId"]},view:(r,{writer:s})=>{const o=r.getAttribute("bookmarkId"),a=s.createContainerElement("a",{id:o,class:"ck-bookmark"},[this._createBookmarkUIElement(s)]);return s.setCustomProperty("bookmark",!0,a),this._bookmarkElements.set(r,o),Cc(a,s,{label:()=>`${o} ${i("bookmark widget")}`})}}),t.for("upcast").add(r=>r.on("element:a",q4e(e)))}_createBookmarkUIElement(e){return e.createUIElement("span",{class:"ck-bookmark__icon"},function(t){const i=this.toDomElement(t),r=new Vs;return r.set({content:PPe,isColorInherited:!1}),r.render(),i.appendChild(r.element),i})}_trackBookmarkElements(){this._bookmarkElements.forEach((e,t)=>{t.root.rootName==="$graveyard"&&this._bookmarkElements.delete(t)})}}function yI(n,e=!0){if(!(n.name==="a")||e&&!n.isEmpty)return null;const i=n.hasAttribute("id"),r=n.hasAttribute("name"),s=n.hasAttribute("href");return i&&!s?{name:!0,attributes:["id"]}:r&&!s?{name:!0,attributes:["name"]}:null}function q4e(n){return(e,t,i)=>{const r=t.viewItem,s=yI(r,!1);if(!s||!i.consumable.test(r,s)||!Z4e(n)&&!r.isEmpty)return;const a=i.writer,l=r.getAttribute("id"),d=r.getAttribute("name"),f=l||d,m=a.createElement("bookmark",{bookmarkId:f});if(!i.safeInsert(m,t.modelCursor))return;i.consumable.consume(r,s),l===d&&i.consumable.consume(r,{attributes:["name"]}),i.updateConversionResult(m,t);const{modelCursor:p,modelRange:w}=i.convertChildren(r,t.modelCursor);t.modelCursor=p,t.modelRange=a.createRange(t.modelRange.start,w.end)}}function Z4e(n){const e=n.config.get("bookmark.enableNonEmptyAnchorConversion");return e!==void 0?e:!0}const ya="bookmark-ui";class Q4e extends H{formView=null;_balloon;static get requires(){return[Nb,xr,$m]}static get pluginName(){return"BookmarkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;this._balloon=e.plugins.get(xr),e.plugins.has("LinkUI")&&this._registerLinkProvider(),this._registerComponents(),e.conversion.for("editingDowncast").markerToHighlight({model:ya,view:{classes:["ck-fake-bookmark-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ya,view:(t,{writer:i})=>{if(!t.markerRange.isCollapsed)return null;const r=i.createUIElement("span");return i.addClass(["ck-fake-bookmark-selection","ck-fake-bookmark-selection_collapsed"],r),r}})}afterInit(){const e=this.editor,t=e.locale.t,i=this.editor.plugins.get($m),r=Rn.defaultPositions;i.register("bookmark",{ariaLabel:t("Bookmark toolbar"),items:e.config.get("bookmark.toolbar"),getRelatedElement:X4e,balloonClassName:"ck-bookmark-balloon ck-toolbar-container",positions:[r.southArrowNorth,r.southArrowNorthMiddleWest,r.southArrowNorthMiddleEast,r.southArrowNorthWest,r.southArrowNorthEast,r.northArrowSouth,r.northArrowSouthMiddleWest,r.northArrowSouthMiddleEast,r.northArrowSouthWest,r.northArrowSouthEast,r.viewportStickyNorth]})}destroy(){super.destroy(),this.formView&&this.formView.destroy()}_createViews(){this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createFormView(){const e=this.editor,t=e.locale,i=t.t,r=e.commands.get("insertBookmark"),s=e.commands.get("updateBookmark"),o=[r,s],a=new(Um(G4e))(t,J4e(e));return a.idInputView.fieldView.bind("value").to(s,"value"),a.saveButtonView.bind("label").to(s,"value",l=>i(l?"Save":"Insert")),a.idInputView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(d=>d)),a.saveButtonView.bind("isEnabled").toMany(o,"isEnabled",(...l)=>l.some(d=>d)),this.listenTo(a,"cancel",()=>{this._hideFormView()}),this.listenTo(a,"submit",()=>{if(a.isValid()){const l=a.id;this._getSelectedBookmarkElement()?e.execute("updateBookmark",{bookmarkId:l}):e.execute("insertBookmark",{bookmarkId:l}),this._hideFormView()}}),this.listenTo(a.idInputView,"change:errorText",()=>{e.ui.update()}),a}_registerLinkProvider(){const e=this.editor.locale.t,t=this.editor.plugins.get("LinkUI"),i=this.editor.plugins.get(Nb),r=()=>Array.from(i.getAllBookmarkNames()).sort((o,a)=>o.localeCompare(a)).map(o=>({id:o,href:`#${o}`,label:o,icon:OPe})),s=o=>{const a=[...i.getAllBookmarkNames()].find(l=>`#${l}`===o);return a?{href:o,label:a,icon:DPe,tooltip:e("Scroll to bookmark")}:null};t.registerLinksListProvider({label:e("Bookmarks"),emptyListPlaceholder:e("No bookmarks available."),navigate:({href:o})=>this._scrollToBookmark(o),getListItems:r,getItem:s})}_scrollToBookmark(e){const i=this.editor.plugins.get(Nb).getElementForBookmarkId(e.slice(1));return i?(this.editor.model.change(r=>{r.setSelection(i,"on")}),this.editor.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0}),!0):!1}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("bookmark",()=>{const t=this._createBookmarkButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:bookmark",()=>this._createBookmarkButton(Yt)),e.ui.componentFactory.add("bookmarkPreview",t=>{const i=e.commands.get("updateBookmark"),r=new ns(t);return r.extendTemplate({attributes:{class:["ck-bookmark-toolbar__preview"]}}),r.bind("text").to(i,"value"),r}),e.ui.componentFactory.add("editBookmark",t=>{const i=e.commands.get("updateBookmark"),r=new ze(t),s=t.t;return r.set({label:s("Edit bookmark"),icon:GA,tooltip:!0}),r.bind("isEnabled").to(i),this.listenTo(r,"execute",()=>{this._showFormView()}),r}),e.ui.componentFactory.add("removeBookmark",t=>{const i=e.commands.get("delete"),r=new ze(t),s=t.t;return r.set({label:s("Remove bookmark"),icon:ARe,tooltip:!0}),r.bind("isEnabled").to(i),this.listenTo(r,"execute",()=>{e.execute("delete"),e.editing.view.focus()}),r})}_createBookmarkButton(e){const t=this.editor,i=t.locale,r=new e(i),s=t.commands.get("insertBookmark"),o=t.commands.get("updateBookmark"),a=i.t;return r.set({label:a("Bookmark"),icon:RPe}),this.listenTo(r,"execute",()=>{t.editing.view.scrollToTheSelection(),this._showFormView()}),r.bind("isEnabled").toMany([s,o],"isEnabled",(...l)=>l.some(d=>d)),r.bind("isOn").to(o,"value",l=>!!l),r}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Esc",(e,t)=>{this._isFormVisible&&(this._hideFormView(),t())}),Xo({emitter:this.formView,activator:()=>this._isFormInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideFormView(!1)}})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("updateBookmark");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.backButtonView.isVisible=e.isEnabled,this.formView.idInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.idInputView.fieldView.select(),this.formView.enableCssTransitions()}_removeFormView(e=!0){this.formView.saveButtonView.focus(),this.formView.idInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection()}_showFormView(){this.formView||this._createViews(),this._getSelectedBookmarkElement()||this._showFakeVisualSelection(),this._addFormView(),this._balloon.showStack("main"),this._startUpdatingUI()}_hideFormView(e=!0){if(!this._isFormInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&t.editing.view.focus(),this._removeFormView(e),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedBookmarkElement(),r=o();const s=()=>{const a=this._getSelectedBookmarkElement(),l=o();i&&!a||!i&&l!==r?this._hideFormView():this._isFormVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,r=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model;let i;const r=this._getSelectedBookmarkElement();if(t.markers.has(ya)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(ya)),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));i=e.domConverter.viewRangeToDom(o)}else r&&(i=()=>{const s=this.editor.editing.mapper,o=e.domConverter,a=s.toViewElement(r);return o.mapViewToDom(a)});if(i)return{target:i}}_getSelectedBookmarkElement(){const t=this.editor.model.document.selection.getSelectedElement();return t&&t.is("element","bookmark")?t:null}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(ya))t.updateMarker(ya,{range:i});else if(i.start.isAtEnd){const r=i.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:i});t.addMarker(ya,{usingOperation:!1,affectsData:!1,range:t.createRange(r,i.end)})}else t.addMarker(ya,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ya)&&e.change(t=>{t.removeMarker(ya)})}}function J4e(n){const{t:e}=n,t=n.plugins.get(Nb);return[i=>{if(!i.id)return e("Bookmark must not be empty.")},i=>{if(i.id&&/\s/.test(i.id))return e("Bookmark name cannot contain space characters.")},i=>{const r=n.model.document.selection.getSelectedElement(),s=t.getElementForBookmarkId(i.id);if(r!==s&&s)return e("Bookmark name already exists.")}]}function X4e(n){const e=n.getSelectedElement();return!e||!Jn(e)||!e.getCustomProperty("bookmark")?null:e}class eNe extends H{static get pluginName(){return"Bookmark"}static get requires(){return[Nb,Q4e,el]}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class Av extends Ja{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(r){return(s,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new mc(t,r);t.fire(l,{dataTransfer:o.dataTransfer,method:s.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",r={dataTransfer:new uq(t,{cacheFiles:i})};if(e.type=="drop"||e.type=="dragover"){const s=UK(e);r.dropRange=s&&this.view.domConverter.domRangeToView(s)}this.fire(e.type,e,r)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tNe(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nNe(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const RV=["figcaption","li"],OV=["ol","ul"];function JZ(n,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let t="",i=null;for(const r of e.getChildren())t+=iNe(r,i)+JZ(n,r),i=r;if(e.is("rawElement")){const s=document.implementation.createHTMLDocument("").createElement("div");e.render(s,n),t+=XZ(s)}return t}function XZ(n){let e="";if(n.nodeType===Node.TEXT_NODE)return n.textContent;if(n.tagName==="BR")return`
`;for(const t of n.childNodes)e+=XZ(t);return e}function iNe(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||OV.includes(n.name)&&OV.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":RV.includes(n.name)||RV.includes(e.name)?`
`:n.is("element")&&n.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:""}class Mb extends H{_markersToCopy=new Map;static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,i=r=>r.model.getSelectedContent(r.model.document.selection)){return this.editor.model.change(r=>{const s=r.model.document.selection;r.setSelection(t);const o=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),a=i(r),l=this._removeFakeMarkersInsideElement(r,a);for(const[d,f]of Object.entries(o)){l[d]||=r.createRangeIn(a);for(const m of f)r.remove(m)}a.markers.clear();for(const[d,f]of Object.entries(l))a.markers.set(d,f);return r.setSelection(s),a})}_pasteMarkersIntoTransformedElement(e,t){const i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(r=>{const s=this._insertFakeMarkersElements(r,i),o=t(r),a=this._removeFakeMarkersInsideElement(r,o);for(const l of Object.values(s).flat())r.remove(l);for(const[l,d]of Object.entries(a))r.model.markers.has(l)||r.addMarker(l,{usingOperation:!0,affectsData:!0,range:d});return o})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const i of t)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const r=this._markersToCopy.get(e);this._markersToCopy.set(e,i),t(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!t)return!0;const{allowedActions:r}=i;return r==="all"||r.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,i){const r=this._getCopyableMarkersFromSelection(e,t,i);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,t,i){const r=Array.from(t.getRanges()),s=new Set(r.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),o=a=>{if(!this._isMarkerCopyable(a.name,i))return!1;const{copyPartiallySelected:d}=this._getMarkerClipboardConfig(a.name);if(!d){const f=a.getRange();return r.some(m=>m.containsRange(f,!0))}return!0};return Array.from(s).filter(o).map(a=>({name:i==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([s,o])=>{if(!this._hasMarkerConfiguration(s))return[{name:s,range:o}];if(this._isMarkerCopyable(s,t)){const a=this._getMarkerClipboardConfig(s),l=i.markers.has(s)&&i.markers.get(s).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||l)&&(s=this._getUniqueMarkerName(s)),[{name:s,range:o}]}return[]})}_insertFakeMarkersElements(e,t){const i={},r=t.flatMap(s=>{const{start:o,end:a}=s.range;return[{position:o,marker:s,type:"start"},{position:a,marker:s,type:"end"}]}).sort(({position:s},{position:o})=>s.isBefore(o)?1:-1);for(const{position:s,marker:o,type:a}of r){const l=e.createElement("$marker",{"data-name":o.name,"data-type":a});i[o.name]||(i[o.name]=[]),i[o.name].push(l),e.insert(l,s)}return i}_removeFakeMarkersInsideElement(e,t){const r=this._getAllFakeMarkersFromElement(e,t).reduce((s,o)=>{const a=o.markerElement&&e.createPositionBefore(o.markerElement);let l=s[o.name],d=!1;return l?.start&&l?.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?s[this._getUniqueMarkerName(o.name)]=s[o.name]:d=!0,l=null),d||(s[o.name]={...l,[o.type]:a}),o.markerElement&&e.remove(o.markerElement),s},{});return PCe(r,s=>new ae(s.start||e.createPositionFromPath(t,[0]),s.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const i=Array.from(e.createRangeIn(t)).flatMap(({item:o})=>{if(!o.is("element","$marker"))return[];const a=o.getAttribute("data-name"),l=o.getAttribute("data-type");return[{markerElement:o,name:a,type:l}]}),r=[],s=[];for(const o of i)o.type==="end"&&(i.some(l=>l.name===o.name&&l.type==="start")||r.push({markerElement:null,name:o.name,type:"start"})),o.type==="start"&&(i.some(l=>l.name===o.name&&l.type==="end")||s.unshift({markerElement:null,name:o.name,type:"end"}));return[...r,...i,...s]}_getUniqueMarkerName(e){const t=e.split(":"),i=Xi().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${i}`:`${t.join(":")}:${i}`}}class ss extends H{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[Mb]}init(){this.editor.editing.view.addObserver(Av),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const s=r._copySelectedFragmentWithMarkers(i,t);this.fire("outputTransformation",{dataTransfer:e,content:s,method:i})})}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,r=i.document,s=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",(o,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(r,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let d;if(a.content)d=a.content;else{let p="";l.getData("text/html")?p=nNe(l.getData("text/html")):l.getData("text/plain")&&(p=tNe(l.getData("text/plain"))),d=this.editor.data.htmlProcessor.toView(p)}const f=new mc(this,"inputTransformation"),m=l.getData("application/ckeditor5-editor-id")||null;this.fire(f,{content:d,dataTransfer:l,sourceEditorId:m,targetRanges:a.targetRanges,method:a.method}),f.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const d=this.editor.data.toModel(a.content,"$clipboardHolder");d.childCount!=0&&(o.stop(),t.change(()=>{this.fire("contentInsertion",{content:d,method:a.method,sourceEditorId:a.sourceEditorId,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=s._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,r=e.editing.view.document,s=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,o.name)};this.listenTo(r,"copy",s,{priority:"low"}),this.listenTo(r,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?s(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=e.data.toView(a.content,{isClipboardPipeline:!0});r.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",JZ(e.data.htmlProcessor.domConverter,a.content)),a.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}const yE=kc("px");class rNe extends Me{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>yE(t)),top:e.to("top",t=>yE(t)),width:e.to("width",t=>yE(t))}}})}}class Y_ extends H{removeDropMarkerDelayed=GO(()=>this.removeDropMarker(),40);_updateDropMarkerThrottled=gf(e=>this._updateDropMarker(e),40);_reconvertMarkerThrottled=gf(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0);_dropTargetLineView=new rNe;_domEmitter=new(Ur());_scrollables=new Map;static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,r,s,o){this.removeDropMarkerDelayed.cancel();const a=DV(this.editor,e,t,i,r,s,o);/* istanbul ignore next -- @preserve */if(a){if(o&&o.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,t,i,r,s,o){const a=DV(this.editor,e,t,i,r,s,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(r=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||r.updateMarker("drop-target",{range:e}):r.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const i=this.toDomElement(t);return i.append("",t.createElement("span"),""),i})}_updateDropTargetLine(e){const t=this.editor.editing,i=e.start.nodeBefore,r=e.start.nodeAfter,s=e.start.parent,o=i?t.mapper.toViewElement(i):null,a=o?t.view.domConverter.mapViewToDom(o):null,l=r?t.mapper.toViewElement(r):null,d=l?t.view.domConverter.mapViewToDom(l):null,f=t.mapper.toViewElement(s);if(!f)return;const m=t.view.domConverter.mapViewToDom(f),p=this._getScrollableRect(f),{scrollX:w,scrollY:A}=Re.window,x=a?new rt(a):null,S=d?new rt(d):null,P=new rt(m).excludeScrollbarsAndBorders(),I=x?x.bottom:P.top,O=S?S.top:P.bottom,M=Re.window.getComputedStyle(m),B=I<=O?(I+O)/2:O;if(p.top<B&&B<p.bottom){const W=P.left+parseFloat(M.paddingLeft),$=P.right-parseFloat(M.paddingRight),L=Math.max(W+w,p.left),ee=Math.min($+w,p.right);this._dropTargetLineView.set({isVisible:!0,left:L,top:B+A,width:ee-L})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{const r=this.editor.editing.view.domConverter.mapViewToDom(e);i=oNe(r),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const s=new bw(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:s})}return new rt(i).excludeScrollbarsAndBorders()}}function DV(n,e,t,i,r,s,o){const a=n.model,l=n.editing.mapper;let f=NV(n,e);for(;f;){if(!s){if(a.schema.checkChild(f,"$text")){if(t){const m=t[0].start,p=l.toModelPosition(m);if(!o||Array.from(o.getItems({shallow:!0})).every(A=>a.schema.checkChild(p,A))){if(a.schema.checkChild(p,"$text"))return a.createRange(p);if(m)return K_(n,NV(n,m.parent),i,r)}}}else if(a.schema.isInline(f))return K_(n,f,i,r)}if(a.schema.isBlock(f))return K_(n,f,i,r);if(a.schema.checkChild(f,"$block")){const m=Array.from(f.getChildren()).filter(A=>A.is("element")&&!sNe(n,A));let p=0,w=m.length;if(w==0)return a.createRange(a.createPositionAt(f,"end"));for(;p<w-1;){const A=Math.floor((p+w)/2);eQ(n,m[A],i,r)=="before"?w=A:p=A}return K_(n,m[p],i,r)}f=f.parent}return null}function sNe(n,e){const t=n.editing.mapper,i=n.editing.view.domConverter,r=t.toViewElement(e);if(!r)return!0;const s=i.mapViewToDom(r);return Re.window.getComputedStyle(s).float!="none"}function K_(n,e,t,i){const r=n.model;return r.createRange(r.createPositionAt(e,eQ(n,e,t,i)))}function eQ(n,e,t,i){const r=n.editing.mapper,s=n.editing.view.domConverter,o=r.toViewElement(e),a=s.mapViewToDom(o),l=new rt(a);return n.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function NV(n,e){const t=n.editing.mapper,i=n.editing.view,r=t.toModelElement(e);if(r)return r;const s=i.createPositionBefore(e),o=t.findMappedViewAncestor(s);return t.toModelElement(o)}function oNe(n){let e=n;do{e=e.parentElement;const t=Re.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}class aNe extends H{_isBlockDragging=!1;_domEmitter=new(Ur());static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,i,r)=>{r?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),nt.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(r,s)=>this._handleBlockDragStart(s)),this._domEmitter.listenTo(Re.document,"dragover",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Re.document,"drop",(r,s)=>this._handleBlockDragging(s)),this._domEmitter.listenTo(Re.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(r,s,o)=>{i.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,i=t.document.selection,r=this.editor.editing.view,s=Array.from(i.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(s[0]),t.createPositionAfter(s[s.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,r.focus(),r.getObserver(Av).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,r=document.elementFromPoint(t,i),s=this.editor.editing.view;!r||!r.closest(".ck-editor__editable")||s.getObserver(Av).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class lNe extends H{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=GO(()=>this._clearDraggableAttributes(),40);_blockMode=!1;_domEmitter=new(Ur());_previewContainer;static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[ss,el,Y_,aNe]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Av),t.addObserver(Kk),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,r,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,r,s)=>{s||this._finalizeDragging(!1)}),nt.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=e.editing.view,r=i.document,s=e.plugins.get(Y_);this.listenTo(r,"dragstart",(o,a)=>{if(a.target?.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=Xi(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const l=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,l,"dragstart");const{dataTransfer:f,domTarget:m,domEvent:p}=a,{clientX:w}=p;this._updatePreview({dataTransfer:f,domTarget:m,clientX:w}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(r,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Re.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(r,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(r,"dragleave",()=>{s.removeDropMarkerDelayed()}),this.listenTo(r,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:l,clientY:d}=a.domEvent;s.updateDropMarker(a.target,a.targetRanges,l,d,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),nt.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,r=e.plugins.get(Y_);this.listenTo(i,"clipboardInput",(s,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:l}=o.domEvent,d=r.getFinalDropRange(o.target,o.targetRanges,a,l,this._blockMode,this._draggedRange);if(!d){this._finalizeDragging(!1),s.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),MV(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(d,!0)){this._finalizeDragging(!1),s.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(d)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(ss);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const r=i.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(r))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const r=MV(i.dataTransfer)=="move",s=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(s&&r)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(r,s)=>{if(nt.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let o=BV(s.target);if(nt.isBlink&&!e.isReadOnly&&!o&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();(!a||!Jn(a))&&(o=i.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(i,"mouseup",()=>{nt.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,i=t.model;t.plugins.get(Y_).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(s=>{const o=i.createSelection(this._draggedRange);i.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!i.schema.checkChild(a,"$text")&&i.schema.checkChild(a,"paragraph")&&s.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,i=t.model,r=i.document.selection,s=e?BV(e):null;if(s){const d=t.editing.mapper.toModelElement(s);this._draggedRange=Dr.fromRange(i.createRangeOn(d)),this._blockMode=i.schema.isBlock(d),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const o=Array.from(r.getSelectedBlocks()),a=r.getFirstRange();if(o.length==0){this._draggedRange=Dr.fromRange(a);return}const l=tQ(i,o);if(o.length>1)this._draggedRange=Dr.fromRange(l),this._blockMode=!0;else if(o.length==1){const d=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Dr.fromRange(d?l:a),this._blockMode=d}i.change(d=>d.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){const r=this.editor.editing.view,s=r.document.selection.editableElement,o=r.domConverter.mapViewToDom(s),a=Re.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Zi(Re.document,"div",{style:"position: fixed; left: -999999px;"}),Re.document.body.appendChild(this._previewContainer));const l=new rt(o);if(o.contains(t))return;const d=parseFloat(a.paddingLeft),f=Zi(Re.document,"div");f.className="ck ck-content",f.style.width=a.width,f.style.paddingLeft=`${l.left-i+d}px`,nt.isiOS&&(f.style.backgroundColor="white"),r.domConverter.setContentOf(f,e.getData("text/html")),e.setDragImage(f,0,0),this._previewContainer.appendChild(f)}}function MV(n){return nt.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function BV(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Jn);if(Jn(n))return n;const e=n.findAncestor(t=>Jn(t)||t.is("editableElement"));return Jn(e)?e:null}function tQ(n,e){const t=e[0],i=e[e.length-1],r=t.getCommonAncestor(i),s=n.createPositionBefore(t),o=n.createPositionAfter(i);if(r&&r.is("element")&&!n.schema.isLimit(r)){const a=n.createRangeOn(r),l=s.isTouching(a.start),d=o.isTouching(a.end);if(l&&d)return tQ(n,[r])}return n.createRange(s,o)}class cNe extends H{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[ss]}init(){const e=this.editor,t=e.model,i=e.editing.view,r=t.document.selection;i.addObserver(Av),e.plugins.get(ss).on("contentInsertion",(s,o)=>{uNe(o.content,t)&&t.change(a=>{const l=Array.from(r.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),l.push(...r.getAttributes());const d=a.createRangeIn(o.content);for(const f of d.getItems())for(const m of l)t.schema.checkAttribute(f,m[0])&&a.setAttribute(m[0],m[1],f)})})}}function uNe(n,e){let t=e.createRangeIn(n);if(n.childCount==1){const i=n.getChild(0);i.is("element")&&e.schema.isBlock(i)&&!e.schema.isObject(i)&&!e.schema.isLimit(i)&&(t=e.createRangeIn(i))}for(const i of t.getItems())if(!e.schema.isInline(i)||Array.from(i.getAttributeKeys()).find(s=>e.schema.getAttributeProperties(s).isFormatting))return!1;return!0}class S5 extends H{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Mb,ss,lNe,cNe]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const dNe={autoRefresh:!0},VV=36e5,fNe=5e3;class E5 extends ln(){_refresh;_options;_tokenRefreshTimeout;_isDestroyed=!1;constructor(e,t={}){if(super(),!e)throw new z("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),typeof e=="function"?this._refresh=e:this._refresh=()=>hNe(e),this._options={...dNe,...t}}init(){return new Promise((e,t)=>{if(!this.value){this.refreshToken().then(e).catch(t);return}this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(t=>(this._validateTokenValue(t),this.set("value",t),e&&this._registerRefreshTokenTimeout(),this)).catch(t=>{throw vt("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(fNe),t})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",i=!/^".*"$/.test(e),r=t&&e.split(".").length===3;if(!(i&&r))throw new z("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const t=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?(t>2147483647&&console.warn("Token expiration time exceeds 32-bit integer range. This might cause unpredictable token refresh timing. Token expiration time should always be provided in seconds.",{tokenExpireTime:t}),Math.floor((t*1e3-Date.now())/2)):VV}catch{return VV}}static create(e,t={}){return new E5(e,t).init()}}function hNe(n){return new Promise((e,t)=>{const i=new XMLHttpRequest;i.open("GET",n),i.addEventListener("load",()=>{const r=i.status,s=i.response;return r<200||r>299?t(new z("token-cannot-download-new-token",null)):e(s)}),i.addEventListener("error",()=>t(new Error("Network Error"))),i.addEventListener("abort",()=>t(new Error("Abort"))),i.send()})}const _I=/^data:(\S*?);base64,/;class mNe extends hn(){file;xhr;_token;_apiAddress;constructor(e,t,i){if(super(),!e)throw new z("fileuploader-missing-file",null);if(!t)throw new z("fileuploader-missing-token",null);if(!i)throw new z("fileuploader-missing-api-address",null);this.file=pNe(e)?gNe(e):e,this._token=t,this._apiAddress=i}onProgress(e){return this.on("progress",(t,i)=>e(i)),this}onError(e){return this.once("error",(t,i)=>e(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=i=>()=>this.fire("error",i);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort"));/* istanbul ignore else -- @preserve */e.upload&&e.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),e.addEventListener("load",()=>{const i=e.status,r=e.response;if(i<200||i>299)return this.fire("error",r.message||r.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((i,r)=>{t.addEventListener("load",()=>{const s=t.status,o=t.response;return s<200||s>299?o.message?r(new z("fileuploader-uploading-data-failed",this,{message:o.message})):r(o.error):i(o)}),t.addEventListener("error",()=>r(new Error("Network Error"))),t.addEventListener("abort",()=>r(new Error("Abort"))),t.send(e)})}}function gNe(n,e=512){try{const t=n.match(_I)[1],i=atob(n.replace(_I,"")),r=[];for(let s=0;s<i.length;s+=e){const o=i.slice(s,s+e),a=new Array(o.length);for(let l=0;l<o.length;l++)a[l]=o.charCodeAt(l);r.push(new Uint8Array(a))}return new Blob(r,{type:t})}catch{throw new z("fileuploader-decoding-image-data-error",null)}}function pNe(n){return typeof n!="string"?!1:!!n.match(_I)?.length}class bNe{_token;_apiAddress;constructor(e,t){if(!e)throw new z("uploadgateway-missing-token",null);if(!t)throw new z("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new mNe(e,this._token,this._apiAddress)}}class vNe extends Zk{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(e,t){return new E5(e,t)}createUploadGateway(e,t){return new bNe(e,t)}}class wNe extends Zk{tokenUrl;uploadUrl;webSocketUrl;bundleVersion;autoRefresh=!0;token=null;_tokens=new Map;static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[vNe]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[s,o]of Object.entries(t))this[s]=o;if(!this.tokenUrl){this.token=null;return}const r=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl,{autoRefresh:this.autoRefresh});try{this.token=await r.init(),this._tokens.set(this.tokenUrl,this.token)}catch(s){throw r.destroy(),s}}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const i=await this.context.plugins.get("CloudServicesCore").createToken(e,{autoRefresh:this.autoRefresh}).init();return this._tokens.set(e,i),i}getTokenFor(e){const t=this._tokens.get(e);if(!t)throw new z("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function QA(n){const e=n.t,t=n.config.get("codeBlock.languages");for(const i of t)i.label==="Plain text"&&(i.label=e("Plain text")),i.class===void 0&&(i.class=`language-${i.language}`);return t}function JA(n,e,t){const i={};for(const r of n)if(e==="class"){const s=r[e].split(" ").shift();i[s]=r[t]}else i[r[e]]=r[t];return i}function T5(n){return n.data.match(/^(\s*)/)[0]}function yNe(n,e){const t=n.createDocumentFragment(),i=e.split(`
`),r=i.reduce((s,o,a)=>(s.push(o),a<i.length-1&&s.push(n.createElement("br")),s),[]);return n.appendChild(r,t),t}function AI(n){const e=n.document.selection,t=[];if(e.isCollapsed)return[e.anchor];const i=e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:r}of i){let s=r.is("$textProxy")?r.textNode:r;const o=s.parent;if(!o.is("element","codeBlock")||s.is("element","softBreak"))continue;for(;s.previousSibling&&!s.previousSibling.is("element","softBreak");)s=s.previousSibling;const a=s.is("$text")?s.startOffset+T5(s).length:s.startOffset,l=n.createPositionAt(o,a);t.every(d=>!d.isEqual(l))&&t.push(l)}return t}function nQ(n){const e=sn(n.getSelectedBlocks());return!!e&&e.is("element","codeBlock")}function LV(n,e){return e.is("rootElement")||n.isLimit(e)?!1:n.checkChild(e.parent,"codeBlock")}function FV(n,e,t,i){const r=JA(e,"language","label"),s=t.getAttribute("language");if(s in r){const o=r[s];return n(i==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return n(i==="enter"?"Entering code snippet":"Leaving code snippet")}function iQ(n,e){for(n.textNode&&(n=e.createPositionBefore(n.textNode));n.nodeBefore&&!n.nodeBefore.is("element","softBreak");)n=e.createPositionBefore(n.nodeBefore);const t=n.nodeAfter;return t&&t.is("$text")?t:null}class _Ne extends Je{_lastLanguage;constructor(e){super(e),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor,i=t.model,r=i.document.selection,o=QA(t)[0],a=Array.from(r.getSelectedBlocks()),l=e.forceValue==null?!this.value:e.forceValue,d=ANe(e,this._lastLanguage,o.language);i.change(f=>{l?this._applyCodeBlock(f,a,d):this._removeCodeBlock(f,a)})}_getValue(){const e=this.editor.model.document.selection,t=sn(e.getSelectedBlocks());return!!t?.is("element","codeBlock")?t.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=sn(e.getSelectedBlocks());return i?LV(t,i):!1}_applyCodeBlock(e,t,i){this._lastLanguage=i;const r=this.editor.model.schema,s=t.filter(o=>LV(r,o));for(const o of s)e.rename(o,"codeBlock"),e.setAttribute("language",i,o),r.removeDisallowedAttributes([o],e),Array.from(o.getChildren()).filter(a=>!r.checkChild(o,a)).forEach(a=>e.remove(a));s.reverse().forEach((o,a)=>{const l=s[a+1];o.previousSibling===l&&(e.appendElement("softBreak",l),e.merge(e.createPositionBefore(o)))})}_removeCodeBlock(e,t){const i=t.filter(r=>r.is("element","codeBlock"));for(const r of i){const s=e.createRangeOn(r);for(const o of Array.from(s.getItems()).reverse())if(o.is("element","softBreak")&&o.parent.is("element","codeBlock")){const{position:a}=e.split(e.createPositionBefore(o)),l=a.nodeAfter;e.rename(l,"paragraph"),e.removeAttribute("language",l),e.remove(o)}e.rename(r,"paragraph"),e.removeAttribute("language",r)}}}function ANe(n,e,t){return n.language?n.language:n.usePreviousLanguageChoice&&e?e:t}class kNe extends Je{_indentSequence;constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(i=>{const r=AI(t);for(const s of r){const o=i.createText(this._indentSequence);t.insertContent(o,s)}})}_checkEnabled(){return this._indentSequence?nQ(this.editor.model.document.selection):!1}}class xNe extends Je{_indentSequence;constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(()=>{const i=AI(t);for(const r of i){const s=zV(t,r,this._indentSequence);s&&t.deleteContent(t.createSelection(s))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return nQ(e.document.selection)?AI(e).some(t=>zV(e,t,this._indentSequence)):!1}}function zV(n,e,t){const i=iQ(e,n);if(!i)return null;const r=T5(i),s=r.lastIndexOf(t);if(s+t.length!==r.length||s===-1)return null;const{parent:o,startOffset:a}=i;return n.createRange(n.createPositionAt(o,a+s),n.createPositionAt(o,a+s+t.length))}function jV(n,e,t=!1){const i=JA(e,"language","class"),r=JA(e,"language","label");return(s,o,a)=>{const{writer:l,mapper:d,consumable:f}=a;if(!f.consume(o.item,"insert"))return;const m=o.item.getAttribute("language"),p=d.toViewPosition(n.createPositionBefore(o.item)),w={};t&&(w["data-language"]=r[m],w.spellcheck="false");const A=i[m]?{class:i[m]}:void 0,x=l.createContainerElement("code",A),S=l.createContainerElement("pre",w,x);l.insert(p,S),d.bindElements(o.item,x)}}function CNe(n){return(e,t,i)=>{if(t.item.parent.name!=="codeBlock")return;const{writer:r,mapper:s,consumable:o}=i;if(!o.consume(t.item,"insert"))return;const a=s.toViewPosition(n.createPositionBefore(t.item));r.insert(a,r.createText(`
`))}}function SNe(n,e){const t=JA(e,"class","language"),i=e[0].language;return(r,s,o)=>{const a=s.viewItem,l=a.parent;if(!l||!l.is("element","pre")||s.modelCursor.findAncestor("codeBlock"))return;const{consumable:d,writer:f}=o;if(!d.test(a,{name:!0}))return;const m=f.createElement("codeBlock"),p=[...a.getClassNames()];p.length||p.push("");for(const w of p){const A=t[w];if(A){d.consume(a,{classes:[w]}),f.setAttribute("language",A,m);break}}m.hasAttribute("language")||f.setAttribute("language",i,m),o.convertChildren(a,m),o.safeInsert(m,s.modelCursor)&&(d.consume(a,{name:!0}),o.updateConversionResult(m,s))}}function ENe(){return(n,e,{consumable:t,writer:i})=>{let r=e.modelCursor;if(!t.test(e.viewItem)||!r.findAncestor("codeBlock"))return;t.consume(e.viewItem);const o=e.viewItem.data.split(`
`).map(l=>i.createText(l)),a=o[o.length-1];for(const l of o)if(i.insert(l,r),r=r.getShiftedBy(l.offsetSize),l!==a){const d=i.createElement("softBreak");i.insert(d,r),r=i.createPositionAfter(d)}e.modelRange=i.createRange(e.modelCursor,r),e.modelCursor=r}}function TNe(){return(n,e,{consumable:t})=>{const i=e.viewItem;if(i.findAncestor("pre"))return;const r=Array.from(i.getChildren()),s=r.find(o=>o.is("element","code"));if(s)for(const o of r)o===s||!o.is("$text")||t.consume(o,{name:!0})}}const rQ="paragraph";class INe extends H{static get pluginName(){return"CodeBlockEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[YZ]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"go",label:"Go"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const e=this.editor,t=e.model.schema,i=e.model,r=e.editing.view,s=QA(e);e.commands.add("codeBlock",new _Ne(e)),e.commands.add("indentCodeBlock",new kNe(e)),e.commands.add("outdentCodeBlock",new xNe(e)),this.listenTo(r.document,"tab",(o,a)=>{const l=a.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(l).isEnabled&&(e.execute(l),a.stopPropagation(),a.preventDefault(),o.stop())},{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),t.addAttributeCheck((o,a)=>{const l=o.getItem(o.length-2);if(t.getAttributeProperties(a).isFormatting&&l&&l.name=="codeBlock")return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",jV(i,s,!0)),e.data.downcastDispatcher.on("insert:codeBlock",jV(i,s)),e.data.downcastDispatcher.on("insert:softBreak",CNe(i),{priority:"high"}),e.data.upcastDispatcher.on("element:code",SNe(r,s)),e.data.upcastDispatcher.on("text",ENe()),e.data.upcastDispatcher.on("element:pre",TNe(),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",(o,a)=>{let l=i.createRange(i.document.selection.anchor);if(a.targetRanges&&(l=e.editing.mapper.toModelRange(a.targetRanges[0])),!l.start.parent.is("element","codeBlock"))return;const d=a.dataTransfer.getData("text/plain"),f=new Bs(e.editing.view.document);a.content=yNe(f,d)}),e.plugins.has("ClipboardPipeline")&&e.plugins.get(ss).on("contentInsertion",(o,a)=>{const l=e.model,d=l.document.selection;d.anchor.parent.is("element","codeBlock")&&l.change(f=>{const m=f.createRangeIn(a.content);for(const p of[...m.getItems()])p.is("node")&&!t.checkChild(d.anchor,p)&&f.remove(p)})}),this.listenTo(i,"getSelectedContent",(o,[a])=>{const l=a.anchor;a.isCollapsed||!l.parent.is("element","codeBlock")||!l.hasSameParentAs(a.focus)||i.change(d=>{const f=o.return;if(l.parent.is("element")&&(f.childCount>1||a.containsEntireContent(l.parent))){const p=d.createElement("codeBlock",l.parent.getAttributes());d.append(f,p);const w=d.createDocumentFragment();d.append(p,w),o.return=w;return}const m=f.getChild(0);t.checkAttribute(m,"code")&&d.setAttribute("code",!0,m)})})}afterInit(){const e=this.editor,t=e.commands,i=t.get("indent"),r=t.get("outdent");i&&i.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),r&&r.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(s,o)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!RNe(e,o.isSoft)&&!ONe(e,o.isSoft)&&PNe(e),o.preventDefault(),s.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:e,ui:t,t:i}=this.editor,r=QA(this.editor);let s=null;e.document.selection.on("change:range",()=>{const o=e.document.selection.focus.parent;!t||s===o||!o.is("element")||(s&&s.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(FV(i,r,s,"leave")),o.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(FV(i,r,o,"enter")),s=o)})}}function PNe(n){const e=n.model,t=e.document,i=t.selection.getLastPosition();let r;const s=iQ(i,e);s&&s.is("$text")&&(r=T5(s)),n.model.change(o=>{n.execute("shiftEnter"),r&&o.insertText(r,t.selection.anchor)})}function RNe(n,e){const i=n.model.document,r=n.editing.view,s=i.selection.getLastPosition(),o=s.nodeAfter;return e||!i.selection.isCollapsed||!s.isAtStart||!Bd(o)?!1:(n.model.change(a=>{n.execute("enter");const l=i.selection.anchor.parent.previousSibling;a.rename(l,rQ),a.setSelection(l,"in"),n.model.schema.removeDisallowedAttributes([l],a),a.remove(o)}),r.scrollToTheSelection(),!0)}function ONe(n,e){const t=n.model,i=t.document,r=n.editing.view,s=i.selection.getLastPosition(),o=s.nodeBefore;let a;if(e||!i.selection.isCollapsed||!s.isAtEnd||!o||!o.previousSibling)return!1;if(Bd(o)&&Bd(o.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling),t.createPositionAfter(o));else if(_E(o)&&Bd(o.previousSibling)&&Bd(o.previousSibling.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling),t.createPositionAfter(o));else if(_E(o)&&Bd(o.previousSibling)&&_E(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&Bd(o.previousSibling.previousSibling.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling.previousSibling),t.createPositionAfter(o));else return!1;return n.model.change(l=>{l.remove(a),n.execute("enter");const d=i.selection.anchor.parent;l.rename(d,rQ),n.model.schema.removeDisallowedAttributes([d],l)}),r.scrollToTheSelection(),!0}function _E(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function Bd(n){return n&&n.is("element","softBreak")}class DNe extends H{static get pluginName(){return"CodeBlockUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=e.ui.componentFactory,r=QA(e),s=this._getLanguageListItemDefinitions(r),o=e.commands.get("codeBlock");i.add("codeBlock",a=>{const l=ii(a,$u),d=l.buttonView,f=t("Insert code block");return d.set({label:f,tooltip:!0,icon:x6,isToggleable:!0}),d.bind("isOn").to(o,"value",m=>!!m),d.on("execute",()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),l.on("execute",m=>{e.execute("codeBlock",{language:m.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),ea(l,s,{role:"menu",ariaLabel:f}),l}),i.add("menuBar:codeBlock",a=>{const l=new cr(a);l.buttonView.set({role:"menuitem",label:t("Code block"),icon:x6}),l.bind("isEnabled").to(o);const d=new ja(a);d.set({ariaLabel:t("Insert code block")});for(const f of s){const m=new Go(a,l),p=new Yt(a);p.bind(...Object.keys(f.model)).to(f.model),p.set({isToggleable:!0,role:"menuitemcheckbox"}),p.delegate("execute").to(l),p.on("execute",()=>{e.execute("codeBlock",{language:f.model._codeBlockLanguage,forceValue:o.value!=f.model._codeBlockLanguage}),e.editing.view.focus()}),m.children.add(p),d.items.add(m)}return l.panelView.children.add(d),l})}_getLanguageListItemDefinitions(e){const i=this.editor.commands.get("codeBlock"),r=new hi;for(const s of e){const o={type:"button",model:new io({_codeBlockLanguage:s.language,label:s.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(i,"value",a=>a===o.model._codeBlockLanguage),r.add(o)}return r}}class NNe extends H{static get requires(){return[INe,DNe]}static get pluginName(){return"CodeBlock"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class MNe extends D5e{view;_toolbarConfig;_elementReplacer;constructor(e,t){super(e),this.view=t,this._toolbarConfig=Jk(e.config.get("toolbar")),this._elementReplacer=new VK,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,r=t.editing.view,s=i.editable,o=r.document.getRoot();s.name=o.rootName,i.render();const a=s.element;this.setEditableElement(s.name,a),i.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&this.initMenuBar(i.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.getDomRoot(e.editable.name)&&t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({visualTop:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),r=e.sourceElement;let s;const o=e.config.get("placeholder");o&&(s=typeof o=="string"?o:o[this.view.editable.name]),!s&&r&&r.tagName.toLowerCase()==="textarea"&&(s=r.getAttribute("placeholder")),s&&(i.placeholder=s),$k({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,t=this.editor.plugins.get("ContextualBalloon");t.on("getPositionOptions",r=>{const s=r.return;if(!s||!e.isSticky||!e.element)return;const o=new rt(e.element).height,a=typeof s.target=="function"?s.target():s.target,l=typeof s.limiter=="function"?s.limiter():s.limiter;if(a&&l&&new rt(a).height>=new rt(l).height-o)return;const d={...s.viewportOffsetConfig},f=(d.top||0)+o;r.return={...s,viewportOffsetConfig:{...d,top:f}}},{priority:"low"});const i=()=>{t.visibleView&&t.updatePosition()};this.listenTo(e,"change:isSticky",i),this.listenTo(this.editor.ui,"change:viewportOffset",i)}_handleScrollToTheSelectionWithStickyPanel(e,t,i){const r=this.view.stickyPanel;if(r.isSticky){const s=new rt(r.element).height;t.viewportOffset.top+=s}else{const s=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(r,"change:isSticky",s),setTimeout(()=>{this.stopListening(r,"change:isSticky",s)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const i=t.view;i.on("moveTo",(r,s)=>{if(!e.isSticky||i.wasMoved||i.isModal)return;const o=new rt(e.contentPanelElement);s[1]<o.bottom+wv.defaultOffset&&(s[1]=o.bottom+wv.defaultOffset)},{priority:"high"})},{priority:"low"})}}class BNe extends M5e{stickyPanel;toolbar;editable;constructor(e,t,i={}){super(e),this.stickyPanel=new z5e(e),this.toolbar=new pc(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new J5e(e)),this.editable=new V5e(e,t,void 0,{label:i.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class VNe extends kPe(wPe){static get editorName(){return"ClassicEditor"}ui;constructor(e,t={}){if(!S0(e)&&t.initialData!==void 0)throw new z("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",LNe(e)),S0(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=this.config.get("menuBar"),s=new BNe(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:r.isVisible,label:this.config.get("label")});this.ui=new MNe(this,s),_Pe(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const r=new this(e,t);i(r.initPlugins().then(()=>r.ui.init(S0(e)?e:null)).then(()=>r.data.init(r.config.get("initialData"))).then(()=>r.fire("ready")).then(()=>r))})}}function LNe(n){return S0(n)?wSe(n):n}function S0(n){return hc(n)}var E0={exports:{}},FNe=E0.exports,UV;function zNe(){return UV||(UV=1,(function(n){((e,t)=>{n.exports?n.exports=t():e.fuzzysort=t()})(FNe,e=>{var t=(q,U)=>{if(!q||!U)return V;var ce=A(q);Y(U)||(U=w(U));var re=ce.bitflags;return(re&U._bitflags)!==re?V:S(ce,U)},i=(q,U,ce)=>{if(!q)return ce?.all?x(U,ce):be;var re=A(q),we=re.bitflags,Ie=re.containsSpace,ye=m(ce?.threshold||0),Fe=ce?.limit||de,Oe=0,at=0,ct=U.length;function gn(gt){Oe<Fe?(Ae.add(gt),++Oe):(++at,gt._score>Ae.peek()._score&&Ae.replaceTop(gt))}if(ce?.key)for(var cn=ce.key,st=0;st<ct;++st){var Mn=U[st],Ct=Be(Mn,cn);if(Ct&&(Y(Ct)||(Ct=w(Ct)),(we&Ct._bitflags)===we)){var F=S(re,Ct);F!==V&&(F._score<ye||(F.obj=Mn,gn(F)))}}else if(ce?.keys){var J=ce.keys,ue=J.length;e:for(var st=0;st<ct;++st){var Mn=U[st];{for(var Ne=0,Z=0;Z<ue;++Z){var cn=J[Z],Ct=Be(Mn,cn);if(!Ct){Ee[Z]=fe;continue}Y(Ct)||(Ct=w(Ct)),Ee[Z]=Ct,Ne|=Ct._bitflags}if((we&Ne)!==we)continue}if(Ie)for(let It=0;It<re.spaceSearches.length;It++)Se[It]=Q;for(var Z=0;Z<ue;++Z){if(Ct=Ee[Z],Ct===fe){Te[Z]=fe;continue}if(Te[Z]=S(re,Ct,!1,Ie),Te[Z]===V){Te[Z]=fe;continue}if(Ie)for(let wt=0;wt<re.spaceSearches.length;wt++){if(ge[wt]>-1e3&&Se[wt]>Q){var se=(Se[wt]+ge[wt])/4;se>Se[wt]&&(Se[wt]=se)}ge[wt]>Se[wt]&&(Se[wt]=ge[wt])}}if(Ie){for(let It=0;It<re.spaceSearches.length;It++)if(Se[It]===Q)continue e}else{var me=!1;for(let It=0;It<ue;It++)if(Te[It]._score!==Q){me=!0;break}if(!me)continue}var $e=new l(ue);for(let It=0;It<ue;It++)$e[It]=Te[It];if(Ie){var Ke=0;for(let It=0;It<re.spaceSearches.length;It++)Ke+=Se[It]}else{var Ke=Q;for(let wt=0;wt<ue;wt++){var F=$e[wt];if(F._score>-1e3&&Ke>Q){var se=(Ke+F._score)/4;se>Ke&&(Ke=se)}F._score>Ke&&(Ke=F._score)}}if($e.obj=Mn,$e._score=Ke,ce?.scoreFn){if(Ke=ce.scoreFn($e),!Ke)continue;Ke=m(Ke),$e._score=Ke}Ke<ye||gn($e)}}else for(var st=0;st<ct;++st){var Ct=U[st];if(Ct&&(Y(Ct)||(Ct=w(Ct)),(we&Ct._bitflags)===we)){var F=S(re,Ct);F!==V&&(F._score<ye||gn(F))}}if(Oe===0)return be;for(var bt=new Array(Oe),st=Oe-1;st>=0;--st)bt[st]=Ae.poll();return bt.total=Oe+at,bt},r=(q,U="<b>",ce="</b>")=>{for(var re=typeof U=="function"?U:void 0,we=q.target,Ie=we.length,ye=q.indexes,Fe="",Oe=0,at=0,ct=!1,gn=[],cn=0;cn<Ie;++cn){var st=we[cn];if(ye[at]===cn){if(++at,ct||(ct=!0,re?(gn.push(Fe),Fe=""):Fe+=U),at===ye.length){re?(Fe+=st,gn.push(re(Fe,Oe++)),Fe="",gn.push(we.substr(cn+1))):Fe+=st+ce+we.substr(cn+1);break}}else ct&&(ct=!1,re?(gn.push(re(Fe,Oe++)),Fe=""):Fe+=ce);Fe+=st}return re?gn:Fe},s=q=>{typeof q=="number"?q=""+q:typeof q!="string"&&(q="");var U=O(q);return d(q,{_targetLower:U._lower,_targetLowerCodes:U.lowerCodes,_bitflags:U.bitflags})},o=()=>{W.clear(),$.clear()};class a{get indexes(){return this._indexes.slice(0,this._indexes.len).sort((U,ce)=>U-ce)}set indexes(U){return this._indexes=U}highlight(U,ce){return r(this,U,ce)}get score(){return f(this._score)}set score(U){this._score=m(U)}}class l extends Array{get score(){return f(this._score)}set score(U){this._score=m(U)}}var d=(q,U)=>{const ce=new a;return ce.target=q,ce.obj=U.obj??V,ce._score=U._score??Q,ce._indexes=U._indexes??[],ce._targetLower=U._targetLower??"",ce._targetLowerCodes=U._targetLowerCodes??V,ce._nextBeginningIndexes=U._nextBeginningIndexes??V,ce._bitflags=U._bitflags??0,ce},f=q=>q===Q?0:q>1?q:Math.E**(((-q+1)**.04307-1)*-2),m=q=>q===0?Q:q>1?q:1-Math.pow(Math.log(q)/-2+1,1/.04307),p=q=>{typeof q=="number"?q=""+q:typeof q!="string"&&(q=""),q=q.trim();var U=O(q),ce=[];if(U.containsSpace){var re=q.split(/\s+/);re=[...new Set(re)];for(var we=0;we<re.length;we++)if(re[we]!==""){var Ie=O(re[we]);ce.push({lowerCodes:Ie.lowerCodes,_lower:re[we].toLowerCase(),containsSpace:!1})}}return{lowerCodes:U.lowerCodes,_lower:U._lower,containsSpace:U.containsSpace,bitflags:U.bitflags,spaceSearches:ce}},w=q=>{if(q.length>999)return s(q);var U=W.get(q);return U!==void 0||(U=s(q),W.set(q,U)),U},A=q=>{if(q.length>999)return p(q);var U=$.get(q);return U!==void 0||(U=p(q),$.set(q,U)),U},x=(q,U)=>{var ce=[];ce.total=q.length;var re=U?.limit||de;if(U?.key)for(var we=0;we<q.length;we++){var Ie=q[we],ye=Be(Ie,U.key);if(ye!=V){Y(ye)||(ye=w(ye));var Fe=d(ye.target,{_score:ye._score,obj:Ie});if(ce.push(Fe),ce.length>=re)return ce}}else if(U?.keys)for(var we=0;we<q.length;we++){for(var Ie=q[we],Oe=new l(U.keys.length),at=U.keys.length-1;at>=0;--at){var ye=Be(Ie,U.keys[at]);if(!ye){Oe[at]=fe;continue}Y(ye)||(ye=w(ye)),ye._score=Q,ye._indexes.len=0,Oe[at]=ye}if(Oe.obj=Ie,Oe._score=Q,ce.push(Oe),ce.length>=re)return ce}else for(var we=0;we<q.length;we++){var ye=q[we];if(ye!=V&&(Y(ye)||(ye=w(ye)),ye._score=Q,ye._indexes.len=0,ce.push(ye),ce.length>=re))return ce}return ce},S=(q,U,ce=!1,re=!1)=>{if(ce===!1&&q.containsSpace)return P(q,U,re);for(var we=q._lower,Ie=q.lowerCodes,ye=Ie[0],Fe=U._targetLowerCodes,Oe=Ie.length,at=Fe.length,st=0,ct=0,gn=0;;){var cn=ye===Fe[ct];if(cn){if(L[gn++]=ct,++st,st===Oe)break;ye=Ie[st]}if(++ct,ct>=at)return V}var st=0,Mn=!1,Ct=0,F=U._nextBeginningIndexes;F===V&&(F=U._nextBeginningIndexes=B(U.target)),ct=L[0]===0?0:F[L[0]-1];var J=0;if(ct!==at)for(;;)if(ct>=at){if(st<=0||(++J,J>200))break;--st;var ue=ee[--Ct];ct=F[ue]}else{var cn=Ie[st]===Fe[ct];if(cn){if(ee[Ct++]=ct,++st,st===Oe){Mn=!0;break}++ct}else ct=F[ct]}var Ne=Oe<=1?-1:U._targetLower.indexOf(we,L[0]),Z=!!~Ne,se=Z?Ne===0||U._nextBeginningIndexes[Ne-1]===Ne:!1;if(Z&&!se){for(var me=0;me<F.length;me=F[me])if(!(me<=Ne)){for(var $e=0;$e<Oe&&Ie[$e]===U._targetLowerCodes[me+$e];$e++);if($e===Oe){Ne=me,se=!0;break}}}var Ke=It=>{for(var wt=0,ki=0,pn=1;pn<Oe;++pn)It[pn]-It[pn-1]!==1&&(wt-=It[pn],++ki);var xi=It[Oe-1]-It[0]-(Oe-1);if(wt-=(12+xi)*ki,It[0]!==0&&(wt-=It[0]*It[0]*.2),!Mn)wt*=1e3;else{for(var Ci=1,pn=F[0];pn<at;pn=F[pn])++Ci;Ci>24&&(wt*=(Ci-24)*10)}return wt-=(at-Oe)/2,Z&&(wt/=1+Oe*Oe*1),se&&(wt/=1+Oe*Oe*1),wt-=(at-Oe)/2,wt};if(Mn)if(se){for(var me=0;me<Oe;++me)L[me]=Ne+me;var bt=L,gt=Ke(L)}else var bt=ee,gt=Ke(ee);else{if(Z)for(var me=0;me<Oe;++me)L[me]=Ne+me;var bt=L,gt=Ke(bt)}U._score=gt;for(var me=0;me<Oe;++me)U._indexes[me]=bt[me];U._indexes.len=Oe;const oi=new a;return oi.target=U.target,oi._score=U._score,oi._indexes=U._indexes,oi},P=(q,U,ce)=>{for(var re=new Set,we=0,Ie=V,ye=0,Fe=q.spaceSearches,Oe=Fe.length,at=0,ct=()=>{for(let se=at-1;se>=0;se--)U._nextBeginningIndexes[pe[se*2+0]]=pe[se*2+1]},gn=!1,Z=0;Z<Oe;++Z){ge[Z]=Q;var cn=Fe[Z];if(Ie=S(cn,U),ce){if(Ie===V)continue;gn=!0}else if(Ie===V)return ct(),V;var st=Z===Oe-1;if(!st){var Mn=Ie._indexes,Ct=!0;for(let me=0;me<Mn.len-1;me++)if(Mn[me+1]-Mn[me]!==1){Ct=!1;break}if(Ct){var F=Mn[Mn.len-1]+1,J=U._nextBeginningIndexes[F-1];for(let me=F-1;me>=0&&J===U._nextBeginningIndexes[me];me--)U._nextBeginningIndexes[me]=F,pe[at*2+0]=me,pe[at*2+1]=J,at++}}we+=Ie._score/Oe,ge[Z]=Ie._score/Oe,Ie._indexes[0]<ye&&(we-=(ye-Ie._indexes[0])*2),ye=Ie._indexes[0];for(var ue=0;ue<Ie._indexes.len;++ue)re.add(Ie._indexes[ue])}if(ce&&!gn)return V;ct();var Ne=S(q,U,!0);if(Ne!==V&&Ne._score>we){if(ce)for(var Z=0;Z<Oe;++Z)ge[Z]=Ne._score/Oe;return Ne}ce&&(Ie=U),Ie._score=we;var Z=0;for(let se of re)Ie._indexes[Z++]=se;return Ie._indexes.len=Z,Ie},I=q=>q.replace(new RegExp("\\p{Script=Latin}+","gu"),U=>U.normalize("NFD")).replace(/[\u0300-\u036f]/g,""),O=q=>{q=I(q);for(var U=q.length,ce=q.toLowerCase(),re=[],we=0,Ie=!1,ye=0;ye<U;++ye){var Fe=re[ye]=ce.charCodeAt(ye);if(Fe===32){Ie=!0;continue}var Oe=Fe>=97&&Fe<=122?Fe-97:Fe>=48&&Fe<=57?26:Fe<=127?30:31;we|=1<<Oe}return{lowerCodes:re,bitflags:we,containsSpace:Ie,_lower:ce}},M=q=>{for(var U=q.length,ce=[],re=0,we=!1,Ie=!1,ye=0;ye<U;++ye){var Fe=q.charCodeAt(ye),Oe=Fe>=65&&Fe<=90,at=Oe||Fe>=97&&Fe<=122||Fe>=48&&Fe<=57,ct=Oe&&!we||!Ie||!at;we=Oe,Ie=at,ct&&(ce[re++]=ye)}return ce},B=q=>{q=I(q);for(var U=q.length,ce=M(q),re=[],we=ce[0],Ie=0,ye=0;ye<U;++ye)we>ye?re[ye]=we:(we=ce[++Ie],re[ye]=we===void 0?U:we);return re},W=new Map,$=new Map,L=[],ee=[],pe=[],Se=[],ge=[],Ee=[],Te=[],Be=(q,U)=>{var ce=q[U];if(ce!==void 0)return ce;if(typeof U=="function")return U(q);var re=U;Array.isArray(U)||(re=U.split("."));for(var we=re.length,Ie=-1;q&&++Ie<we;)q=q[re[Ie]];return q},Y=q=>typeof q=="object"&&typeof q._bitflags=="number",de=1/0,Q=-de,be=[];be.total=0;var V=null,fe=s(""),Pe=q=>{var U=[],ce=0,re={},we=Ie=>{for(var ye=0,Fe=U[ye],Oe=1;Oe<ce;){var at=Oe+1;ye=Oe,at<ce&&U[at]._score<U[Oe]._score&&(ye=at),U[ye-1>>1]=U[ye],Oe=1+(ye<<1)}for(var ct=ye-1>>1;ye>0&&Fe._score<U[ct]._score;ct=(ye=ct)-1>>1)U[ye]=U[ct];U[ye]=Fe};return re.add=(Ie=>{var ye=ce;U[ce++]=Ie;for(var Fe=ye-1>>1;ye>0&&Ie._score<U[Fe]._score;Fe=(ye=Fe)-1>>1)U[ye]=U[Fe];U[ye]=Ie}),re.poll=(Ie=>{if(ce!==0){var ye=U[0];return U[0]=U[--ce],we(),ye}}),re.peek=(Ie=>{if(ce!==0)return U[0]}),re.replaceTop=(Ie=>{U[0]=Ie,we()}),re},Ae=Pe();return{single:t,go:i,prepare:s,cleanup:o}})})(E0)),E0.exports}var jNe=zNe();const UNe=vf(jNe);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2023, Koala Interactive SAS
 * For licensing, see https://github.com/koala-interactive/is-emoji-supported/blob/master/LICENSE.md
 */function $Ne(n){const e=HNe();/* istanbul ignore next -- @preserve */if(!e)return!1;const t=25,i=20,r=Math.floor(t/2);e.font=r+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=i*2,e.canvas.height=t,e.clearRect(0,0,i*2,t),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,i,22);const s=e.getImageData(0,0,i,t).data,o=s.length;let a=0;for(;a<o&&!s[a+3];a+=4);/* istanbul ignore next -- @preserve */if(a>=o)return!1;const l=i+a/4%i,d=Math.floor(a/4/i),f=e.getImageData(l,d,1,1).data;/* istanbul ignore next -- @preserve */if(s[a]!==f[0]||s[a+2]!==f[2])return!1;/* istanbul ignore next -- @preserve */return!(e.measureText(n).width>=i)}function HNe(){try{return document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{/* istanbul ignore next -- @preserve */return null}}const WNe={0:"default",1:"light",2:"medium-light",3:"medium",4:"medium-dark",5:"dark"},GNe={"":16,"":15.1,"":14,"":13.1,"":12.1,"":11,"":5,"":4,"":3,"":2,"":1,"":.7,"":.6},q_=24;class I5 extends H{_emojiCanvas=null;static get pluginName(){return"EmojiUtils"}static get isOfficialPlugin(){return!0}init(){this._emojiCanvas=document.createElement("canvas").getContext("2d")}isEmojiSupported(e,t,i){return e.version<=t?this.hasZwj(e.emoji)?this.isEmojiZwjSupported(e,i):!0:!1}getEmojiSupportedVersionByOs(){for(const[e,t]of Object.entries(GNe))if(I5._isEmojiSupported(e))return t;return 0}hasZwj(e){return e.includes("")}isEmojiZwjSupported(e,t){return this.getNodeWidthUsingCanvas(t,e.emoji)<q_*1.8?!0:this.getNodeWidth(t,e.emoji)<q_*1.8}getNodeWidth(e,t){const i=document.createElement("span");i.textContent=t,e.appendChild(i);const r=i.offsetWidth;return e.removeChild(i),r}getNodeWidthUsingCanvas(e,t){const i=getComputedStyle(e);return this._emojiCanvas.font=[i.fontStyle,i.fontVariant,i.fontWeight,`${q_}px`,`"Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", ${i.fontFamily}`].join(" "),Math.ceil(this._emojiCanvas.measureText(t).width)}createEmojiWidthTestingContainer(){const e=document.createElement("div");return e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.left="-9999px",e.style.whiteSpace="nowrap",e.style.fontSize=q_+"px",e}normalizeEmojiSkinTone(e){const t={...e,skins:{default:e.emoji}};return e.skins&&e.skins.forEach(i=>{const r=WNe[i.tone];t.skins[r]=i.emoji}),t}isEmojiCategoryAllowed(e){return e.group!==2}static _isEmojiSupported=$Ne}const YNe="https://cdn.ckeditor.com/ckeditor5/data/emoji/{version}/en.json",KNe=16;class km extends H{_items;_url;_repositoryPromise;static get requires(){return[I5]}static get pluginName(){return"EmojiRepository"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("emoji",{version:void 0,skinTone:"default",definitionsUrl:void 0,useCustomFont:!1}),this._url=this._getUrl(),this._repositoryPromise=new Promise(t=>{this._repositoryPromiseResolveCallback=t}),this._items=null}async init(){return this._warnAboutCdnUse(),await this._loadAndCacheEmoji(),this._items=this._getItems(),this._items?this._repositoryPromiseResolveCallback(!0):(vt("emoji-repository-empty"),this._repositoryPromiseResolveCallback(!1))}getEmojiByQuery(e){return this._items?e.split(/\s/).filter(Boolean).some(r=>r.length>=2)?UNe.go(e,this._items,{threshold:.6,keys:["emoticon","annotation",r=>e.split(/\s/).filter(Boolean).flatMap(a=>r.tags?.filter(l=>l.startsWith(a))).join()]}).map(r=>r.obj):[]:[]}getEmojiCategories(){const e=this._getItems();if(!e)return[];const{t}=this.editor.locale,i=[{title:t("Smileys & Expressions"),icon:"",groupId:0},{title:t("Gestures & People"),icon:"",groupId:1},{title:t("Animals & Nature"),icon:"",groupId:3},{title:t("Food & Drinks"),icon:"",groupId:4},{title:t("Travel & Places"),icon:"",groupId:5},{title:t("Activities"),icon:"",groupId:6},{title:t("Objects"),icon:"",groupId:7},{title:t("Symbols"),icon:"",groupId:8},{title:t("Flags"),icon:"",groupId:9}],r=uCe(e,s=>s.group);return i.map(s=>({...s,items:r[s.groupId]}))}getSkinTones(){const{t:e}=this.editor.locale;return[{id:"default",icon:"",tooltip:e("Default skin tone")},{id:"light",icon:"",tooltip:e("Light skin tone")},{id:"medium-light",icon:"",tooltip:e("Medium Light skin tone")},{id:"medium",icon:"",tooltip:e("Medium skin tone")},{id:"medium-dark",icon:"",tooltip:e("Medium Dark skin tone")},{id:"dark",icon:"",tooltip:e("Dark skin tone")}]}isReady(){return this._repositoryPromise}_getUrl(){const{definitionsUrl:e,version:t}=this.editor.config.get("emoji");if(!e||e==="cdn"){const i=t||KNe,r=new URL(YNe.replace("{version}",i.toString()));return r.searchParams.set("editorVersion",DK),r}return t&&vt("emoji-repository-redundant-version"),new URL(e)}_warnAboutCdnUse(){const e=this.editor,t=e.config.get("emoji"),i=e.config.get("licenseKey"),r=window[Symbol.for("cke distribution")];i!=="GPL"&&r!=="cloud"&&(t&&t.definitionsUrl||vt("emoji-repository-cdn-use"))}_getItems(){const e=km._results[this._url.href];return e&&e.length?e:null}async _loadAndCacheEmoji(){if(km._results[this._url.href])return;const e=await fetch(this._url,{cache:"force-cache"}).then(t=>t.ok?t.json():[]).catch(()=>[]);km._results[this._url.href]=this._normalizeEmoji(e)}_normalizeEmoji(e){const t=this.editor,i=t.config.get("emoji.useCustomFont"),r=t.plugins.get("EmojiUtils"),s=e.filter(d=>r.isEmojiCategoryAllowed(d));if(i)return s.map(d=>r.normalizeEmojiSkinTone(d));const o=r.getEmojiSupportedVersionByOs(),a=r.createEmojiWidthTestingContainer();document.body.appendChild(a);const l=s.filter(d=>r.isEmojiSupported(d,o,a)).map(d=>r.normalizeEmojiSkinTone(d));return a.remove(),l}static _results={}}const qh=":",AE=":__EMOJI_SHOW_ALL:",kE=":__EMOJI_HINT:";class qNe extends H{_emojiDropdownLimit;_skinTone;static get requires(){return[km,A5,"Mention"]}static get pluginName(){return"EmojiMention"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.editor.config.define("emoji",{dropdownLimit:6}),this._emojiDropdownLimit=e.config.get("emoji.dropdownLimit"),this._skinTone=e.config.get("emoji.skinTone"),this._setupMentionConfiguration(e)}_setupMentionConfiguration(e){const t=e.config.get("mergeFields.prefix"),i=e.config.get("mention.feeds"),r=t?t[0]===qh:!1;if(i.filter(l=>!l._isEmojiMarker).some(l=>l.marker===qh)||r){vt("emoji-config-marker-already-used",{marker:qh});return}if(i.some(l=>l._isEmojiMarker))return;const a={_isEmojiMarker:!0,marker:qh,dropdownLimit:this._emojiDropdownLimit,itemRenderer:this._customItemRendererFactory(this.editor.t),feed:this._queryEmojiCallbackFactory()};this.editor.config.set("mention.feeds",[...i,a])}async init(){const e=this.editor;this.emojiPickerPlugin=e.plugins.has("EmojiPicker")?e.plugins.get("EmojiPicker"):null,this.emojiRepositoryPlugin=e.plugins.get("EmojiRepository"),this._isEmojiRepositoryAvailable=await this.emojiRepositoryPlugin.isReady(),this._isEmojiRepositoryAvailable&&e.once("ready",this._overrideMentionExecuteListener.bind(this))}_customItemRendererFactory(e){return t=>{const i=document.createElement("button");i.classList.add("ck"),i.classList.add("ck-button"),i.classList.add("ck-button_with-text"),i.id=`mention-list-item-id${t.id.slice(0,-1)}`,i.type="button",i.tabIndex=-1;const r=document.createElement("span");return r.classList.add("ck"),r.classList.add("ck-button__label"),i.appendChild(r),t.id===kE?(i.classList.add("ck-list-item-button"),i.classList.add("ck-disabled"),r.textContent=e("Keep on typing to see the emoji.")):t.id===AE?r.textContent=e("Show all emoji..."):r.textContent=`${t.text} ${t.id}`,i}}_overrideMentionExecuteListener(){const e=this.editor;e.commands.get("mention").on("execute",(t,i)=>{const r=i[0];if(r.marker===qh&&(t.stop(),r.mention.id!==kE))if(r.mention.id===AE){const s=[...r.range.getItems()].filter(a=>a.is("$textProxy")).map(a=>a.data).reduce((a,l)=>a+l,"");e.model.change(a=>{e.model.deleteContent(a.createSelection(r.range))});const o=this.emojiPickerPlugin;o.showUI(s.slice(1)),setTimeout(()=>{o.emojiPickerView.focus()})}else e.execute("insertText",{text:r.mention.text,range:r.range})},{priority:"high"})}_queryEmojiCallbackFactory(){return e=>{if(e.startsWith(" "))return[];if(e.startsWith(qh))return[];if(!this._isEmojiRepositoryAvailable)return[];const t=this.emojiRepositoryPlugin.getEmojiByQuery(e).map(r=>{let s=r.skins[this._skinTone]||r.skins.default;return this.emojiPickerPlugin&&(s=r.skins[this.emojiPickerPlugin.skinTone]||r.skins.default),{id:`:${r.annotation}:`,text:s}});if(!this.emojiPickerPlugin)return t.slice(0,this._emojiDropdownLimit);const i={id:e.length>1?AE:kE};return[...t.slice(0,this._emojiDropdownLimit-1),i]}}}class ZNe extends Je{refresh(){const t=this.editor.model,i=t.schema,r=t.document.selection;this.isEnabled=i.checkChild(r.getFirstPosition(),"$text")}execute(e=""){this.editor.plugins.get("EmojiPicker").showUI(e)}}class QNe extends Me{tiles;focusTracker;keystrokes;emojiCategories;cachedTiles;_getEmojiByQuery;constructor(e,{categoryName:t,emojiCategories:i,getEmojiByQuery:r,skinTone:s}){super(e),this.set("isEmpty",!0),this.set("categoryName",t),this.set("skinTone",s),this.tiles=this.createCollection(),this.cachedTiles=this.createCollection(),this.focusTracker=new Ut,this.keystrokes=new tn,this._getEmojiByQuery=r,this.emojiCategories=i;const o=this.bindTemplate;this.setTemplate({tag:"div",children:[{tag:"div",attributes:{role:"grid",class:["ck","ck-emoji__grid"]},children:this.tiles}],attributes:{role:"tabpanel",class:["ck","ck-emoji__tiles",o.if("isEmpty","ck-hidden",a=>a)]}}),yw({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Re.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy(),this.focusTracker.destroy()}focus(){const e=this.tiles.first;e&&e.focus()}filter(e){const{matchingItems:t,allItems:i}=e?this._getItemsByQuery(e.source):this._getItemsByCategory();return this._updateGrid(t),this.set("isEmpty",t.length===0),{resultsCount:t.length,totalItemsCount:i.length}}_getItemsByQuery(e){return{matchingItems:this._getEmojiByQuery(e),allItems:this.emojiCategories.flatMap(t=>t.items)}}_getItemsByCategory(){const e=this.emojiCategories.find(i=>i.title===this.categoryName),{items:t}=e;return{matchingItems:t,allItems:t}}_updateGrid(e){[...this.tiles].forEach(t=>{this.focusTracker.remove(t),this.tiles.remove(t)}),e.map(t=>{const i=t.skins[this.skinTone]||t.skins.default;return this.cachedTiles.get(i)||this._createTile(i,t.annotation)}).forEach(t=>{this.tiles.add(t),this.focusTracker.add(t)})}_createTile(e,t){const i=new ze(this.locale);return i.viewUid=e,i.extendTemplate({attributes:{class:["ck-emoji__tile"]}}),i.set({label:e,tooltip:t,withText:!0,ariaLabel:t,ariaLabelledBy:void 0}),i.on("execute",()=>{this.fire("execute",{name:t,emoji:e})}),this.cachedTiles.add(i),i}}class JNe extends Me{focusTracker;keystrokes;focusCycler;buttonViews;constructor(e,{emojiCategories:t,categoryName:i}){super(e),this.buttonViews=this.createCollection(t.map(r=>this._createCategoryButton(r))),this.focusTracker=new Ut,this.keystrokes=new tn,this.focusCycler=new si({focusables:this.buttonViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__categories-list"],role:"tablist"},children:this.buttonViews}),this.on("change:categoryName",(r,s,o,a)=>{const l=this.buttonViews.find(f=>f.tooltip===a);l&&(l.isOn=!1);const d=this.buttonViews.find(f=>f.tooltip===o);d.isOn=!0}),this.set("categoryName",i)}render(){super.render(),this.buttonViews.forEach(e=>{this.focusTracker.add(e)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),this.buttonViews.destroy()}focus(){this.buttonViews.first.focus()}enableCategories(){this.buttonViews.forEach(e=>{e.isEnabled=!0})}disableCategories(){this.buttonViews.forEach(e=>{e.set({class:"",isEnabled:!1,isOn:!1})})}_createCategoryButton(e){const t=new ze,i=t.bindTemplate;return t.extendTemplate({attributes:{"aria-selected":i.to("isOn",r=>r.toString()),class:["ck-emoji__category-item"]}}),t.set({ariaLabel:e.title,label:e.icon,role:"tab",tooltip:e.title,withText:!0,ariaLabelledBy:void 0}),t.on("execute",()=>{this.categoryName=e.title}),t.on("change:isEnabled",()=>{t.isEnabled&&t.tooltip===this.categoryName&&(t.isOn=!0)}),t}}class XNe extends Me{inputView;gridView;constructor(e,{gridView:t,resultsView:i}){super(e),this.gridView=t;const r=e.t;this.inputView=new $5e(this.locale,{queryView:{label:r("Find an emoji (min. 2 characters)"),creator:_r},filteredView:this.gridView,infoView:{instance:i}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search"],tabindex:"-1"},children:[this.inputView.queryView]}),this.inputView.delegate("search").to(this)}destroy(){super.destroy(),this.inputView.destroy()}search(e){const t=e?new RegExp($O(e),"ig"):null,i=this.gridView.filter(t);this.inputView.fire("search",{query:e,...i})}setInputValue(e){e?this.inputView.queryView.fieldView.value=e:this.inputView.queryView.fieldView.reset()}getInputValue(){return this.inputView.queryView.fieldView.element.value}focus(){this.inputView.focus()}}class eMe extends Me{dropdownView;_skinTones;constructor(e,{skinTone:t,skinTones:i}){super(e),this.set("skinTone",t),this._skinTones=i;const r=e.t,s=r("Select skin tone"),o=ii(e),a=new hi;for(const{id:l,icon:d,tooltip:f}of this._skinTones){const m={type:"button",model:new io({value:l,label:d,ariaLabel:f,tooltip:f,tooltipPosition:"e",role:"menuitemradio",withText:!0,ariaLabelledBy:void 0})};m.model.bind("isOn").to(this,"skinTone",p=>p===l),a.add(m)}ea(o,a,{ariaLabel:s,role:"menu"}),o.buttonView.set({label:this._getSkinTone().icon,ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),this.dropdownView=o,this.listenTo(o,"execute",l=>{this.skinTone=l.source.value}),o.buttonView.bind("label").to(this,"skinTone",()=>this._getSkinTone().icon),o.buttonView.bind("ariaLabel").to(this,"skinTone",()=>`${this._getSkinTone().tooltip}, ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck","ck-emoji__skin-tone"]},children:[o]})}focus(){this.dropdownView.buttonView.focus()}_getSkinTone(){return this._skinTones.find(e=>e.id===this.skinTone)}}class tMe extends Me{items;focusTracker;keystrokes;focusCycler;searchView;toneView;categoriesView;gridView;infoView;constructor(e,{emojiCategories:t,getEmojiByQuery:i,skinTone:r,skinTones:s}){super(e);const o=t[0].title;this.gridView=new QNe(e,{categoryName:o,emojiCategories:t,getEmojiByQuery:i,skinTone:r}),this.infoView=new NZ,this.searchView=new XNe(e,{gridView:this.gridView,resultsView:this.infoView}),this.categoriesView=new JNe(e,{emojiCategories:t,categoryName:o}),this.toneView=new eMe(e,{skinTone:r,skinTones:s}),this.items=this.createCollection([this.searchView,this.toneView,this.categoriesView,this.gridView,this.infoView]),this.focusTracker=new Ut,this.keystrokes=new tn,this.focusCycler=new si({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[{tag:"div",children:[this.searchView,this.toneView],attributes:{class:["ck","ck-emoji__search"]}},this.categoriesView,this.gridView,{tag:"div",children:[this.infoView],attributes:{class:["ck","ck-search__results"]}}],attributes:{tabindex:"-1",class:["ck","ck-emoji","ck-search"]}}),this._setupEventListeners()}render(){super.render(),this.focusTracker.add(this.searchView.element),this.focusTracker.add(this.toneView.element),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.focusTracker.add(this.infoView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.searchView.focus()}_setupEventListeners(){const e=this.locale.t;this.searchView.on("search",(t,i)=>{i.query?this.categoriesView.disableCategories():this.categoriesView.enableCategories()}),this.searchView.on("search",(t,i)=>{i.query.length===1?this.infoView.set({primaryText:e("Keep on typing to see the emoji."),secondaryText:e("The query must contain at least two characters."),isVisible:!0}):i.resultsCount?this.infoView.set({isVisible:!1}):this.infoView.set({primaryText:e('No emojis were found matching "%0".',i.query),secondaryText:e("Please try a different phrase or check the spelling."),isVisible:!0})}),this.searchView.on("search",()=>{this.fire("update"),this.gridView.element.scrollTo(0,0)}),this.categoriesView.on("change:categoryName",(t,i,r)=>{this.gridView.categoryName=r,this.searchView.search("")}),this.toneView.on("change:skinTone",(t,i,r)=>{this.gridView.skinTone=r,this.searchView.search(this.searchView.getInputValue())})}}class nMe extends Me{backButtonView;focusTracker=new Ut;keystrokes=new tn;children;_focusables=new Ai;_focusCycler;constructor(e){super(e),this.backButtonView=this._createBackButton(),this.children=this.createCollection([this._createHeaderView()]),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form","ck-emoji-picker-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),[...this.children.filter(ug),this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),pZ(t)&&this._focusCycler.chain(t.focusCycler)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Emoji picker")});return t.children.add(this.backButtonView,0),t}}const hu="emoji-picker";class iMe extends H{static get requires(){return[km,xr,vs,A5]}static get pluginName(){return"EmojiPicker"}static get isOfficialPlugin(){return!0}async init(){const e=this.editor;if(this.balloonPlugin=e.plugins.get("ContextualBalloon"),this.emojiRepositoryPlugin=e.plugins.get("EmojiRepository"),!await this.emojiRepositoryPlugin.isReady())return;const t=new ZNe(e);e.commands.add("emoji",t),e.ui.componentFactory.add("emoji",()=>{const i=this._createButton(ze,t);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:emoji",()=>this._createButton(Yt,t)),this._setupConversion()}destroy(){super.destroy(),this.emojiPickerView&&this.emojiPickerView.destroy()}get skinTone(){return this.emojiPickerView?this.emojiPickerView.gridView.skinTone:this.editor.config.get("emoji.skinTone")}showUI(e=""){this._showFakeVisualSelection(),this.emojiPickerView||(this.emojiPickerView=this._createEmojiPickerView()),e&&this.emojiPickerView.searchView.setInputValue(e),this.emojiPickerView.searchView.search(e),this.emojiPickerFormView||(this.emojiPickerFormView=this._createEmojiPickerFormView()),this.balloonPlugin.hasView(this.emojiPickerFormView)||(this.emojiPickerFormView.backButtonView.isVisible=!!this.balloonPlugin.visibleView,this.balloonPlugin.add({view:this.emojiPickerFormView,position:this._getBalloonPositionData(),balloonClassName:"ck-emoji-picker-balloon"})),this.emojiPickerView.focus()}_createButton(e,t){const i=new e(this.editor.locale),r=this.editor.locale.t;return i.bind("isEnabled").to(t,"isEnabled"),i.set({label:r("Emoji"),icon:FPe,isToggleable:!0}),i.on("execute",()=>{this.editor.editing.view.scrollToTheSelection(),this.showUI()}),i}_createEmojiPickerView(){const e=new tMe(this.editor.locale,{emojiCategories:this.emojiRepositoryPlugin.getEmojiCategories(),skinTone:this.editor.config.get("emoji.skinTone"),skinTones:this.emojiRepositoryPlugin.getSkinTones(),getEmojiByQuery:t=>this.emojiRepositoryPlugin.getEmojiByQuery(t)});return this.listenTo(e.gridView,"execute",(t,i)=>{const r=this.editor,s=i.emoji;this._hideUI(),r.execute("insertText",{text:s})}),e}_createEmojiPickerFormView(){const e=new nMe(this.editor.locale);return e.children.add(this.emojiPickerView),this.listenTo(this.emojiPickerView,"update",()=>{this.balloonPlugin.visibleView===e&&this.balloonPlugin.updatePosition()}),this.listenTo(e,"cancel",()=>{this._hideUI()}),e.keystrokes.set("Esc",(t,i)=>{this._hideUI(),i()}),Xo({emitter:e,contextElements:[this.balloonPlugin.view.element],callback:()=>{this._hideUI(!1)},activator:()=>this.balloonPlugin.visibleView===e}),e}_hideUI(e=!0){this.balloonPlugin.remove(this.emojiPickerFormView),this.emojiPickerView.searchView.setInputValue(""),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection()}_setupConversion(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:hu,view:{classes:["ck-fake-emoji-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:hu,view:(t,{writer:i})=>{if(!t.markerRange.isCollapsed)return null;const r=i.createUIElement("span");return i.addClass(["ck-fake-emoji-selection","ck-fake-emoji-selection_collapsed"],r),r}})}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;return{target:()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(hu))t.updateMarker(hu,{range:i});else if(i.start.isAtEnd){const r=i.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:i});t.addMarker(hu,{usingOperation:!1,affectsData:!1,range:t.createRange(r,i.end)})}else t.addMarker(hu,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(hu)&&e.change(t=>{t.removeMarker(hu)})}}class rMe extends H{static get requires(){return[qNe,iMe]}static get pluginName(){return"Emoji"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class sMe extends Je{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!$V(e.schema,i))do if(i=i.parent,!i)return;while(!$V(e.schema,i));e.change(r=>{r.setSelection(i,"in")})}}function $V(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}const oMe=jk("Ctrl+A");class aMe extends H{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,r=e.editing.view.document;e.commands.add("selectAll",new sMe(e)),this.listenTo(r,"keydown",(s,o)=>{pf(o)===oMe&&(e.execute("selectAll"),o.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class lMe extends H{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Yt))}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("selectAll"),s=new e(t.locale),o=i.t;return s.set({label:o("Select all"),icon:xRe,keystroke:"Ctrl+A"}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),s}}class cMe extends H{static get requires(){return[aMe,lMe]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class sQ extends Je{_stack=[];_createdBatches=new WeakSet;constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,i)=>{i[1]={...i[1]};const r=i[1];r.batchType||(r.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const r=this.editor.model,s=r.document,o=[],a=e.map(d=>d.getTransformedByOperations(i)),l=a.flat();for(const d of a){const f=d.filter(m=>m.root!=s.graveyard).filter(m=>!dMe(m,l));f.length&&(uMe(f),o.push(f[0]))}o.length&&r.change(d=>{d.setSelection(o,{backward:t})})}_undo(e,t){const i=this.editor.model,r=i.document;this._createdBatches.add(t);const s=e.operations.slice().filter(o=>o.isDocumentOperation);s.reverse();for(const o of s){const a=o.baseVersion+1,l=Array.from(r.history.getOperations(a)),f=LIe([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let m of f){const p=m.affectedSelectable;p&&!i.canEditAt(p)&&(m=new zi(m.baseVersion)),t.addOperation(m),i.applyOperation(m),r.history.setOperationAsUndone(o,m)}}}}function uMe(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function dMe(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}class fMe extends sQ{execute(e=null){const t=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{this._undo(i.batch,r);const s=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,s)}),this.fire("revert",i.batch,r),this.refresh()}}class hMe extends sQ{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}class mMe extends H{_undoCommand;_redoCommand;_batchRegistry=new WeakSet;static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t;this._undoCommand=new fMe(e),this._redoCommand=new hMe(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,r)=>{const s=r[0];if(!s.isDocumentOperation)return;const o=s.batch,a=this._redoCommand.createdBatches.has(o),l=this._undoCommand.createdBatches.has(o);this._batchRegistry.has(o)||(this._batchRegistry.add(o),o.isUndoable&&(a?this._undoCommand.addBatch(o):l||(this._undoCommand.addBatch(o),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,r,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class gMe extends H{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,i=e.t,r=t.uiLanguageDirection=="ltr"?O6:I6,s=t.uiLanguageDirection=="ltr"?I6:O6;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",s)}_addButtonsToFactory(e,t,i,r){const s=this.editor;s.ui.componentFactory.add(e,()=>{const o=this._createButton(ze,e,t,i,r);return o.set({tooltip:!0}),o}),s.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Yt,e,t,i,r))}_createButton(e,t,i,r,s){const o=this.editor,a=o.locale,l=o.commands.get(t),d=new e(a);return d.set({label:i,icon:s,keystroke:r}),d.bind("isEnabled").to(l,"isEnabled"),this.listenTo(d,"execute",()=>{o.execute(t),o.editing.view.focus()}),d}}class P5 extends H{static get requires(){return[mMe,gMe]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class pMe extends H{static get requires(){return[DOe,S5,Cw,cMe,YZ,A5,P5]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ex extends Je{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.value,o=e.batch,a=l=>{if(r.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,s):l.removeSelectionAttribute(this.attributeKey);else{const d=t.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const f of d)s?l.setAttribute(this.attributeKey,s,f):l.removeAttribute(this.attributeKey,f)}};o?t.enqueueChange(o,l=>{a(l)}):t.change(l=>{a(l)})}}const Jr="fontSize",Xr="fontFamily",ka="fontColor",Fl="fontBackgroundColor";function oQ(n,e){const t={model:{key:n,values:[]},view:{},upcastAlso:{}};for(const i of e)t.model.values.push(i.model),t.view[i.model]=i.view,i.upcastAlso&&(t.upcastAlso[i.model]=i.upcastAlso);return t}function aQ(n){return e=>vMe(e.getStyle(n))}function lQ(n){return(e,{writer:t})=>t.createAttributeElement("span",{style:`${n}:${e}`},{priority:7})}function bMe({dropdownView:n,colors:e,columns:t,removeButtonLabel:i,colorPickerLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a}){const l=n.locale,d=new w5(l,{colors:e,columns:t,removeButtonLabel:i,colorPickerLabel:r,documentColorsLabel:s,documentColorsCount:o,colorPickerViewConfig:a});return n.colorSelectorView=d,n.panelView.children.add(d),d}function vMe(n){return n.replace(/\s/g,"")}class wMe extends ex{constructor(e){super(e,Xr)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cQ(n){return n.map(yMe).filter(e=>e!==void 0)}function kI(n){return n.replace(/["']/g,"").split(",").map(e=>e.trim())}function yMe(n){if(typeof n=="object")return n;if(n==="default")return{title:"Default",model:void 0};if(typeof n=="string")return _Me(n)}function _Me(n){const e=kI(n),t=e[0],i=e.map(AMe).join(", ");return{title:t,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}function AMe(n){return n=n.trim(),n.indexOf(" ")>0&&(n=`'${n}'`),n}class kMe extends H{static get pluginName(){return"FontFamilyEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Xr,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Xr}),e.model.schema.setAttributeProperties(Xr,{isFormatting:!0,copyOnEnter:!0});const t=cQ(e.config.get("fontFamily.options")).filter(r=>r.model),i=oQ(Xr,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(i),e.commands.add(Xr,new wMe(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:Xr,view:(t,{writer:i})=>i.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:Xr,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:Xr,value:t=>t.getAttribute("face")}})}}class xMe extends H{static get pluginName(){return"FontFamilyUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=this._getLocalizedOptions(),r=e.commands.get(Xr),s=t("Font Family"),o=CMe(i,r);e.ui.componentFactory.add(Xr,a=>{const l=ii(a);return ea(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:C6,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),l.bind("isEnabled").to(r),this.listenTo(l,"execute",d=>{e.execute(d.source.commandName,{value:d.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Xr}`,a=>{const l=new cr(a);l.buttonView.set({label:s,icon:C6}),l.bind("isEnabled").to(r);const d=new ja(a);for(const f of o){const m=new Go(a,l),p=new Yt(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),d.items.add(m)}return l.panelView.children.add(d),l})}_getLocalizedOptions(){const e=this.editor,t=e.t;return cQ(e.config.get(Xr).options).map(r=>(r.title==="Default"&&(r.title=t("Default")),r))}}function CMe(n,e){const t=new hi;for(const i of n){const r={type:"button",model:new io({commandName:Xr,commandParam:i.model,label:i.title,role:"menuitemradio",withText:!0})};r.model.bind("isOn").to(e,"value",s=>{if(s===i.model)return!0;if(!s||!i.model)return!1;const o=kI(s)[0].toLowerCase(),a=kI(i.model)[0].toLowerCase();return o===a}),i.view&&typeof i.view!="string"&&i.view.styles&&r.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),t.add(r)}return t}class SMe extends H{static get requires(){return[kMe,xMe]}static get pluginName(){return"FontFamily"}static get isOfficialPlugin(){return!0}}class EMe extends ex{constructor(e){super(e,Jr)}}function kv(n){return n.map(e=>TMe(e)).filter(e=>e!==void 0)}const HV={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function TMe(n){if(typeof n=="number"&&(n=String(n)),typeof n=="object"&&RMe(n))return xI(n);const e=PMe(n);if(e)return xI(e);if(n==="default")return{model:void 0,title:"Default"};if(!OMe(n))return IMe(n)}function IMe(n){return typeof n=="string"&&(n={title:n,model:`${parseFloat(n)}px`}),n.view={name:"span",styles:{"font-size":n.model}},xI(n)}function xI(n){return n.view&&typeof n.view!="string"&&!n.view.priority&&(n.view.priority=7),n}function PMe(n){return typeof n=="string"?HV[n]:HV[n.model]}function RMe(n){return n.title&&n.model&&n.view}function OMe(n){let e;if(typeof n=="object")if(n.model)e=parseFloat(n.model);else throw new z("font-size-invalid-definition",null,n);else e=parseFloat(n);return isNaN(e)}const WV=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class DMe extends H{static get pluginName(){return"FontSizeEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Jr,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Jr}),e.model.schema.setAttributeProperties(Jr,{isFormatting:!0,copyOnEnter:!0});const t=e.config.get("fontSize.supportAllValues"),i=kv(this.editor.config.get("fontSize.options")).filter(s=>s.model),r=oQ(Jr,i);t?(this._prepareAnyValueConverters(r),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(r),e.commands.add(Jr,new EMe(e))}_prepareAnyValueConverters(e){const t=this.editor,i=e.model.values.filter(r=>!qk(String(r))&&!jq(String(r)));if(i.length)throw new z("font-size-invalid-use-of-named-presets",null,{presets:i});t.conversion.for("downcast").attributeToElement({model:Jr,view:(r,{writer:s})=>{if(r)return s.createAttributeElement("span",{style:"font-size:"+r},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:Jr,value:r=>r.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:Jr,value:t=>{const i=t.getAttribute("size"),r=i[0]==="-"||i[0]==="+";let s=parseInt(i,10);r&&(s=3+s);const o=WV.length-1,a=Math.min(Math.max(s,0),o);return WV[a]}}})}}class NMe extends H{static get pluginName(){return"FontSizeUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=this._getLocalizedOptions(),r=e.commands.get(Jr),s=t("Font Size"),o=MMe(i,r);e.ui.componentFactory.add(Jr,a=>{const l=ii(a);return ea(l,o,{role:"menu",ariaLabel:s}),l.buttonView.set({label:s,icon:S6,tooltip:!0}),l.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),l.bind("isEnabled").to(r),this.listenTo(l,"execute",d=>{e.execute(d.source.commandName,{value:d.source.commandParam}),e.editing.view.focus()}),l}),e.ui.componentFactory.add(`menuBar:${Jr}`,a=>{const l=new cr(a);l.buttonView.set({label:s,icon:S6}),l.bind("isEnabled").to(r);const d=new ja(a);for(const f of o){const m=new Go(a,l),p=new Yt(a);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),p.on("execute",()=>{e.execute(f.model.commandName,{value:f.model.commandParam}),e.editing.view.focus()}),m.children.add(p),d.items.add(m)}return l.panelView.children.add(d),l})}_getLocalizedOptions(){const e=this.editor,t=e.t,i={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return kv(e.config.get(Jr).options).map(s=>{const o=i[s.title];return o&&o!=s.title&&(s=Object.assign({},s,{title:o})),s})}}function MMe(n,e){const t=new hi;for(const i of n){const r={type:"button",model:new io({commandName:Jr,commandParam:i.model,label:i.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};i.view&&typeof i.view!="string"&&(i.view.styles&&r.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view.classes&&r.model.set("class",`${r.model.class} ${i.view.classes}`)),r.model.bind("isOn").to(e,"value",s=>s===i.model),t.add(r)}return t}class BMe extends H{static get requires(){return[DMe,NMe]}static get pluginName(){return"FontSize"}static get isOfficialPlugin(){return!0}normalizeSizeOptions(e){return kv(e)}}class VMe extends ex{constructor(e){super(e,ka)}}class LMe extends H{static get pluginName(){return"FontColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(ka,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:ka,value:aQ("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:ka,value:t=>t.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:ka,view:lQ("color")}),e.commands.add(ka,new VMe(e)),e.model.schema.extend("$text",{allowAttributes:ka}),e.model.schema.setAttributeProperties(ka,{isFormatting:!0,copyOnEnter:!0})}}class uQ extends H{commandName;componentName;icon;dropdownLabel;columns;constructor(e,{commandName:t,componentName:i,icon:r,dropdownLabel:s}){super(e),this.commandName=t,this.componentName=i,this.icon=r,this.dropdownLabel=s,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,t=e.locale,i=t.t,r=e.commands.get(this.commandName),s=e.config.get(this.componentName),o=_v(s.colors),a=yv(t,o),l=s.documentColors,d=s.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,f=>{const m=ii(f);let p=!1;const w=bMe({dropdownView:m,colors:a.map(A=>({label:A.label,color:A.model,options:{hasBorder:A.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:l!==0?i("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:d?s.colorPicker||{}:!1});return w.bind("selectedColor").to(r,"value"),m.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),m.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),m.bind("isEnabled").to(r),w.on("execute",(A,x)=>{m.isOpen&&e.execute(this.commandName,{value:x.value,batch:this._undoStepBatch}),x.source!=="colorPicker"&&e.editing.view.focus(),x.source==="colorPickerSaveButton"&&(m.isOpen=!1)}),w.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),w.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(m.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),m.on("change:isOpen",(A,x,S)=>{p||(p=!0,m.colorSelectorView.appendUI()),S&&(l!==0&&w.updateDocumentColors(e.model,this.componentName),w.updateSelectedColors(),w.showColorGridsFragment())}),Xk(m,()=>m.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(A=>A.isOn)),m}),e.ui.componentFactory.add(`menuBar:${this.componentName}`,f=>{const m=new cr(f);m.buttonView.set({label:this.dropdownLabel,icon:this.icon}),m.bind("isEnabled").to(r);let p=!1;const w=new w5(f,{colors:a.map(A=>({label:A.label,color:A.model,options:{hasBorder:A.hasBorder}})),columns:this.columns,removeButtonLabel:i("Remove color"),colorPickerLabel:i("Color picker"),documentColorsLabel:l!==0?i("Document colors"):"",documentColorsCount:l===void 0?this.columns:l,colorPickerViewConfig:!1});return w.bind("selectedColor").to(r,"value"),w.delegate("execute").to(m),w.on("execute",(A,x)=>{e.execute(this.commandName,{value:x.value,batch:this._undoStepBatch}),e.editing.view.focus()}),m.on("change:isOpen",(A,x,S)=>{p||(p=!0,w.appendUI()),S&&(l!==0&&w.updateDocumentColors(e.model,this.componentName),w.updateSelectedColors(),w.showColorGridsFragment())}),m.panelView.children.add(w),m})}}class FMe extends uQ{constructor(e){const t=e.locale.t;super(e,{commandName:ka,componentName:ka,icon:jPe,dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class zMe extends H{static get requires(){return[LMe,FMe]}static get pluginName(){return"FontColor"}static get isOfficialPlugin(){return!0}}class jMe extends ex{constructor(e){super(e,Fl)}}class UMe extends H{static get pluginName(){return"FontBackgroundColorEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define(Fl,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(l5),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Fl,value:aQ("background-color")}}),e.conversion.for("downcast").attributeToElement({model:Fl,view:lQ("background-color")}),e.commands.add(Fl,new jMe(e)),e.model.schema.extend("$text",{allowAttributes:Fl}),e.model.schema.setAttributeProperties(Fl,{isFormatting:!0,copyOnEnter:!0})}}class $Me extends uQ{constructor(e){const t=e.locale.t;super(e,{commandName:Fl,componentName:Fl,icon:zPe,dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class HMe extends H{static get requires(){return[UMe,$Me]}static get pluginName(){return"FontBackgroundColor"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class WMe extends Je{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,i=sn(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&GV(i,e.schema)}execute(e={}){const t=this.editor.model,i=t.document,r=e.selection||i.selection;t.canEditAt(r)&&t.change(s=>{const o=r.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&GV(a,t.schema)&&s.rename(a,"paragraph")})}}function GV(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}class GMe extends Je{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,i=e.attributes;let r=e.position;return t.canEditAt(r)?t.change(s=>{if(r=this._findPositionToInsertParagraph(r,s),!r)return null;const o=s.createElement("paragraph");return i&&t.schema.setAllowedAttributes(o,i,s),t.insertContent(o,r),s.setSelection(o,"in"),s.createPositionAt(o,0)}):null}_findPositionToInsertParagraph(e,t){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const r=i.schema.findAllowedParent(e,"paragraph");if(!r)return null;const s=e.parent,o=i.schema.checkChild(s,"$text");return s.isEmpty||o&&e.isAtEnd?i.createPositionAfter(s):!s.isEmpty&&o&&e.isAtStart?i.createPositionBefore(s):t.split(e,r).position}}class tx extends H{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new WMe(e)),e.commands.add("insertParagraph",new GMe(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:r})=>!tx.paragraphLikeElements.has(i.name)||i.isEmpty?null:r.createElement("paragraph"),view:/.+/,converterPriority:"low"})}static paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class YMe extends Je{modelElements;constructor(e,t){super(e),this.modelElements=t}refresh(){const e=sn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>YV(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,i=t.document,r=e.value;t.change(s=>{const o=Array.from(i.selection.getSelectedBlocks()).filter(a=>YV(a,r,t.schema));for(const a of o)a.is("element",r)||s.rename(a,r)})}}function YV(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}const KV="paragraph";class KMe extends H{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[tx]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const r of t)r.model!=="paragraph"&&(e.model.schema.register(r.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(r),i.push(r.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new YMe(e,i))}afterInit(){const e=this.editor,t=e.commands.get("enter"),i=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(r,s)=>{const o=e.model.document.selection.getFirstPosition().parent;i.some(l=>o.is("element",l.model))&&!o.is("element",KV)&&o.childCount===0&&s.writer.rename(o,KV)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ks.low+1})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qMe(n){const e=n.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return n.config.get("heading.options").map(i=>{const r=t[i.title];return r&&r!=i.title&&(i.title=r),i})}class ZMe extends H{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=qMe(e),r=t("Choose heading"),s=t("Heading");e.ui.componentFactory.add("heading",o=>{const a={},l=new hi,d=e.commands.get("heading"),f=e.commands.get("paragraph"),m=[d];for(const w of i){const A={type:"button",model:new io({label:w.title,class:w.class,role:"menuitemradio",withText:!0})};w.model==="paragraph"?(A.model.bind("isOn").to(f,"value"),A.model.set("commandName","paragraph"),m.push(f)):(A.model.bind("isOn").to(d,"value",x=>x===w.model),A.model.set({commandName:"heading",commandValue:w.model})),l.add(A),a[w.model]=w.title}const p=ii(o);return ea(p,l,{ariaLabel:s,role:"menu"}),p.buttonView.set({ariaLabel:s,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:s}),p.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),p.bind("isEnabled").toMany(m,"isEnabled",(...w)=>w.some(A=>A)),p.buttonView.bind("label").to(d,"value",f,"value",(w,A)=>{const x=A?"paragraph":w;return typeof x=="boolean"||!a[x]?r:a[x]}),p.buttonView.bind("ariaLabel").to(d,"value",f,"value",(w,A)=>{const x=A?"paragraph":w;return typeof x=="boolean"||!a[x]?s:`${a[x]}, ${s}`}),this.listenTo(p,"execute",w=>{const{commandName:A,commandValue:x}=w.source;e.execute(A,x?{value:x}:void 0),e.editing.view.focus()}),p}),e.ui.componentFactory.add("menuBar:heading",o=>{const a=new cr(o),l=e.commands.get("heading"),d=e.commands.get("paragraph"),f=[l],m=new ja(o);a.set({class:"ck-heading-dropdown"}),m.set({ariaLabel:t("Heading"),role:"menu"}),a.buttonView.set({label:t("Heading")}),a.panelView.children.add(m);for(const p of i){const w=new Go(o,a),A=new Yt(o);w.children.add(A),m.items.add(w),A.set({isToggleable:!0,label:p.title,role:"menuitemradio",class:p.class}),A.delegate("execute").to(a),A.on("execute",()=>{const x=p.model==="paragraph"?"paragraph":"heading";e.execute(x,{value:p.model}),e.editing.view.focus()}),p.model==="paragraph"?(A.bind("isOn").to(d,"value"),f.push(d)):A.bind("isOn").to(l,"value",x=>x===p.model)}return a.bind("isEnabled").toMany(f,"isEnabled",(...p)=>p.some(w=>w)),a})}}class QMe extends H{static get requires(){return[KMe,ZMe]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}const qV=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class JMe extends H{_bodyPlaceholder=new Map;static get pluginName(){return"Title"}static get isOfficialPlugin(){return!0}static get requires(){return["Paragraph"]}init(){const e=this.editor,t=e.model;t.schema.register("title",{isBlock:!0,allowIn:"$root"}),t.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),t.schema.extend("$text",{allowIn:"title-content"}),t.schema.addAttributeCheck(i=>{if(i.endsWith("title-content $text"))return!1}),e.editing.mapper.on("modelToViewPosition",ZV(e.editing.view)),e.data.mapper.on("modelToViewPosition",ZV(e.editing.view)),e.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),e.conversion.for("downcast").add(i=>i.on("insert:title",(r,s,o)=>{o.consumable.consume(s.item,r.name)})),e.data.upcastDispatcher.on("element:h1",xE,{priority:"high"}),e.data.upcastDispatcher.on("element:h2",xE,{priority:"high"}),e.data.upcastDispatcher.on("element:h3",xE,{priority:"high"}),t.document.registerPostFixer(i=>this._fixTitleContent(i)),t.document.registerPostFixer(i=>this._fixTitleElement(i)),t.document.registerPostFixer(i=>this._fixBodyElement(i)),t.document.registerPostFixer(i=>this._fixExtraParagraph(i)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(e={}){const t=e.rootName?e.rootName:void 0,r=this._getTitleElement(t).getChild(0);return this.editor.data.stringify(r,e)}getBody(e={}){const t=this.editor,i=t.data,r=t.model,s=e.rootName?e.rootName:void 0,o=t.model.document.getRoot(s),a=t.editing.view,l=new e5(a.document),d=r.createRangeIn(o),f=l.createDocumentFragment(),m=r.createPositionAfter(o.getChild(0)),p=r.createRange(m,r.createPositionAt(o,"end")),w=new Map;for(const A of r.markers){const x=p.getIntersection(A.getRange());x&&w.set(A.name,x)}return i.mapper.clearBindings(),i.mapper.bindElements(o,f),i.downcastDispatcher.convert(d,w,l,e),l.remove(l.createRangeOn(f.getChild(0))),t.data.processor.toData(f)}_getTitleElement(e){const t=this.editor.model.document.getRoot(e);for(const i of t.getChildren())if(QV(i))return i}_fixTitleContent(e){let t=!1;for(const i of this.editor.model.document.getRootNames()){const r=this._getTitleElement(i);if(!r||r.maxOffset===1)continue;const s=Array.from(r.getChildren());s.shift();for(const o of s)e.move(e.createRangeOn(o),r,"after"),e.rename(o,"paragraph");t=!0}return t}_fixTitleElement(e){let t=!1;const i=this.editor.model;for(const r of this.editor.model.document.getRoots()){const s=Array.from(r.getChildren()).filter(QV),o=s[0],a=r.getChild(0);if(a.is("element","title")){s.length>1&&(JV(s,e,i),t=!0);continue}if(!o&&!qV.has(a.name)){const l=e.createElement("title");e.insert(l,r),e.insertElement("title-content",l),t=!0;continue}qV.has(a.name)?XMe(a,e,i):e.move(e.createRangeOn(o),r,0),JV(s,e,i),t=!0}return t}_fixBodyElement(e){let t=!1;for(const i of this.editor.model.document.getRootNames()){const r=this.editor.model.document.getRoot(i);if(r.childCount<2){const s=e.createElement("paragraph");e.insert(s,r,1),this._bodyPlaceholder.set(i,s),t=!0}}return t}_fixExtraParagraph(e){let t=!1;for(const i of this.editor.model.document.getRootNames()){const r=this.editor.model.document.getRoot(i),s=this._bodyPlaceholder.get(i);tBe(s,r)&&(this._bodyPlaceholder.delete(i),e.remove(s),t=!0)}return t}_attachPlaceholders(){const e=this.editor,t=e.t,i=e.editing.view,r=e.sourceElement,s=e.config.get("title.placeholder")||t("Type your title"),o=e.config.get("placeholder")||r&&r.tagName.toLowerCase()==="textarea"&&r.getAttribute("placeholder")||t("Type or paste your content here.");e.editing.downcastDispatcher.on("insert:title-content",(l,d,f)=>{const m=f.mapper.toViewElement(d.item);m.placeholder=s,$k({view:i,element:m,keepOnFocus:!0})});const a=new Map;i.document.registerPostFixer(l=>{let d=!1;for(const f of i.document.roots){if(f.isEmpty)continue;const m=f.getChild(1),p=a.get(f.rootName);m!==p&&(p&&(sI(l,p),l.removeAttribute("data-placeholder",p)),l.setAttribute("data-placeholder",o,m),a.set(f.rootName,m),d=!0),eq(m,!0)&&f.childCount===2&&m.name==="p"?d=XK(l,m)?!0:d:d=sI(l,m)?!0:d}return d})}_attachTabPressHandling(){const e=this.editor,t=e.model;e.keystrokes.set("TAB",(i,r)=>{t.change(s=>{const o=t.document.selection,a=Array.from(o.getSelectedBlocks());if(a.length===1&&a[0].is("element","title-content")){const d=o.getFirstPosition().root.getChild(1);s.setSelection(d,0),r()}})}),e.keystrokes.set("SHIFT + TAB",(i,r)=>{t.change(s=>{const o=t.document.selection;if(!o.isCollapsed)return;const a=sn(o.getSelectedBlocks()),l=o.getFirstPosition(),d=e.model.document.getRoot(l.root.rootName),f=d.getChild(0),m=d.getChild(1);a===m&&l.isAtStart&&(s.setSelection(f.getChild(0),0),r())})})}}function xE(n,e,t){const i=e.modelCursor,r=e.viewItem;if(!i.isAtStart||!i.parent.is("element","$root")||!t.consumable.consume(r,{name:!0}))return;const s=t.writer,o=s.createElement("title"),a=s.createElement("title-content");s.append(a,o),s.insert(o,i),t.convertChildren(r,a),t.updateConversionResult(o,e)}function ZV(n){return(e,t)=>{const i=t.modelPosition.parent;if(!i.is("element","title"))return;const r=i.parent,s=t.mapper.toViewElement(r);t.viewPosition=n.createPositionAt(s,0),e.stop()}}function QV(n){return n.is("element","title")}function XMe(n,e,t){const i=e.createElement("title");e.insert(i,n,"before"),e.insert(n,i,0),e.rename(n,"title-content"),t.schema.removeDisallowedAttributes([n],e)}function JV(n,e,t){let i=!1;for(const r of n)r.index!==0&&(eBe(r,e,t),i=!0);return i}function eBe(n,e,t){const i=n.getChild(0);if(i.isEmpty){e.remove(n);return}e.move(e.createRangeOn(i),n,"before"),e.rename(i,"paragraph"),e.remove(n),t.schema.removeDisallowedAttributes([i],e)}function tBe(n,e){return!(!n||!n.is("element","paragraph")||n.childCount||e.childCount<=2||e.getChild(e.childCount-1)!==n)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class nBe extends Je{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("highlight"),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"highlight")}execute(e={}){const t=this.editor.model,r=t.document.selection,s=e.value;t.change(o=>{if(r.isCollapsed){const a=r.getFirstPosition();if(r.hasAttribute("highlight")){const l=p=>p.item.hasAttribute("highlight")&&p.item.getAttribute("highlight")===this.value,d=a.getLastMatchingPosition(l,{direction:"backward"}),f=a.getLastMatchingPosition(l),m=o.createRange(d,f);!s||this.value===s?(a.isEqual(f)||o.removeAttribute("highlight",m),o.removeSelectionAttribute("highlight")):(a.isEqual(f)||o.setAttribute("highlight",s,m),o.setSelectionAttribute("highlight",s))}else s&&o.setSelectionAttribute("highlight",s)}else{const a=t.schema.getValidRanges(r.getRanges(),"highlight");for(const l of a)s?o.setAttribute("highlight",s,l):o.removeAttribute("highlight",l)}})}}class iBe extends H{static get pluginName(){return"HighlightEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-content-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-content-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-content-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-content-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-content-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-content-highlight-pen-green)",type:"pen"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"highlight"});const t=e.config.get("highlight.options");e.conversion.attributeToElement(rBe(t)),e.commands.add("highlight",new nBe(e))}}function rBe(n){const e={model:{key:"highlight",values:[]},view:{}};for(const t of n)e.model.values.push(t.model),e.view[t.model]={name:"mark",classes:t.class};return e}class sBe extends H{get localizedOptionTitles(){const e=this.editor.t;return{"Yellow marker":e("Yellow marker"),"Green marker":e("Green marker"),"Pink marker":e("Pink marker"),"Blue marker":e("Blue marker"),"Red pen":e("Red pen"),"Green pen":e("Green pen")}}static get pluginName(){return"HighlightUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("highlight.options");for(const t of e)this._addHighlighterButton(t);this._addRemoveHighlightButton(),this._addDropdown(e),this._addMenuBarButton(e)}_addRemoveHighlightButton(){const e=this.editor.t,t=this.editor.commands.get("highlight");this._addButton("removeHighlight",e("Remove highlight"),hI,null,i=>{i.bind("isEnabled").to(t,"isEnabled")})}_addHighlighterButton(e){const t=this.editor.commands.get("highlight");this._addButton("highlight:"+e.model,e.title,Z_(e.type),e.model,i);function i(r){r.bind("isEnabled").to(t,"isEnabled"),r.bind("isOn").to(t,"value",s=>s===e.model),r.iconView.fillColor=e.color,r.isToggleable=!0}}_addButton(e,t,i,r,s){const o=this.editor;o.ui.componentFactory.add(e,a=>{const l=new ze(a),d=this.localizedOptionTitles[t]?this.localizedOptionTitles[t]:t;return l.set({label:d,icon:i,tooltip:!0}),l.on("execute",()=>{o.execute("highlight",{value:r}),o.editing.view.focus()}),s(l),l})}_addDropdown(e){const t=this.editor,i=t.t,r=t.ui.componentFactory,s=e[0],o=e.reduce((a,l)=>(a[l.model]=l,a),{});r.add("highlight",a=>{const l=t.commands.get("highlight"),d=ii(a,$u),f=d.buttonView;f.set({label:i("Highlight"),tooltip:!0,lastExecuted:s.model,commandValue:s.model,isToggleable:!0}),f.bind("icon").to(l,"value",w=>Z_(p(w,"type"))),f.bind("color").to(l,"value",w=>p(w,"color")),f.bind("commandValue").to(l,"value",w=>p(w,"model")),f.bind("isOn").to(l,"value",w=>!!w),f.delegate("execute").to(d);const m=()=>{const w=e.map(A=>{const x=r.create("highlight:"+A.model);return this.listenTo(x,"execute",()=>{d.buttonView.set({lastExecuted:A.model})}),x});return w.push(new v5),w.push(r.create("removeHighlight")),w};d.bind("isEnabled").to(l,"isEnabled"),kw(d,m,{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:i("Text highlight toolbar")}),oBe(d),f.on("execute",()=>{t.execute("highlight",{value:f.commandValue})}),this.listenTo(d,"execute",()=>{t.editing.view.focus()});function p(w,A){const x=!w||w===f.lastExecuted?f.lastExecuted:w;return o[x][A]}return d})}_addMenuBarButton(e){const t=this.editor,i=t.t,r=t.commands.get("highlight");t.ui.componentFactory.add("menuBar:highlight",s=>{const o=new cr(s);o.buttonView.set({label:i("Highlight"),icon:Z_("marker")}),o.bind("isEnabled").to(r),o.buttonView.iconView.fillColor="transparent";const a=new ja(s);for(const f of e){const m=new Go(s,o),p=new Yt(s);p.set({label:f.title,icon:Z_(f.type),role:"menuitemradio",isToggleable:!0}),p.iconView.fillColor=f.color,p.delegate("execute").to(o),p.bind("isOn").to(r,"value",w=>w===f.model),p.on("execute",()=>{t.execute("highlight",{value:f.model}),t.editing.view.focus()}),m.children.add(p),a.items.add(m)}a.items.add(new Aw(s));const l=new Go(s,o),d=new Yt(s);return d.set({label:i("Remove highlight"),icon:hI}),d.delegate("execute").to(o),d.on("execute",()=>{t.execute("highlight",{value:null}),t.editing.view.focus()}),l.children.add(d),a.items.add(l),o.panelView.children.add(a),o})}}function oBe(n){n.buttonView.actionView.iconView.bind("fillColor").to(n.buttonView,"color")}function Z_(n){return n==="marker"?sRe:pRe}class aBe extends H{static get requires(){return[iBe,sBe]}static get pluginName(){return"Highlight"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class lBe extends Je{refresh(){const e=this.editor.model,t=e.schema,i=e.document.selection;this.isEnabled=cBe(i,t,e)}execute(){const e=this.editor.model;e.change(t=>{const i=t.createElement("horizontalLine");e.insertObject(i,null,null,{setSelection:"after"})})}}function cBe(n,e,t){const i=uBe(n,t);return e.checkChild(i,"horizontalLine")}function uBe(n,e){const i=Sw(n,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class dBe extends H{static get pluginName(){return"HorizontalLineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,i=e.t,r=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),r.for("dataDowncast").elementToElement({model:"horizontalLine",view:(s,{writer:o})=>o.createEmptyElement("hr")}),r.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(s,{writer:o})=>{const a=i("Horizontal line"),l=o.createContainerElement("div",null,o.createEmptyElement("hr"));return o.addClass("ck-horizontal-line",l),o.setCustomProperty("hr",!0,l),fBe(l,o,a)}}),r.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new lBe(e))}}function fBe(n,e,t){return e.setCustomProperty("horizontalLine",!0,n),Cc(n,e,{label:t})}class hBe extends H{static get pluginName(){return"HorizontalLineUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("horizontalLine",()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:horizontalLine",()=>this._createButton(Yt))}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("horizontalLine"),s=new e(t.locale),o=i.t;return s.set({label:o("Horizontal line"),icon:UPe}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("horizontalLine"),t.editing.view.focus()}),s}}class mBe extends H{static get requires(){return[dBe,hBe,el]}static get pluginName(){return"HorizontalLine"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class gBe extends Je{refresh(){const e=this.editor.model,t=e.schema,i=e.document.selection,r=XV(i);this.isEnabled=pBe(i,t,e),this.value=r?r.getAttribute("value")||"":null}execute(e){const t=this.editor.model,i=t.document.selection;t.change(r=>{let s;this.value!==null?s=XV(i):(s=r.createElement("rawHtml"),t.insertObject(s,null,null,{setSelection:"on"})),r.setAttribute("value",e,s)})}}function pBe(n,e,t){const i=bBe(n,t);return e.checkChild(i,"rawHtml")}function bBe(n,e){const i=Sw(n,e).start.parent;return i.isEmpty&&!i.is("rootElement")?i.parent:i}function XV(n){const e=n.getSelectedElement();return e&&e.is("element","rawHtml")?e:null}class vBe extends H{_widgetButtonViewReferences=new Set;static get pluginName(){return"HtmlEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:t=>(vt("html-embed-provide-sanitize-function"),{html:t,hasChanged:!1})})}init(){const e=this.editor;e.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),e.commands.add("htmlEmbed",new gBe(e)),this._setupConversion()}_setupConversion(){const e=this.editor,t=e.t,i=e.editing.view,r=this._widgetButtonViewReferences,s=e.config.get("htmlEmbed");this.editor.editing.view.on("render",()=>{for(const f of r){if(f.element&&f.element.isConnected)return;f.destroy(),r.delete(f)}},{priority:"lowest"}),e.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),e.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(f,{writer:m})=>m.createElement("rawHtml",{value:f.getCustomProperty("$rawContent")})}),e.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(f,{writer:m})=>m.createRawElement("div",{class:"raw-html-embed"},function(p){p.innerHTML=f.getAttribute("value")||""})}),e.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(f,{writer:m})=>{let p,w,A;const x=m.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(I){p=I,o({editor:e,domElement:I,state:w,props:A}),p.addEventListener("mousedown",()=>{if(w.isEditable){const O=e.model;O.document.selection.getSelectedElement()!==f&&O.change(B=>B.setSelection(f,"on"))}},!0)}),S={makeEditable(){w=Object.assign({},w,{isEditable:!0}),o({domElement:p,editor:e,state:w,props:A}),i.change(I=>{I.setAttribute("data-cke-ignore-events","true",x)}),p.querySelector("textarea").focus()},save(I){I!==w.getRawHtmlValue()?(e.execute("htmlEmbed",I),e.editing.view.focus()):this.cancel()},cancel(){w=Object.assign({},w,{isEditable:!1}),o({domElement:p,editor:e,state:w,props:A}),e.editing.view.focus(),i.change(I=>{I.removeAttribute("data-cke-ignore-events",x)})}};w={showPreviews:s.showPreviews,isEditable:!1,getRawHtmlValue:()=>f.getAttribute("value")||""},A={sanitizeHtml:s.sanitizeHtml,textareaPlaceholder:t("Paste raw HTML here..."),onEditClick(){S.makeEditable()},onSaveClick(I){S.save(I)},onCancelClick(){S.cancel()}};const P=m.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":t("HTML snippet"),dir:e.locale.uiLanguageDirection},x);return m.setCustomProperty("rawHtmlApi",S,P),m.setCustomProperty("rawHtml",!0,P),Cc(P,m,{label:t("HTML snippet"),hasSelectionHandle:!0})}});function o({editor:f,domElement:m,state:p,props:w}){m.textContent="";const A=m.ownerDocument;let x;if(p.isEditable){const P={isDisabled:!1,placeholder:w.textareaPlaceholder};x=l({domDocument:A,state:p,props:P}),m.append(x)}else if(p.showPreviews){const P={sanitizeHtml:w.sanitizeHtml};m.append(d({domDocument:A,state:p,props:P,editor:f}))}else{const P={isDisabled:!0,placeholder:w.textareaPlaceholder};m.append(l({domDocument:A,state:p,props:P}))}const S={onEditClick:w.onEditClick,onSaveClick:()=>{w.onSaveClick(x.value)},onCancelClick:w.onCancelClick};m.prepend(a({editor:f,domDocument:A,state:p,props:S}))}function a({editor:f,domDocument:m,state:p,props:w}){const A=Zi(m,"div",{class:"raw-html-embed__buttons-wrapper"});if(p.isEditable){const x=CE(f,"save",w.onSaveClick),S=CE(f,"cancel",w.onCancelClick);A.append(x.element,S.element),r.add(x).add(S)}else{const x=CE(f,"edit",w.onEditClick);A.append(x.element),r.add(x)}return A}function l({domDocument:f,state:m,props:p}){const w=Zi(f,"textarea",{placeholder:p.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return w.disabled=p.isDisabled,w.value=m.getRawHtmlValue(),w}function d({editor:f,domDocument:m,state:p,props:w}){const A=w.sanitizeHtml(p.getRawHtmlValue()),x=p.getRawHtmlValue().length>0?t("No preview available"):t("Empty snippet content"),S=Zi(m,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},x),P=Zi(m,"div",{class:"raw-html-embed__preview-content",dir:f.locale.contentLanguageDirection}),O=m.createRange().createContextualFragment(A.html);return P.appendChild(O),Zi(m,"div",{class:"raw-html-embed__preview"},[S,P])}}}function CE(n,e,t){const{t:i}=n.locale,r=new ze(n.locale),s=n.commands.get("htmlEmbed");return r.set({class:`raw-html-embed__${e}-button`,icon:GA,tooltip:!0,tooltipPosition:n.locale.uiLanguageDirection==="rtl"?"e":"w"}),r.render(),e==="edit"?(r.set({icon:GA,label:i("Edit source")}),r.bind("isEnabled").to(s)):e==="save"?(r.set({icon:vw,label:i("Save changes")}),r.bind("isEnabled").to(s)):r.set({icon:cg,label:i("Cancel")}),r.on("execute",t),r}class wBe extends H{static get pluginName(){return"HtmlEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("htmlEmbed",()=>{const r=this._createButton(ze);return r.set({tooltip:!0,label:i("Insert HTML")}),r}),e.ui.componentFactory.add("menuBar:htmlEmbed",()=>{const r=this._createButton(Yt);return r.set({label:i("HTML snippet")}),r})}_createButton(e){const t=this.editor,i=t.commands.get("htmlEmbed"),r=new e(t.locale);return r.set({icon:$Pe}),r.bind("isEnabled").to(i,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("htmlEmbed"),t.editing.view.focus(),t.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),r}}class yBe extends H{static get requires(){return[vBe,wBe,el]}static get pluginName(){return"HtmlEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Na(n,e,t,i){e&&_Be(n,e,i),t&&Ma(n,t,i)}function Ma(n,e,t){if(e.attributes)for(const[i,r]of Object.entries(e.attributes))n.setAttribute(i,r,t);e.styles&&n.setStyle(e.styles,t),e.classes&&n.addClass(e.classes,t)}function _Be(n,e,t){if(e.attributes)for(const[i]of Object.entries(e.attributes))n.removeAttribute(i,t);if(e.styles)for(const i of Object.keys(e.styles))n.removeStyle(i,t);e.classes&&n.removeClass(e.classes,t)}function ABe(n,e){const t=Lr(n);let i="attributes";for(i in e)i=="classes"?t[i]=Array.from(new Set([...n[i]||[],...e[i]])):t[i]={...n[i],...e[i]};return t}function Zh(n,e,t,i,r){const s=e.getAttribute(t),o={};for(const a of["attributes","styles","classes"]){if(a!=i){s&&s[a]&&(o[a]=s[a]);continue}if(i=="classes"){const d=new Set(s&&s.classes||[]);r(d),d.size&&(o[a]=Array.from(d));continue}const l=new Map(Object.entries(s&&s[a]||{}));r(l),l.size&&(o[a]=Object.fromEntries(l))}Object.keys(o).length?e.is("documentSelection")?n.setSelectionAttribute(t,o):n.setAttribute(t,o,e):s&&(e.is("documentSelection")?n.removeSelectionAttribute(t):n.removeAttribute(t,e))}function kBe(n,e,t){for(const i of e.getItems({shallow:!0})){const r=i.getAttribute(n);r&&r.attributes&&Object.keys(r.attributes).length?Object.keys(r).length>1&&t.setAttribute(n,{attributes:r.attributes},i):t.removeAttribute(n,i)}}function xBe(n){return BCe(n).replace(/ /g,"")}function eo(n){return`html${xBe(n)}Attributes`}function R5({model:n}){return(e,t)=>t.writer.createElement(n,{htmlContent:e.getCustomProperty("$rawContent")})}function CBe(n,{view:e,isInline:t}){const i=n.t;return(r,{writer:s})=>{const o=i("HTML object"),a=nx(e,r,s),l=r.getAttribute(eo(e));s.addClass("html-object-embed__content",a),l&&Ma(s,l,a);const d=s.createContainerElement(t?"span":"div",{class:"html-object-embed","data-html-object-embed-label":o},a);return Cc(d,s,{label:o})}}function nx(n,e,t){return t.createRawElement(n,null,(i,r)=>{r.setContentOf(i,e.getAttribute("htmlContent"))})}function SBe({view:n,model:e,allowEmpty:t},i){return s=>{s.on(`element:${n}`,(o,a,l)=>{let d=i.processViewAttributes(a.viewItem,l);if(!(!d&&!l.consumable.test(a.viewItem,{name:!0}))){if(d=d||{},l.consumable.consume(a.viewItem,{name:!0}),a.modelRange||(a=Object.assign(a,l.convertChildren(a.viewItem,a.modelCursor))),t&&a.modelRange.isCollapsed&&Object.keys(d).length){const f=l.writer.createElement("htmlEmptyElement");if(!l.safeInsert(f,a.modelCursor))return;const m=l.getSplitParts(f);a.modelRange=l.writer.createRange(a.modelRange.start,l.writer.createPositionAfter(m[m.length-1])),l.updateConversionResult(f,a),r(f,d,l);return}for(const f of a.modelRange.getItems())r(f,d,l)}},{priority:"low"})};function r(s,o,a){if(a.schema.checkAttribute(s,e)){const l=s.getAttribute(e),d=ABe(o,l||{});a.writer.setAttribute(e,d,s)}}}function eL({model:n,view:e},t){return(i,{writer:r,consumable:s})=>{if(!i.hasAttribute(n))return null;const o=r.createContainerElement(e),a=i.getAttribute(n);return s.consume(i,`attribute:${n}`),Ma(r,a,o),o.getFillerOffset=()=>null,t?Cc(o,r):o}}function EBe({priority:n,view:e}){return(t,i)=>{if(!t)return;const{writer:r}=i,s=r.createAttributeElement(e,null,{priority:n});return Ma(r,t,s),s}}function Hm({view:n},e){return t=>{t.on(`element:${n}`,(i,r,s)=>{if(!r.modelRange||r.modelRange.isCollapsed)return;const o=e.processViewAttributes(r.viewItem,s);o&&s.writer.setAttribute(eo(r.viewItem.name),o,r.modelRange)},{priority:"low"})}}function xv({view:n,model:e}){return t=>{t.on(`attribute:${eo(n)}:${e}`,(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const{attributeOldValue:o,attributeNewValue:a}=r,l=s.writer,d=s.mapper.toViewElement(r.item);Na(l,o,a,d)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const tL={block:[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"horizontalLine",view:"hr"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6","$text"],allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowIn:["$root","$container"],allowChildren:["paragraph","htmlP","htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlHr",view:"hr",isEmpty:!0,modelSchema:{inheritAllFrom:"$blockObject"}}],inline:[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref",attributeProperties:{isFormatting:!0}},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}]};class Wm extends H{_definitions=[];static get pluginName(){return"DataSchema"}static get isOfficialPlugin(){return!0}init(){for(const e of tL.block)this.registerBlockElement(e);for(const e of tL.inline)this.registerInlineElement(e)}registerBlockElement(e){this._definitions.push({...e,isBlock:!0})}registerInlineElement(e){this._definitions.push({...e,isInline:!0})}extendBlockElement(e){this._extendDefinition({...e,isBlock:!0})}extendInlineElement(e){this._extendDefinition({...e,isInline:!0})}getDefinitionsForView(e,t=!1){const i=new Set;for(const r of this._getMatchingViewDefinitions(e)){if(t)for(const s of this._getReferences(r.model))i.add(s);i.add(r)}return i}getDefinitionsForModel(e){return this._definitions.filter(t=>t.model==e)}_getMatchingViewDefinitions(e){return this._definitions.filter(t=>t.view&&TBe(e,t.view))}*_getReferences(e){const t=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],i=this._definitions.filter(r=>r.model==e);for(const{modelSchema:r}of i)if(r)for(const s of t)for(const o of Jt(r[s]||[])){const a=this._definitions.filter(l=>l.model==o);for(const l of a)o!==e&&(yield*this._getReferences(l.model),yield l)}}_extendDefinition(e){const t=Array.from(this._definitions.entries()).filter(([,i])=>i.model==e.model);if(t.length==0){this._definitions.push(e);return}for(const[i,r]of t)this._definitions[i]=EK({},r,e,(s,o)=>Array.isArray(s)?s.concat(o):void 0)}}function TBe(n,e){return typeof n=="string"?n===e:n instanceof RegExp?n.test(e):!1}class ri extends H{_dataSchema;_allowedAttributes;_disallowedAttributes;_allowedElements;_disallowedElements;_dataInitialized;_coupledAttributes;constructor(e){super(e),this._dataSchema=e.plugins.get("DataSchema"),this._allowedAttributes=new Fr,this._disallowedAttributes=new Fr,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get isOfficialPlugin(){return!0}static get requires(){return[Wm,el]}loadAllowedConfig(e){for(const t of e){const i=t.name||/[\s\S]+/,r=iL(t);this.allowElement(i),r.forEach(s=>this.allowAttributes(s))}}loadDisallowedConfig(e){for(const t of e){const i=t.name||/[\s\S]+/,r=iL(t);r.length==0?this.disallowElement(i):r.forEach(s=>this.disallowAttributes(s))}}loadAllowedEmptyElementsConfig(e){for(const t of e)this.allowEmptyElement(t)}allowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))this._addAllowedElement(t),this._coupledAttributes=null}disallowElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!1))this._disallowedElements.add(t.view)}allowEmptyElement(e){for(const t of this._dataSchema.getDefinitionsForView(e,!0))t.isInline&&this._dataSchema.extendInlineElement({...t,allowEmpty:!0})}allowAttributes(e){this._allowedAttributes.add(e)}disallowAttributes(e){this._disallowedAttributes.add(e)}processViewAttributes(e,t){const{consumable:i}=t;return nL(e,this._disallowedAttributes,i),IBe(e,nL(e,this._allowedAttributes,i))}_addAllowedElement(e){if(!this._allowedElements.has(e)){if(this._allowedElements.add(e),"appliesToBlock"in e&&typeof e.appliesToBlock=="string")for(const t of this._dataSchema.getDefinitionsForModel(e.appliesToBlock))t.isBlock&&this._addAllowedElement(t);this._dataInitialized&&this.editor.data.once("set",()=>{this._fireRegisterEvent(e)},{priority:ks.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",()=>{this._dataInitialized=!0;for(const e of this._allowedElements)this._fireRegisterEvent(e)},{priority:ks.highest+1})}_registerElementHandlers(){this.on("register",(e,t)=>{const i=this.editor.model.schema;if(t.isObject&&!i.isRegistered(t.model))this._registerObjectElement(t);else if(t.isBlock)this._registerBlockElement(t);else if(t.isInline)this._registerInlineElement(t);else throw new z("data-filter-invalid-definition",null,t);e.stop()},{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const e=this.editor.model,t=e.document.selection;e.document.registerPostFixer(i=>{const r=e.document.differ.getChanges();let s=!1;const o=this._getCoupledAttributesMap();for(const a of r){if(a.type!="attribute"||a.attributeNewValue!==null)continue;const l=o.get(a.attributeKey);if(l)for(const{item:d}of a.range.getWalker())for(const f of l)d.hasAttribute(f)&&(i.removeAttribute(f,d),s=!0)}return s}),this.listenTo(t,"change:attribute",(i,{attributeKeys:r})=>{const s=new Set,o=this._getCoupledAttributesMap();for(const a of r){if(t.hasAttribute(a))continue;const l=o.get(a);if(l)for(const d of l)t.hasAttribute(d)&&s.add(d)}s.size!=0&&e.change(a=>{for(const l of s)a.removeSelectionAttribute(l)})})}_registerAssociatedHtmlAttributesPostFixer(){const e=this.editor.model;e.document.registerPostFixer(t=>{const i=e.document.differ.getChanges();let r=!1;for(const s of i)if(!(s.type!=="insert"||s.name==="$text"))for(const o of s.attributes.keys())!o.startsWith("html")||!o.endsWith("Attributes")||e.schema.checkAttribute(s.name,o)||(t.removeAttribute(o,s.position.nodeAfter),r=!0);return r})}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const e of this._allowedElements)if(e.coupledAttribute&&e.model){const t=this._coupledAttributes.get(e.coupledAttribute);t?t.push(e.model):this._coupledAttributes.set(e.coupledAttribute,[e.model])}return this._coupledAttributes}_fireRegisterEvent(e){e.view&&this._disallowedElements.has(e.view)||this.fire(e.view?`register:${e.view}`:"register",e)}_registerObjectElement(e){const t=this.editor,i=t.model.schema,r=t.conversion,{view:s,model:o}=e;i.register(o,e.modelSchema);/* istanbul ignore next: paranoid check -- @preserve */s&&(i.extend(e.model,{allowAttributes:[eo(s),"htmlContent"]}),t.data.registerRawContentMatcher({name:s}),r.for("upcast").elementToElement({view:s,model:R5(e),converterPriority:ks.low+2}),r.for("upcast").add(Hm(e,this)),r.for("editingDowncast").elementToStructure({model:{name:o,attributes:[eo(s)]},view:CBe(t,e)}),r.for("dataDowncast").elementToElement({model:o,view:(a,{writer:l})=>nx(s,a,l)}),r.for("dataDowncast").add(xv(e)))}_registerBlockElement(e){const t=this.editor,i=t.model.schema,r=t.conversion,{view:s,model:o}=e;if(!i.isRegistered(e.model)){if(!e.modelSchema||(i.register(e.model,e.modelSchema),!s))return;r.for("upcast").elementToElement({model:o,view:s,converterPriority:ks.low+2}),r.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>e.isEmpty?l.createEmptyElement(s):l.createContainerElement(s)})}s&&(i.extend(e.model,{allowAttributes:eo(s)}),r.for("upcast").add(Hm(e,this)),r.for("downcast").add(xv(e)))}_registerInlineElement(e){const t=this.editor,i=t.model.schema,r=t.conversion,s=e.model;if(!e.appliesToBlock&&(i.extend("$text",{allowAttributes:s}),e.attributeProperties&&i.setAttributeProperties(s,e.attributeProperties),r.for("upcast").add(SBe(e,this)),r.for("downcast").attributeToElement({model:s,view:EBe(e)}),!!e.allowEmpty)){if(i.setAttributeProperties(s,{copyFromObject:!1}),!i.isRegistered("htmlEmptyElement")){i.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"});const o=a=>Array.from(a.getAttributeKeys()).some(l=>l.startsWith("html"));t.model.document.registerPostFixer(a=>{const l=t.model.document.differ.getChanges(),d=new Set;for(const f of l)if(f.type!=="remove"){if(f.type==="attribute"&&f.attributeNewValue===null)for(const{item:m}of f.range)m.is("element","htmlEmptyElement")&&!o(m)&&d.add(m);if(f.type==="insert"&&f.position.nodeAfter){const m=f.position.nodeAfter;for(const{item:p}of a.createRangeOn(m))p.is("element","htmlEmptyElement")&&!o(p)&&d.add(p)}}for(const f of d)a.remove(f);return d.size>0})}t.data.htmlProcessor.domConverter.registerInlineObjectMatcher(o=>o.name==e.view&&o.isEmpty&&Array.from(o.getAttributeKeys()).length?{name:!0}:null),r.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:eL(e,!0)}),r.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:eL(e)})}}}function nL(n,e,t){const i=e.matchAll(n)||[],r=n.document.stylesProcessor;return i.reduce((s,{match:o})=>{for(const[a,l]of o.attributes||[])if(a=="style"){const d=l,f=r.getRelatedStyles(d).filter(m=>m.split("-").length>d.split("-").length).sort((m,p)=>p.split("-").length-m.split("-").length);for(const m of f)t.consume(n,{styles:[m]})&&s.styles.push(m);t.consume(n,{styles:[d]})&&s.styles.push(d)}else if(a=="class"){const d=l;t.consume(n,{classes:[d]})&&s.classes.push(d)}else t.consume(n,{attributes:[a]})&&s.attributes.push(a);return s},{attributes:[],classes:[],styles:[]})}function IBe(n,{attributes:e,classes:t,styles:i}){return!e.length&&!t.length&&!i.length?null:{...e.length&&{attributes:PBe(n,e)},...i.length&&{styles:RBe(n,i)},...t.length&&{classes:t}}}function PBe(n,e){const t={};for(const i of e){const r=n.getAttribute(i);r!==void 0&&GK(i)&&(t[i]=r)}return t}function RBe(n,e){const t=new vm(n.document.stylesProcessor);for(const i of e){const r=n.getStyle(i);r!==void 0&&t.set(i,r)}return Object.fromEntries(t.getStylesEntries())}function SE(n,e){const{name:t}=n,i=n[e];return Io(i)?Object.entries(i).map(([r,s])=>({name:t,[e]:{[r]:s}})):Array.isArray(i)?i.map(r=>({name:t,[e]:[r]})):[n]}function iL(n){const{name:e,attributes:t,classes:i,styles:r}=n,s=[];return t&&s.push(...SE({name:e,attributes:t},"attributes")),i&&s.push(...SE({name:e,classes:i},"classes")),r&&s.push(...SE({name:e,styles:r},"styles")),s}class OBe extends H{static get requires(){return[ri]}static get pluginName(){return"CodeBlockElementSupport"}static get isOfficialPlugin(){return!0}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const e=this.editor.plugins.get(ri);e.on("register:pre",(t,i)=>{if(i.model!=="codeBlock")return;const r=this.editor,s=r.model.schema,o=r.conversion;s.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),o.for("upcast").add(DBe(e)),o.for("downcast").add(NBe()),t.stop()})}}function DBe(n){return e=>{e.on("element:code",(t,i,r)=>{const s=i.viewItem,o=s.parent;if(!o||!o.is("element","pre"))return;a(o,"htmlPreAttributes"),a(s,"htmlContentAttributes");function a(l,d){const f=n.processViewAttributes(l,r);f&&r.writer.setAttribute(d,f,i.modelRange)}},{priority:"low"})}}function NBe(){return n=>{n.on("attribute:htmlPreAttributes:codeBlock",(e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:r,attributeNewValue:s}=t,a=i.mapper.toViewElement(t.item).parent;Na(i.writer,r,s,a)}),n.on("attribute:htmlContentAttributes:codeBlock",(e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const{attributeOldValue:r,attributeNewValue:s}=t,o=i.mapper.toViewElement(t.item);Na(i.writer,r,s,o)})}}class MBe extends H{static get requires(){return[ri]}static get pluginName(){return"DualContentModelElementSupport"}static get isOfficialPlugin(){return!0}init(){this.editor.plugins.get(ri).on("register",(t,i)=>{const r=i,s=this.editor,o=s.model.schema,a=s.conversion;if(!r.paragraphLikeModel||o.isRegistered(r.model)||o.isRegistered(r.paragraphLikeModel))return;const l={model:r.paragraphLikeModel,view:r.view};o.register(r.model,r.modelSchema),o.register(l.model,{inheritAllFrom:"$block"}),a.for("upcast").elementToElement({view:r.view,model:(d,{writer:f})=>this._hasBlockContent(d)?f.createElement(r.model):f.createElement(l.model),converterPriority:ks.low+.5}),a.for("downcast").elementToElement({view:r.view,model:r.model}),this._addAttributeConversion(r),a.for("downcast").elementToElement({view:l.view,model:l.model}),this._addAttributeConversion(l),t.stop()})}_hasBlockContent(e){const t=this.editor.editing.view,i=t.domConverter.blockElements;for(const r of t.createRangeIn(e).getItems())if(r.is("element")&&i.includes(r.name))return!0;return!1}_addAttributeConversion(e){const t=this.editor,i=t.conversion,r=t.plugins.get(ri);t.model.schema.extend(e.model,{allowAttributes:eo(e.view)}),i.for("upcast").add(Hm(e,r)),i.for("downcast").add(xv(e))}}class BBe extends H{static get requires(){return[Wm,Cw]}static get pluginName(){return"HeadingElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HeadingEditing"))return;const t=e.config.get("heading.options");this.registerHeadingElements(e,t)}registerHeadingElements(e,t){const i=e.plugins.get(Wm),r=[];for(const s of t)"model"in s&&"view"in s&&(i.registerBlockElement({view:s.view,model:s.model}),r.push(s.model));i.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:r}}),i.extendBlockElement({model:"htmlSummary",modelSchema:{allowChildren:r}})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Cv(n,e,t){const i=n.createRangeOn(e);for(const{item:r}of i.getWalker())if(r.is("element",t))return r}class VBe extends H{static get requires(){return[ri]}static get pluginName(){return"ImageElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ImageInlineEditing")&&!e.plugins.has("ImageBlockEditing"))return;const t=e.model.schema,i=e.conversion,r=e.plugins.get(ri);r.on("register:figure",()=>{i.for("upcast").add(zBe(r))}),r.on("register:img",(s,o)=>{o.model!=="imageBlock"&&o.model!=="imageInline"||(t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),i.for("upcast").add(LBe(r)),i.for("downcast").add(jBe()),e.plugins.has("LinkImage")&&i.for("upcast").add(FBe(r,e)),s.stop())})}}function LBe(n){return e=>{e.on("element:img",(t,i,r)=>{if(!i.modelRange)return;const s=i.viewItem,o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlImgAttributes",o,i.modelRange)},{priority:"low"})}}function FBe(n,e){const t=e.plugins.get("ImageUtils");return i=>{i.on("element:a",(r,s,o)=>{const a=s.viewItem;if(!t.findViewImgElement(a))return;const d=s.modelCursor.parent;if(!d.is("element","imageBlock"))return;const f=n.processViewAttributes(a,o);f&&o.writer.setAttribute("htmlLinkAttributes",f,d)},{priority:"low"})}}function zBe(n){return e=>{e.on("element:figure",(t,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("image"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function jBe(){return n=>{e("htmlImgAttributes"),t("img","htmlImgAttributes"),t("figure","htmlFigureAttributes"),t("a","htmlLinkAttributes");function e(i){n.on(`attribute:${i}:imageInline`,(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const{attributeOldValue:a,attributeNewValue:l}=s,d=o.mapper.toViewElement(s.item);Na(o.writer,a,l,d)},{priority:"low"})}function t(i,r){n.on(`attribute:${r}:imageBlock`,(s,o,a)=>{if(!a.consumable.test(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:d}=o,f=a.mapper.toViewElement(o.item),m=Cv(a.writer,f,i);m&&(Na(a.writer,l,d,m),a.consumable.consume(o.item,s.name))},{priority:"low"}),i==="a"&&n.on("attribute:linkHref:imageBlock",(s,o,a)=>{if(!a.consumable.consume(o.item,"attribute:htmlLinkAttributes:imageBlock"))return;const l=a.mapper.toViewElement(o.item),d=Cv(a.writer,l,"a");Ma(a.writer,o.item.getAttribute("htmlLinkAttributes"),d)},{priority:"low"})}}}class UBe extends H{static get requires(){return[ri]}static get pluginName(){return"MediaEmbedElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("MediaEmbed")||e.config.get("mediaEmbed.previewsInData"))return;const t=e.model.schema,i=e.conversion,r=this.editor.plugins.get(ri),s=this.editor.plugins.get(Wm),o=e.config.get("mediaEmbed.elementName");s.registerBlockElement({model:"media",view:o}),r.on("register:figure",()=>{i.for("upcast").add(HBe(r))}),r.on(`register:${o}`,(a,l)=>{l.model==="media"&&(t.extend("media",{allowAttributes:[eo(o),"htmlFigureAttributes"]}),i.for("upcast").add($Be(r,o)),i.for("dataDowncast").add(WBe(o)),a.stop())})}}function $Be(n,e){const t=(i,r,s)=>{const o=r.viewItem;a(o,eo(e));function a(l,d){const f=n.processViewAttributes(l,s);f&&s.writer.setAttribute(d,f,r.modelRange)}};return i=>{i.on(`element:${e}`,t,{priority:"low"})}}function HBe(n){return e=>{e.on("element:figure",(t,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("media"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function WBe(n){return e=>{t(n,eo(n)),t("figure","htmlFigureAttributes");function t(i,r){e.on(`attribute:${r}:media`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const{attributeOldValue:l,attributeNewValue:d}=o,f=a.mapper.toViewElement(o.item),m=Cv(a.writer,f,i);Na(a.writer,l,d,m)})}}}class GBe extends H{static get requires(){return[ri]}static get pluginName(){return"ScriptElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(ri);e.on("register:script",(t,i)=>{const r=this.editor,s=r.model.schema,o=r.conversion;s.register("htmlScript",i.modelSchema),s.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"script"}),o.for("upcast").elementToElement({view:"script",model:R5(i)}),o.for("upcast").add(Hm(i,e)),o.for("downcast").elementToElement({model:"htmlScript",view:(a,{writer:l})=>nx("script",a,l)}),o.for("downcast").add(xv(i)),t.stop()})}}const YBe=["width","max-width","min-width","height","min-height","max-height"];class KBe extends H{static get requires(){return[ri]}static get pluginName(){return"TableElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("TableEditing"))return;const t=e.model.schema,i=e.conversion,r=e.plugins.get(ri),s=e.plugins.get("TableUtils");r.on("register:figure",()=>{i.for("upcast").add(QBe(r))}),r.on("register:table",(o,a)=>{a.model==="table"&&(t.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),i.for("upcast").add(ZBe(r)),i.for("downcast").add(JBe()),e.model.document.registerPostFixer(qBe(e.model,s)),o.stop())})}}function qBe(n,e){return t=>{const i=n.document.differ.getChanges();let r=!1;for(const s of i){if(s.type!="attribute"||s.attributeKey!="headingRows")continue;const o=s.range.start.nodeAfter,a=o.getAttribute("htmlTheadAttributes"),l=o.getAttribute("htmlTbodyAttributes");a&&!s.attributeNewValue?(t.removeAttribute("htmlTheadAttributes",o),r=!0):l&&s.attributeNewValue==e.getRows(o)&&(t.removeAttribute("htmlTbodyAttributes",o),r=!0)}return r}}function ZBe(n){return e=>{e.on("element:table",(t,i,r)=>{if(!i.modelRange)return;const s=i.viewItem;o(s,"htmlTableAttributes");for(const a of s.getChildren())a.is("element","thead")&&o(a,"htmlTheadAttributes"),a.is("element","tbody")&&o(a,"htmlTbodyAttributes");function o(a,l){const d=n.processViewAttributes(a,r);d&&r.writer.setAttribute(l,d,i.modelRange)}},{priority:"low"})}}function QBe(n){return e=>{e.on("element:figure",(t,i,r)=>{const s=i.viewItem;if(!i.modelRange||!s.hasClass("table"))return;const o=n.processViewAttributes(s,r);o&&r.writer.setAttribute("htmlFigureAttributes",o,i.modelRange)},{priority:"low"})}}function JBe(){return n=>{e("table","htmlTableAttributes"),e("figure","htmlFigureAttributes"),e("thead","htmlTheadAttributes"),e("tbody","htmlTbodyAttributes");function e(t,i){n.on(`attribute:${i}:table`,(r,s,o)=>{if(!o.consumable.test(s.item,r.name))return;const a=o.mapper.toViewElement(s.item),l=Cv(o.writer,a,t);if(l)if(o.consumable.consume(s.item,r.name),i==="htmlTableAttributes"&&a!==l){const d=rL(s.attributeOldValue),f=rL(s.attributeNewValue);Na(o.writer,d.tableAttributes,f.tableAttributes,l),Na(o.writer,d.figureAttributes,f.figureAttributes,a)}else Na(o.writer,s.attributeOldValue,s.attributeNewValue,l)})}}}function rL(n){const e={},t={...n};if(!n||!("styles"in n))return{figureAttributes:e,tableAttributes:t};t.styles={};for(const[i,r]of Object.entries(n.styles))YBe.includes(i)?e.styles={...e.styles,[i]:r}:t.styles={...t.styles,[i]:r};return{figureAttributes:e,tableAttributes:t}}class XBe extends H{static get requires(){return[ri]}static get pluginName(){return"StyleElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(ri);e.on("register:style",(t,i)=>{const r=this.editor,s=r.model.schema,o=r.conversion;s.register("htmlStyle",i.modelSchema),s.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),r.data.registerRawContentMatcher({name:"style"}),o.for("upcast").elementToElement({view:"style",model:R5(i)}),o.for("upcast").add(Hm(i,e)),o.for("downcast").elementToElement({model:"htmlStyle",view:(a,{writer:l})=>nx("style",a,l)}),o.for("downcast").add(xv(i)),t.stop()})}}class e3e extends H{static get requires(){return[ri]}static get pluginName(){return"ListElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("ListEditing"))return;const t=e.model.schema,i=e.conversion,r=e.plugins.get(ri),s=e.plugins.get("ListEditing"),o=e.plugins.get("ListUtils"),a=["ul","ol","li"];s.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:Ma}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:Ma}),s.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:Ma}),r.on("register",(l,d)=>{if(!a.includes(d.view)||(l.stop(),t.checkAttribute("$block","htmlLiAttributes")))return;const f=a.map(m=>eo(m));t.extend("$listItem",{allowAttributes:f}),i.for("upcast").add(m=>{m.on("element:ul",EE("htmlUlAttributes",r),{priority:"low"}),m.on("element:ol",EE("htmlOlAttributes",r),{priority:"low"}),m.on("element:li",EE("htmlLiAttributes",r),{priority:"low"})})}),s.on("postFixer",(l,{listNodes:d,writer:f})=>{for(const{node:m,previousNodeInList:p}of d)if(p){if(p.getAttribute("listType")==m.getAttribute("listType")){const w=sL(p.getAttribute("listType")),A=p.getAttribute(w);!Fm(m.getAttribute(w),A)&&f.model.schema.checkAttribute(m,w)&&(f.setAttribute(w,A,m),l.return=!0)}if(p.getAttribute("listItemId")==m.getAttribute("listItemId")){const w=p.getAttribute("htmlLiAttributes");!Fm(m.getAttribute("htmlLiAttributes"),w)&&f.model.schema.checkAttribute(m,"htmlLiAttributes")&&(f.setAttribute("htmlLiAttributes",w,m),l.return=!0)}}}),s.on("postFixer",(l,{listNodes:d,writer:f})=>{for(const{node:m}of d){const p=m.getAttribute("listType");!o.isNumberedListType(p)&&m.getAttribute("htmlOlAttributes")&&(f.removeAttribute("htmlOlAttributes",m),l.return=!0),o.isNumberedListType(p)&&m.getAttribute("htmlUlAttributes")&&(f.removeAttribute("htmlUlAttributes",m),l.return=!0)}})}afterInit(){const e=this.editor;if(!e.commands.get("indentList"))return;const t=e.commands.get("indentList");this.listenTo(t,"afterExecute",(i,r)=>{e.model.change(s=>{for(const o of r){const a=sL(o.getAttribute("listType"));e.model.schema.checkAttribute(o,a)&&s.setAttribute(a,{},o)}})})}}function EE(n,e){return(t,i,r)=>{const s=i.viewItem;i.modelRange||Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor));const o=e.processViewAttributes(s,r);for(const a of i.modelRange.getItems({shallow:!0}))a.hasAttribute("listItemId")&&(a.hasAttribute("htmlUlAttributes")||a.hasAttribute("htmlOlAttributes")||r.writer.model.schema.checkAttribute(a,n)&&r.writer.setAttribute(n,o||{},a))}}function sL(n){return n==="numbered"||n=="customNumbered"?"htmlOlAttributes":"htmlUlAttributes"}class t3e extends H{static get requires(){return[ri]}static get pluginName(){return"HorizontalLineElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(!e.plugins.has("HorizontalLineEditing"))return;const t=e.model.schema,i=e.conversion,r=e.plugins.get(ri);r.on("register:hr",(s,o)=>{o.model==="horizontalLine"&&(t.extend("horizontalLine",{allowAttributes:["htmlHrAttributes"]}),i.for("upcast").add(Hm(o,r)),i.for("downcast").add(n3e()),s.stop())})}}function n3e(){return n=>{n.on("attribute:htmlHrAttributes:horizontalLine",(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const{attributeOldValue:r,attributeNewValue:s}=t,o=i.mapper.toViewElement(t.item),a=Cv(i.writer,o,"hr");a&&(Na(i.writer,r,s,a),i.consumable.consume(t.item,e.name))},{priority:"low"})}}class i3e extends H{static get requires(){return[ri,Wm]}static get pluginName(){return"CustomElementSupport"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.plugins.get(ri),t=this.editor.plugins.get(Wm);e.on("register:$customElement",(i,r)=>{i.stop();const s=this.editor,o=s.model.schema,a=s.conversion,l=s.editing.view.domConverter.unsafeElements,d=s.data.htmlProcessor.domConverter.preElements;o.register(r.model,r.modelSchema),o.extend(r.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),s.data.htmlProcessor.domConverter.registerRawContentMatcher({name:"template"}),a.for("upcast").elementToElement({view:/.*/,model:(f,m)=>{if(f.name=="$comment"||!r3e(f.name)||t.getDefinitionsForView(f.name).size)return null;l.includes(f.name)||l.push(f.name),d.includes(f.name)||d.push(f.name);const p=m.writer.createElement(r.model,{htmlElementName:f.name}),w=e.processViewAttributes(f,m);w&&m.writer.setAttribute("htmlCustomElementAttributes",w,p);let A;if(f.is("element","template")&&f.getCustomProperty("$rawContent"))A=f.getCustomProperty("$rawContent");else{const S=new Bs(f.document).createDocumentFragment(f),P=s.data.htmlProcessor.domConverter.viewToDom(S),I=P.firstChild;for(;I.firstChild;)P.appendChild(I.firstChild);I.remove(),A=s.data.htmlProcessor.htmlWriter.getHtml(P)}m.writer.setAttribute("htmlContent",A,p);for(const{item:x}of s.editing.view.createRangeIn(f))m.consumable.consume(x,{name:!0});return p},converterPriority:"low"}),a.for("editingDowncast").elementToElement({model:{name:r.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),w=m.createRawElement(p);return f.hasAttribute("htmlCustomElementAttributes")&&Ma(m,f.getAttribute("htmlCustomElementAttributes"),w),w}}),a.for("dataDowncast").elementToElement({model:{name:r.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(f,{writer:m})=>{const p=f.getAttribute("htmlElementName"),w=f.getAttribute("htmlContent"),A=m.createRawElement(p,null,(x,S)=>{S.setContentOf(x,w)});return f.hasAttribute("htmlCustomElementAttributes")&&Ma(m,f.getAttribute("htmlCustomElementAttributes"),A),A}})})}}function r3e(n){try{document.createElement(n)}catch{return!1}return!0}class s3e extends H{static get pluginName(){return"GeneralHtmlSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[ri,OBe,MBe,BBe,VBe,UBe,GBe,KBe,XBe,e3e,t3e,i3e]}init(){const e=this.editor,t=e.plugins.get(ri);t.loadAllowedEmptyElementsConfig(e.config.get("htmlSupport.allowEmpty")||[]),t.loadAllowedConfig(e.config.get("htmlSupport.allow")||[]),t.loadDisallowedConfig(e.config.get("htmlSupport.disallow")||[])}afterInit(){this.editor.commands.get("removeFormat")?.registerCustomAttribute(t=>t.startsWith("html")&&t.endsWith("Attributes"),kBe)}getGhsAttributeNameForElement(e){const t=this.editor.plugins.get("DataSchema"),i=Array.from(t.getDefinitionsForView(e,!1)),r=i.find(s=>s.isInline&&!i[0].isObject);return r?r.model:eo(e)}addModelHtmlClass(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"classes",l=>{for(const d of Jt(t))l.add(d)})})}removeModelHtmlClass(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"classes",l=>{for(const d of Jt(t))l.delete(d)})})}setModelHtmlAttributes(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"attributes",l=>{for(const[d,f]of Object.entries(t))l.set(d,f)})})}removeModelHtmlAttributes(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"attributes",l=>{for(const d of Jt(t))l.delete(d)})})}setModelHtmlStyles(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"styles",l=>{for(const[d,f]of Object.entries(t))l.set(d,f)})})}removeModelHtmlStyles(e,t,i){const r=this.editor.model,s=this.getGhsAttributeNameForElement(e);r.change(o=>{for(const a of Qh(r,i,s))Zh(o,a,s,"styles",l=>{for(const d of Jt(t))l.delete(d)})})}}function*Qh(n,e,t){if(e)if(!(Symbol.iterator in e)&&e.is("documentSelection")&&e.isCollapsed)n.schema.checkAttributeInSelection(e,t)&&(yield e);else for(const i of o3e(n,e,t))yield*i.getItems({shallow:!0})}function o3e(n,e,t){return!(Symbol.iterator in e)&&(e.is("node")||e.is("$text")||e.is("$textProxy"))?n.schema.checkAttribute(e,t)?[n.createRangeOn(e)]:[]:n.schema.getValidRanges(n.createSelection(e).getRanges(),t)}class a3e extends H{static get pluginName(){return"HtmlComment"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=new Map;e.data.processor.skipComments=!1,e.model.schema.addAttributeCheck((i,r)=>{if(i.endsWith("$root")&&r.startsWith("$comment"))return!0}),e.conversion.for("upcast").elementToMarker({view:"$comment",model:i=>{const s=`$comment:${Xi()}`,o=i.getCustomProperty("$rawContent");return t.set(s,o),s}}),e.conversion.for("dataDowncast").markerToElement({model:"$comment",view:(i,{writer:r})=>{let s;for(const d of this.editor.model.document.getRootNames())if(s=this.editor.model.document.getRoot(d),s.hasAttribute(i.markerName))break;const o=i.markerName,a=s.getAttribute(o),l=r.createUIElement("$comment");return r.setCustomProperty("$rawContent",a,l),l}}),e.model.document.registerPostFixer(i=>{let r=!1;const s=e.model.document.differ.getChangedMarkers().filter(o=>o.name.startsWith("$comment:"));for(const o of s){const{oldRange:a,newRange:l}=o.data;if(!(a&&l&&a.root==l.root)){if(a){const d=a.root;d.hasAttribute(o.name)&&(i.removeAttribute(o.name,d),r=!0)}if(l){const d=l.root;d.rootName=="$graveyard"?(i.removeMarker(o.name),r=!0):d.hasAttribute(o.name)||(i.setAttribute(o.name,t.get(o.name)||"",d),r=!0)}}}return r}),e.data.on("set",()=>{for(const i of e.model.markers.getMarkersGroup("$comment"))this.removeHtmlComment(i.name)},{priority:"high"}),e.model.on("deleteContent",(i,[r])=>{for(const s of r.getRanges()){const o=e.model.schema.getLimitElement(s),a=e.model.createPositionAt(o,0),l=e.model.createPositionAt(o,"end");let d;a.isTouching(s.start)&&l.isTouching(s.end)?d=this.getHtmlCommentsInRange(e.model.createRange(a,l)):d=this.getHtmlCommentsInRange(s,{skipBoundaries:!0});for(const f of d)this.removeHtmlComment(f)}},{priority:"high"})}createHtmlComment(e,t){const i=Xi(),s=this.editor.model,o=s.document.getRoot(e.root.rootName),a=`$comment:${i}`;return s.change(l=>{const d=l.createRange(e);return l.addMarker(a,{usingOperation:!0,affectsData:!0,range:d}),l.setAttribute(a,t,o),a})}removeHtmlComment(e){const t=this.editor,i=t.model.markers.get(e);return i?(t.model.change(r=>{r.removeMarker(i)}),!0):!1}getHtmlCommentData(e){const i=this.editor.model.markers.get(e);if(!i)return null;let r="";for(const s of this.editor.model.document.getRoots())if(s.hasAttribute(e)){r=s.getAttribute(e);break}return{content:r,position:i.getStart()}}getHtmlCommentsInRange(e,{skipBoundaries:t=!1}={}){const i=!t;return Array.from(this.editor.model.markers.getMarkersGroup("$comment")).filter(s=>r(s,e)).map(s=>s.name);function r(s,o){const a=s.getRange().start;return(a.isAfter(o.start)||i&&a.isEqual(o.start))&&(a.isBefore(o.end)||i&&a.isEqual(o.end))}}}class l3e extends Rq{toView(e){if(!/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4)))return super.toView(e);let t="",i="";e=e.trim().replace(/<\?xml\s[^?]*\?>/i,l=>(i=l,"")),e=e.trim().replace(/^<!DOCTYPE\s[^>]*?>/i,l=>(t=l,""));const r=this._toDom(e),s=this.domConverter.domToView(r,{skipComments:this.skipComments}),o=new Bs(s.document);o.setCustomProperty("$fullPageDocument",r.ownerDocument.documentElement.outerHTML,s);const a=Array.from(r.ownerDocument.querySelectorAll("head style"));return o.setCustomProperty("$fullPageHeadStyles",a,s),t&&o.setCustomProperty("$fullPageDocType",t,s),i&&o.setCustomProperty("$fullPageXmlDeclaration",i,s),s}toData(e){let t=super.toData(e);const i=e.getCustomProperty("$fullPageDocument"),r=e.getCustomProperty("$fullPageDocType"),s=e.getCustomProperty("$fullPageXmlDeclaration");return i&&(t=i.replace(/<\/body\s*>/,t+"$&"),r&&(t=r+`
`+t),s&&(t=s+`
`+t)),t}}class c3e extends H{static get pluginName(){return"FullPage"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("htmlSupport.fullPage",{allowRenderStylesFromHead:!1,sanitizeCss:t=>(vt("css-full-page-provide-sanitize-function"),{css:t,hasChanged:!1})}),e.data.processor=new l3e(e.data.viewDocument)}init(){const e=this.editor,t=["$fullPageDocument","$fullPageDocType","$fullPageXmlDeclaration","$fullPageHeadStyles"];e.model.schema.extend("$root",{allowAttributes:t}),e.data.on("toModel",(i,[r])=>{const s=e.model.document.getRoot();e.model.change(o=>{for(const a of t){const l=r.getCustomProperty(a);l&&o.setAttribute(a,l,s)}}),oL(e)&&this._renderStylesFromHead(s)},{priority:"low"}),e.data.on("toView",(i,[r])=>{if(!r.is("rootElement"))return;const s=r,o=i.return;if(!s.hasAttribute("$fullPageDocument"))return;const a=new Bs(o.document);for(const l of t){const d=s.getAttribute(l);d&&a.setCustomProperty(l,d,o)}},{priority:"low"}),e.data.on("set",()=>{const i=e.model.document.getRoot();e.model.change(r=>{for(const s of t)i.hasAttribute(s)&&r.removeAttribute(s,i)})},{priority:"high"}),e.data.on("get",(i,r)=>{r[0]||(r[0]={}),r[0].trim=!1},{priority:"high"})}destroy(){super.destroy(),oL(this.editor)&&this._removeStyleElementsFromDom()}_removeStyleElementsFromDom(){const e=Array.from(Re.document.querySelectorAll(`[data-full-page-style-id="${this.editor.id}"]`));for(const t of e)t.remove()}_renderStyleElementsInDom(e){const t=this.editor,i=e.getAttribute("$fullPageHeadStyles");if(!i)return;const r=t.config.get("htmlSupport.fullPage.sanitizeCss");for(const s of i){s.setAttribute("data-full-page-style-id",t.id);const o=r(s.innerText);o.hasChanged&&(s.innerText=o.css),Re.document.head.append(s)}}_renderStylesFromHead(e){this._removeStyleElementsFromDom(),this._renderStyleElementsInDom(e)}}function oL(n){return n.config.get("htmlSupport.fullPage.allowRenderStylesFromHead")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function u3e(n){return n.createContainerElement("span",{class:"image-inline"},n.createEmptyElement("img"))}function aL(n){return n.createContainerElement("figure",{class:"image"},[n.createEmptyElement("img"),n.createSlot("children")])}function dQ(n,e){const t=n.plugins.get("ImageUtils"),i=n.plugins.has("ImageInlineEditing")&&n.plugins.has("ImageBlockEditing");return s=>t.isInlineImageView(s)?i&&(s.getStyle("display")=="block"||s.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:r(s):null;function r(s){const o={name:!0};return s.hasAttribute("src")&&(o.attributes=["src"]),o}}function O5(n,e){const t=sn(e.getSelectedBlocks());return!t||n.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function XA(n){return n&&n.endsWith("px")?parseInt(n):null}function e1(n){const e=XA(n.getStyle("width")),t=XA(n.getStyle("height"));return!!(e&&t)}const d3e=/^(image|image-inline)$/;class dr extends H{_domEmitter=new(Ur());static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,i=null,r={}){const s=this.editor,o=s.model,a=o.document.selection,l=fQ(s,t||a,i);e={...Object.fromEntries(a.getAttributes()),...e};for(const d in e)o.schema.checkAttribute(l,d)||delete e[d];return o.change(d=>{const{setImageSizes:f=!0}=r,m=d.createElement(l,e);return o.insertObject(m,t,null,{setSelection:"on",findOptimalPosition:!t&&l!="imageInline"?"auto":void 0}),m.parent?(f&&this.setImageNaturalSizeAttributes(m),m):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(i=>{const r=new Re.window.Image;this._domEmitter.listenTo(r,"load",()=>{!e.getAttribute("width")&&!e.getAttribute("height")&&this.editor.model.enqueueChange(i.batch,s=>{s.setAttribute("width",r.naturalWidth,e),s.setAttribute("height",r.naturalHeight,e)}),this._domEmitter.stopListening(r,"load")}),r.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const i=e.getSelectedElement();if(i&&this.isImageWidget(i))return i;let r=t.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:d3e})}isImageAllowed(){const t=this.editor.model.document.selection;return f3e(this.editor,t)&&h3e(t)}toImageWidget(e,t,i){return t.setCustomProperty("image",!0,e),Cc(e,t,{label:()=>{const o=this.findViewImgElement(e).getAttribute("alt");return o?`${o} ${i}`:i}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Jn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:i}of t.createRangeIn(e))if(this.isInlineImageView(i))return i}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function f3e(n,e){if(fQ(n,e,null)=="imageBlock"){const i=m3e(e,n.model);if(n.model.schema.checkChild(i,"imageBlock"))return!0}else if(n.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function h3e(n){return[...n.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function m3e(n,e){const i=Sw(n,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}function fQ(n,e,t){const i=n.model.schema,r=n.config.get("image.insert.type");return n.plugins.has("ImageBlockEditing")?n.plugins.has("ImageInlineEditing")?t||(r==="inline"?"imageInline":r!=="auto"?"imageBlock":e.is("selection")?O5(i,e):i.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const g3e=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class p3e extends H{static get requires(){return[S5,dr,P5,Ua]}static get pluginName(){return"AutoImage"}static get isOfficialPlugin(){return!0}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const r=t.selection.getFirstRange(),s=Fn.fromPosition(r.start);s.stickiness="toPrevious";const o=Fn.fromPosition(r.end);o.stickiness="toNext",t.once("change:data",()=>{this._embedImageBetweenPositions(s,o),s.detach(),o.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Re.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(e,t){const i=this.editor,r=new Dr(e,t),s=r.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(i.model.document.selection.getAttributes()),a=this.editor.plugins.get("ImageUtils");let l="";for(const d of s)d.item.is("$textProxy")&&(l+=d.item.data);if(l=l.trim(),!l.match(g3e)){r.detach();return}this._positionToInsert=Fn.fromPosition(e),this._timeoutId=setTimeout(()=>{if(!i.commands.get("insertImage").isEnabled){r.detach();return}i.model.change(m=>{this._timeoutId=null,m.remove(r),r.detach();let p;this._positionToInsert.root.rootName!=="$graveyard"&&(p=this._positionToInsert.toPosition()),a.insertImage({...o,src:l},p),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get("Delete").requestUndoOnBackspace()},100)}}class b3e extends Je{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,i=t.plugins.get("ImageUtils"),r=t.model,s=i.getClosestSelectedImageElement(r.document.selection);r.change(o=>{o.setAttribute("alt",e.newValue,s)})}}class v3e extends H{static get requires(){return[dr]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new b3e(this.editor))}}class w3e extends Me{focusTracker;keystrokes;labeledInput;backButtonView;saveButtonView;children;_focusables;_focusCycler;constructor(e){super(e),this.focusTracker=new Ut,this.keystrokes=new tn,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Qi(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new Ai,this.keystrokes.set("Esc",(t,i)=>{this.fire("cancel"),i()}),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Text Alternative")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Xn(this.locale,_r);return t.label=e("Text alternative"),t.class="ck-labeled-field-view_full-width",t}}function y3e(n){const e=n.plugins.get("ContextualBalloon");if(n.plugins.get("ImageUtils").getClosestSelectedImageWidget(n.editing.view.document.selection)){const i=D5(n);e.updatePosition(i)}}function D5(n){const e=n.editing.view,t=Rn.defaultPositions,i=n.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class _3e extends H{_balloon;_form;static get requires(){return[xr]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",i=>{const r=e.commands.get("imageTextAlternative"),s=new ze(i);return s.set({label:t("Change image text alternative"),icon:MRe,tooltip:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",o=>!!o),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,i=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Um(w3e))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(i.selection)?this._isVisible&&y3e(e):this._hideForm(!0)}),Xo({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:D5(e)}),i.fieldView.value=i.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class N5 extends H{static get requires(){return[v3e,_3e]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function A3e(n){const e=(t,i,r)=>{if(!r.consumable.test(i.viewItem,{name:!0,classes:"image"}))return;const s=n.findViewImgElement(i.viewItem);if(!s||!r.consumable.test(s,{name:!0}))return;r.consumable.consume(i.viewItem,{name:!0,classes:"image"});const o=r.convertItem(s,i.modelCursor),a=sn(o.modelRange.getItems());if(!a){r.consumable.revert(i.viewItem,{name:!0,classes:"image"});return}r.convertChildren(i.viewItem,a),r.updateConversionResult(a,i)};return t=>{t.on("element:figure",e)}}function hQ(n,e){const t=(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=s.writer,a=s.mapper.toViewElement(r.item),l=n.findViewImgElement(a);r.attributeNewValue===null?(o.removeAttribute("srcset",l),o.removeAttribute("sizes",l)):r.attributeNewValue&&(o.setAttribute("srcset",r.attributeNewValue,l),o.setAttribute("sizes","100vw",l))};return i=>{i.on(`attribute:srcset:${e}`,t)}}function t1(n,e,t){const i=(r,s,o)=>{if(!o.consumable.consume(s.item,r.name))return;const a=o.writer,l=o.mapper.toViewElement(s.item),d=n.findViewImgElement(l);a.setAttribute(s.attributeKey,s.attributeNewValue||"",d)};return r=>{r.on(`attribute:${t}:${e}`,i)}}class M5 extends Jo{observe(e){this.listenTo(e,"load",(t,i)=>{const r=i.target;this.checkShouldIgnoreEventFromTarget(r)||r.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class k3e extends Je{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&vt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&vt("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Jt(e.source),i=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(typeof o=="string"&&(o={src:o}),a&&l&&r.isImage(l)){const d=this.editor.model.createPositionAfter(l);r.insertImage({...o,...s},d,e.imageType)}else e.breakBlock?r.insertImage({...o,...s},i.getFirstPosition(),e.imageType):r.insertImage({...o,...s},null,e.imageType)})}}class x3e extends Je{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const t=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),i=this.editor.plugins.get("ImageUtils");this.editor.model.change(r=>{r.setAttribute("src",e.source,t),this.cleanupImage(r,t),i.setImageNaturalSizeAttributes(t)})}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class mQ extends H{static get requires(){return[dr]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(M5),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new k3e(e),r=new x3e(e);e.commands.add("insertImage",i),e.commands.add("replaceImageSource",r),e.commands.add("imageInsert",i)}}class gQ extends H{static get requires(){return[dr]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,i=t.plugins.get("ImageUtils"),r=e==="imageBlock"?"figure":"img";t.conversion.for("upcast").attributeToAttribute({view:{name:r,styles:{width:/.+/}},model:{key:"width",value:o=>e1(o)?XA(o.getStyle("width")):null}}).attributeToAttribute({view:{name:r,key:"width"},model:"width"}).attributeToAttribute({view:{name:r,styles:{height:/.+/}},model:{key:"height",value:o=>e1(o)?XA(o.getStyle("height")):null}}).attributeToAttribute({view:{name:r,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(o=>{s(o,"width","width",!0,!0),s(o,"height","height",!0,!0)}),t.conversion.for("dataDowncast").add(o=>{s(o,"width","width",!1),s(o,"height","height",!1)}),t.conversion.for("upcast").add(o=>{o.on("element:img",(a,l,d)=>{const f=l.viewItem.getAttribute("width"),m=l.viewItem.getAttribute("height");f&&m&&d.consumable.consume(l.viewItem,{styles:["aspect-ratio"]})})});function s(o,a,l,d,f=!1){o.on(`attribute:${a}:${e}`,(m,p,w)=>{if(!w.consumable.consume(p.item,m.name))return;const A=w.writer,x=w.mapper.toViewElement(p.item),S=i.findViewImgElement(x);p.attributeNewValue!==null?A.setAttribute(l,p.attributeNewValue,S):A.removeAttribute(l,S);const P=p.item.getAttribute("width"),I=p.item.getAttribute("height"),O=P&&I;if(O&&f&&A.setAttribute("loading","lazy",S),p.item.hasAttribute("sources"))return;const M=p.item.hasAttribute("resizedWidth");e==="imageInline"&&!M&&!d||O&&A.setStyle("aspect-ratio",`${P}/${I}`,S)})}}}class pQ extends Je{_modelElementName;constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),i=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(i):this.isEnabled=t.isBlockImage(i)}execute(e={}){const t=this.editor,i=this.editor.model,r=t.plugins.get("ImageUtils"),s=r.getClosestSelectedImageElement(i.document.selection),o=Object.fromEntries(s.getAttributes());return!o.src&&!o.uploadId?null:i.change(a=>{const{setImageSizes:l=!0}=e,d=Array.from(i.markers).filter(p=>p.getRange().containsItem(s)),f=r.insertImage(o,i.createSelection(s,"on"),this._modelElementName,{setImageSizes:l});if(!f)return null;const m=a.createRangeOn(f);for(const p of d){const w=p.getRange(),A=w.root.rootName!="$graveyard"?w.getJoined(m,!0):m;a.updateMarker(p,{range:A})}return{oldElement:s,newElement:f}})}}class bQ extends H{static get requires(){return[dr]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,i=e.plugins.get("ImageUtils");t.for("editingDowncast").add(r=>{r.on("attribute:placeholder",(s,o,a)=>{if(!a.consumable.test(o.item,s.name)||!o.item.is("element","imageBlock")&&!o.item.is("element","imageInline"))return;a.consumable.consume(o.item,s.name);const l=a.writer,d=a.mapper.toViewElement(o.item),f=i.findViewImgElement(d);o.attributeNewValue?(l.addClass("image_placeholder",f),l.setStyle("background-image",`url(${o.attributeNewValue})`,f),l.setCustomProperty("editingPipeline:doNotReuseOnce",!0,f)):(l.removeClass("image_placeholder",f),l.removeStyle("background-image",f))})})}_setupLoadListener(){const e=this.editor,t=e.model,i=e.editing,r=i.view,s=e.plugins.get("ImageUtils");r.addObserver(M5),this.listenTo(r.document,"imageLoaded",(o,a)=>{const l=r.domConverter.mapDomToView(a.target);if(!l)return;const d=s.getImageWidgetFromImageView(l);if(!d)return;const f=i.mapper.toModelElement(d);!f||!f.hasAttribute("placeholder")||t.enqueueChange({isUndoable:!1},m=>{m.removeAttribute("placeholder",f)})})}}class vQ extends H{static get requires(){return[mQ,gQ,dr,bQ,ss]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new pQ(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,r=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>aL(o)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:o})=>r.toImageWidget(aL(o),o,t("image widget"))}),i.for("downcast").add(t1(r,"imageBlock","src")).add(t1(r,"imageBlock","alt")).add(hQ(r,"imageBlock")),i.for("upcast").elementToElement({view:dQ(e,"imageBlock"),model:(s,{writer:o})=>o.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(A3e(r))}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let d;if(!l.every(r.isInlineImageView))return;a.targetRanges?d=e.editing.mapper.toModelRange(a.targetRanges[0]):d=t.document.selection.getFirstRange();const f=t.createSelection(d);if(O5(t.schema,f)==="imageBlock"){const m=new Bs(i.document),p=l.map(w=>m.createElement("figure",{class:"image"},w));a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const d=l.createRangeIn(a.content);for(const f of d.getItems())f.is("element","imageBlock")&&r.setImageNaturalSizeAttributes(f)})})}}class C3e extends Me{focusTracker;keystrokes;_focusables;_focusCycler;children;constructor(e,t=[]){super(e),this.focusTracker=new Ut,this.keystrokes=new tn,this._focusables=new Ai,this.children=this.createCollection(),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const i of t)this.children.add(i),this._focusables.add(i),i instanceof yZ&&this._focusables.addMany(i.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),xc({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class Ew extends H{static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[dr]}dropdownView;_integrations=new Map;constructor(e){super(e),e.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=i.isImage(t.getSelectedElement())});const r=o=>this._createToolbarComponent(o),s=o=>this._createMenuBarComponent(o);e.ui.componentFactory.add("insertImage",r),e.ui.componentFactory.add("imageInsert",r),e.ui.componentFactory.add("menuBar:insertImage",s)}registerIntegration({name:e,observable:t,buttonViewCreator:i,formViewCreator:r,menuBarButtonViewCreator:s,requiresForm:o=!1,override:a=!1}){this._integrations.has(e)&&!a&&vt("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:t,buttonViewCreator:i,menuBarButtonViewCreator:s,formViewCreator:r,requiresForm:o})}_createToolbarComponent(e){const t=this.editor,i=e.t,r=this._prepareIntegrations();if(!r.length)return null;let s;const o=r[0];if(r.length==1){if(!o.requiresForm)return o.buttonViewCreator(!0);s=o.buttonViewCreator(!0)}else{const d=o.buttonViewCreator(!1);s=new $u(e,d),s.tooltip=!0,s.bind("label").to(this,"isImageSelected",f=>i(f?"Replace image":"Insert image"))}const a=this.dropdownView=ii(e,s),l=r.map(({observable:d})=>typeof d=="function"?d():d);return a.bind("isEnabled").toMany(l,"isEnabled",(...d)=>d.some(f=>f)),a.once("change:isOpen",()=>{const d=r.flatMap(({formViewCreator:m})=>m(r.length==1)),f=new C3e(t.locale,d);a.panelView.children.add(f)}),a}_createMenuBarComponent(e){const t=e.t,i=this._prepareIntegrations();if(!i.length)return null;const r=i.flatMap(({menuBarButtonViewCreator:a})=>a(i.length==1)),s=new cr(e),o=new ja(e);s.panelView.children.add(o),s.buttonView.set({icon:HPe,label:t("Image")});for(const a of r){const l=new Go(e,s);l.children.add(a),o.items.add(l),a.delegate("execute").to(s)}return s}_prepareIntegrations(){const t=this.editor.config.get("image.insert.integrations"),i=[];if(!t.length)return vt("image-insert-integrations-not-specified"),i;for(const r of t){if(!this._integrations.has(r)){["upload","assetManager","url"].includes(r)||vt("image-insert-unknown-integration",{item:r});continue}i.push(this._integrations.get(r))}return i.length||vt("image-insert-integrations-not-registered"),i}}class S3e extends H{static get requires(){return[vQ,el,N5,Ew]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class E3e extends H{static get requires(){return[mQ,gQ,dr,bQ,ss]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new pQ(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,r=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:o})=>o.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:o})=>r.toImageWidget(u3e(o),o,t("image widget"))}),i.for("downcast").add(t1(r,"imageInline","src")).add(t1(r,"imageInline","alt")).add(hQ(r,"imageInline")),i.for("upcast").elementToElement({view:dQ(e,"imageInline"),model:(s,{writer:o})=>o.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(o,a)=>{const l=Array.from(a.content.getChildren());let d;if(!l.every(r.isBlockImageView))return;a.targetRanges?d=e.editing.mapper.toModelRange(a.targetRanges[0]):d=t.document.selection.getFirstRange();const f=t.createSelection(d);if(O5(t.schema,f)==="imageInline"){const m=new Bs(i.document),p=l.map(w=>w.childCount===1?(Array.from(w.getAttributes()).forEach(A=>m.setAttribute(...A,r.findViewImgElement(w))),w.getChild(0)):w);a.content=m.createDocumentFragment(p)}}),this.listenTo(s,"contentInsertion",(o,a)=>{a.method==="paste"&&t.change(l=>{const d=l.createRangeIn(a.content);for(const f of d.getItems())f.is("element","imageInline")&&r.setImageNaturalSizeAttributes(f)})})}}class T3e extends H{static get requires(){return[E3e,el,N5,Ew]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class wQ extends H{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[dr]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),i=e.getFirstPosition().findAncestor("caption");return i&&t.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class I3e extends Je{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),i=e.plugins.get("ImageUtils");if(!e.plugins.has(vQ)){this.isEnabled=!1,this.value=!1;return}const r=e.model.document.selection,s=r.getSelectedElement();if(!s){const o=t.getCaptionFromModelSelection(r);this.isEnabled=!!o,this.value=!!o;return}this.isEnabled=i.isImage(s),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,t)})}_showImageCaption(e,t){const r=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let a=r.getSelectedElement();const l=s._getSavedCaption(a);o.isInlineImage(a)&&(this.editor.execute("imageTypeBlock"),a=r.getSelectedElement());const d=l||e.createElement("caption");e.append(d,a),t&&e.setSelection(d,"in")}_hideImageCaption(e){const t=this.editor,i=t.model.document.selection,r=t.plugins.get("ImageCaptionEditing"),s=t.plugins.get("ImageCaptionUtils");let o=i.getSelectedElement(),a;o?a=s.getCaptionFromImageModelElement(o):(a=s.getCaptionFromModelSelection(i),o=a.parent),r._saveCaption(o,a),e.setSelection(o,"on"),e.remove(a)}}class P3e extends H{static get requires(){return[dr,wQ]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}_savedCaptionsMap;constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new I3e(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:o=>r.matchImageCaptionViewElement(o),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>i.isBlockImage(o.parent)?a.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(o,{writer:a})=>{if(!i.isBlockImage(o.parent))return null;const l=a.createEditableElement("figcaption");a.setCustomProperty("imageCaption",!0,l),l.placeholder=s("Enter image caption"),$k({view:t,element:l,keepOnFocus:!0});const d=o.parent.getAttribute("alt"),f=d?s("Caption for image: %0",[d]):s("Caption for the image");return x5(l,a,{label:f})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),r=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),o=a=>{if(!a.return)return;const{oldElement:l,newElement:d}=a.return;/* istanbul ignore if: paranoid check -- @preserve */if(!l)return;if(t.isBlockImage(l)){const m=i.getCaptionFromImageModelElement(l);if(m){this._saveCaption(d,m);return}}const f=this._getSavedCaption(l);f&&this._saveCaption(d,f)};r&&this.listenTo(r,"execute",o,{priority:"low"}),s&&this.listenTo(s,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?wn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,i=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const s=t.document.differ.getChanges();for(const o of s){if(o.attributeKey!=="alt")continue;const a=o.range.start.nodeAfter;if(i.isBlockImage(a)){const l=r.getCaptionFromImageModelElement(a);if(!l)return;e.editing.reconvertItem(l)}}})}}class R3e extends H{static get requires(){return[wQ]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageCaptionUtils"),r=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const o=e.commands.get("toggleImageCaption"),a=new ze(s);return a.set({icon:Xq,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(o,"value","isEnabled"),a.bind("label").to(o,"value",l=>r(l?"Toggle caption off":"Toggle caption on")),this.listenTo(a,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const l=i.getCaptionFromModelSelection(e.model.document.selection);if(l){const d=e.editing.mapper.toViewElement(l);t.scrollToTheSelection(),t.change(f=>{f.addClass("image__caption_highlighted",d)})}e.editing.view.focus()}),a})}}class O3e extends H{static get requires(){return[P3e,R3e]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function yQ(n){const e=n.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function D3e(n){return new Promise((e,t)=>{const i=n.getAttribute("src");fetch(i).then(r=>r.blob()).then(r=>{const s=_Q(r,i),a=`image.${s.replace("image/","")}`,l=new File([r],a,{type:s});e(l)}).catch(r=>r&&r.name==="TypeError"?M3e(i).then(e).catch(t):t(r))})}function N3e(n,e){return!n.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function _Q(n,e){return n.type?n.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function M3e(n){return B3e(n).then(e=>{const t=_Q(e,n),r=`image.${t.replace("image/","")}`;return new File([e],r,{type:t})})}function B3e(n){return new Promise((e,t)=>{const i=Re.document.createElement("img");i.addEventListener("load",()=>{const r=Re.document.createElement("canvas");r.width=i.width,r.height=i.height,r.getContext("2d").drawImage(i,0,0),r.toBlob(o=>o?e(o):t())}),i.addEventListener("error",()=>t()),i.src=n})}class V3e extends H{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:t=>this._createMenuBarButton(t?"insertOnly":"insertNested")})}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("uploadImage"),s=t.config.get("image.upload.types"),o=yQ(s),a=new e(t.locale),l=i.t;return a.set({acceptedType:s.map(d=>`image/${d}`).join(","),allowMultipleFiles:!0,label:l("Upload from computer"),icon:WPe}),a.bind("isEnabled").to(r),a.on("done",(d,f)=>{const m=Array.from(f).filter(p=>o.test(p.type));m.length&&(t.execute("uploadImage",{file:m}),t.editing.view.focus())}),a}_createToolbarButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),i=this.editor.commands.get("uploadImage"),r=this._createButton(J6);return r.tooltip=!0,r.bind("label").to(t,"isImageSelected",i,"isAccessAllowed",(s,o)=>e(o?s?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),r}_createDropdownButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),i=this._createButton(J6);return i.withText=!0,i.bind("label").to(t,"isImageSelected",r=>e(r?"Replace from computer":"Upload from computer")),i.on("execute",()=>{t.dropdownView.isOpen=!1}),i}_createMenuBarButton(e){const t=this.editor.locale.t,i=this._createButton(MZ);switch(i.withText=!0,e){case"standalone":i.label=t("Image from computer");break;case"insertOnly":i.label=t("Image");break;case"insertNested":i.label=t("From computer");break}return i}}class L3e extends H{static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}placeholder;constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}uploadStatusChange=(e,t,i)=>{const r=this.editor,s=t.item,o=s.getAttribute("uploadId");if(!i.consumable.consume(t.item,e.name))return;const a=r.plugins.get("ImageUtils"),l=r.plugins.get(Au),d=o?t.attributeNewValue:null,f=this.placeholder,m=r.editing.mapper.toViewElement(s),p=i.writer;if(d=="reading"){lL(m,p),cL(a,f,m,p);return}if(d=="uploading"){const w=l.loaders.get(o);lL(m,p),w?(uL(m,p),z3e(m,p,w,r.editing.view),W3e(a,m,p,w)):cL(a,f,m,p);return}d=="complete"&&l.loaders.get(o)&&U3e(m,p,r.editing.view),j3e(m,p),uL(m,p),F3e(m,p)}}function lL(n,e){n.hasClass("ck-appear")||e.addClass("ck-appear",n)}function F3e(n,e){e.removeClass("ck-appear",n)}function cL(n,e,t,i){t.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",t);const r=n.findViewImgElement(t);r.getAttribute("src")!==e&&i.setAttribute("src",e,r),AQ(t,"placeholder")||i.insert(i.createPositionAfter(r),H3e(i))}function uL(n,e){n.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",n),kQ(n,e,"placeholder")}function z3e(n,e,t,i){const r=$3e(e);e.insert(e.createPositionAt(n,"end"),r),t.on("change:uploadedPercent",(s,o,a)=>{i.change(l=>{l.setStyle("width",a+"%",r)})})}function j3e(n,e){kQ(n,e,"progressBar")}function U3e(n,e,t){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(n,"end"),i),setTimeout(()=>{t.change(r=>r.remove(r.createRangeOn(i)))},3e3)}function $3e(n){const e=n.createUIElement("div",{class:"ck-progress-bar"});return n.setCustomProperty("progressBar",!0,e),e}function H3e(n){const e=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,e),e}function AQ(n,e){for(const t of n.getChildren())if(t.getCustomProperty(e))return t}function kQ(n,e,t){const i=AQ(n,t);i&&e.remove(e.createRangeOn(i))}function W3e(n,e,t,i){if(i.data){const r=n.findViewImgElement(e);t.setAttribute("src",i.data,r)}}class G3e extends Je{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(i)}execute(e){const t=Jt(e.file),i=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(i.getAttributes());t.forEach((o,a)=>{const l=i.getSelectedElement();if(a&&l&&r.isImage(l)){const d=this.editor.model.createPositionAfter(l);this._uploadImage(o,s,d)}else this._uploadImage(o,s)})}_uploadImage(e,t,i){const r=this.editor,o=r.plugins.get(Au).createLoader(e),a=r.plugins.get("ImageUtils");o&&a.insertImage({...t,uploadId:o.id},i)}}class Y3e extends H{static get requires(){return[Au,cV,ss,dr]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}_uploadImageElements;_uploadedImages=new Map;constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,i=e.conversion,r=e.plugins.get(Au),s=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),a=yQ(e.config.get("image.upload.types")),l=new G3e(e);e.commands.add("uploadImage",l),e.commands.add("imageUpload",l),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(d=>d.on("element:img",(f,m,p)=>{if(!p.consumable.test(m.viewItem,{attributes:["data-ck-upload-id"]}))return;const w=m.viewItem.getAttribute("data-ck-upload-id");if(!w)return;const[A]=Array.from(m.modelRange.getItems({shallow:!0})),x=r.loaders.get(w);A&&(p.writer.setAttribute("uploadId",w,A),p.consumable.consume(m.viewItem,{attributes:["data-ck-upload-id"]}),x&&x.data&&p.writer.setAttribute("uploadStatus",x.status,A))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(d,f)=>{if(K3e(f.dataTransfer))return;const m=Array.from(f.dataTransfer.files).filter(w=>w?a.test(w.type):!1);if(!m.length)return;if(d.stop(),e.model.change(w=>{f.targetRanges&&w.setSelection(f.targetRanges.map(A=>e.editing.mapper.toModelRange(A))),e.execute("uploadImage",{file:m})}),!e.commands.get("uploadImage").isAccessAllowed){const w=e.plugins.get("Notification"),A=e.locale.t;w.showWarning(A("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(o,"inputTransformation",(d,f)=>{const m=Array.from(e.editing.view.createRangeIn(f.content)).map(w=>w.item).filter(w=>N3e(s,w)&&!w.getAttribute("uploadProcessed")).map(w=>({promise:D3e(w),imageElement:w}));if(!m.length)return;const p=new Bs(e.editing.view.document);for(const w of m){p.setAttribute("uploadProcessed",!0,w.imageElement);const A=r.createLoader(w.promise);A&&(p.setAttribute("src","",w.imageElement),p.setAttribute("uploadId",A.id,w.imageElement))}}),e.editing.view.document.on("dragover",(d,f)=>{f.preventDefault()}),t.on("change",()=>{const d=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),f=new Set;for(const m of d)if(m.type=="insert"&&m.name!="$text"){const p=m.position.nodeAfter,w=m.position.root.rootName=="$graveyard";for(const A of q3e(e,p)){const x=A.getAttribute("uploadId");if(!x)continue;const S=r.loaders.get(x);if(!S){!w&&this._uploadedImages.has(x)&&e.model.enqueueChange({isUndoable:!1},P=>{P.setAttribute("uploadStatus","complete",A),this.fire("uploadComplete",{data:this._uploadedImages.get(x),imageElement:A})});continue}w?f.has(x)||Array.from(this._uploadImageElements.get(x)).every(I=>I.root.rootName=="$graveyard")&&S.abort():(f.add(x),this._uploadImageElements.has(x)?this._uploadImageElements.get(x).add(A):this._uploadImageElements.set(x,new Set([A])),S.status=="idle"&&this._readAndUpload(S))}}}),this.on("uploadComplete",(d,{imageElement:f,data:m})=>{const p=m.urls?m.urls:m;this.editor.model.change(w=>{w.setAttribute("src",p.default,f),this._parseAndSetSrcsetAttributeOnImage(p,f,w),s.setImageNaturalSizeAttributes(f)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const t=this.editor,i=t.model,r=t.locale.t,s=t.plugins.get(Au),o=t.plugins.get(cV),a=t.plugins.get("ImageUtils"),l=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},f=>{const m=l.get(e.id);for(const p of m)f.setAttribute("uploadStatus","reading",p)}),e.read().then(()=>{const f=e.upload();t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Uploading image"));for(const m of l.get(e.id)){/* istanbul ignore next -- @preserve */if(nt.isSafari){const p=t.editing.mapper.toViewElement(m),w=a.findViewImgElement(p);t.editing.view.once("render",()=>{if(!w.parent)return;const A=t.editing.view.domConverter.mapViewToDom(w.parent);if(!A)return;const x=A.style.display;A.style.display="none",A._ckHack=A.offsetHeight,A.style.display=x})}i.enqueueChange({isUndoable:!1},p=>{p.setAttribute("uploadStatus","uploading",m)})}return f}).then(f=>{i.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))m.setAttribute("uploadStatus","complete",p),this.fire("uploadComplete",{data:f,imageElement:p});t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Image upload complete")),this._uploadedImages.set(e.id,f)}),d()}).catch(f=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw f;e.status=="error"&&f&&o.showWarning(f,{title:r("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},m=>{for(const p of l.get(e.id))p.root.rootName!=="$graveyard"&&m.remove(p)}),d()});function d(){i.enqueueChange({isUndoable:!1},f=>{for(const m of l.get(e.id))f.removeAttribute("uploadId",m),f.removeAttribute("uploadStatus",m);l.delete(e.id)}),s.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,i){let r=0;const s=Object.keys(e).filter(o=>{const a=parseInt(o,10);if(!isNaN(a))return r=Math.max(r,a),!0}).map(o=>`${e[o]} ${o}w`).join(", ");if(s!=""){const o={srcset:s};!t.hasAttribute("width")&&!t.hasAttribute("height")&&(o.width=r),i.setAttributes(o,t)}}_registerConverters(e){const{conversion:t,plugins:i}=this.editor,r=i.get(Au),s=i.get(dr);t.for("dataDowncast").add(o=>{o.on(`attribute:uploadId:${e}`,(a,l,d)=>{if(!d.consumable.test(l.item,a.name))return;const f=r.loaders.get(l.attributeNewValue);if(!f||!f.data)return null;const m=d.mapper.toViewElement(l.item),p=s.findViewImgElement(m);p&&(d.consumable.consume(l.item,a.name),d.writer.setAttribute("data-ck-upload-id",f.id,p))})})}}function K3e(n){return Array.from(n.types).includes("text/html")&&n.getData("text/html")!==""}function q3e(n,e){const t=n.plugins.get("ImageUtils");return Array.from(n.model.createRangeOn(e)).filter(i=>t.isImage(i.item)).map(i=>i.item)}class xQ extends H{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[Y3e,V3e,L3e]}}class Z3e extends Me{urlInputView;keystrokes;constructor(e){super(e),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new tn,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-url"],tabindex:"-1"},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),xc({view:this}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,t=e.t,i=new Xn(e,_r);return i.bind("label").to(this,"isImageSelected",r=>t(r?"Update image URL":"Insert image via URL")),i.bind("isEnabled").to(this),i.fieldView.inputMode="url",i.fieldView.placeholder="https://example.com/image.png",i.fieldView.bind("value").to(this,"imageURLInputValue",r=>r||""),i.fieldView.on("input",()=>{this.imageURLInputValue=i.fieldView.element.value.trim()}),i}focus(){this.urlInputView.focus()}}class Q3e extends H{_imageInsertUI;_formView;static get pluginName(){return"ImageInsertViaUrlUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Ew,vs]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",()=>this._createToolbarButton()),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",()=>this._createMenuBarButton("standalone"))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const t=new e(this.editor.locale);return t.icon=GPe,t.on("execute",()=>{this._showModal()}),t}_createToolbarButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(ze);return t.tooltip=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",i=>e(i?"Update image URL":"Insert image via URL")),t}_createDropdownButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(ze);return t.withText=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",i=>e(i?"Update image URL":"Insert via URL")),t}_createMenuBarButton(e){const t=this.editor.locale.t,i=this._createInsertUrlButton(Yt);switch(i.withText=!0,e){case"standalone":i.label=t("Image via URL");break;case"insertOnly":i.label=t("Image");break;case"insertNested":i.label=t("Via URL");break}return i}_createInsertUrlView(){const e=this.editor,t=e.locale,i=e.commands.get("replaceImageSource"),r=e.commands.get("insertImage"),s=new Z3e(t);return s.bind("isImageSelected").to(this._imageInsertUI),s.bind("isEnabled").toMany([r,i],"isEnabled",(...o)=>o.some(a=>a)),s}_showModal(){const e=this.editor,i=e.locale.t,r=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",()=>this._handleSave()));const s=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=s.value||"",r.show({id:"insertImageViaUrl",title:i("Image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:i("Cancel"),withText:!0,onExecute:()=>r.hide()},{label:this._imageInsertUI.isImageSelected?i("Save"):i("Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class CQ extends H{static get pluginName(){return"ImageInsertViaUrl"}static get isOfficialPlugin(){return!0}static get requires(){return[Q3e,Ew]}}class J3e extends H{static get pluginName(){return"ImageInsert"}static get isOfficialPlugin(){return!0}static get requires(){return[xQ,CQ,Ew]}}class X3e extends Je{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!i,!i||!i.hasAttribute("resizedWidth")?this.value=null:this.value={width:i.getAttribute("resizedWidth"),height:null}}execute(e){const t=this.editor,i=t.model,r=t.plugins.get("ImageUtils"),s=r.getClosestSelectedImageElement(i.document.selection);this.value={width:e.width,height:null},s&&i.change(o=>{o.setAttribute("resizedWidth",e.width,s),o.removeAttribute("resizedHeight",s),r.setImageNaturalSizeAttributes(s)})}}class SQ extends H{static get requires(){return[dr]}static get pluginName(){return"ImageResizeEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new X3e(e);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}afterInit(){this._registerSchema()}_registerSchema(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0})),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]}),e.setAttributeProperties("resizedWidth",{isFormatting:!0}),e.setAttributeProperties("resizedHeight",{isFormatting:!0}))}_registerConverters(e){const t=this.editor,i=t.plugins.get("ImageUtils");t.conversion.for("downcast").add(r=>r.on(`attribute:resizedWidth:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,d=a.mapper.toViewElement(o.item);o.attributeNewValue!==null?(l.setStyle("width",o.attributeNewValue,d),l.addClass("image_resized",d)):(l.removeStyle("width",d),l.removeClass("image_resized",d))})),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:r=>({key:"style",value:{height:r}})}),t.conversion.for("editingDowncast").add(r=>r.on(`attribute:resizedHeight:${e}`,(s,o,a)=>{if(!a.consumable.consume(o.item,s.name))return;const l=a.writer,d=a.mapper.toViewElement(o.item),f=e==="imageInline"?i.findViewImgElement(d):d;o.attributeNewValue!==null?l.setStyle("height",o.attributeNewValue,f):l.removeStyle("height",f)})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:r=>e1(r)?null:r.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:r=>e1(r)?null:r.getStyle("height")}}),t.conversion.for("upcast").add(r=>{r.on(`element:${e==="imageBlock"?"figure":"img"}`,(s,o,a)=>{a.consumable.consume(o.viewItem,{classes:["image_resized"]})})})}}const TE={small:hRe,medium:fRe,large:dRe,custom:cRe,original:uRe};class e6e extends H{static get requires(){return[SQ]}static get pluginName(){return"ImageResizeButtons"}static get isOfficialPlugin(){return!0}_resizeUnit;constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),i=e.commands.get("resizeImage");this.bind("isEnabled").to(i);for(const r of t)this._registerImageResizeButton(r);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:i,value:r,icon:s}=e;t.ui.componentFactory.add(i,o=>{const a=new ze(o),l=t.commands.get("resizeImage"),d=this._getOptionLabelValue(e,!0);if(!TE[s])throw new z("imageresizebuttons-missing-icon",t,e);if(a.set({label:d,icon:TE[s],tooltip:d,isToggleable:!0}),a.bind("isEnabled").to(this),t.plugins.has("ImageCustomResizeUI")&&ob(e)){const f=t.plugins.get("ImageCustomResizeUI");this.listenTo(a,"execute",()=>{f._showForm(this._resizeUnit)})}else{const f=r?r+this._resizeUnit:null;a.bind("isOn").to(l,"value",l,"isEnabled",CI(f)),this.listenTo(a,"execute",()=>{t.execute("resizeImage",{width:f})})}return a})}_registerImageResizeDropdown(e){const t=this.editor,i=t.t,r=e.find(o=>!o.value),s=o=>{const a=t.commands.get("resizeImage"),l=ii(o,b5),d=l.buttonView,f=i("Resize image");return d.set({tooltip:f,commandValue:r.value,icon:TE.medium,isToggleable:!0,label:this._getOptionLabelValue(r),withText:!0,class:"ck-resize-image-button",ariaLabel:f,ariaLabelledBy:void 0}),d.bind("label").to(a,"value",m=>m&&m.width?m.width:this._getOptionLabelValue(r)),l.bind("isEnabled").to(this),ea(l,()=>this._getResizeDropdownListItemDefinitions(e,a),{ariaLabel:i("Image resize list"),role:"menu"}),this.listenTo(l,"execute",m=>{"onClick"in m.source?m.source.onClick():(t.execute(m.source.commandName,{width:m.source.commandValue}),t.editing.view.focus())}),l};t.ui.componentFactory.add("resizeImage",s),t.ui.componentFactory.add("imageResize",s)}_getOptionLabelValue(e,t=!1){const i=this.editor.t;return e.label?e.label:t?ob(e)?i("Custom image size"):e.value?i("Resize image to %0",e.value+this._resizeUnit):i("Resize image to the original size"):ob(e)?i("Custom"):e.value?e.value+this._resizeUnit:i("Original")}_getResizeDropdownListItemDefinitions(e,t){const{editor:i}=this,r=new hi,s=e.map(o=>ob(o)?{...o,valueWithUnits:"custom"}:o.value?{...o,valueWithUnits:`${o.value}${this._resizeUnit}`}:{...o,valueWithUnits:null});for(const o of s){let a=null;if(i.plugins.has("ImageCustomResizeUI")&&ob(o)){const l=i.plugins.get("ImageCustomResizeUI");a={type:"button",model:new io({label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{l._showForm(this._resizeUnit)}})};const d=Object.values(s).map(f=>f.valueWithUnits);a.model.bind("isOn").to(t,"value",t,"isEnabled",t6e(d))}else a={type:"button",model:new io({commandName:"resizeImage",commandValue:o.valueWithUnits,label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null})},a.model.bind("isOn").to(t,"value",t,"isEnabled",CI(o.valueWithUnits));a.model.bind("isEnabled").to(t,"isEnabled"),r.add(a)}return r}}function ob(n){return n.value==="custom"}function CI(n){return(e,t)=>{const i=e;return i===void 0||!t?!1:n===null&&i===n?!0:i!==null&&i.width===n}}function t6e(n){return(e,t)=>!n.some(i=>CI(i)(e,t))}const n6e="figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img",IE="image_resized";class i6e extends H{static get requires(){return[vE,dr]}static get pluginName(){return"ImageResizeHandles"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageUtils");t.addObserver(M5),this.listenTo(t.document,"imageLoaded",(r,s)=>{if(!s.target.matches(n6e))return;const o=e.editing.view.domConverter,a=o.domToView(s.target),l=i.getImageWidgetFromImageView(a);let d=this.editor.plugins.get(vE).getResizerByViewElement(l);if(d){d.redraw();return}const f=e.editing.mapper,m=f.toModelElement(l);d=e.plugins.get(vE).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:m,viewElement:l,editor:e,getHandleHost(p){return p.querySelector("img")},getResizeHost(){return o.mapViewToDom(f.toViewElement(m))},isCentered(){return m.getAttribute("imageStyle")=="alignCenter"},onCommit(p){t.change(w=>{w.removeClass(IE,l)}),e.execute("resizeImage",{width:p})}}),d.on("updateSize",()=>{l.hasClass(IE)||t.change(w=>{w.addClass(IE,l)});const p=m.name==="imageInline"?a:l;p.getStyle("height")&&t.change(w=>{w.removeStyle("height",p)})}),d.bind("isEnabled").to(this)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function EQ(n){if(!n)return null;const[,e,t]=n.trim().match(/([.,\d]+)(%|px)$/)||[],i=Number.parseFloat(e);return Number.isNaN(i)?null:{value:i,unit:t}}function TQ(n,e,t){return t==="px"?{value:e.value,unit:"px"}:{value:e.value/n*100,unit:"%"}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IQ(n){const{editing:e}=n,i=n.plugins.get("ImageUtils").getClosestSelectedImageElement(n.model.document.selection);if(!i)return null;const r=e.mapper.toViewElement(i),s=e.view.domConverter.mapViewToDom(r);return{model:i,view:r,dom:s}}function r6e(n,e){const t=IQ(n);if(!t)return null;const i=EQ(t.model.getAttribute("resizedWidth")||null);if(!i)return null;if(i.unit===e)return i;const r=C5(t.dom),s={value:new rt(t.dom).width};return TQ(r,s,e)}class s6e extends Me{focusTracker;keystrokes;unit;backButtonView;saveButtonView;labeledInput;children;_focusables;_focusCycler;_validators;constructor(e,t,i){super(e),this.focusTracker=new Ut,this.keystrokes=new tn,this.unit=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.labeledInput=this._createLabeledInputView(),this.children=this.createCollection([this._createHeaderView()]),this.children.add(new Qi(e,{children:[this.labeledInput,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding"]})),this._focusables=new Ai,this._validators=i,this.keystrokes.set("Esc",(r,s)=>{this.fire("cancel"),s()}),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.backButtonView,this.labeledInput,this.saveButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({label:e("Save"),withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Image Resize")});return t.children.add(this.backButtonView,0),t}_createLabeledInputView(){const e=this.locale.t,t=new Xn(this.locale,TZ);return t.label=e("Resize image (in %0)",this.unit),t.class="ck-labeled-field-view_full-width",t.fieldView.set({step:.1}),t}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.labeledInput.errorText=t,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(e===null)return null;const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}get sizeWithUnits(){const{parsedSize:e,unit:t}=this;return e===null?null:`${e}${t}`}}function o6e(n,e){const t=IQ(n);if(!t)return null;const i=C5(t.dom),r=EQ(window.getComputedStyle(t.dom).minWidth)||{value:1},s=Math.max(.1,TQ(i,r,e).value);return{unit:e,lower:s,upper:e==="px"?i:100}}class a6e extends H{_balloon;_form;static get requires(){return[xr]}static get pluginName(){return"ImageCustomResizeUI"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const t=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Um(s6e))(t.locale,e,l6e(t)),this._form.render(),this.listenTo(this._form,"submit",()=>{this._form.isValid()&&(t.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))}),this.listenTo(this._form.labeledInput,"change:errorText",()=>{t.ui.update()}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),Xo({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const t=this.editor,i=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:D5(t)});const r=r6e(t,e),s=r?r.value.toFixed(1):"",o=o6e(t,e);i.fieldView.value=i.fieldView.element.value=s,o&&Object.assign(i.fieldView,{min:o.lower.toFixed(1),max:Math.ceil(o.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}function l6e(n){const e=n.t;return[t=>{if(t.rawSize.trim()==="")return e("The value must not be empty.");if(t.parsedSize===null)return e("The value should be a plain number.")}]}class c6e extends H{static get requires(){return[SQ,i6e,a6e,e6e]}static get pluginName(){return"ImageResize"}static get isOfficialPlugin(){return!0}}class u6e extends Je{_defaultStyles;_styles;constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(i=>{if(i.isDefault)for(const r of i.modelElements)this._defaultStyles[r]=i.name;return[i.name,i]}))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled?i.hasAttribute("imageStyle")?this.value=i.getAttribute("imageStyle"):this.value=this._defaultStyles[i.name]:this.value=!1}execute(e={}){const t=this.editor,i=t.model,r=t.plugins.get("ImageUtils");i.change(s=>{const o=e.value,{setImageSizes:a=!0}=e;let l=r.getClosestSelectedImageElement(i.document.selection);o&&this.shouldConvertImageType(o,l)&&(this.editor.execute(r.isBlockImage(l)?"imageTypeInline":"imageTypeBlock",{setImageSizes:a}),l=r.getClosestSelectedImageElement(i.document.selection)),!o||this._styles.get(o).isDefault?s.removeAttribute("imageStyle",l):s.setAttribute("imageStyle",o,l),a&&r.setImageNaturalSizeAttributes(l)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const PE={get inline(){return{name:"inline",title:"In line",icon:nZ,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:f5,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:iZ,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:HA,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:WA,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:rZ,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:HA,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:WA,modelElements:["imageBlock"],className:"image-style-side"}}},d6e={full:lRe,left:iZ,right:rZ,center:HA,inlineLeft:f5,inlineRight:WA,inline:nZ},f6e=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function h6e(n){return(n.configuredStyles.options||[]).map(i=>p6e(i)).filter(i=>b6e(i,n))}function m6e(n,e){return n&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:n?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function g6e(n){return n.has("ImageBlockEditing")&&n.has("ImageInlineEditing")?[...f6e]:[]}function p6e(n){return typeof n=="string"?PE[n]?n={...PE[n]}:n={name:n}:n=v6e(PE[n.name],n),typeof n.icon=="string"&&(n.icon=d6e[n.icon]||n.icon),n}function b6e(n,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:i,name:r}=n;if(!i||!i.length||!r)return PQ({style:n}),!1;{const s=[e?"imageBlock":null,t?"imageInline":null];if(!i.some(o=>s.includes(o)))return vt("image-style-missing-dependency",{style:n,missingPlugins:i.map(o=>o==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function v6e(n,e){const t={...e};for(const i in n)Object.prototype.hasOwnProperty.call(e,i)||(t[i]=n[i]);return t}function PQ(n){vt("image-style-configuration-definition-invalid",n)}const n1={normalizeStyles:h6e,getDefaultStylesConfiguration:m6e,getDefaultDropdownDefinitions:g6e,warnInvalidStyle:PQ};function w6e(n){return(e,t,i)=>{if(!i.consumable.consume(t.item,e.name))return;const r=dL(t.attributeNewValue,n),s=dL(t.attributeOldValue,n),o=i.mapper.toViewElement(t.item),a=i.writer;s&&a.removeClass(s.className,o),r&&a.addClass(r.className,o)}}function y6e(n){const e={imageInline:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:n.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,i,r)=>{if(!i.modelRange)return;const s=i.viewItem,o=sn(i.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const a of e[o.name])r.consumable.consume(s,{classes:a.className})&&r.writer.setAttribute("imageStyle",a.name,o)}}function dL(n,e){for(const t of e)if(t.name===n)return t}class RQ extends H{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[dr]}normalizedStyles;init(){const e=this.editor,t=e.plugins.has("ImageBlockEditing"),i=e.plugins.has("ImageInlineEditing");e.config.define("image.styles",n1.getDefaultStylesConfiguration(t,i)),this.normalizedStyles=n1.normalizeStyles({configuredStyles:e.config.get("image.styles"),isBlockPluginLoaded:t,isInlinePluginLoaded:i}),this._setupConversion(t,i),this._setupPostFixer(),e.commands.add("imageStyle",new u6e(e,this.normalizedStyles))}_setupConversion(e,t){const i=this.editor,r=i.model.schema,s=w6e(this.normalizedStyles),o=y6e(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",s),i.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),r.setAttributeProperties("imageStyle",{isFormatting:!0}),i.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),r.setAttributeProperties("imageStyle",{isFormatting:!0}),i.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,i=e.plugins.get(dr),r=new Map(this.normalizedStyles.map(s=>[s.name,s]));t.registerPostFixer(s=>{let o=!1;for(const a of t.differ.getChanges())if(a.type=="insert"||a.type=="attribute"&&a.attributeKey=="imageStyle"){let l=a.type=="insert"?a.position.nodeAfter:a.range.start.nodeAfter;if(l&&l.is("element","paragraph")&&l.childCount>0&&(l=l.getChild(0)),!i.isImage(l))continue;const d=l.getAttribute("imageStyle");if(!d)continue;const f=r.get(d);(!f||!f.modelElements.includes(l.name))&&(s.removeAttribute("imageStyle",l),o=!0)}return o})}}class _6e extends H{static get requires(){return[RQ]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],i=e.get("ImageStyleEditing"),r=fL(i.normalizedStyles,this.localizedDefaultStylesTitles);for(const o of r)this._createButton(o);const s=fL([...t.filter(kr),...n1.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of s)this._createDropdown(o,r)}_createDropdown(e,t){const i=this.editor.ui.componentFactory;i.add(e.name,r=>{let s;const{defaultItem:o,items:a,title:l}=e,d=a.filter(w=>t.find(({name:A})=>hL(A)===w)).map(w=>{const A=i.create(w);return w===o&&(s=A),A});a.length!==d.length&&n1.warnInvalidStyle({dropdown:e});const f=ii(r,$u),m=f.buttonView,p=m.arrowView;return kw(f,d,{enableActiveItemFocusOnDropdownOpen:!0}),m.set({label:mL(l,s.label),class:null,tooltip:!0}),p.unbind("label"),p.set({label:l}),m.bind("icon").toMany(d,"isOn",(...w)=>{const A=w.findIndex(Wp);return A<0?s.icon:d[A].icon}),m.bind("label").toMany(d,"isOn",(...w)=>{const A=w.findIndex(Wp);return mL(l,A<0?s.label:d[A].label)}),m.bind("isOn").toMany(d,"isOn",(...w)=>w.some(Wp)),m.bind("class").toMany(d,"isOn",(...w)=>w.some(Wp)?"ck-splitbutton_flatten":void 0),m.on("execute",()=>{d.some(({isOn:w})=>w)?f.isOpen=!f.isOpen:s.fire("execute")}),f.bind("isEnabled").toMany(d,"isEnabled",(...w)=>w.some(Wp)),this.listenTo(f,"execute",()=>{this.editor.editing.view.focus()}),f})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(hL(t),i=>{const r=this.editor.commands.get("imageStyle"),s=new ze(i);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",o=>o===t),s.on("execute",this._executeCommand.bind(this,t)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function fL(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function hL(n){return`imageStyle:${n}`}function mL(n,e){return(n?n+": ":"")+e}class A6e extends H{static get requires(){return[RQ,_6e]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class k6e extends H{static get requires(){return[$m,dr]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get($m),r=e.plugins.get("ImageUtils");i.register("image",{ariaLabel:t("Image toolbar"),items:x6e(e.config.get("image.toolbar")||[]),getRelatedElement:s=>r.getClosestSelectedImageWidget(s)})}}function x6e(n){return n.map(e=>kr(e)?e.name:e)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class C6e extends H{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("indent",new w6(e)),e.commands.add("outdent",new w6(e))}}class S6e extends H{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale,i=e.t,r=t.uiLanguageDirection=="ltr"?E6:T6,s=t.uiLanguageDirection=="ltr"?T6:E6;this._defineButton("indent",i("Increase indent"),r),this._defineButton("outdent",i("Decrease indent"),s)}_defineButton(e,t,i){const r=this.editor;r.ui.componentFactory.add(e,()=>{const s=this._createButton(ze,e,t,i);return s.set({tooltip:!0}),s}),r.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Yt,e,t,i))}_createButton(e,t,i,r){const s=this.editor,o=s.commands.get(t),a=new e(s.locale);return a.set({label:i,icon:r}),a.bind("isEnabled").to(o,"isEnabled"),this.listenTo(a,"execute",()=>{s.execute(t),s.editing.view.focus()}),a}}class E6e extends H{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[C6e,S6e]}}class Q_ extends Je{_indentBehavior;constructor(e,t){super(e),this._indentBehavior=t}refresh(){const t=this.editor.model,i=sn(t.document.selection.getSelectedBlocks());if(!i||!this._isIndentationChangeAllowed(i)){this.isEnabled=!1;return}this.isEnabled=this._indentBehavior.checkEnabled(i.getAttribute("blockIndent"))}execute(){const e=this.editor.model,t=this._getBlocksToChange();e.change(i=>{for(const r of t){const s=r.getAttribute("blockIndent"),o=this._indentBehavior.getNextIndent(s);o?i.setAttribute("blockIndent",o,r):i.removeAttribute("blockIndent",r)}})}_getBlocksToChange(){const t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter(r=>this._isIndentationChangeAllowed(r))}_isIndentationChangeAllowed(e){const t=this.editor;return t.model.schema.checkAttribute(e,"blockIndent")?!t.plugins.has("ListUtils")||!this._indentBehavior.isForward?!0:!t.plugins.get("ListUtils").isListItemBlock(e):!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class gL{isForward;offset;unit;constructor(e){this.isForward=e.direction==="forward",this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const r=this.isForward?this.offset:-this.offset,s=t+r;return s>0?s+this.unit:void 0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class pL{isForward;classes;constructor(e){this.isForward=e.direction==="forward",this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),i=this.isForward?1:-1;return this.classes[t+i]}}const T6e=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class I6e extends H{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.config.get("indentBlock");t.classes&&t.classes.length?(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new Q_(e,new pL({direction:"forward",classes:t.classes}))),e.commands.add("outdentBlock",new Q_(e,new pL({direction:"backward",classes:t.classes})))):(e.data.addStyleProcessorRules(nPe),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new Q_(e,new gL({direction:"forward",offset:t.offset,unit:t.unit}))),e.commands.add("outdentBlock",new Q_(e,new gL({direction:"backward",offset:t.offset,unit:t.unit}))))}afterInit(){const e=this.editor,t=e.model.schema,i=e.commands.get("indent"),r=e.commands.get("outdent"),s=e.config.get("heading.options");(s&&s.map(l=>l.model)||T6e).forEach(l=>{t.isRegistered(l)&&t.extend(l,{allowAttributes:"blockIndent"})}),t.setAttributeProperties("blockIndent",{isFormatting:!0}),i.registerChildCommand(e.commands.get("indentBlock")),r.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,i=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[i]:/[\s\S]+/}},model:{key:"blockIndent",value:r=>{if(!r.is("element","li"))return r.getStyle(i)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:r=>({key:"style",value:{[i]:r}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const i of e)t.model.values.push(i),t.view[i]={key:"class",value:[i]};this.editor.conversion.attributeToAttribute(t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function B5(n,e){return e=e||rI(n),`${n}:${e}`}function P6e(n){const[e,t]=n.split(":");return{languageCode:e,textDirection:t}}class R6e extends Je{refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}execute({languageCode:e,textDirection:t}={}){const i=this.editor.model,s=i.document.selection,o=e?B5(e,t):!1;i.change(a=>{if(s.isCollapsed)o?a.setSelectionAttribute("language",o):a.removeSelectionAttribute("language");else{const l=i.schema.getValidRanges(s.getRanges(),"language");for(const d of l)o?a.setAttribute("language",o,d):a.removeAttribute("language",d)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.getAttribute("language")||!1;for(const r of i.getRanges())for(const s of r.getItems())if(t.checkAttribute(s,"language"))return s.getAttribute("language")||!1;return!1}}class O6e extends H{static get pluginName(){return"TextPartLanguageEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new R6e(e))}_defineConverters(){const e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:t=>{const i=t.getAttribute("lang"),r=t.getAttribute("dir");return B5(i,r)}},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:(t,{writer:i},r)=>{if(!t||!r.item.is("$textProxy")&&!r.item.is("documentSelection"))return;const{languageCode:s,textDirection:o}=P6e(t);return i.createAttributeElement("span",{lang:s,dir:o})}})}}class D6e extends H{static get pluginName(){return"TextPartLanguageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,i=t("Choose language"),r=t("Language");e.ui.componentFactory.add("textPartLanguage",s=>{const{definitions:o,titles:a}=this._getItemMetadata(),l=e.commands.get("textPartLanguage"),d=ii(s);return ea(d,o,{ariaLabel:r,role:"menu"}),d.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),d.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),d.bind("isEnabled").to(l,"isEnabled"),d.buttonView.bind("label").to(l,"value",f=>f&&a[f]||i),d.buttonView.bind("ariaLabel").to(l,"value",f=>{const m=f&&a[f];return m?`${m}, ${r}`:r}),this.listenTo(d,"execute",f=>{l.execute({languageCode:f.source.languageCode,textDirection:f.source.textDirection}),e.editing.view.focus()}),d}),e.ui.componentFactory.add("menuBar:textPartLanguage",s=>{const{definitions:o}=this._getItemMetadata(),a=e.commands.get("textPartLanguage"),l=new cr(s);l.buttonView.set({label:r});const d=new ja(s);d.set({ariaLabel:t("Language"),role:"menu"});for(const f of o){if(f.type!="button"){d.items.add(new Aw(s));continue}const m=new Go(s,l),p=new Yt(s);p.set({role:"menuitemradio",isToggleable:!0}),p.bind(...Object.keys(f.model)).to(f.model),p.delegate("execute").to(l),m.children.add(p),d.items.add(m)}return l.bind("isEnabled").to(a,"isEnabled"),l.panelView.children.add(d),l.on("execute",f=>{a.execute({languageCode:f.source.languageCode,textDirection:f.source.textDirection}),e.editing.view.focus()}),l})}_getItemMetadata(){const e=this.editor,t=new hi,i={},r=e.commands.get("textPartLanguage"),s=e.config.get("language.textPartLanguage"),o=e.locale.t,a=o("Remove language");t.add({type:"button",model:new io({label:a,languageCode:!1,withText:!0})}),t.add({type:"separator"});for(const l of s){const d={type:"button",model:new io({label:l.title,languageCode:l.languageCode,role:"menuitemradio",textDirection:l.textDirection,withText:!0})},f=B5(l.languageCode,l.textDirection);d.model.bind("isOn").to(r,"value",m=>m===f),t.add(d),i[f]=l.title}return{definitions:t,titles:i}}}class N6e extends H{static get requires(){return[O6e,D6e]}static get pluginName(){return"TextPartLanguage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class M6e{_definitions=new Set;get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,r)=>{if(!r.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||r.schema.isInline(i.item)))return;const s=r.writer,o=s.document.selection;for(const a of this._definitions){const l=s.createAttributeElement("a",a.attributes,{priority:5});a.classes&&s.addClass(a.classes,l);for(const d in a.styles)s.setStyle(d,a.styles[d],l);s.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?s.wrap(o.getFirstRange(),l):s.wrap(r.mapper.toViewRange(i.range),l):s.unwrap(r.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:r,mapper:s})=>{const o=s.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));if(a)for(const l of this._definitions){const d=$o(l.attributes);if(l.callback(i.attributeNewValue)){for(const[f,m]of d)f==="class"?r.addClass(m,a):r.setAttribute(f,m,a);l.classes&&r.addClass(l.classes,a);for(const f in l.styles)r.setStyle(f,l.styles[f],a)}else{for(const[f,m]of d)f==="class"?r.removeClass(m,a):r.removeAttribute(f,a);l.classes&&r.removeClass(l.classes,a);for(const f in l.styles)r.removeStyle(f,a)}}})}}}const B6e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,V6e="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",L6e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,F6e=/^((\w+:(\/{2,})?)|(\W))/i,z6e=["https?","ftps?","mailto"],pb="Ctrl+K";function j6e(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function bL(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function OQ(n,e=z6e){const t=String(n),i=e.join("|"),r=new RegExp(`${V6e.replace("<protocols>",i)}`,"i");return U6e(t,r)?t:"#"}function U6e(n,e){return!!n.replace(B6e,"").match(e)}function $6e(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(i=>("label"in i&&t[i.label]&&(i.label=t[i.label]),i)),e}function H6e(n){const e=[];if(n)for(const[t,i]of Object.entries(n)){const r=Object.assign({},i,{id:`link${LCe(t)}`});e.push(r)}return e}function SI(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function W6e(n){return L6e.test(n)}function V5(n,e){const t=W6e(n)?"mailto:":e,i=!!t&&!DQ(n);return n&&i?t+n:n}function DQ(n){return F6e.test(n)}function G6e(n){window.open(n,"_blank","noopener")}function EI(n){let e="";for(const t of n.getItems()){if(!t.is("$text")&&!t.is("$textProxy"))return;e+=t.data}return e}class Y6e extends Je{manualDecorators=new hi;automaticDecorators=new M6e;restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||sn(t.getSelectedBlocks());SI(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e,t={},i){const r=this.editor.model,s=r.document.selection,o=[],a=[];for(const l in t)t[l]?o.push(l):a.push(l);r.change(l=>{const d=p=>{l.setAttribute("linkHref",e,p),o.forEach(w=>l.setAttribute(w,!0,p)),a.forEach(w=>l.removeAttribute(w,p))},f=(p,w)=>{const A=EI(p);if(!A)return p;let x=i;if(x||(x=w&&w==A?e:A),x!=A){const S=K6e(A,x);let P=0;for(const{offset:I,actual:O,expected:M}of S){const B=I+P,W=l.createRange(p.start.getShiftedBy(B),p.start.getShiftedBy(B+O.length)),L=q6e(W,p).getAttributes(),ee=Array.from(L).filter(([Se])=>r.schema.getAttributeProperties(Se).isFormatting),pe=l.createText(M,ee);d(pe),r.insertContent(pe,W),P+=M.length}return l.createRange(p.start,p.start.getShiftedBy(x.length))}},m=p=>{const{plugins:w}=this.editor;if(l.setSelection(p.end),w.has("TwoStepCaretMovement"))w.get("TwoStepCaretMovement")._handleForwardMovement();else for(const A of["linkHref",...o,...a])l.removeSelectionAttribute(A)};if(s.isCollapsed){const p=s.getFirstPosition();if(s.hasAttribute("linkHref")){const w=s.getAttribute("linkHref"),A=xw(p,"linkHref",w,r),x=f(A,w);d(x||A),x&&m(x)}else if(e!==""){const w=$o(s.getAttributes());w.set("linkHref",e),o.forEach(x=>{w.set(x,!0)});const A=r.insertContent(l.createText(i||e,w),p);m(A)}}else{const p=Array.from(s.getRanges()),w=r.schema.getValidRanges(p,"linkHref"),A=[];for(const P of s.getSelectedBlocks())r.schema.checkAttribute(P,"linkHref")&&A.push(l.createRangeOn(P));const x=A.slice();for(const P of w)this._isRangeToUpdate(P,A)&&x.push(P);const S=p.map(P=>({start:Fn.fromPosition(P.start,"toPrevious"),end:Fn.fromPosition(P.end,"toNext")}));for(let P of x){const I=(P.start.textNode||P.start.nodeAfter).getAttribute("linkHref");P=f(P,I)||P,d(P)}l.setSelection(S.map(P=>{const I=P.start.toPosition(),O=P.end.toPosition();return P.start.detach(),P.end.detach(),r.createRange(I,O)}))}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,r=i.getSelectedElement();return SI(r,t.schema)?r.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}}function K6e(n,e){const t=bm(n,e),i={equal:0,insert:0,delete:0},r=[];let s="",o="";for(const a of[...t,null])a=="insert"?o+=e[i.equal+i.insert]:a=="delete"?s+=n[i.equal+i.delete]:(s.length||o.length)&&(r.push({offset:i.equal,actual:s,expected:o}),s="",o=""),a&&i[a]++;return r}function q6e(n,e){if(!n.isCollapsed)return sn(n.getItems());const t=n.start;return t.textNode?t.textNode:!t.nodeBefore||t.isEqual(e.start)?t.nodeAfter:t.nodeBefore}class Z6e extends Je{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();SI(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,i=t.document.selection,r=e.commands.get("link");t.change(s=>{const o=i.isCollapsed?[xw(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(s.removeAttribute("linkHref",a),r)for(const l of r.manualDecorators)s.removeAttribute(l.id,a)})}}class Q6e extends ln(){id;defaultValue;label;attributes;classes;styles;constructor({id:e,label:t,attributes:i,classes:r,styles:s,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=i,this.classes=r,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const J6e="ck-link_selected",vL="automatic",X6e="manual",eVe=/^(https?:)?\/\//;class Gm extends H{_linkOpeners=[];static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[qA,jZ,ss]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1,toolbar:["linkPreview","|","editLink","linkProperties","unlink"]})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:bL}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,o)=>bL(OQ(s,t),o)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new Y6e(e)),e.commands.add("unlink",new Z6e(e));const i=$6e(e.t,H6e(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(s=>s.mode===vL)),this._enableManualDecorators(i.filter(s=>s.mode===X6e)),e.plugins.get(qA).registerAttribute("linkHref"),HZ(e,"linkHref","a",J6e),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_registerLinkOpener(e){this._linkOpeners.push(e)}_enableAutomaticDecorators(e){const t=this.editor,r=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:vL,callback:s=>!!s&&eVe.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&t.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,r=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const o=new Q6e(s);r.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:d},{item:f})=>{if((f.is("selection")||d.isInline(f))&&a){const m=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,m);for(const p in o.styles)l.setStyle(p,o.styles[p],m);return l.setCustomProperty("link",!0,m),m}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document,r=s=>{this._linkOpeners.some(o=>o(s))||G6e(s)};this.listenTo(i,"click",(s,o)=>{if(!(nt.isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let l=o.domTarget;if(l.tagName.toLowerCase()!="a"&&(l=l.closest("a")),!l)return;const d=l.getAttribute("href");d&&(s.stop(),o.preventDefault(),r(d))},{context:"$capture"}),this.listenTo(i,"keydown",(s,o)=>{const l=e.commands.get("link").value;l&&o.keyCode===_t.enter&&o.altKey&&(s.stop(),r(l))})}_enableSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection;this.listenTo(i,"change:attribute",(r,{attributeKeys:s})=>{!s.includes("linkHref")||i.hasAttribute("linkHref")||t.change(o=>{tVe(o,nVe(t.schema))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(r,s)=>{t.change(o=>{const a=o.createRangeIn(s.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const d=V5(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",d,l)}})})}}function tVe(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function nVe(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}class iVe extends ze{constructor(e){super(e);const t=this.bindTemplate;this.set({href:void 0,withText:!0}),this.extendTemplate({attributes:{class:["ck-link-toolbar__preview"],href:t.to("href"),target:"_blank",rel:"noopener noreferrer"},on:{click:t.to(i=>{if(this.href){const r=()=>i.preventDefault();this.fire("navigate",this.href,r)}})}}),this.template.tag="a"}}class rVe extends Me{focusTracker=new Ut;keystrokes=new tn;backButtonView;saveButtonView;displayedTextInputView;urlInputView;children;providersListChildren;_validators;_focusables=new Ai;_focusCycler;constructor(e,t){super(e),this._validators=t,this.backButtonView=this._createBackButton(),this.saveButtonView=this._createSaveButton(),this.displayedTextInputView=this._createDisplayedTextInput(),this.urlInputView=this._createUrlInput(),this.providersListChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView()]),this._createFormChildren(),this.listenTo(this.providersListChildren,"add",()=>{this.stopListening(this.providersListChildren,"add"),this.children.add(this._createProvidersListView())}),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-link-form","ck-responsive-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.urlInputView,this.saveButtonView,...this.providersListChildren,this.backButtonView,this.displayedTextInputView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createSaveButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({label:e("Insert"),tooltip:!1,withText:!0,type:"submit",class:"ck-button-action ck-button-bold"}),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Link")});return t.children.add(this.backButtonView,0),t}_createProvidersListView(){const e=new Df(this.locale);return e.extendTemplate({attributes:{class:["ck-link-form__providers-list"]}}),e.items.bindTo(this.providersListChildren).using(t=>{const i=new no(this.locale);return i.children.add(t),i}),e}_createDisplayedTextInput(){const e=this.locale.t,t=new Xn(this.locale,_r);return t.label=e("Displayed text"),t.class="ck-labeled-field-view_full-width",t}_createUrlInput(){const e=this.locale.t,t=new Xn(this.locale,_r);return t.fieldView.inputMode="url",t.label=e("Link URL"),t.class="ck-labeled-field-view_full-width",t}_createFormChildren(){this.children.add(new Qi(this.locale,{children:[this.displayedTextInputView],class:["ck-form__row_large-top-padding"]})),this.children.add(new Qi(this.locale,{children:[this.urlInputView,this.saveButtonView],class:["ck-form__row_with-submit","ck-form__row_large-top-padding","ck-form__row_large-bottom-padding"]}))}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class sVe extends Me{focusTracker=new Ut;keystrokes=new tn;backButtonView;listView;listChildren;emptyListInformation;children;_focusables=new Ai;_focusCycler;constructor(e){super(e),this.listChildren=this.createCollection(),this.backButtonView=this._createBackButton(),this.listView=this._createListView(),this.emptyListInformation=this._createEmptyLinksListItemView(),this.children=this.createCollection([this._createHeaderView(),this.emptyListInformation]),this.set("title",""),this.set("emptyListPlaceholder",""),this.set("hasItems",!1),this.listenTo(this.listChildren,"change",()=>{this.hasItems=this.listChildren.length>0}),this.on("change:hasItems",(t,i,r)=>{r?(this.children.remove(this.emptyListInformation),this.children.add(this.listView)):(this.children.remove(this.listView),this.children.add(this.emptyListInformation))}),this.keystrokes.set("Esc",(t,i)=>{this.fire("cancel"),i()}),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-providers"],tabindex:"-1"},children:this.children})}render(){super.render(),[this.listView,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createListView(){const e=new Df(this.locale);return e.extendTemplate({attributes:{class:["ck-link-providers__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const i=new no(this.locale);return i.children.add(t),i}),e}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"cancel"),t}_createHeaderView(){const e=new Xa(this.locale);return e.bind("label").to(this,"title"),e.children.add(this.backButtonView,0),e}_createEmptyLinksListItemView(){const e=new Me(this.locale);return e.setTemplate({tag:"p",attributes:{class:["ck","ck-link__empty-list-info"]},children:[{text:this.bindTemplate.to("emptyListPlaceholder")}]}),e}}class oVe extends Me{focusTracker=new Ut;keystrokes=new tn;backButtonView;children;listChildren;_focusables=new Ai;_focusCycler;constructor(e){super(e),this.backButtonView=this._createBackButton(),this.listChildren=this.createCollection(),this.children=this.createCollection([this._createHeaderView(),this._createListView()]),this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-properties"],tabindex:"-1"},children:this.children}),this.keystrokes.set("Esc",(t,i)=>{this.fire("back"),i()})}render(){super.render(),[...this.listChildren,this.backButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBackButton(){const e=this.locale.t,t=new ze(this.locale);return t.set({class:"ck-button-back",label:e("Back"),icon:Uu,tooltip:!0}),t.delegate("execute").to(this,"back"),t}_createHeaderView(){const e=this.locale.t,t=new Xa(this.locale,{label:e("Link properties")});return t.children.add(this.backButtonView,0),t}_createListView(){const e=new Df(this.locale);return e.extendTemplate({attributes:{class:["ck-link__list"]}}),e.items.bindTo(this.listChildren).using(t=>{const i=new no(this.locale);return i.children.add(t),i}),e}}class aVe extends ze{arrowView;constructor(e){super(e),this.set({withText:!0}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-link__button"]}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Vs;return e.content=tZ,e}}const _a="link-ui";class NQ extends H{toolbarView=null;formView=null;linkProviderItemsView=null;propertiesView=null;_balloon;_linksProviders=new hi;static get requires(){return[xr,Gm]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;this.set("selectedLinkableText",void 0),e.editing.view.addObserver(T2e),this._balloon=e.plugins.get(xr),this._registerComponents(),this._registerEditingOpeners(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:_a,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:_a,view:(i,{writer:r})=>{if(!i.markerRange.isCollapsed)return null;const s=r.createUIElement("span");return r.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],s),s}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:pb},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.propertiesView&&this.propertiesView.destroy(),this.formView&&this.formView.destroy(),this.toolbarView&&this.toolbarView.destroy(),this.linkProviderItemsView&&this.linkProviderItemsView.destroy()}registerLinksListProvider(e){const t=this._linksProviders.filter(i=>(i.order||0)<=(e.order||0)).length;this._linksProviders.add(e,t)}_createViews(){const e=this.editor.commands.get("link");this.toolbarView=this._createToolbarView(),this.formView=this._createFormView(),e.manualDecorators.length&&(this.propertiesView=this._createPropertiesView()),this._enableUserBalloonInteractions()}_createToolbarView(){const e=this.editor,t=new pc(e.locale),i=e.commands.get("link");t.class="ck-link-toolbar";let r=e.config.get("link.toolbar");return i.manualDecorators.length||(r=r.filter(s=>s!=="linkProperties")),t.fillFromConfig(r,e.ui.componentFactory),t.keystrokes.set("Esc",(s,o)=>{this._hideUI(),o()}),t.keystrokes.set(pb,(s,o)=>{this._addFormView(),o()}),e.ui.addToolbar(t,{isContextual:!0,beforeFocus:()=>{this._getSelectedLinkElement()&&!this._isToolbarVisible&&this._showUI(!0)},afterBlur:()=>{this._hideUI(!1)}}),t}_createFormView(){const e=this.editor,t=e.locale.t,i=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),s=new(Um(rVe))(e.locale,lVe(e));return s.displayedTextInputView.bind("isEnabled").to(this,"selectedLinkableText",o=>o!==void 0),s.urlInputView.bind("isEnabled").to(i,"isEnabled"),s.saveButtonView.bind("isEnabled").to(i,"isEnabled"),s.saveButtonView.bind("label").to(i,"value",o=>t(o?"Update":"Insert")),this.listenTo(s,"submit",()=>{if(s.isValid()){const o=s.urlInputView.fieldView.element.value,a=V5(o,r),l=s.displayedTextInputView.fieldView.element.value;e.execute("link",a,this._getDecoratorSwitchesState(),l!==this.selectedLinkableText?l:void 0),this._closeFormView()}}),this.listenTo(s.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(o,a)=>{this._closeFormView(),a()}),s.providersListChildren.bindTo(this._linksProviders).using(o=>this._createLinksListProviderButton(o)),s}_createLinkProviderListView(e){return e.getListItems().map(({href:t,label:i,icon:r})=>{const s=new ze;return s.set({label:i,icon:r,tooltip:!1,withText:!0}),s.on("execute",()=>{this.formView.resetFormStatus(),this.formView.urlInputView.fieldView.value=t,this.editor.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),s})}_createLinkProviderItemsView(e){const t=this.editor,i=t.locale.t,r=new sVe(t.locale),{emptyListPlaceholder:s,label:o}=e;return r.emptyListPlaceholder=s||i("No links available"),r.title=o,this.listenTo(r,"cancel",()=>{t.editing.view.focus(),this._removeLinksProviderView(),this.formView.focus()}),r}_createPropertiesView(){const e=this.editor,t=this.editor.commands.get("link"),i=new(Um(oVe))(e.locale);return this.listenTo(i,"back",()=>{e.editing.view.focus(),this._removePropertiesView()}),i.listChildren.bindTo(t.manualDecorators).using(r=>{const s=new _w(e.locale);return s.set({label:r.label,withText:!0}),s.bind("isOn").toMany([r,t],"value",(o,a)=>a===void 0&&o===void 0?!!r.defaultValue:!!o),s.on("execute",()=>{r.set("value",!s.isOn),e.execute("link",t.value,this._getDecoratorSwitchesState())}),s}),i}_getDecoratorSwitchesState(){const e=this.editor.commands.get("link");return Array.from(e.manualDecorators).reduce((t,i)=>{const r=e.value===void 0&&i.value===void 0?i.defaultValue:i.value;return{...t,[i.id]:!!r}},{})}_registerEditingOpeners(){this.editor.plugins.get(Gm)._registerLinkOpener(t=>{const i=this._getLinkProviderLinkByHref(t);if(!i)return!1;const{item:r,provider:s}=i;return s.navigate?s.navigate(r):!1})}_registerComponents(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:link",()=>{const t=this._createButton(Yt);return t.set({role:"menuitemcheckbox"}),t}),e.ui.componentFactory.add("linkPreview",t=>{const i=new iVe(t),r=e.config.get("link.allowedProtocols"),s=e.commands.get("link"),o=t.t;i.bind("isEnabled").to(s,"value",l=>!!l),i.bind("href").to(s,"value",l=>l&&OQ(l,r));const a=l=>{if(!l){i.label=void 0,i.icon=void 0,i.tooltip=o("Open link in new tab");return}const d=this._getLinkProviderLinkByHref(l);if(d){const{label:f,tooltip:m,icon:p}=d.item;i.label=f,i.tooltip=m||!1,i.icon=p}else i.label=l,i.icon=void 0,i.tooltip=o("Open link in new tab")};return a(s.value),this.listenTo(s,"change:value",(l,d,f)=>{a(f)}),this.listenTo(i,"navigate",(l,d,f)=>{const m=this._getLinkProviderLinkByHref(d);if(!m)return;const{provider:p,item:w}=m,{navigate:A}=p;A&&A(w)&&(l.stop(),f())}),i}),e.ui.componentFactory.add("unlink",t=>{const i=e.commands.get("unlink"),r=new ze(t),s=t.t;return r.set({label:s("Unlink"),icon:FRe,tooltip:!0}),r.bind("isEnabled").to(i),this.listenTo(r,"execute",()=>{e.execute("unlink"),this._hideUI()}),r}),e.ui.componentFactory.add("editLink",t=>{const i=e.commands.get("link"),r=new ze(t),s=t.t;return r.set({label:s("Edit link"),icon:GA,tooltip:!0}),r.bind("isEnabled").to(i),this.listenTo(r,"execute",()=>{this._addFormView()}),r}),e.ui.componentFactory.add("linkProperties",t=>{const i=e.commands.get("link"),r=new ze(t),s=t.t;return r.set({label:s("Link properties"),icon:CRe,tooltip:!0}),r.bind("isEnabled").to(i,"isEnabled",i,"value",i,"manualDecorators",(o,a,l)=>o&&!!a&&l.length>0),this.listenTo(r,"execute",()=>{this._addPropertiesView()}),r})}_createLinksListProviderButton(e){const t=this.editor.locale,i=new aVe(t);return i.set({label:e.label}),this.listenTo(i,"execute",()=>{this._showLinksProviderView(e)}),i}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("link"),s=new e(t.locale),o=i.t;return s.set({label:o("Link"),icon:eZ,keystroke:pb,isToggleable:!0}),s.bind("isEnabled").to(r,"isEnabled"),s.bind("isOn").to(r,"value",a=>!!a),this.listenTo(s,"execute",()=>{t.editing.view.scrollToTheSelection(),this._showUI(!0),this._getSelectedLinkElement()&&this._addFormView()}),s}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(pb,(i,r)=>{r(),e.commands.get("link").isEnabled&&(e.editing.view.scrollToTheSelection(),this._showUI(!0))})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._isToolbarVisible&&!this.toolbarView.focusTracker.isFocused&&(this.toolbarView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Xo({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>{this._hideUI(!1)}})}_addToolbarView(){this.toolbarView||this._createViews(),!this._isToolbarInPanel&&this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this.formView.backButtonView.isVisible=e.isEnabled&&!!e.value,this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.selectedLinkableText=this._getSelectedLinkableText(),this.formView.displayedTextInputView.fieldView.value=this.selectedLinkableText||"",this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_addPropertiesView(){this.propertiesView||this._createViews(),!this._arePropertiesInPanel&&(this.propertiesView.disableCssTransitions(),this._balloon.add({view:this.propertiesView,position:this._getBalloonPositionData()}),this.propertiesView.enableCssTransitions(),this.propertiesView.focus())}_showLinksProviderView(e){this.linkProviderItemsView&&this._removeLinksProviderView(),this.linkProviderItemsView=this._createLinkProviderItemsView(e),this._addLinkProviderItemsView(e)}_addLinkProviderItemsView(e){this.linkProviderItemsView.listChildren.clear(),this.linkProviderItemsView.listChildren.addMany(this._createLinkProviderListView(e)),this._balloon.add({view:this.linkProviderItemsView,position:this._getBalloonPositionData()}),this.linkProviderItemsView.focus()}_closeFormView(){const e=this.editor.commands.get("link");this.selectedLinkableText=void 0,e.value!==void 0?this._removeFormView():this._hideUI()}_removePropertiesView(){this._arePropertiesInPanel&&this._balloon.remove(this.propertiesView)}_removeLinksProviderView(){this._isLinksListInPanel&&this._balloon.remove(this.linkProviderItemsView)}_removeFormView(e=!0){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.displayedTextInputView.fieldView.reset(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),e&&this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._isToolbarVisible?this._addFormView():this._addToolbarView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addToolbarView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(e=!0){const t=this.editor;this._isUIInPanel&&(this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e&&t.editing.view.focus(),this._removeLinksProviderView(),this._removePropertiesView(),this._removeFormView(e),this._isToolbarInPanel&&this._balloon.remove(this.toolbarView),this._hideFakeVisualSelection())}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),r=o();const s=()=>{const a=this._getSelectedLinkElement(),l=o();i&&!a||!i&&l!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,r=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _arePropertiesInPanel(){return!!this.propertiesView&&this._balloon.hasView(this.propertiesView)}get _isLinksListInPanel(){return!!this.linkProviderItemsView&&this._balloon.hasView(this.linkProviderItemsView)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _isToolbarInPanel(){return!!this.toolbarView&&this._balloon.hasView(this.toolbarView)}get _isPropertiesVisible(){return!!this.propertiesView&&this._balloon.visibleView===this.propertiesView}get _isFormVisible(){return!!this.formView&&this._balloon.visibleView==this.formView}get _isToolbarVisible(){return!!this.toolbarView&&this._balloon.visibleView===this.toolbarView}get _isUIInPanel(){return this._arePropertiesInPanel||this._isLinksListInPanel||this._isFormInPanel||this._isToolbarInPanel}get _isUIVisible(){return this._isPropertiesVisible||this._isLinksListInPanel||this._isFormVisible||this._isToolbarVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;if(this.editor.model.markers.has(_a)){const r=this.editor.editing.mapper.markerNameToElements(_a);if(r){const s=Array.from(r),o=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));return{target:e.domConverter.viewRangeToDom(o)}}}return{target:()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&Jn(i))return RE(t.getFirstPosition());{const r=t.getFirstRange().getTrimmed(),s=RE(r.start),o=RE(r.end);return!s||s!=o?null:e.createRangeIn(s).getTrimmed().isEqual(r)?s:null}}_getSelectedLinkableText(){const e=this.editor.model,t=this.editor.editing,i=this._getSelectedLinkElement();if(!i)return EI(e.document.selection.getFirstRange());const r=t.view.createRangeOn(i),s=t.mapper.toModelRange(r);return EI(s)}_getLinkProviderLinkByHref(e){if(!e)return null;for(const t of this._linksProviders){const i=t.getItem?t.getItem(e):t.getListItems().find(r=>r.href===e);if(i)return{provider:t,item:i}}return null}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(_a))t.updateMarker(_a,{range:i});else if(i.start.isAtEnd){const r=i.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:i});t.addMarker(_a,{usingOperation:!1,affectsData:!1,range:t.createRange(r,i.end)})}else t.addMarker(_a,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(_a)&&e.change(t=>{t.removeMarker(_a)})}}function RE(n){return n.getAncestors().find(e=>j6e(e))||null}function lVe(n){const e=n.t,t=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!t&&!i.url.length)return e("Link URL must not be empty.")}]}const cVe=4,MQ=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63}))|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),uVe=2;class dVe extends H{static get requires(){return[Ua,Gm]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?xw(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const r=this.editor.model,s=r.document.selection,o=s.getFirstPosition(),a=s.getLastPosition();let l=t.getJoined(this._expandLinkRange(r,o)||t);l&&(l=l.getJoined(this._expandLinkRange(r,a)||t)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){const e=this.editor,t=e.model,i=t.document.selection,r=e.plugins.get("ClipboardPipeline"),s=e.commands.get("link");r.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!s.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;const l=i.getFirstRange(),d=a.dataTransfer.getData("text/plain");if(!d)return;const f=d.match(MQ);f&&f[2]===d&&(t.change(m=>{this._selectEntireLinks(m,l),s.execute(d)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new k5(e.model,i=>{let r=i;if(!fVe(r))return;r=r.slice(0,-1),"!.:,;?".includes(r[r.length-1])&&(r=r.slice(0,-1));const s=wL(r);if(s)return{url:s,removedTrailingCharacters:i.length-r.length}});t.on("matched:data",(i,r)=>{const{batch:s,range:o,url:a,removedTrailingCharacters:l}=r;if(!s.isTyping)return;const d=o.end.getShiftedBy(-l),f=d.getShiftedBy(-a.length),m=e.model.createRange(f,d);this._applyAutoLink(a,m)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const r=t.document.selection.getFirstPosition();let s;r.parent.previousSibling?.is("element")?s=t.createRangeIn(r.parent.previousSibling):s=t.createRange(t.createPositionAt(r.parent,0),r),this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const r=t.document.selection.getFirstPosition(),s=t.createRange(t.createPositionAt(r.parent,0),r.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:r}=$Z(e,t),s=wL(i);if(s){const o=t.createRange(r.end.getShiftedBy(-s.length),r.end);this._applyAutoLink(s,o)}}_applyAutoLink(e,t){const i=this.editor.model,r=this.editor.config.get("link.defaultProtocol"),s=V5(e,r);!this.isEnabled||!hVe(t,i)||!DQ(s)||mVe(t)||this._persistAutoLink(s,t)}_persistAutoLink(e,t){const i=this.editor.model,r=this.editor.plugins.get("Delete");i.enqueueChange(s=>{s.setAttribute("linkHref",e,t),i.enqueueChange(()=>{r.requestUndoOnBackspace()})})}}function fVe(n){return n.length>cVe&&n[n.length-1]===" "&&n[n.length-2]!==" "}function wL(n){const e=MQ.exec(n);return e?e[uVe]:null}function hVe(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function mVe(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class gVe extends H{static get requires(){return[Gm,NQ,dVe]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}class pVe extends H{static get requires(){return["ImageEditing","ImageUtils",Gm]}static get pluginName(){return"LinkImageEditing"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(bVe(e)),e.conversion.for("downcast").add(vVe(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,i=e.commands.get("link").automaticDecorators;i.length&&e.conversion.for("downcast").add(i.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const i of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:i.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:i.id}),e.conversion.for("downcast").add(wVe(i)),e.conversion.for("upcast").add(yVe(e,i))}}function bVe(n){const e=n.plugins.has("ImageInlineEditing"),t=n.plugins.get("ImageUtils");return i=>{i.on("element:a",(r,s,o)=>{const a=s.viewItem,l=t.findViewImgElement(a);if(!l)return;const d=l.findAncestor(w=>t.isBlockImageView(w));if(e&&!d)return;const f={attributes:["href"]};if(!o.consumable.consume(a,f))return;const m=a.getAttribute("href");if(!m)return;let p=s.modelCursor.parent;if(!p.is("element","imageBlock")){const w=o.convertItem(l,s.modelCursor);s.modelRange=w.modelRange,s.modelCursor=w.modelCursor,p=s.modelCursor.nodeBefore}p&&p.is("element","imageBlock")&&o.writer.setAttribute("linkHref",m,p)},{priority:"high"})}}function vVe(n){const e=n.plugins.get("ImageUtils");return t=>{t.on("attribute:linkHref:imageBlock",(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=s.mapper.toViewElement(r.item),a=s.writer,l=Array.from(o.getChildren()).find(m=>m.is("element","a")),d=e.findViewImgElement(o),f=d.parent.is("element","picture")?d.parent:d;if(l)r.attributeNewValue?a.setAttribute("href",r.attributeNewValue,l):(a.move(a.createRangeOn(f),a.createPositionAt(o,0)),a.remove(l));else{const m=a.createContainerElement("a",{href:r.attributeNewValue});a.insert(a.createPositionAt(o,0),m),a.move(a.createRangeOn(f),a.createPositionAt(m,0))}},{priority:"high"})}}function wVe(n){return e=>{e.on(`attribute:${n.id}:imageBlock`,(t,i,r)=>{const s=r.mapper.toViewElement(i.item),o=Array.from(s.getChildren()).find(a=>a.is("element","a"));if(o){if(n.value===void 0){for(const a in n.attributes)r.writer.removeAttribute(a,o);n.classes&&r.writer.removeClass(n.classes,o);for(const a in n.styles)r.writer.removeStyle(a,o);return}for(const[a,l]of $o(n.attributes))r.writer.setAttribute(a,l,o);n.classes&&r.writer.addClass(n.classes,o);for(const a in n.styles)r.writer.setStyle(a,n.styles[a],o)}})}}function yVe(n,e){const t=n.plugins.has("ImageInlineEditing"),i=n.plugins.get("ImageUtils");return r=>{r.on("element:a",(s,o,a)=>{const l=o.viewItem,d=i.findViewImgElement(l);if(!d)return;const f=d.findAncestor(A=>i.isBlockImageView(A));if(t&&!f)return;const p=new Fr(e._createPattern()).match(l);if(!p||!a.consumable.consume(l,p.match))return;const w=o.modelCursor.nodeBefore||o.modelCursor.parent;a.writer.setAttribute(e.id,!0,w)},{priority:"high"})}}class _Ve extends H{static get requires(){return[Gm,NQ,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(i,r)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(r.preventDefault(),i.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",i=>{const r=new ze(i),s=e.plugins.get("LinkUI"),o=e.commands.get("link");return r.set({isEnabled:!0,label:t("Link image"),icon:eZ,keystroke:pb,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",a=>!!a),this.listenTo(r,"execute",()=>{this._isSelectedLinkedImage(e.model.document.selection)?s._addToolbarView():s._showUI(!0)}),r})}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}class AVe extends H{static get requires(){return[pVe,_Ve]}static get pluginName(){return"LinkImage"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class ro{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=t.direction=="forward",this._includeSelf=!!t.includeSelf,this._sameAttributes=Jt(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){const r=new this(e,t)[Symbol.iterator]();return sn(r)}*[Symbol.iterator](){const e=[];for(const{node:t}of new Tw(this._getStartNode(),this._isForward?"forward":"backward")){const i=t.getAttribute("listIndent");if(i<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=i}else if(i>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(r=>t.getAttribute(r)!==this._startElement.getAttribute(r)))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class Tw{_node;_isForward;_previousNodesByIndent=[];_previous=null;_previousNodeIndent=null;constructor(e,t="forward"){this._node=e,this._isForward=t==="forward"}[Symbol.iterator](){return this}next(){if(!Ht(this._node))return{done:!0,value:void 0};const e=this._node.getAttribute("listIndent");let t=null;if(this._previous){const r=this._previousNodeIndent;e>r?this._previousNodesByIndent[r]=this._previous:e<r?(t=this._previousNodesByIndent[e]||null,this._previousNodesByIndent.length=e):t=this._previous}const i={node:this._node,previous:this._previous,previousNodeInList:t};return this._previous=this._node,this._previousNodeIndent=e,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:i,done:!1}}}class kVe{_listHead;constructor(e){this._listHead=e}[Symbol.iterator](){return new Tw(this._listHead)}}class Ym{static next(){return Xi()}}function Ht(n){return!!n&&n.is("element")&&n.hasAttribute("listItemId")}function bc(n,e={}){return[...Du(n,{...e,direction:"backward"}),...Du(n,{...e,direction:"forward"})]}function Du(n,e={}){const t=e.direction=="forward",i=Array.from(new ro(n,{...e,includeSelf:t,sameIndent:!0,sameAttributes:"listItemId"}));return t?i:i.reverse()}function xVe(n){return Array.from(new ro(n,{direction:"forward",higherIndent:!0}))}function BQ(n,e){const t=new ro(n,{sameIndent:!0,sameAttributes:"listType",...e}),i=new ro(n,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(t).reverse(),...i]}function $a(n){return!ro.first(n,{sameIndent:!0,sameAttributes:"listItemId"})}function yL(n){return!ro.first(n,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Iw(n,e={}){n=Jt(n);const t=e.withNested!==!1,i=new Set;for(const r of n)for(const s of bc(r,{higherIndent:t}))i.add(s);return Bf(i)}function ix(n){n=Jt(n);const e=new Set;for(const t of n)for(const i of BQ(t))e.add(i);return Bf(e)}function L5(n,e){const t=Du(n,{direction:"forward"}),i=Ym.next();for(const r of t)e.setAttribute("listItemId",i,r);return t}function TI(n,e,t){const i={};for(const[s,o]of e.getAttributes())s.startsWith("list")&&(i[s]=o);const r=Du(n,{direction:"forward"});for(const s of r)t.setAttributes(i,s);return r}function II(n,e,{expand:t,indentBy:i=1}={}){n=Jt(n);const r=t?Iw(n):n;for(const s of r){const o=s.getAttribute("listIndent")+i;o<0?rx(s,e):e.setAttribute("listIndent",o,s)}return r}function CVe(n,e){n=Jt(n);const t=Iw(n),i=new Set,r=Math.min(...t.map(o=>o.getAttribute("listIndent"))),s=new Map;for(const o of t)s.set(o,ro.first(o,{lowerIndent:!0}));for(const o of t){if(i.has(o))continue;i.add(o);const a=o.getAttribute("listIndent")-1;if(a<0){rx(o,e);continue}if(o.getAttribute("listIndent")==r){const l=EVe(o,s.get(o),e);for(const d of l)i.add(d);if(l.length)continue}e.setAttribute("listIndent",a,o)}return Bf(i)}function rx(n,e){n=Jt(n);for(const t of n)t.is("element","listItem")&&e.rename(t,"paragraph");for(const t of n)for(const i of t.getAttributeKeys())i.startsWith("list")&&e.removeAttribute(i,t);return n}function Sv(n){if(!n.length)return!1;const e=n[0].getAttribute("listItemId");return e?!n.some(t=>t.getAttribute("listItemId")!=e):!1}function SVe(n,e){const t=[];let i=Number.POSITIVE_INFINITY;for(const{node:r}of new Tw(n.nextSibling)){const s=r.getAttribute("listIndent");if(s==0)break;s<i&&(i=s);const o=s-i;e.setAttribute("listIndent",o,r),t.push(r)}return t}function Bf(n){return Array.from(n).filter(e=>e.root.rootName!=="$graveyard").sort((e,t)=>e.index-t.index)}function Ev(n){const e=n.document.selection.getSelectedElement();return e&&n.schema.isObject(e)&&n.schema.isBlock(e)?e:null}function OE(n,e){return e.checkChild(n.parent,"listItem")&&e.checkChild(n,"$text")&&!e.isObject(n)}function i1(n){return n=="numbered"||n=="customNumbered"}function EVe(n,e,t){return Du(e,{direction:"forward"}).pop().index>n.index?TI(n,e,t):[]}class _L extends Je{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=AL(e.document.selection);e.change(i=>{const r=[];Sv(t)&&!$a(t[0])?(this._direction=="forward"&&r.push(...II(t,i)),r.push(...L5(t[0],i))):this._direction=="forward"?r.push(...II(t,i,{expand:!0})):r.push(...CVe(t,i));for(const s of r){if(!s.hasAttribute("listType"))continue;const o=ro.first(s,{sameIndent:!0});o&&i.setAttribute("listType",o.getAttribute("listType"),s)}this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Bf(new Set(e)))}_checkEnabled(){let e=AL(this.editor.model.document.selection),t=e[0];if(!t)return!1;if(this._direction=="backward"||Sv(e)&&!$a(e[0]))return!0;e=Iw(e),t=e[0];const i=ro.first(t,{sameIndent:!0});return i?i.getAttribute("listType")==t.getAttribute("listType"):!1}}function AL(n){const e=Array.from(n.getSelectedBlocks()),t=e.findIndex(i=>!Ht(i));return t!=-1&&(e.length=t),e}class bb extends Je{type;_listWalkerOptions;constructor(e,t,i={}){super(e),this.type=t,this._listWalkerOptions=i.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document,r=Ev(t),s=Array.from(i.selection.getSelectedBlocks()).filter(a=>t.schema.checkAttribute(a,"listType")||OE(a,t.schema)),o=e.forceValue!==void 0?!e.forceValue:this.value;t.change(a=>{if(o){const l=s[s.length-1],d=Du(l,{direction:"forward"}),f=[];d.length>1&&f.push(...L5(d[1],a)),f.push(...rx(s,a)),f.push(...SVe(l,a)),this._fireAfterExecute(f)}else if((r||i.selection.isCollapsed)&&Ht(s[0])){const l=BQ(r||s[0],this._listWalkerOptions);for(const d of l)a.setAttributes({...e.additionalAttributes,listType:this.type},d);this._fireAfterExecute(l)}else{const l=[];for(const d of s)if(!d.hasAttribute("listType"))!d.is("element","listItem")&&OE(d,t.schema)&&a.rename(d,"listItem"),a.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:Ym.next(),listType:this.type},d),l.push(d);else for(const f of Iw(d,{withNested:!1}))f.getAttribute("listType")!=this.type&&(a.setAttributes({...e.additionalAttributes,listType:this.type},f),l.push(f));this._fireAfterExecute(l)}})}_fireAfterExecute(e){this.fire("afterExecute",Bf(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const i of t)if(i.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,i=e.document.selection,r=Array.from(i.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const s of r)if(t.checkAttribute(s,"listType")||OE(s,t))return!0;return!1}}class kL extends Je{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const t=this.editor.model,i=t.document.selection,r=[];t.change(s=>{const{firstElement:o,lastElement:a}=this._getMergeSubjectElements(i,e),l=o.getAttribute("listIndent")||0,d=a.getAttribute("listIndent"),f=a.getAttribute("listItemId");if(l!=d){const m=xVe(a);r.push(...II([a,...m],s,{indentBy:l-d,expand:l<d}))}if(e){let m=i;i.isCollapsed&&(m=s.createSelection(s.createRange(s.createPositionAt(o,"end"),s.createPositionAt(a,0)))),t.deleteContent(m,{doNotResetEntireContent:i.isCollapsed});const p=m.getLastPosition().parent,w=p.nextSibling;r.push(p),w&&w!==a&&w.getAttribute("listItemId")==f&&r.push(...TI(w,p,s))}else r.push(...TI(a,o,s));this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Bf(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,i=Ev(e);if(t.isCollapsed||i){const r=i||t.getFirstPosition().parent;if(!Ht(r))return!1;const s=this._direction=="backward"?r.previousSibling:r.nextSibling;if(!s||Sv([r,s]))return!1}else{const r=t.getLastPosition(),s=t.getFirstPosition();if(r.parent===s.parent||!Ht(r.parent))return!1}return!0}_getMergeSubjectElements(e,t){const i=this.editor.model,r=Ev(i);let s,o;if(e.isCollapsed||r){const a=r||e.getFirstPosition().parent,l=$a(a);this._direction=="backward"?(o=a,l&&!t?s=ro.first(a,{sameIndent:!0,lowerIndent:!0}):s=a.previousSibling):(s=a,o=a.nextSibling)}else s=e.getFirstPosition().parent,o=e.getLastPosition().parent;return{firstElement:s,lastElement:o}}}class xL extends Je{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(t=>{const i=L5(this._getStartBlock(),t);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",Bf(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&Ht(t)&&!$a(t)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?t:t.nextSibling}}class TVe extends H{static get pluginName(){return"ListItemBoldIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),i=e.plugins.get(zr);!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("bold","listItemBold"),i.registerDowncastStrategy({scope:"item",attributeName:"listItemBold",setAttributeOnDowncast(r,s,o,a){s&&(r.addClass("ck-list-marker-bold",o),nt.isSafari&&!(a&&a.dataPipeline)&&r.setStyle("--ck-content-list-marker-dummy-bold","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("BoldEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemBold"}),t.schema.setAttributeProperties("listItemBold",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemBold"),e.conversion.for("upcast").attributeToAttribute({model:"listItemBold",view:{name:"li",classes:"ck-list-marker-bold"}}))}}class IVe extends H{static get pluginName(){return"ListItemItalicIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),i=e.plugins.get(zr);!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("italic","listItemItalic"),i.registerDowncastStrategy({scope:"item",attributeName:"listItemItalic",setAttributeOnDowncast(r,s,o,a){s&&(r.addClass("ck-list-marker-italic",o),nt.isSafari&&!(a&&a.dataPipeline)&&r.setStyle("--ck-content-list-marker-dummy-italic","0",o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("ItalicEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemItalic"}),t.schema.setAttributeProperties("listItemItalic",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemItalic"),e.conversion.for("upcast").attributeToAttribute({model:"listItemItalic",view:{name:"li",classes:"ck-list-marker-italic"}}))}}class PVe extends H{static get pluginName(){return"ListItemFontSizeIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),i=e.plugins.get(zr);if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;const r=kv(e.config.get("fontSize.options"));t.registerFormatAttribute("fontSize","listItemFontSize"),i.registerDowncastStrategy({scope:"item",attributeName:"listItemFontSize",setAttributeOnDowncast(s,o,a,l){if(o){const d=r.find(f=>f.model==o);d&&d.view&&typeof d.view!="string"?d.view.styles?(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",d.view.styles["font-size"],a)):d.view.classes&&(s.addClass(`ck-list-marker-font-size-${o}`,a),nt.isSafari&&!(l&&l.dataPipeline)&&s.setStyle("--ck-content-list-marker-dummy-font-size","0",a)):(s.addClass("ck-list-marker-font-size",a),s.setStyle("--ck-content-list-marker-font-size",o,a))}}})}afterInit(){const e=this.editor,t=e.model;if(!e.plugins.has("FontSizeEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting"))return;t.schema.extend("$listItem",{allowAttributes:"listItemFontSize"}),t.schema.setAttributeProperties("listItemFontSize",{isFormatting:!0}),t.schema.addAttributeCheck(r=>{if(!r.last.getAttribute("listItemId"))return!1},"listItemFontSize"),e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:r=>r.getStyle("--ck-content-list-marker-font-size")},view:{name:"li",classes:"ck-list-marker-font-size",styles:{"--ck-content-list-marker-font-size":/.*/}}});const i=kv(e.config.get("fontSize.options"));for(const r of i)r.model&&r.view&&e.conversion.for("upcast").elementToAttribute({model:{key:"listItemFontSize",value:r.model},view:{name:"li",classes:`ck-list-marker-font-size-${r.model}`}})}}class RVe extends H{static get pluginName(){return"ListItemFontColorIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),i=e.plugins.get(zr);!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontColor","listItemFontColor"),i.registerDowncastStrategy({scope:"item",attributeName:"listItemFontColor",setAttributeOnDowncast(r,s,o){s&&(r.addClass("ck-list-marker-color",o),r.setStyle("--ck-content-list-marker-color",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontColorEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontColor"}),t.schema.setAttributeProperties("listItemFontColor",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemFontColor"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontColor",value:i=>i.getStyle("--ck-content-list-marker-color")},view:{name:"li",classes:"ck-list-marker-color",styles:{"--ck-content-list-marker-color":/.*/}}}))}}class OVe extends H{static get pluginName(){return"ListItemFontFamilyIntegration"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.plugins.get("ListFormatting"),i=e.plugins.get(zr);!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.registerFormatAttribute("fontFamily","listItemFontFamily"),i.registerDowncastStrategy({scope:"item",attributeName:"listItemFontFamily",setAttributeOnDowncast(r,s,o){s&&(r.addClass("ck-list-marker-font-family",o),r.setStyle("--ck-content-list-marker-font-family",s,o))}}))}afterInit(){const e=this.editor,t=e.model;!e.plugins.has("FontFamilyEditing")||!this.editor.config.get("list.enableListItemMarkerFormatting")||(t.schema.extend("$listItem",{allowAttributes:"listItemFontFamily"}),t.schema.setAttributeProperties("listItemFontFamily",{isFormatting:!0}),t.schema.addAttributeCheck(i=>{if(!i.last.getAttribute("listItemId"))return!1},"listItemFontFamily"),e.conversion.for("upcast").attributeToAttribute({model:{key:"listItemFontFamily",value:i=>i.getStyle("--ck-content-list-marker-font-family")},view:{name:"li",classes:"ck-list-marker-font-family",styles:{"--ck-content-list-marker-font-family":/.*/}}}))}}class DVe extends H{_loadedFormatting={};static get pluginName(){return"ListFormatting"}static get isOfficialPlugin(){return!0}static get requires(){return[TVe,IVe,PVe,RVe,OVe]}constructor(e){super(e),e.config.define("list.enableListItemMarkerFormatting",!0)}afterInit(){this.editor.config.get("list.enableListItemMarkerFormatting")&&this._registerPostfixerForListItemFormatting()}_registerPostfixerForListItemFormatting(){const e=this.editor.model;e.document.registerPostFixer(t=>{const i=e.document.differ.getChanges(),r=new Set;let s=!1;for(const o of i)if(o.type==="attribute")(o.attributeKey=="listItemId"||o.attributeKey=="listType"||this._isInlineOrSelectionFormatting(o.attributeKey)||Object.values(this._loadedFormatting).includes(o.attributeKey))&&(Ht(o.range.start.nodeAfter)?r.add(o.range.start.nodeAfter):Ht(o.range.start.parent)&&r.add(o.range.start.parent));else if(Ht(o.position.nodeAfter)&&r.add(o.position.nodeAfter),Ht(o.position.nodeBefore)&&r.add(o.position.nodeBefore),Ht(o.position.parent)&&r.add(o.position.parent),o.type=="insert"&&o.name!="$text"){const a=t.createRangeIn(o.position.nodeAfter);for(const l of a.getItems())Ht(l)&&r.add(l)}for(const o of r){const a=NVe(e,o,Object.keys(this._loadedFormatting));for(const[l,d]of Object.entries(a)){const f=this._loadedFormatting[l];(d&&MVe(t,o,f,d)||!d&&BVe(t,o,f))&&(s=!0)}}return s})}registerFormatAttribute(e,t){this._loadedFormatting[e]=t}_isInlineOrSelectionFormatting(e){return e.replace(/^selection:/,"")in this._loadedFormatting}}function NVe(n,e,t){if($a(e))return CL(n,e,t);const i=bc(e);return CL(n,i[0],t)}function CL(n,e,t){if(!VVe(e)||n.schema.isLimit(e))return Object.fromEntries(t.map(a=>[a]));if(e.isEmpty)return Object.fromEntries(t.map(a=>[a,e.getAttribute(`selection:${a}`)]));const i=new Set(t),r={},o=n.createRangeIn(e).getWalker({ignoreElementEnd:!0});for(const{item:a}of o){for(const l of i)if(n.schema.checkAttribute(a,l)){const d=a.getAttribute(l);d===void 0?(i.delete(l),r[l]=void 0):r[l]===void 0?r[l]=d:r[l]!==d&&(i.delete(l),r[l]=void 0)}else l in r||(r[l]=void 0);if(!i.size)break;n.schema.isLimit(a)&&o.jumpTo(n.createPositionAfter(a))}return r}function MVe(n,e,t,i){const r=bc(e);let s=!1;for(const o of r)(!o.hasAttribute(t)||o.getAttribute(t)!==i)&&(n.setAttribute(t,i,o),s=!0);return s}function BVe(n,e,t){const i=bc(e);let r=!1;for(const s of i)s.hasAttribute(t)&&(n.removeAttribute(t,s),r=!0);return r}function VVe(n){return["numbered","bulleted","customNumbered","customBulleted"].includes(n.getAttribute("listType"))}class LVe extends H{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return ix(e)}isFirstBlockOfListItem(e){return $a(e)}isListItemBlock(e){return Ht(e)}expandListBlocksToCompleteItems(e,t={}){return Iw(e,t)}isNumberedListType(e){return i1(e)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FVe(n){return n.is("element","ol")||n.is("element","ul")}function PI(n){return n.is("element","li")}function zVe(n){let e=0,t=n.parent;for(;t;){if(PI(t))e++;else{const i=t.previousSibling;i&&PI(i)&&e++}t=t.parent}return e}function jVe(n,e,t,i=LQ(t,e)){return n.createAttributeElement(VQ(t),null,{priority:2*e/100-100,id:i})}function UVe(n,e,t){return n.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:t})}function VQ(n){return n=="numbered"||n=="customNumbered"?"ol":"ul"}function LQ(n,e){return`list-${n}-${e}`}function Co(n,e,t){const i=n.nodeBefore;if(Ht(i)){let r=i;for(const{node:s}of new Tw(r,"backward"))if(r=s,t.has(r)||(t.add(r),e.has(i)))return;e.add(r)}else{const r=n.nodeAfter;Ht(r)&&e.add(r)}}function $Ve(n,e){let t=0,i=-1,r=null,s=!1;for(const{node:o}of n){const a=o.getAttribute("listIndent");if(a>t){let l;r===null?(r=a-t,l=t):(r>a&&(r=a),l=a-r),l>i+1&&(l=i+1),e.setAttribute("listIndent",l,o),s=!0,i=l}else r=null,t=a+1,i=a}return s}function HVe(n,e,t){const i=new Set;let r=!1;for(const{node:s}of n){if(i.has(s))continue;let o=s.getAttribute("listType"),a=s.getAttribute("listItemId");if(e.has(a)&&(a=Ym.next()),e.add(a),s.is("element","listItem")){s.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,s),r=!0);continue}for(const l of Du(s,{direction:"forward"}))i.add(l),l.getAttribute("listType")!=o&&(a=Ym.next(),o=l.getAttribute("listType")),l.getAttribute("listItemId")!=a&&(t.setAttribute("listItemId",a,l),r=!0)}return r}function WVe(){return(n,e,t)=>{const{writer:i,schema:r}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(m=>r.checkAttribute(m,"listItemId"));if(!s.length)return;const o=e.viewItem.getAttribute("data-list-item-id")||Ym.next();t.consumable.consume(e.viewItem,{attributes:"data-list-item-id"});const a=zVe(e.viewItem);let l=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const d=s[0].getAttribute("listType");d&&(l=d);const f={listItemId:o,listIndent:a,listType:l};for(const m of s)m.hasAttribute("listItemId")||i.setAttributes(f,m);s.length>1&&s[1].getAttribute("listItemId")!=f.listItemId&&t.keepEmptyElement(s[0])}}function GVe(n,e,t,i){return()=>{const a=n.document.differ.getChanges(),l=[],d=new Set,f=new Set,m=new Set;for(const p of a)if(p.type=="insert"&&p.name!="$text")Co(p.position,d,m),p.attributes.has("listItemId")?f.add(p.position.nodeAfter):Co(p.position.getShiftedBy(p.length),d,m);else if(p.type=="remove"&&p.attributes.has("listItemId"))Co(p.position,d,m);else if(p.type=="attribute"){const w=p.range.start.nodeAfter;t.includes(p.attributeKey)?(Co(p.range.start,d,m),p.attributeNewValue===null?(Co(p.range.start.getShiftedBy(1),d,m),s(w)&&l.push(w)):f.add(w)):Ht(w)&&s(w)&&l.push(w)}for(const p of d.values())l.push(...r(p,f));for(const p of new Set(l))e.reconvertItem(p)};function r(a,l){const d=[],f=new Set,m=[];for(const{node:p,previous:w}of new Tw(a)){if(f.has(p))continue;const A=p.getAttribute("listIndent");w&&A<w.getAttribute("listIndent")&&(m.length=A+1),m[A]={modelAttributes:Object.fromEntries(Array.from(p.getAttributes()).filter(([S])=>t.includes(S))),modelElement:p};const x=Du(p,{direction:"forward"});for(const S of x)f.add(S),(s(S,x)||o(S,m,l))&&d.push(S)}return d}function s(a,l){const d=e.mapper.toViewElement(a);if(!d)return!1;if(i.fire("checkElement",{modelElement:a,viewElement:d}))return!0;if(!a.is("element","paragraph")&&!a.is("element","listItem"))return!1;const m=zQ(a,t,l);return m&&d.is("element","p")?!0:!!(!m&&d.is("element","span"))}function o(a,l,d){if(d.has(a))return!1;const f=e.mapper.toViewElement(a);let m=l.length-1;for(let p=f.parent;!p.is("editableElement");p=p.parent){const w=PI(p),A=FVe(p);if(!A&&!w)continue;const x=`checkAttributes:${w?"item":"list"}`;if(i.fire(x,{viewElement:p,modelAttributes:l[m].modelAttributes,modelReferenceElement:l[m].modelElement}))break;if(A&&(m--,m<0))return!1}return!0}}function SL(n,e,t,{dataPipeline:i}={}){const r=XVe(n);return(s,o,a)=>{const{writer:l,mapper:d,consumable:f}=a,m=o.item;if(!n.includes(o.attributeKey)||!r(m,f))return;const p={...a.options,dataPipeline:i},w=KVe(m,d,t);FQ(w,l,d),QVe(w,l);const A=ZVe(m,w,e,l,p);JVe(m,A,e,l,p)}}function YVe(n){return(e,t,i)=>{const{writer:r,mapper:s}=i,o=e.name.split(":")[1];if(!n.checkAttribute(o,"listItemId"))return;const a=s.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),d=s.toViewPosition(l,{isPhantom:!0}),m=r.createRange(a,d).getTrimmed().end.nodeBefore;/* istanbul ignore next -- @preserve */m&&FQ(m,r,s)}}function EL(n,{dataPipeline:e}={}){return(t,{writer:i})=>{if(!zQ(t,n))return null;if(!e)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function KVe(n,e,t){const i=t.createRangeOn(n);return e.toViewRange(i).getTrimmed().end.nodeBefore}function qVe(n,e){return(t,i)=>{if(i.modelPosition.offset>0)return;const r=i.modelPosition.parent;if(!Ht(r)||!n.some(d=>d.scope=="itemMarker"&&d.canInjectMarkerIntoElement&&d.canInjectMarkerIntoElement(r)))return;const s=i.mapper.toViewElement(r),o=e.createRangeIn(s),a=o.getWalker();let l=o.start;for(const{item:d}of a){if(d.is("element")&&i.mapper.toModelElement(d)||d.is("$textProxy"))break;d.is("element")&&d.getCustomProperty("listItemMarker")&&(l=e.createPositionAfter(d),a.skip(({previousPosition:f})=>!f.isEqual(l)))}i.viewPosition=l}}function FQ(n,e,t){for(;n.parent.is("attributeElement")&&n.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(n),n.parent);const i=[];r(e.createPositionBefore(n).getWalker({direction:"backward"})),r(e.createRangeIn(n).getWalker());for(const s of i)e.remove(s);function r(s){for(const{item:o}of s){if(o.is("element")&&t.toModelElement(o))break;o.is("element")&&o.getCustomProperty("listItemMarker")&&i.push(o)}}}function ZVe(n,e,t,i,{dataPipeline:r}){let s=i.createRangeOn(e);if(!$a(n))return s;for(const o of t){if(o.scope!="itemMarker")continue;const a=o.createElement(i,n,{dataPipeline:r});if(!a||(i.setCustomProperty("listItemMarker",!0,a),o.canInjectMarkerIntoElement&&o.canInjectMarkerIntoElement(n)?i.insert(i.createPositionAt(e,0),a):(i.insert(s.start,a),s=i.createRange(i.createPositionBefore(a),i.createPositionAfter(e))),!o.createWrapperElement||!o.canWrapElement))continue;const l=o.createWrapperElement(i,n,{dataPipeline:r});i.setCustomProperty("listItemWrapper",!0,l),o.canWrapElement(n)?s=i.wrap(s,l):(s=i.wrap(i.createRangeOn(a),l),s=i.createRange(s.start,i.createPositionAfter(e)))}return s}function QVe(n,e){let t=n.parent;for(;t.is("attributeElement")&&["ul","ol","li"].includes(t.name);){const i=t.parent;e.unwrap(e.createRangeOn(n),t),t=i}}function JVe(n,e,t,i,r){if(!n.hasAttribute("listIndent"))return;const s=n.getAttribute("listIndent");let o=n;for(let a=s;a>=0;a--){const l=UVe(i,a,o.getAttribute("listItemId")),d=jVe(i,a,o.getAttribute("listType"));for(const f of t)(f.scope=="list"||f.scope=="item")&&o.hasAttribute(f.attributeName)&&f.setAttributeOnDowncast(i,o.getAttribute(f.attributeName),f.scope=="list"?d:l,r);if(e=i.wrap(e,l),e=i.wrap(e,d),a==0||(o=ro.first(o,{lowerIndent:!0}),!o))break}}function XVe(n){return(e,t)=>{const i=[];for(const r of n)e.hasAttribute(r)&&i.push(`attribute:${r}`);return i.every(r=>t.test(e,r)!==!1)?(i.forEach(r=>t.consume(e,r)),!0):!1}}function zQ(n,e,t=bc(n)){if(!Ht(n))return!1;for(const i of n.getAttributeKeys())if(!(i.startsWith("selection:")||i=="htmlEmptyBlock")&&!e.includes(i))return!1;return t.length<2}const T0=["listType","listIndent","listItemId"];class zr extends H{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Cw,Ua,LVe,ss,DVe]}constructor(e){super(e),e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,i=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new z("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:T0}),i?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of T0)t.schema.setAttributeProperties(r,{copyOnReplace:!0});e.commands.add("numberedList",new bb(e,"numbered")),e.commands.add("bulletedList",new bb(e,"bulleted")),e.commands.add("customNumberedList",new bb(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new bb(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new _L(e,"forward")),e.commands.add("outdentList",new _L(e,"backward")),e.commands.add("splitListItemBefore",new xL(e,"before")),e.commands.add("splitListItemAfter",new xL(e,"after")),i&&(e.commands.add("mergeListItemBackward",new kL(e,"backward")),e.commands.add("mergeListItemForward",new kL(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration(),this._setupListItemIdConversionStrategy()}afterInit(){const t=this.editor.commands,i=t.get("indent"),r=t.get("outdent");i&&i.registerChildCommand(t.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...T0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),i=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(r,s)=>{const o=e.model.document.selection;Ev(e.model)||e.model.change(()=>{const a=o.getFirstPosition();if(o.isCollapsed&&s.direction=="backward"){if(!a.isAtStart)return;const l=a.parent;if(!Ht(l))return;if(!ro.first(l,{sameAttributes:"listType",sameIndent:!0})&&l.getAttribute("listIndent")===0)yL(l)||e.execute("splitListItemAfter"),e.execute("outdentList");else{if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:TL(e.model,"backward")})}s.preventDefault(),r.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd||!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:TL(e.model,"forward")}),s.preventDefault(),r.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,i=e.commands,r=i.get("enter");this.listenTo(e.editing.view.document,"enter",(s,o)=>{const a=t.document,l=a.selection.getFirstPosition().parent;if(a.selection.isCollapsed&&Ht(l)&&l.isEmpty&&!o.isSoft){const d=$a(l),f=yL(l);d&&f?(e.execute("outdentList"),o.preventDefault(),s.stop()):d&&!f?(e.execute("splitListItemAfter"),o.preventDefault(),s.stop()):f&&(e.execute("splitListItemBefore"),o.preventDefault(),s.stop())}},{context:"li"}),this.listenTo(r,"afterExecute",()=>{const s=i.get("splitListItemBefore");if(s.refresh(),!s.isEnabled)return;const a=e.model.document.selection.getLastPosition().parent;bc(a).length===2&&s.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(t,i)=>{const r=i.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),i.stopPropagation(),i.preventDefault(),t.stop())},{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,i=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),s=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(a,{writer:l})=>l.createElement(s,{listType:""})}).elementToElement({view:"p",model:(a,{writer:l})=>a.parent&&a.parent.is("element","li")?l.createElement(s,{listType:""}):null,converterPriority:"high"}).add(a=>{a.on("element:li",WVe())}),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:s,view:EL(i),converterPriority:"high"}).add(a=>{a.on("attribute",SL(i,this._downcastStrategies,t)),a.on("remove",YVe(t.schema))}),e.conversion.for("dataDowncast").elementToElement({model:s,view:EL(i,{dataPipeline:!0}),converterPriority:"high"}).add(a=>{a.on("attribute",SL(i,this._downcastStrategies,t,{dataPipeline:!0}))});const o=qVe(this._downcastStrategies,e.editing.view);e.editing.mapper.on("modelToViewPosition",o),e.data.mapper.on("modelToViewPosition",o),this.listenTo(t.document,"change:data",GVe(t,e.editing,i,this),{priority:"high"}),this.on("checkAttributes:item",(a,{viewElement:l,modelAttributes:d})=>{l.id!=d.listItemId&&(a.return=!0,a.stop())}),this.on("checkAttributes:list",(a,{viewElement:l,modelAttributes:d})=>{(l.name!=VQ(d.listType)||l.id!=LQ(d.listType,d.listIndent))&&(a.return=!0,a.stop())})}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer(i=>eLe(e,i,t,this)),this.on("postFixer",(i,{listNodes:r,writer:s})=>{i.return=$Ve(r,s)||i.return},{priority:"high"}),this.on("postFixer",(i,{listNodes:r,writer:s,seenIds:o})=>{i.return=HVe(r,o,s)||i.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",tLe(e),{priority:"high"}),this.listenTo(t,"outputTransformation",(i,r)=>{e.change(s=>{const o=Array.from(r.content.getChildren()),a=o[o.length-1];if(o.length>1&&a.is("element")&&a.isEmpty&&o.slice(0,-1).every(Ht)&&s.remove(a),r.method=="copy"||r.method=="cut"){const l=Array.from(r.content.getChildren());Sv(l)&&rx(l,s)}})})}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}_setupListItemIdConversionStrategy(){this.registerDowncastStrategy({scope:"item",attributeName:"listItemId",setAttributeOnDowncast(e,t,i,r){r&&(r.skipListItemIds||r.isClipboardPipeline)||e.setAttribute("data-list-item-id",t,i)}})}}function eLe(n,e,t,i){const r=n.document.differ.getChanges(),s=new Set,o=new Set,a=i.editor.config.get("list.multiBlock");let l=!1;for(const f of r){if(f.type=="insert"&&f.name!="$text"){const m=f.position.nodeAfter;if(!n.schema.checkAttribute(m,"listItemId"))for(const p of Array.from(m.getAttributeKeys()))t.includes(p)&&(e.removeAttribute(p,m),l=!0);Co(f.position,o,s),f.attributes.has("listItemId")||Co(f.position.getShiftedBy(f.length),o,s);for(const{item:p,previousPosition:w}of n.createRangeIn(m))Ht(p)&&Co(w,o,s)}else f.type=="remove"?Co(f.position,o,s):f.type=="attribute"&&t.includes(f.attributeKey)&&(Co(f.range.start,o,s),f.attributeNewValue===null&&Co(f.range.start.getShiftedBy(1),o,s));if(!a&&f.type=="attribute"&&T0.includes(f.attributeKey)){const m=f.range.start.nodeAfter;f.attributeNewValue===null&&m&&m.is("element","listItem")?(e.rename(m,"paragraph"),l=!0):f.attributeOldValue===null&&m&&m.is("element")&&m.name!="listItem"&&(e.rename(m,"listItem"),l=!0)}}const d=new Set;for(const f of o.values())l=i.fire("postFixer",{listNodes:new kVe(f),listHead:f,writer:e,seenIds:d})||l;return l}function tLe(n){return(e,[t,i])=>{const r=t.is("documentFragment")?Array.from(t.getChildren()):[t];if(!r.length)return;const o=(i?n.createSelection(i):n.document.selection).getFirstPosition();let a;if(Ht(o.parent))a=o.parent;else if(Ht(o.nodeBefore)&&Ht(o.nodeAfter))a=o.nodeBefore;else return;n.change(l=>{const d=a.getAttribute("listType"),f=a.getAttribute("listIndent"),m=r[0].getAttribute("listIndent")||0,p=Math.max(f-m,0);for(const w of r){const A=Ht(w);a.is("element","listItem")&&w.is("element","paragraph")&&l.rename(w,"listItem"),l.setAttributes({listIndent:(A?w.getAttribute("listIndent"):0)+p,listItemId:A?w.getAttribute("listItemId"):Ym.next(),listType:d},w)}})}}function TL(n,e){const t=n.document.selection;if(!t.isCollapsed)return!Ev(n);if(e==="forward")return!0;const r=t.getFirstPosition().parent,s=r.previousSibling;return n.schema.isObject(s)?!1:s.isEmpty?!0:Sv([r,s])}function RI(n,e,t,i){n.ui.componentFactory.add(e,()=>{const r=IL(ze,n,e,t,i);return r.set({tooltip:!0,isToggleable:!0}),r}),n.ui.componentFactory.add(`menuBar:${e}`,()=>{const r=IL(Yt,n,e,t,i);return r.set({role:"menuitemcheckbox",isToggleable:!0}),r})}function IL(n,e,t,i,r){const s=e.commands.get(t),o=new n(e.locale);return o.set({label:i,icon:r}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.on("execute",()=>{e.execute(t),e.editing.view.focus()}),o}class nLe extends H{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||RI(this.editor,"numberedList",e("Numbered List"),d5),this.editor.ui.componentFactory.has("bulletedList")||RI(this.editor,"bulletedList",e("Bulleted List"),u5)}}class iLe extends H{static get requires(){return[zr,nLe]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}class rLe extends Je{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute({startIndex:e=1}={}){const t=this.editor.model,i=t.document;let r=Array.from(i.selection.getSelectedBlocks()).filter(s=>Ht(s)&&i1(s.getAttribute("listType")));r=ix(r),t.change(s=>{for(const o of r)s.setAttribute("listStart",e>=0?e:1,o)})}_getValue(){const t=this.editor.model.document,i=sn(t.selection.getSelectedBlocks());return i&&Ht(i)&&i1(i.getAttribute("listType"))?i.getAttribute("listStart"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const jQ={},UQ={},$Q={},HQ=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:e,listType:t}of HQ)jQ[n]=t,UQ[n]=e,e&&($Q[e]=n);function WQ(){return HQ.map(n=>n.listStyle)}function F5(n){return jQ[n]||null}function GQ(n){return $Q[n]||null}function OI(n){return UQ[n]||null}function sLe(n){switch(n){case"lower-alpha":return"lower-latin";case"upper-alpha":return"upper-latin";default:return n}}class oLe extends Je{defaultType;_supportedTypes;constructor(e,t,i){super(e),this.defaultType=t,this._supportedTypes=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document;t.change(r=>{this._tryToConvertItemsToList(e);let s=Array.from(i.selection.getSelectedBlocks()).filter(o=>o.hasAttribute("listType"));if(s.length){s=ix(s);for(const o of s)r.setAttribute("listStyle",e.type||this.defaultType,o)}})}isStyleTypeSupported(e){return this._supportedTypes?this._supportedTypes.includes(e):!0}_getValue(){const e=sn(this.editor.model.document.selection.getSelectedBlocks());return Ht(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),i=e.commands.get("bulletedList");return t.isEnabled||i.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=F5(e.type);if(!t)return;const i=this.editor,r=`${t}List`;i.commands.get(r).value||i.execute(r)}}class aLe extends Je{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute(e={}){const t=this.editor.model,i=t.document;let r=Array.from(i.selection.getSelectedBlocks()).filter(s=>Ht(s)&&s.getAttribute("listType")=="numbered");r=ix(r),t.change(s=>{for(const o of r)s.setAttribute("listReversed",!!e.reversed,o)})}_getValue(){const t=this.editor.model.document,i=sn(t.selection.getSelectedBlocks());return Ht(i)&&i.getAttribute("listType")=="numbered"?i.getAttribute("listReversed"):null}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function PL(n){return(e,t,i)=>{const{writer:r,schema:s,consumable:o}=i;if(o.test(t.viewItem,n.viewConsumables)===!1)return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor));let a=!1;for(const l of t.modelRange.getItems({shallow:!0}))s.checkAttribute(l,n.attributeName)&&n.appliesToListItem(l)&&(l.hasAttribute(n.attributeName)||(r.setAttribute(n.attributeName,n.getAttributeOnUpcast(t.viewItem),l),a=!0));a&&o.consume(t.viewItem,n.viewConsumables)}}class lLe extends H{static get pluginName(){return"ListPropertiesUtils"}static get isOfficialPlugin(){return!0}getAllSupportedStyleTypes(){return WQ()}getListTypeFromListStyleType(e){return F5(e)}getListStyleTypeFromTypeAttribute(e){return GQ(e)}getTypeAttributeFromListStyleType(e){return OI(e)}}function YQ(n){const{startIndex:e,reversed:t,styles:i}=n;return{styles:cLe(i),startIndex:e||!1,reversed:t||!1}}function cLe(n){const e={listTypes:["bulleted","numbered"],useAttribute:!1};return n===!0||(n?Array.isArray(n)||typeof n=="string"?e.listTypes=Jt(n):(e.listTypes=n.listTypes?Jt(n.listTypes):e.listTypes,e.useAttribute=!!n.useAttribute,n.listStyleTypes&&(e.listStyleTypes=n.listStyleTypes)):e.listTypes=[]),e}const ab="default";class uLe extends H{static get requires(){return[zr,lLe]}static get pluginName(){return"ListPropertiesEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const e=this.editor,t=e.model,i=e.plugins.get(zr),r=e.config.get("list.properties"),s=dLe(r);for(const o of s)o.addCommand(e),t.schema.extend("$listItem",{allowAttributes:o.attributeName}),i.registerDowncastStrategy({scope:"list",attributeName:o.attributeName,setAttributeOnDowncast(a,l,d){o.setAttributeOnDowncast(a,l,d)}});e.conversion.for("upcast").add(o=>{for(const a of s)o.on("element:ol",PL(a)),o.on("element:ul",PL(a))}),i.on("checkAttributes:list",(o,{viewElement:a,modelAttributes:l,modelReferenceElement:d})=>{for(const f of s)f.appliesToListItem(d)&&f.getAttributeOnUpcast(a)!=l[f.attributeName]&&(o.return=!0,o.stop())}),this.listenTo(e.commands.get("indentList"),"afterExecute",(o,a)=>{t.change(l=>{for(const d of a)for(const f of s)f.appliesToListItem(d)&&l.setAttribute(f.attributeName,f.defaultValue,d)})}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:d}of a)for(const f of s)f.hasValidAttribute(d)||(f.appliesToListItem(d)?l.setAttribute(f.attributeName,f.defaultValue,d):l.removeAttribute(f.attributeName,d),o.return=!0)}),i.on("postFixer",(o,{listNodes:a,writer:l})=>{for(const{node:d,previousNodeInList:f}of a)if(f&&f.getAttribute("listType")==d.getAttribute("listType"))for(const m of s){const{attributeName:p}=m;if(!m.appliesToListItem(d))continue;const w=f.getAttribute(p);d.getAttribute(p)!=w&&(l.setAttribute(p,w,d),o.return=!0)}})}}function dLe(n){const e=[],t=YQ(n);if(n.styles){const i=t.styles.useAttribute;e.push({attributeName:"listStyle",defaultValue:ab,viewConsumables:{styles:"list-style-type"},addCommand(r){let s=WQ();i&&(s=s.filter(o=>!!OI(o))),r.commands.add("listStyle",new oLe(r,ab,s))},appliesToListItem(r){return r.getAttribute("listType")=="numbered"||r.getAttribute("listType")=="bulleted"},hasValidAttribute(r){if(!this.appliesToListItem(r))return!r.hasAttribute("listStyle");if(!r.hasAttribute("listStyle"))return!1;const s=r.getAttribute("listStyle");return s==ab?!0:F5(s)==r.getAttribute("listType")},setAttributeOnDowncast(r,s,o){if(s&&s!==ab)if(i){const a=OI(s);if(a){r.setAttribute("type",a,o);return}}else{r.setStyle("list-style-type",s,o);return}r.removeStyle("list-style-type",o),r.removeAttribute("type",o)},getAttributeOnUpcast(r){const s=r.getStyle("list-style-type");if(s)return sLe(s);const o=r.getAttribute("type");return o?GQ(o):ab}})}return n.reversed&&e.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(i){i.commands.add("listReversed",new aLe(i))},appliesToListItem(i){return i.getAttribute("listType")=="numbered"},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listReversed")},setAttributeOnDowncast(i,r,s){r?i.setAttribute("reversed","reversed",s):i.removeAttribute("reversed",s)},getAttributeOnUpcast(i){return i.hasAttribute("reversed")}}),n.startIndex&&e.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(i){i.commands.add("listStart",new rLe(i))},appliesToListItem(i){return i1(i.getAttribute("listType"))},hasValidAttribute(i){return this.appliesToListItem(i)==i.hasAttribute("listStart")},setAttributeOnDowncast(i,r,s){r==0||r>1?i.setAttribute("start",r,s):i.removeAttribute("start",s)},getAttributeOnUpcast(i){const r=i.getAttribute("start");return r>=0?r:1}}),e}class KQ extends Me{children;stylesView=null;additionalPropertiesCollapsibleView=null;startIndexFieldView=null;reversedSwitchButtonView=null;focusTracker=new Ut;keystrokes=new tn;focusables=new Ai;focusCycler;constructor(e,{enabledProperties:t,styleButtonViews:i,styleGridAriaLabel:r}){super(e);const s=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new si({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i&&i.length?(this.stylesView=this._createStylesView(i,r),this.children.add(this.stylesView)):s.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t),s.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:s},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);yw({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Re.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const i=new Me(this.locale);return i.children=i.createCollection(),i.children.addMany(e),i.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:i.children}),i.children.delegate("execute").to(this),i.focus=function(){for(const r of this.children)if(r instanceof ze&&r.isOn){r.focus();return}this.children.first.focus()},i.focusTracker=new Ut,i.keystrokes=new tn,i.render(),i.keystrokes.listenTo(i.element),i}_addNumberedListPropertyViews(e){const t=this.locale.t,i=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),i.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),i.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new yZ(this.locale,i),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(i,"isEnabled",(...r)=>r.some(s=>s)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(r,s,o)=>{o||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(i)}_createStartIndexField(){const e=this.locale.t,t=new Xn(this.locale,TZ);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",()=>{const i=t.fieldView.element,r=i.valueAsNumber;if(Number.isNaN(r)){t.errorText=e("Invalid start index value.");return}i.checkValidity()?this.fire("listStart",{startIndex:r}):t.errorText=e("Start index must be greater than 0.")}),t}_createReversedSwitchButton(){const e=this.locale.t,t=new _w(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}class fLe extends H{static get pluginName(){return"ListPropertiesUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.locale.t,i=e.config.get("list.properties"),r=YQ(i),s=r.styles.listTypes;if(s.includes("bulleted")){const o=[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:JPe},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:qPe},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:tRe}],a=t("Bulleted List"),l=t("Bulleted list styles toolbar"),d="bulletedList";e.ui.componentFactory.add(d,RL({editor:e,normalizedConfig:r,parentCommandName:d,buttonLabel:a,buttonIcon:u5,styleGridAriaLabel:l,styleDefinitions:o})),e.ui.componentFactory.add(`menuBar:${d}`,OL({editor:e,normalizedConfig:r,parentCommandName:d,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}if(s.includes("numbered")||i.startIndex||i.reversed){const o=[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:QPe},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:ZPe},{label:t("Toggle the lowerroman list style"),tooltip:t("Lowerroman"),type:"lower-roman",icon:eRe},{label:t("Toggle the upperroman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:iRe},{label:t("Toggle the lowerlatin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:XPe},{label:t("Toggle the upperlatin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:nRe}],a=t("Numbered List"),l=t("Numbered list styles toolbar"),d="numberedList";e.ui.componentFactory.add(d,RL({editor:e,normalizedConfig:r,parentCommandName:d,buttonLabel:a,buttonIcon:d5,styleGridAriaLabel:l,styleDefinitions:o})),s.includes("numbered")&&e.ui.componentFactory.add(`menuBar:${d}`,OL({editor:e,normalizedConfig:r,parentCommandName:d,buttonLabel:a,styleGridAriaLabel:l,styleDefinitions:o}))}}}function RL({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:i,buttonIcon:r,styleGridAriaLabel:s,styleDefinitions:o}){const a=n.commands.get(t);return l=>{const d=ii(l,$u),f=d.buttonView;return d.bind("isEnabled").to(a),d.class="ck-list-styles-dropdown",f.on("execute",()=>{n.execute(t),n.editing.view.focus()}),f.set({label:i,icon:r,tooltip:!0,isToggleable:!0}),f.bind("isOn").to(a,"value",m=>!!m),d.once("change:isOpen",()=>{const m=hLe({editor:n,normalizedConfig:e,dropdownView:d,parentCommandName:t,styleGridAriaLabel:s,styleDefinitions:o});d.panelView.children.add(m)}),d.on("execute",()=>{n.editing.view.focus()}),d}}function qQ({editor:n,listStyleCommand:e,parentCommandName:t}){const i=n.locale,r=n.commands.get(t);return({label:s,type:o,icon:a,tooltip:l})=>{const d=new ze(i);return d.set({label:s,icon:a,tooltip:l}),d.bind("isOn").to(e,"value",f=>f===o),d.on("execute",()=>{r.value?e.value===o?n.execute(t):e.value!==o&&n.execute("listStyle",{type:o}):n.model.change(()=>{n.execute("listStyle",{type:o})})}),d}}function hLe({editor:n,normalizedConfig:e,dropdownView:t,parentCommandName:i,styleDefinitions:r,styleGridAriaLabel:s}){const o=n.locale,a={...e,...i!="numberedList"?{startIndex:!1,reversed:!1}:null},l=i.replace("List","");let d=null;if(e.styles.listTypes.includes(l)){const m=n.commands.get("listStyle"),p=qQ({editor:n,parentCommandName:i,listStyleCommand:m}),w=e.styles.listStyleTypes;let A=r;if(w){const S=w[l];S&&(A=r.filter(P=>S.includes(P.type)))}const x=ZQ(m);d=A.filter(x).map(p)}const f=new KQ(o,{styleGridAriaLabel:s,enabledProperties:a,styleButtonViews:d});if(e.styles.listTypes.includes(l)&&Xk(t,()=>f.stylesView.children.find(m=>m.isOn)),a.startIndex){const m=n.commands.get("listStart");f.startIndexFieldView.bind("isEnabled").to(m),f.startIndexFieldView.fieldView.bind("value").to(m),f.on("listStart",(p,w)=>n.execute("listStart",w))}if(a.reversed){const m=n.commands.get("listReversed");f.reversedSwitchButtonView.bind("isEnabled").to(m),f.reversedSwitchButtonView.bind("isOn").to(m,"value",p=>!!p),f.on("listReversed",()=>{const p=m.value;n.execute("listReversed",{reversed:!p})})}return f.delegate("execute").to(t),f}function OL({editor:n,normalizedConfig:e,parentCommandName:t,buttonLabel:i,styleGridAriaLabel:r,styleDefinitions:s}){return o=>{const a=new cr(o),l=n.commands.get(t),d=n.commands.get("listStyle"),f=ZQ(d),m=qQ({editor:n,parentCommandName:t,listStyleCommand:d}),p=e.styles.listStyleTypes;let w=s;if(p){const S=l.type,P=p[S];P&&(w=s.filter(I=>P.includes(I.type)))}const A=w.filter(f).map(m),x=new KQ(o,{styleGridAriaLabel:r,enabledProperties:{...e,startIndex:!1,reversed:!1},styleButtonViews:A});return x.delegate("execute").to(a),a.buttonView.set({label:i,icon:t==="bulletedList"?u5:d5}),a.panelView.children.add(x),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",()=>{n.editing.view.focus()}),a}}function ZQ(n){return typeof n.isStyleTypeSupported=="function"?e=>n.isStyleTypeSupported(e.type):()=>!0}class mLe extends H{static get requires(){return[uLe,fLe]}static get pluginName(){return"ListProperties"}static get isOfficialPlugin(){return!0}}class gLe extends Je{constructor(e){super(e),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const e=this._getSelectedItems();this.value=this._getValue(e),this.isEnabled=!!e.length}execute(e={}){this.editor.model.change(t=>{const i=this._getSelectedItems(),r=e.forceValue===void 0?!this._getValue(i):e.forceValue;for(const s of i)r?t.setAttribute("todoListChecked",!0,s):t.removeAttribute("todoListChecked",s)})}_getValue(e){return e.every(t=>t.getAttribute("todoListChecked"))}_getSelectedItems(){const e=this.editor.model,t=e.schema,i=e.document.selection.getFirstRange(),r=i.start.parent,s=[];t.checkAttribute(r,"todoListChecked")&&s.push(...bc(r));for(const o of i.getItems({shallow:!0}))t.checkAttribute(o,"todoListChecked")&&!s.includes(o)&&s.push(...bc(o));return s}}class pLe extends Ja{domEventType=["change"];onDomEvent(e){if(e.target){const t=this.view.domConverter.mapDomToView(e.target);t&&t.is("element","input")&&t.getAttribute("type")=="checkbox"&&t.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const bLe=jk("Ctrl+Enter");class vLe extends H{static get pluginName(){return"TodoListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zr]}init(){const e=this.editor,t=e.model,i=e.editing,r=e.plugins.get(zr),o=e.config.get("list.multiBlock")?"paragraph":"listItem";e.commands.add("todoList",new bb(e,"todo")),e.commands.add("checkTodoList",new gLe(e)),i.view.addObserver(pLe),t.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),t.schema.addAttributeCheck(a=>{const l=a.last;if(!l.getAttribute("listItemId")||l.getAttribute("listType")!="todo")return!1},"todoListChecked"),e.conversion.for("upcast").add(a=>{a.on("element:input",yLe()),a.on("element:li",wLe(),{priority:"low"}),a.on("element:label",DE({name:"label",classes:"todo-list__label"})),a.on("element:label",DE({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),a.on("element:span",DE({name:"span",classes:"todo-list__label__description"})),a.on("element:ul",_Le({name:"ul",classes:"todo-list"}))}),e.conversion.for("downcast").elementToElement({model:o,view:(a,{writer:l})=>{if(J_(a,r.getListAttributeNames()))return l.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),r.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(a,l,d){l=="todo"?a.addClass("todo-list",d):a.removeClass("todo-list",d)}}),r.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(a,l,{dataPipeline:d}){if(l.getAttribute("listType")!="todo")return null;const f=a.createUIElement("input",{type:"checkbox",...l.getAttribute("todoListChecked")?{checked:"checked"}:null,...d?{disabled:"disabled"}:{tabindex:"-1"}});if(d)return f;const m=a.createContainerElement("span",{contenteditable:"false"},f);return m.getFillerOffset=()=>null,m},canWrapElement(a){return J_(a,r.getListAttributeNames())},createWrapperElement(a,l,{dataPipeline:d}){const f=["todo-list__label"];return J_(l,r.getListAttributeNames())||f.push("todo-list__label_without-description"),a.createAttributeElement(d?"label":"span",{class:f.join(" ")})}}),r.on("checkElement",(a,{modelElement:l,viewElement:d})=>{const f=J_(l,r.getListAttributeNames());d.hasClass("todo-list__label__description")!=f&&(a.return=!0,a.stop())}),r.on("checkElement",(a,{modelElement:l,viewElement:d})=>{const f=l.getAttribute("listType")=="todo"&&$a(l);let m=!1;const p=e.editing.view.createPositionBefore(d).getWalker({direction:"backward"});for(const{item:w}of p){if(w.is("element")&&e.editing.mapper.toModelElement(w))break;w.is("element","input")&&w.getAttribute("type")=="checkbox"&&(m=!0)}m!=f&&(a.return=!0,a.stop())}),r.on("postFixer",(a,{listNodes:l,writer:d})=>{for(const{node:f,previousNodeInList:m}of l){if(!m||m.getAttribute("listItemId")!=f.getAttribute("listItemId"))continue;const p=m.hasAttribute("todoListChecked"),w=f.hasAttribute("todoListChecked");w&&!p?(d.removeAttribute("todoListChecked",f),a.return=!0):!w&&p&&(d.setAttribute("todoListChecked",!0,f),a.return=!0)}}),t.document.registerPostFixer(a=>{const l=t.document.differ.getChanges();let d=!1;for(const f of l)if(f.type=="attribute"&&f.attributeKey=="listType"){const m=f.range.start.nodeAfter;f.attributeOldValue=="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),d=!0)}else if(f.type=="insert"&&f.name!="$text")for(const{item:m}of a.createRangeOn(f.position.nodeAfter))m.is("element")&&m.getAttribute("listType")!="todo"&&m.hasAttribute("todoListChecked")&&(a.removeAttribute("todoListChecked",m),d=!0);return d}),this.listenTo(i.view.document,"keydown",(a,l)=>{pf(l)===bLe&&(e.execute("checkTodoList"),a.stop())},{priority:"high"}),this.listenTo(i.view.document,"todoCheckboxChange",(a,l)=>{const d=l.target;if(!d||!d.is("element","input"))return;const f=i.view.createPositionAfter(d),p=i.mapper.toModelPosition(f).parent;p&&Ht(p)&&p.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(p)}),this.listenTo(i.view.document,"arrowKey",kLe(t,e.locale),{context:"$text"}),this.listenTo(i.mapper,"viewToModelPosition",(a,l)=>{const d=l.viewPosition.parent,f=d.is("attributeElement","li")&&l.viewPosition.offset==0,m=DL(d)&&l.viewPosition.offset<=1,p=d.is("element","span")&&d.getAttribute("contenteditable")=="false"&&DL(d.parent);if(!f&&!m&&!p)return;const w=l.modelPosition.nodeAfter;w&&w.getAttribute("listType")=="todo"&&(l.modelPosition=t.createPositionAt(w,0))},{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(e){const t=this.editor,i=t.model,r=Array.from(i.document.selection.getRanges());i.change(s=>{s.setSelection(e,"end"),t.execute("checkTodoList"),s.setSelection(r)})}_initAriaAnnouncements(){const{model:e,ui:t,t:i}=this.editor;let r=null;t&&e.document.selection.on("change:range",()=>{const s=e.document.selection.focus.parent,o=NL(r),a=NL(s);o&&!a?t.ariaLiveAnnouncer.announce(i("Leaving a to-do list")):!o&&a&&t.ariaLiveAnnouncer.announce(i("Entering a to-do list")),r=s})}}function wLe(){return(n,e,t)=>{const{writer:i,schema:r}=t;if(!e.modelRange)return;const s=Array.from(e.modelRange.getItems({shallow:!0})).filter(o=>o.getAttribute("listType")==="todo"&&r.checkAttribute(o,"listItemId")).reduce((o,a)=>{const l=a.getAttribute("listItemId");return o.has(l)||o.set(l,bc(a)),o},new Map);for(const[,o]of s.entries())if(o.some(a=>a.getAttribute("todoListChecked")))for(const a of o)i.setAttribute("todoListChecked",!0,a)}}function yLe(){return(n,e,t)=>{const i=e.modelCursor,r=i.parent,s=e.viewItem;if(!t.consumable.test(s,{name:!0})||s.getAttribute("type")!="checkbox"||!i.isAtStart||!r.hasAttribute("listType"))return;t.consumable.consume(s,{name:!0});const o=t.writer;o.setAttribute("listType","todo",r),e.viewItem.hasAttribute("checked")&&o.setAttribute("todoListChecked",!0,r),e.modelRange=o.createRange(i)}}function DE(n){const e=new Fr(n);return(t,i,r)=>{const s=e.match(i.viewItem);s&&r.consumable.consume(i.viewItem,s.match)&&Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor))}}function _Le(n){const e=new Fr(n);return(t,i,r)=>{const s=e.match(i.viewItem);if(!s)return;const o=s.match;o.name=!1,r.consumable.consume(i.viewItem,o)}}function J_(n,e){return(n.is("element","paragraph")||n.is("element","listItem"))&&n.getAttribute("listType")=="todo"&&$a(n)&&ALe(n,e)}function ALe(n,e){for(const t of n.getAttributeKeys())if(!t.startsWith("selection:")&&!e.includes(t))return!1;return!0}function kLe(n,e){return(t,i)=>{const r=Uk(i.keyCode,e.contentLanguageDirection),s=n.schema,o=n.document.selection;if(!o.isCollapsed)return;const a=o.getFirstPosition(),l=a.parent;if(r=="right"&&a.isAtEnd){const d=s.getNearestSelectionRange(n.createPositionAfter(l),"forward");if(!d)return;const f=d.start.parent;f&&Ht(f)&&f.getAttribute("listType")=="todo"&&(n.change(m=>m.setSelection(d)),i.preventDefault(),i.stopPropagation(),t.stop())}else if(r=="left"&&a.isAtStart&&Ht(l)&&l.getAttribute("listType")=="todo"){const d=s.getNearestSelectionRange(n.createPositionBefore(l),"backward");if(!d)return;n.change(f=>f.setSelection(d)),i.preventDefault(),i.stopPropagation(),t.stop()}}}function DL(n){return!!n&&n.is("attributeElement")&&n.hasClass("todo-list__label")}function NL(n){return!n||!n.is("element","paragraph")&&!n.is("element","listItem")?!1:n.getAttribute("listType")=="todo"}class xLe extends H{static get pluginName(){return"TodoListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;RI(this.editor,"todoList",e("To-do List"),VRe)}}class CLe extends H{static get requires(){return[vLe,xLe]}static get pluginName(){return"TodoList"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function ML(n,e){const t=(i,r,s)=>{if(!s.consumable.consume(r.item,i.name))return;const o=r.attributeNewValue,a=s.writer,l=s.mapper.toViewElement(r.item),d=[...l.getChildren()].find(m=>m.getCustomProperty("media-content"));a.remove(d);const f=n.getMediaViewElement(a,o,e);a.insert(a.createPositionAt(l,0),f)};return i=>{i.on("attribute:url:media",t)}}function SLe(n,e,t){return e.setCustomProperty("media",!0,n),Cc(n,e,{label:t})}function BL(n,e,t,i){return n.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(n,t,i),n.createSlot()])}function VL(n){const e=n.getSelectedElement();return e&&e.is("element","media")?e:null}function QQ(n,e,t,i){n.change(r=>{const s=r.createElement("media",{url:e});n.insertObject(s,t,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class ELe extends Je{refresh(){const e=this.editor.model,t=e.document.selection,i=VL(t);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=ILe(t)||TLe(t,e)}execute(e){const t=this.editor.model,i=t.document.selection,r=VL(i);r?t.change(s=>{s.setAttribute("url",e,r)}):QQ(t,e,i,!0)}}function TLe(n,e){let i=Sw(n,e).start.parent;return i.isEmpty&&!e.schema.isLimit(i)&&(i=i.parent),e.schema.checkChild(i,"media")}function ILe(n){const e=n.getSelectedElement();return!!e&&e.name==="media"}const PLe="0 0 64 42";class RLe{locale;providerDefinitions;constructor(e,t){const i=t.providers,r=t.extraProviders||[],s=new Set(t.removeProviders),o=i.concat(r).filter(a=>{const l=a.name;return l?!s.has(l):(vt("media-embed-no-provider-name",{provider:a}),!1)});this.locale=e,this.providerDefinitions=o}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,i){return this._getMedia(t).getViewElement(e,i)}_getMedia(e){if(!e)return new LL(this.locale);e=e.trim();for(const t of this.providerDefinitions){const i=t.html,r=Jt(t.url);for(const s of r){const o=this._getUrlMatches(e,s);if(o)return new LL(this.locale,e,o,i)}}return null}_getUrlMatches(e,t){let i=e.match(t);if(i)return i;let r=e.replace(/^https?:\/\//,"");return i=r.match(t),i||(r=r.replace(/^www\./,""),i=r.match(t),i)?i:null}}class LL{url;_locale;_match;_previewRenderer;constructor(e,t,i,r){this.url=this._getValidUrl(t),this._locale=e,this._match=i,this._previewRenderer=r}getViewElement(e,t){const i={};let r;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),t.renderForEditingView&&(i.class="ck-media__wrapper");const s=this._getPreviewHtml(t);r=e.createRawElement("div",i,(o,a)=>{a.setContentOf(o,s)})}else this.url&&(i.url=this.url),r=e.createEmptyElement(t.elementName,i);return e.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Vs,t=this._locale.t;return e.content=oRe,e.viewBox=PLe,new Mr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}class r1 extends H{static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}registry;constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const i=t[1],r=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i}${r?`?start=${r}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new RLe(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,i=e.t,r=e.conversion,s=e.config.get("mediaEmbed.previewsInData"),o=e.config.get("mediaEmbed.elementName"),a=this.registry;e.commands.add("mediaEmbed",new ELe(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:(l,{writer:d})=>{const f=l.getAttribute("url");return BL(d,a,f,{elementName:o,renderMediaPreview:!!f&&s})}}),r.for("dataDowncast").add(ML(a,{elementName:o,renderMediaPreview:s})),r.for("editingDowncast").elementToStructure({model:"media",view:(l,{writer:d})=>{const f=l.getAttribute("url"),m=BL(d,a,f,{elementName:o,renderForEditingView:!0});return SLe(m,d,i("media widget"))}}),r.for("editingDowncast").add(ML(a,{elementName:o,renderForEditingView:!0})),r.for("upcast").elementToElement({view:l=>["oembed",o].includes(l.name)&&l.getAttribute("url")?{name:!0}:null,model:(l,{writer:d})=>{const f=l.getAttribute("url");return a.hasMedia(f)?d.createElement("media",{url:f}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(l,{writer:d})=>{const f=l.getAttribute("data-oembed-url");return a.hasMedia(f)?d.createElement("media",{url:f}):null}}).add(l=>{const d=(f,m,p)=>{if(!p.consumable.consume(m.viewItem,{name:!0,classes:"media"}))return;const{modelRange:w,modelCursor:A}=p.convertChildren(m.viewItem,m.modelCursor);m.modelRange=w,m.modelCursor=A,sn(w.getItems())||p.consumable.revert(m.viewItem,{name:!0,classes:"media"})};l.on("element:figure",d)})}}const OLe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class DLe extends H{static get requires(){return[S5,Ua,P5]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const s=t.selection.getFirstRange(),o=Fn.fromPosition(s.start);o.stickiness="toPrevious";const a=Fn.fromPosition(s.end);a.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(o,a),o.detach(),a.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Re.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const i=this.editor,r=i.plugins.get(r1).registry,s=new Dr(e,t),o=s.getWalker({ignoreElementEnd:!0});let a="";for(const d of o)d.item.is("$textProxy")&&(a+=d.item.data);if(a=a.trim(),!a.match(OLe)){s.detach();return}if(!r.hasMedia(a)){s.detach();return}if(!i.commands.get("mediaEmbed").isEnabled){s.detach();return}this._positionToInsert=Fn.fromPosition(e),this._timeoutId=Re.window.setTimeout(()=>{i.model.change(d=>{this._timeoutId=null,d.remove(s),s.detach();let f=null;this._positionToInsert.root.rootName!=="$graveyard"&&(f=this._positionToInsert),QQ(i.model,a,f,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get(Ua).requestUndoOnBackspace()},100)}}class NLe extends Me{focusTracker;keystrokes;urlInputView;_validators;_urlInputViewInfoDefault;_urlInputViewInfoTip;constructor(e,t){super(t),this.focusTracker=new Ut,this.keystrokes=new tn,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),xc({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Xn(this.locale,_r),i=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,i.inputMode="url",i.on("input",()=>{t.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),t}}class MLe extends H{static get requires(){return[r1,vs]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}_formView;init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",()=>{const t=this.editor.locale.t,i=this._createDialogButton(ze);return i.tooltip=!0,i.label=t("Insert media"),i}),e.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const t=this.editor.locale.t,i=this._createDialogButton(Yt);return i.label=t("Media"),i})}_createDialogButton(e){const t=this.editor,i=new e(t.locale),r=t.commands.get("mediaEmbed"),s=this.editor.plugins.get("Dialog");return i.icon=aRe,i.bind("isEnabled").to(r,"isEnabled"),i.on("execute",()=>{s.id==="mediaEmbed"?s.hide():this._showDialog()}),i}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.commands.get("mediaEmbed"),r=e.locale.t,s=i.value!==void 0;if(!this._formView){const o=e.plugins.get(r1).registry;this._formView=new(Um(NLe))(BLe(e.t,o),e.locale),this._formView.on("submit",()=>this._handleSubmitForm())}t.show({id:"mediaEmbed",title:r("Media embed"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=i.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>t.hide()},{label:r(s?"Save":"Insert"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,t=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),t.hide(),e.editing.view.focus())}}function BLe(n,e){return[t=>{if(!t.url.length)return n("The URL must not be empty.")},t=>{if(!e.hasMedia(t.url))return n("This media URL is not supported.")}]}class VLe extends H{static get requires(){return[r1,MLe,DLe,el]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const FL={"(":")","[":"]","{":"}"};class LLe extends Je{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"mention")}execute(e){const t=this.editor.model,r=t.document.selection,s=typeof e.mention=="string"?{id:e.mention}:e.mention,o=s.id,a=e.range||r.getFirstRange();if(!t.canEditAt(a))return;const l=e.text||o,d=JQ({_text:l,id:o},s);if(!o.startsWith(e.marker))throw new z("mentioncommand-incorrect-id",this);t.change(f=>{const m=$o(r.getAttributes()),p=new Map(m.entries());p.set("mention",d);const w=t.insertContent(f.createText(l,p),a),A=w.start.nodeBefore,x=w.end.nodeAfter,S=x&&x.is("$text")&&x.data.startsWith(" ");let P=!1;if(A&&x&&A.is("$text")&&x.is("$text")){const I=A.data.slice(-1),O=I in FL,M=O&&x.data.startsWith(FL[I]);P=O&&M}!P&&!S&&t.insertContent(f.createText(" ",m),a.start.getShiftedBy(l.length))})}}class FLe extends H{static get pluginName(){return"MentionEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model,i=t.document;t.schema.extend("$text",{allowAttributes:"mention"}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",attributes:"data-mention",classes:"mention"},model:{key:"mention",value:r=>XQ(r)}}),e.conversion.for("downcast").attributeToElement({model:"mention",view:jLe}),e.conversion.for("downcast").add(zLe),i.registerPostFixer(r=>HLe(r,i,t.schema)),i.registerPostFixer(r=>WLe(r,i)),i.registerPostFixer(r=>ULe(r,i)),e.commands.add("mention",new LLe(e))}}function JQ(n,e){return Object.assign({uid:Xi()},n,e||{})}function XQ(n,e){const t=n.getAttribute("data-mention"),i=n.getChild(0);if(!i)return;const r={id:t,_text:i.data};return JQ(r,e)}function zLe(n){n.on("attribute:mention",(e,t,i)=>{const r=t.attributeNewValue;if(!t.item.is("$textProxy")||!r)return;const s=t.range.start;(s.textNode||s.nodeAfter).data!=r._text&&i.consumable.consume(t.item,e.name)},{priority:"highest"})}function jLe(n,{writer:e}){if(!n)return;const t={class:"mention","data-mention":n.id},i={id:n.uid,priority:20};return e.createAttributeElement("span",t,i)}function ULe(n,e){const t=e.selection,i=t.focus;return t.isCollapsed&&t.hasAttribute("mention")&&$Le(i)?(n.removeSelectionAttribute("mention"),!0):!1}function $Le(n){const e=n.isAtStart;return n.nodeBefore&&n.nodeBefore.is("$text")||e}function HLe(n,e,t){const i=e.differ.getChanges();let r=!1;for(const s of i){if(s.type=="attribute")continue;const o=s.position;if(s.name=="$text"){const a=o.textNode&&o.textNode.nextSibling;r=Rd(o.textNode,n)||r,r=Rd(a,n)||r,r=Rd(o.nodeBefore,n)||r,r=Rd(o.nodeAfter,n)||r}if(s.name!="$text"&&s.type=="insert"){const a=o.nodeAfter;for(const l of n.createRangeIn(a).getItems())r=Rd(l,n)||r}if(s.type=="insert"&&t.isInline(s.name)){const a=o.nodeAfter&&o.nodeAfter.nextSibling;r=Rd(o.nodeBefore,n)||r,r=Rd(a,n)||r}}return r}function WLe(n,e){const t=e.differ.getChanges();let i=!1;for(const r of t)if(r.type==="attribute"&&r.attributeKey!="mention"){const s=r.range.start.nodeBefore,o=r.range.end.nodeAfter;for(const a of[s,o])eJ(a)&&a.getAttribute(r.attributeKey)!=r.attributeNewValue&&(n.setAttribute(r.attributeKey,r.attributeNewValue,a),i=!0)}return i}function eJ(n){if(!n||!(n.is("$text")||n.is("$textProxy"))||!n.hasAttribute("mention"))return!1;const e=n.data,i=n.getAttribute("mention")._text;return e!=i}function Rd(n,e){return eJ(n)?(e.removeAttribute("mention",n),!0):!1}class GLe extends Df{selected;position;constructor(e){super(e),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected,t=this.items.getIndex(e);this.select(t+1)}selectPrevious(){const e=this.selected,t=this.items.getIndex(e);this.select(t-1)}select(e){let t=0;e>0&&e<this.items.length?t=e:e<0&&(t=this.items.length-1);const i=this.items.get(t);this.selected!==i&&(this.selected&&this.selected.removeHighlight(),i.highlight(),this.selected=i,this._isItemVisibleInScrolledArea(i)||(this.element.scrollTop=i.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(e){return new rt(this.element).contains(new rt(e.element))}}class YLe extends Me{domElement;constructor(e,t){super(e),this.template=void 0,this.domElement=t,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(i,r,s)=>{s?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}focus(){this.domElement.focus()}}class KLe extends no{item;marker;highlight(){const e=this.children.first;e.isOn=!0}removeHighlight(){const e=this.children.first;e.isOn=!1}}const X_=3,qLe=[_t.arrowup,_t.arrowdown,_t.esc],ZLe=[_t.enter,_t.tab];class QLe extends H{_mentionsView;_mentionsConfigurations;_balloon;_items=new hi;_lastRequested;_requestFeedDebounced;static get pluginName(){return"MentionUI"}static get isOfficialPlugin(){return!0}static get requires(){return[xr]}constructor(e){super(e),this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=Ps(this._requestFeed,100),e.config.define("mention",{feeds:[]})}init(){const e=this.editor,t=e.config.get("mention.commitKeys")||ZLe,i=qLe.concat(t);this._balloon=e.plugins.get(xr),e.editing.view.document.on("keydown",(o,a)=>{s(a.keyCode)&&this._isUIVisible&&(a.preventDefault(),o.stop(),a.keyCode==_t.arrowdown&&this._mentionsView.selectNext(),a.keyCode==_t.arrowup&&this._mentionsView.selectPrevious(),t.includes(a.keyCode)&&this._mentionsView.executeSelected(),a.keyCode==_t.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),Xo({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const r=e.config.get("mention.feeds");for(const o of r){const{feed:a,marker:l,dropdownLimit:d}=o;if(!rFe(l))throw new z("mentionconfig-incorrect-marker",null,{marker:l});const f=typeof a=="function"?a.bind(this.editor):tFe(a),m=o.itemRenderer,p={marker:l,feedCallback:f,itemRenderer:m,dropdownLimit:d};this._mentionsConfigurations.set(l,p)}this._setupTextWatcher(r),this.listenTo(e,"change:isReadOnly",()=>{this._hideUIAndRemoveMarker()}),this.on("requestFeed:response",(o,a)=>this._handleFeedResponse(a)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker());function s(o){return i.includes(o)}}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale,t=new GLe(e);return t.items.bindTo(this._items).using(i=>{const{item:r,marker:s}=i,{dropdownLimit:o}=this._mentionsConfigurations.get(s),a=o||this.editor.config.get("mention.dropdownLimit")||10;if(t.items.length>=a)return null;const l=new KLe(e),d=this._renderItem(r,s);return d.delegate("execute").to(l),l.children.add(d),l.item=r,l.marker=s,l.on("execute",()=>{t.fire("execute",{item:r,marker:s})}),l}),t.on("execute",(i,r)=>{const s=this.editor,o=s.model,a=r.item,l=r.marker,d=s.model.markers.get("mention"),f=o.createPositionAt(o.document.selection.focus),m=o.createPositionAt(d.getStart()),p=o.createRange(m,f);this._hideUIAndRemoveMarker(),s.execute("mention",{mention:a,text:a.text,marker:l,range:p}),s.editing.view.focus()}),t}_getItemRenderer(e){const{itemRenderer:t}=this._mentionsConfigurations.get(e);return t}_requestFeed(e,t){this._lastRequested=t;const{feedCallback:i}=this._mentionsConfigurations.get(e),r=i(t);if(!(r instanceof Promise)){this.fire("requestFeed:response",{feed:r,marker:e,feedText:t});return}r.then(o=>{this._lastRequested==t?this.fire("requestFeed:response",{feed:o,marker:e,feedText:t}):this.fire("requestFeed:discarded",{feed:o,marker:e,feedText:t})}).catch(o=>{this.fire("requestFeed:error",{error:o}),vt("mention-feed-callback-error",{marker:e})})}_setupTextWatcher(e){const t=this.editor,i=e.map(o=>({...o,pattern:nJ(o.marker,o.minimumCharacters||0)})),r=new k5(t.model,XLe(i));r.on("matched",(o,a)=>{const l=tJ(i,a.text),f=t.model.document.selection.focus,m=t.model.createPositionAt(f.parent,l.position);if(nFe(f)||iFe(m)){this._hideUIAndRemoveMarker();return}const p=eFe(l,a.text),w=l.marker.length+p.length,A=f.getShiftedBy(-w),x=f.getShiftedBy(-p.length),S=t.model.createRange(A,x);if(NE(t)){const P=t.model.markers.get("mention");t.model.change(I=>{I.updateMarker(P,{range:S})})}else t.model.change(P=>{P.addMarker("mention",{range:S,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(l.marker,p)}),r.on("unmatched",()=>{this._hideUIAndRemoveMarker()});const s=t.commands.get("mention");return r.bind("isEnabled").to(s),r}_handleFeedResponse(e){const{feed:t,marker:i}=e;if(!NE(this.editor))return;this._items.clear();for(const s of t){const o=typeof s!="object"?{id:s,text:s}:s;this._items.add({item:o,marker:i})}const r=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(r):this._hideUIAndRemoveMarker()}_showOrUpdateUI(e){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),singleViewMode:!0,balloonClassName:"ck-mention-balloon"}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),NE(this.editor)&&this.editor.model.change(e=>e.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(e,t){const i=this.editor;let r,s=e.id;const o=this._getItemRenderer(t);if(o){const a=o(e);typeof a!="string"?r=new YLe(i.locale,a):s=a}if(!r){const a=new ze(i.locale);a.label=s,a.withText=!0,r=a}return r}_getBalloonPanelPositionData(e,t){const i=this.editor,r=i.editing,s=r.view.domConverter,o=r.mapper,a=i.locale.uiLanguageDirection;return{target:()=>{let l=e.getRange();l.start.root.rootName=="$graveyard"&&(l=i.model.document.selection.getFirstRange());const d=o.toViewRange(l);return rt.getDomRangeRects(s.viewRangeToDom(d)).pop()},limiter:()=>{const l=this.editor.editing.view,f=l.document.selection.editableElement;return f?l.domConverter.mapViewToDom(f.root):null},positions:JLe(t,a)}}}function JLe(n,e){const t={caret_se:i=>({top:i.bottom+X_,left:i.right,name:"caret_se",config:{withArrow:!1}}),caret_ne:(i,r)=>({top:i.top-r.height-X_,left:i.right,name:"caret_ne",config:{withArrow:!1}}),caret_sw:(i,r)=>({top:i.bottom+X_,left:i.right-r.width,name:"caret_sw",config:{withArrow:!1}}),caret_nw:(i,r)=>({top:i.top-r.height-X_,left:i.right-r.width,name:"caret_nw",config:{withArrow:!1}})};return Object.prototype.hasOwnProperty.call(t,n)?[t[n]]:e!=="rtl"?[t.caret_se,t.caret_sw,t.caret_ne,t.caret_nw]:[t.caret_sw,t.caret_se,t.caret_nw,t.caret_ne]}function tJ(n,e){let t;for(const i of n){const r=e.lastIndexOf(i.marker);r>0&&!e.substring(r-1).match(i.pattern)||(!t||r>=t.position)&&(t={marker:i.marker,position:r,minimumCharacters:i.minimumCharacters,pattern:i.pattern})}return t}function nJ(n,e){const t=e==0?"*":`{${e},}`,i=nt.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`,r=".";n=n.replace(/[.*+?^${}()\-|[\]\\]/g,"\\$&");const s=`(?:^|[ ${i}])(${n})(${r}${t})$`;return new RegExp(s,"u")}function XLe(n){return t=>{const i=tJ(n,t);if(!i)return!1;let r=0;i.position!==0&&(r=i.position-1);const s=t.substring(r);return i.pattern.test(s)}}function eFe(n,e){let t=0;n.position!==0&&(t=n.position-1);const i=nJ(n.marker,0);return e.substring(t).match(i)[2]}function tFe(n){return e=>n.filter(i=>(typeof i=="string"?i:String(i.id)).toLowerCase().includes(e.toLowerCase()))}function nFe(n){const e=n.textNode&&n.textNode.hasAttribute("mention"),t=n.nodeBefore;return e||t&&t.is("$text")&&t.hasAttribute("mention")}function iFe(n){const e=n.nodeAfter;return e&&e.is("$text")&&e.hasAttribute("mention")}function rFe(n){return!!n}function NE(n){return n.model.markers.has("mention")}class sFe extends H{toMentionAttribute(e,t){return XQ(e,t)}static get pluginName(){return"Mention"}static get isOfficialPlugin(){return!0}static get requires(){return[FLe,QLe]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class oFe extends Je{refresh(){const e=this.editor.model,t=e.schema,i=e.document.selection;this.isEnabled=aFe(i,t,e)}execute(){const e=this.editor.model;e.change(t=>{const i=t.createElement("pageBreak");e.insertObject(i,null,null,{setSelection:"after"})})}}function aFe(n,e,t){const i=lFe(n,t);return e.checkChild(i,"pageBreak")}function lFe(n,e){const i=Sw(n,e).start.parent;return i.isEmpty&&!i.is("element","$root")?i.parent:i}class cFe extends H{static get pluginName(){return"PageBreakEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.model.schema,i=e.t,r=e.conversion;t.register("pageBreak",{inheritAllFrom:"$blockObject"}),r.for("dataDowncast").elementToStructure({model:"pageBreak",view:(s,{writer:o})=>o.createContainerElement("div",{class:"page-break",style:"page-break-after: always"},o.createContainerElement("span",{style:"display: none"}))}),r.for("editingDowncast").elementToStructure({model:"pageBreak",view:(s,{writer:o})=>{const a=i("Page break"),l=o.createContainerElement("div"),d=o.createRawElement("span",{class:"page-break__label"},function(f){f.innerText=i("Page break")});return o.addClass("page-break",l),o.insert(o.createPositionAt(l,0),d),uFe(l,o,a)}}),r.for("upcast").elementToElement({view:s=>{const o=s.getStyle("page-break-before")=="always",a=s.getStyle("page-break-after")=="always";if(!o&&!a)return null;if(s.childCount==1){const l=s.getChild(0);if(!l.is("element","span")||l.getStyle("display")!="none")return null}else if(s.childCount>1)return null;return{name:!0,styles:[...o?["page-break-before"]:[],...a?["page-break-after"]:[]],...s.hasClass("page-break")&&{classes:["page-break"]}}},model:"pageBreak",converterPriority:"high"}),e.commands.add("pageBreak",new oFe(e))}}function uFe(n,e,t){return e.setCustomProperty("pageBreak",!0,n),Cc(n,e,{label:t})}class dFe extends H{static get pluginName(){return"PageBreakUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("pageBreak",()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:pageBreak",()=>this._createButton(Yt))}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("pageBreak"),s=new e(t.locale),o=i.t;return s.set({label:o("Page break"),icon:mRe}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute("pageBreak"),t.editing.view.focus()}),s}}class fFe extends H{static get requires(){return[cFe,dFe,el]}static get pluginName(){return"PageBreak"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function hFe(n,e){const t=[];for(const i of e.createRangeIn(n)){const r=i.item;r.is("element","a")&&!r.hasAttribute("href")&&(r.hasAttribute("id")||r.hasAttribute("name"))&&t.push(r)}for(const i of t){const r=i.parent.getChildIndex(i)+1,s=i.getChildren();e.insertChild(r,s,i.parent)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iJ(n){const e=parseFloat(n);return n.endsWith("pt")?im(e*96/72):n.endsWith("pc")?im(e*12*96/72):n.endsWith("in")?im(e*96):n.endsWith("cm")?im(e*96/2.54):n.endsWith("mm")?im(e/10*96/2.54):n}function zL(n){return n!==void 0&&n.endsWith("px")}function im(n){return Math.round(n)+"px"}function mFe(n,e,t){if(!n.childCount)return;const i=new Bs(n.document),r=pFe(n,i);if(!r.length)return;const s={},o=[];for(const a of r)if(a.indent!==void 0){bFe(a)||(o.length=0);const l=`${a.id}:${a.indent}`,d=Math.min(a.indent-1,o.length);if(d<o.length&&o[d].id!==a.id&&(o.length=d),d<o.length-1)o.length=d+1;else{const m=vFe(a,e);if(d>o.length-1||o[d].listElement.name!=m.type){d==0&&m.type=="ol"&&a.id!==void 0&&s[l]&&(m.startIndex=s[l]);const p=AFe(m,i,t);if(zL(a.marginLeft)&&(d==0||zL(o[d-1].marginLeft))){let w=a.marginLeft;d>0&&(w=im(parseFloat(w)-parseFloat(o[d-1].marginLeft))),i.setStyle("padding-left",w,p)}if(o.length==0){const w=a.element.parent,A=w.getChildIndex(a.element)+1;i.insertChild(A,p,w)}else{const w=o[d-1].listItemElements;i.appendChild(p,w[w.length-1])}o[d]={...a,listElement:p,listItemElements:[]},d==0&&a.id!==void 0&&(s[l]=m.startIndex||1)}}const f=a.element.name=="li"?a.element:i.createElement("li");i.appendChild(f,o[d].listElement),o[d].listItemElements.push(f),d==0&&a.id!==void 0&&s[l]++,a.element!=f&&i.appendChild(a.element,f),xFe(a.element,i),i.removeStyle("text-indent",a.element),i.removeStyle("margin-left",a.element)}else{const l=o.find(d=>d.marginLeft==a.marginLeft);if(l){const d=l.listItemElements;i.appendChild(a.element,d[d.length-1]),i.removeStyle("margin-left",a.element)}else o.length=0}}function gFe(n,e){for(const t of e.createRangeIn(n)){const i=t.item;if(i.is("element","li")){const r=i.getChild(0);r&&r.is("element","p")&&e.unwrapElement(r)}}}function pFe(n,e){const t=e.createRangeIn(n),i=[],r=new Set;for(const s of t.getItems()){if(!s.is("element")||!s.name.match(/^(p|h\d+|li|div)$/))continue;let o=CFe(s);if(o!==void 0&&parseFloat(o)==0&&!Array.from(s.getClassNames()).find(a=>a.startsWith("MsoList"))&&(o=void 0),s.hasStyle("mso-list")||o!==void 0&&r.has(o)){const a=kFe(s);i.push({element:s,id:a.id,order:a.order,indent:a.indent,marginLeft:o}),o!==void 0&&r.add(o)}else r.clear()}return i}function bFe(n){const e=n.element.previousSibling;if(!e){const t=n.element.parent;return ME(t)&&(!t.previousSibling||ME(t.previousSibling))}return ME(e)}function ME(n){return n.is("element","ol")||n.is("element","ul")}function vFe(n,e){const t=new RegExp(`@list l${n.id}:level${n.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,r=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,s=new RegExp(`@list\\s+l${n.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),o=new RegExp(`@list l${n.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=s.exec(e),l=o.exec(e),d=a&&!l,f=t.exec(e);let m="decimal",p="ol",w=null;if(f&&f[1]){const A=i.exec(f[1]);if(A&&A[1]&&(m=A[1].trim(),p=m!=="bullet"&&m!=="image"?"ol":"ul"),m==="bullet"){const x=wFe(n.element);x&&(m=x)}else{const x=r.exec(f[1]);x&&x[1]&&(w=parseInt(x[1]))}d&&(p="ol")}return{type:p,startIndex:w,style:_Fe(m),isLegalStyleList:d}}function wFe(n){if(n.name=="li"&&n.parent.name=="ul"&&n.parent.hasAttribute("type"))return n.parent.getAttribute("type");const e=yFe(n);if(!e)return null;const t=e._data;return t==="o"?"circle":t===""?"disc":t===""?"square":null}function yFe(n){if(n.getChild(0).is("$text"))return null;for(const e of n.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}/* istanbul ignore next -- @preserve */return null}function _Fe(n){if(n.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(n){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return n;default:return null}}function AFe(n,e,t){const i=e.createElement(n.type);return n.style&&e.setStyle("list-style-type",n.style,i),n.startIndex&&n.startIndex>1&&e.setAttribute("start",n.startIndex,i),n.isLegalStyleList&&t&&e.addClass("legal-list",i),i}function kFe(n){const e=n.getStyle("mso-list");if(e===void 0)return{};const t=e.match(/(^|\s{1,100})l(\d+)/i),i=e.match(/\s{0,100}lfo(\d+)/i),r=e.match(/\s{0,100}level(\d+)/i);return t&&i&&r?{id:t[2],order:i[1],indent:parseInt(r[1])}:{indent:1}}function xFe(n,e){const t=new Fr({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(n);for(const r of i)r.type==="elementStart"&&t.match(r.item)&&e.remove(r.item)}function CFe(n){const e=n.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:iJ(e)}function SFe(n,e){if(!n.childCount)return;const t=new Bs(n.document),i=TFe(n,t);IFe(i,n,t),RFe(i,n,t),PFe(n,t);const r=OFe(n,t);r.length&&NFe(r,DFe(e),t)}function EFe(n){return btoa(n.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function TFe(n,e){const t=e.createRangeIn(n),i=new Fr({name:/v:(.+)/}),r=[];for(const s of t){if(s.type!="elementStart")continue;const o=s.item,a=o.previousSibling,l=a&&a.is("element")?a.name:null,d=["Chart"],f=i.match(o),m=o.getAttribute("o:gfxdata"),p=l==="v:shapetype",w=m&&d.some(A=>o.getAttribute("id").includes(A));f&&m&&!p&&!w&&r.push(s.item.getAttribute("id"))}return r}function IFe(n,e,t){const i=t.createRangeIn(e),r=new Fr({name:"img"}),s=[];for(const o of i)if(o.item.is("element")&&r.match(o.item)){const a=o.item,l=a.getAttribute("v:shapes")?a.getAttribute("v:shapes").split(" "):[];l.length&&l.every(d=>n.indexOf(d)>-1)?s.push(a):a.getAttribute("src")||s.push(a)}for(const o of s)t.remove(o)}function PFe(n,e){const t=e.createRangeIn(n),i=new Fr({name:/v:(.+)/}),r=[];for(const s of t)s.type=="elementStart"&&i.match(s.item)&&r.push(s.item);for(const s of r)e.remove(s)}function RFe(n,e,t){const i=t.createRangeIn(e),r=[];for(const a of i)if(a.type=="elementStart"&&a.item.is("element","v:shape")){const l=a.item.getAttribute("id");if(n.includes(l))continue;s(a.item.parent.getChildren(),l)||r.push(a.item)}for(const a of r){const l={src:o(a)};a.hasAttribute("alt")&&(l.alt=a.getAttribute("alt"));const d=t.createElement("img",l);t.insertChild(a.index+1,d,a.parent)}function s(a,l){for(const d of a){/* istanbul ignore else -- @preserve */if(d.is("element")&&(d.name=="img"&&d.getAttribute("v:shapes")==l||s(d.getChildren(),l)))return!0}return!1}function o(a){for(const l of a.getChildren()){/* istanbul ignore else -- @preserve */if(l.is("element")&&l.getAttribute("src"))return l.getAttribute("src")}}}function OFe(n,e){const t=e.createRangeIn(n),i=new Fr({name:"img"}),r=[];let s=0;for(const o of t)o.item.is("element")&&i.match(o.item)&&(o.item.getAttribute("src").startsWith("file://")&&r.push({element:o.item,imageIndex:s}),s++);return r}function DFe(n){if(!n)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,t=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=n.match(t),r=[];if(i)for(const s of i){let o=!1;s.includes("\\pngblip")?o="image/png":s.includes("\\jpegblip")&&(o="image/jpeg"),o&&r.push({hex:s.replace(e,"").replace(/[^\da-fA-F]/g,""),type:o})}return r}function NFe(n,e,t){for(let i=0;i<n.length;i++){const{element:r,imageIndex:s}=n[i],o=e[s];if(o){const a=`data:${o.type};base64,${EFe(o.hex)}`;t.setAttribute("src",a,r)}}}function MFe(n){const e=[],t=new Bs(n.document);for(const{item:i}of t.createRangeIn(n))if(i.is("element")){for(const r of i.getClassNames())/\bmso/gi.exec(r)&&t.removeClass(r,i);for(const r of i.getStyleNames())/\bmso/gi.exec(r)&&t.removeStyle(r,i);(i.is("element","w:sdt")||i.is("element","w:sdtpr")&&i.isEmpty||i.is("element","o:p")&&i.isEmpty)&&e.push(i)}for(const i of e){const r=i.parent,s=r.getChildIndex(i);t.insertChild(s,i.getChildren(),r),t.remove(i)}}function BFe(n,e){for(const t of e.createRangeIn(n).getItems()){if(!t.is("element","table")&&!t.is("element","td")&&!t.is("element","th"))continue;const i=["left","top","right","bottom"];if(i.every(s=>!t.hasStyle(`border-${s}-style`)))e.setStyle("border-style","none",t);else for(const s of i)t.hasStyle(`border-${s}-style`)||e.setStyle(`border-${s}-style`,"none",t);const r=["width","height",...i.map(s=>`border-${s}-width`),...i.map(s=>`padding-${s}`)];for(const s of r)t.hasStyle(s)&&e.setStyle(s,iJ(t.getStyle(s)),t)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rJ(n,e){for(const t of e.createRangeIn(n).getItems())t.is("element","table")&&(t.getStyle("width")==="0px"&&e.removeStyle("width",t),t.getAttribute("width")==="0"&&e.removeAttribute("width",t))}const VFe=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,LFe=/xmlns:o="urn:schemas-microsoft-com/i;class FFe{document;hasMultiLevelListPlugin;constructor(e,t=!1){this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return VFe.test(e)||LFe.test(e)}execute(e){const t=new Bs(this.document),{body:i,stylesString:r}=e._parsedData;hFe(i,t),mFe(i,r,this.hasMultiLevelListPlugin),SFe(i,e.dataTransfer.getData("text/rtf")),BFe(i,t),rJ(i,t),MFe(i),e.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zFe(n,e){for(const t of n.getChildren())if(t.is("element","b")&&t.getStyle("font-weight")==="normal"){const i=n.getChildIndex(t);e.remove(t),e.insertChild(i,t.getChildren(),n)}}function jFe(n,e){const t=new Wk(e.document.stylesProcessor),i=new Yk(t,{renderingMode:"data"}),r=i.blockElements,s=i.inlineObjectElements,o=[];for(const a of e.createRangeIn(n)){const l=a.item;if(l.is("element","br")){const d=jL(l,"forward",e,{blockElements:r,inlineObjectElements:s}),f=jL(l,"backward",e,{blockElements:r,inlineObjectElements:s}),m=UL(d,r);(UL(f,r)||m)&&o.push(l)}}for(const a of o)a.hasClass("Apple-interchange-newline")?e.remove(a):e.replace(a,e.createElement("p"))}function jL(n,e,t,{blockElements:i,inlineObjectElements:r}){let s=t.createPositionAt(n,e=="forward"?"after":"before");return s=s.getLastMatchingPosition(({item:o})=>o.is("element")&&!i.includes(o.name)&&!r.includes(o.name),{direction:e}),e=="forward"?s.nodeAfter:s.nodeBefore}function UL(n,e){return!!n&&n.is("element")&&e.includes(n.name)}const UFe=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class $Fe{document;constructor(e){this.document=e}isActive(e){return UFe.test(e)}execute(e){const t=new Bs(this.document),{body:i}=e._parsedData;zFe(i,t),gFe(i,t),jFe(i,t),e.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function HFe(n,e){for(const t of n.getChildren())t.is("element","table")&&t.hasAttribute("xmlns")&&e.removeAttribute("xmlns",t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function WFe(n,e){for(const t of n.getChildren())if(t.is("element","google-sheets-html-origin")){const i=n.getChildIndex(t);e.remove(t),e.insertChild(i,t.getChildren(),n)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function GFe(n,e){for(const t of Array.from(n.getChildren()))t.is("element","style")&&e.remove(t)}const YFe=/<google-sheets-html-origin/i;class KFe{document;constructor(e){this.document=e}isActive(e){return YFe.test(e)}execute(e){const t=new Bs(this.document),{body:i}=e._parsedData;WFe(i,t),HFe(i,t),rJ(i,t),GFe(i,t),e.content=i}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function qFe(n){return $L($L(n)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function ZFe(n){n.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e,i=t.innerText.length||0;t.innerText=Array(i+1).join(" ").substr(0,i)})}function $L(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join(" ").substr(0,t.length))}function QFe(n,e){const t=new DOMParser;n=n.replace(/<!--\[if gte vml 1]>/g,""),n=n.replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,"");const i=qFe(eze(n)),r=t.parseFromString(i,"text/html");ZFe(r);const s=r.body.innerHTML,o=JFe(r,e),a=XFe(r);return{body:o,bodyString:s,styles:a.styles,stylesString:a.stylesString}}function JFe(n,e){const t=new Wk(e),i=new Yk(t,{renderingMode:"data"}),r=n.createDocumentFragment(),s=n.body.childNodes;for(;s.length>0;)r.appendChild(s[0]);return i.domToView(r,{skipComments:!0})}function XFe(n){const e=[],t=[],i=Array.from(n.getElementsByTagName("style"));for(const r of i)r.sheet&&r.sheet.cssRules&&r.sheet.cssRules.length&&(e.push(r.sheet),t.push(r.innerHTML));return{styles:e,stylesString:t.join(" ")}}function eze(n){const e="</body>",t="</html>",i=n.indexOf(e);if(i<0)return n;const r=n.indexOf(t,i+e.length);return n.substring(0,i+e.length)+(r>=0?n.substring(r):"")}class tze extends H{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[ss]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),i=e.editing.view.document,r=[],s=this.editor.plugins.has("MultiLevelList");r.push(new FFe(i,s)),r.push(new $Fe(i)),r.push(new KFe(i)),t.on("inputTransformation",(o,a)=>{if(a._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=a.dataTransfer.getData("text/html"),f=r.find(m=>m.isActive(d));f&&(a._parsedData||(a._parsedData=QFe(d,i.stylesProcessor)),f.execute(a),a._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const e0="removeFormat";class nze extends H{static get pluginName(){return"RemoveFormatUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add(e0,()=>{const t=this._createButton(ze);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add(`menuBar:${e0}`,()=>this._createButton(Yt))}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get(e0),s=new e(t.locale),o=i.t;return s.set({label:o("Remove Format"),icon:_Re}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",()=>{t.execute(e0),t.editing.view.focus()}),s}}class ize extends Je{_customAttributesHandlers=[];refresh(){const e=this.editor.model;this.isEnabled=!!sn(this._getFormattingItems(e.document.selection))}execute(){const e=this.editor.model;e.change(t=>{for(const i of this._getFormattingItems(e.document.selection))if(i.is("selection"))for(const r of this._getFormattingAttributes(i))t.removeSelectionAttribute(r);else{const r=t.createRangeOn(i);for(const s of this._getFormattingAttributes(i))this._removeFormatting(s,i,r,t)}})}registerCustomAttribute(e,t){this._customAttributesHandlers.push({isFormatting:e,removeFormatting:t})}_removeFormatting(e,t,i,r){let s=!1;for(const{isFormatting:o,removeFormatting:a}of this._customAttributesHandlers)o(e,t)&&(a(e,i,r),s=!0);s||r.removeAttribute(e,i)}*_getFormattingItems(e){const t=this.editor.model,i=t.schema,r=s=>!!sn(this._getFormattingAttributes(s));for(const s of e.getRanges())for(const o of s.getItems())i.isBlock(o)&&s.end.isTouching(t.createPositionAt(o,0))||r(o)&&(yield o);for(const s of e.getSelectedBlocks())r(s)&&(yield s);r(e)&&(yield e)}*_getFormattingAttributes(e){const t=this.editor.model.schema;for(const[i]of e.getAttributes()){for(const{isFormatting:s}of this._customAttributesHandlers)s(i,e)&&(yield i);const r=t.getAttributeProperties(i);r&&r.isFormatting&&(yield i)}}}class rze extends H{static get pluginName(){return"RemoveFormatEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("removeFormat",new ize(e))}}class sze extends H{static get requires(){return[rze,nze]}static get pluginName(){return"RemoveFormat"}static get isOfficialPlugin(){return!0}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class oze extends Je{constructor(e){super(e),this.affectsData=!1,this.value=!1}execute(){const e="ck-show-blocks",t=this.editor.editing.view;t.change(i=>{for(const r of t.document.roots)r.hasClass(e)?(i.removeClass(e,r),this.value=!1):(i.addClass(e,r),this.value=!0)})}}class aze extends H{static get pluginName(){return"ShowBlocksEditing"}static get isOfficialPlugin(){return!0}init(){const{editor:e}=this;e.commands.add("showBlocks",new oze(e))}}class lze extends H{static get pluginName(){return"ShowBlocksUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("showBlocks",()=>{const t=this._createButton(ze);return t.set({tooltip:!0,icon:SRe}),t}),e.ui.componentFactory.add("menuBar:showBlocks",()=>this._createButton(Yt))}_createButton(e){const t=this.editor,i=t.locale,r=t.commands.get("showBlocks"),s=new e(i),o=i.t;return s.set({label:o("Show blocks"),isToggleable:!0,role:"menuitemcheckbox"}),s.bind("isEnabled").to(r),s.bind("isOn").to(r,"value",r,"isEnabled",(a,l)=>a&&l),this.listenTo(s,"execute",()=>{t.execute("showBlocks"),t.editing.view.focus()}),s}}class cze extends H{static get pluginName(){return"ShowBlocks"}static get isOfficialPlugin(){return!0}static get requires(){return[aze,lze]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const t0="SourceEditingMode";class uze extends H{static get pluginName(){return"SourceEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zm]}_elementReplacer;_replacedRoots;_dataFromRoots;constructor(e){super(e),this.set("isSourceEditingMode",!1),this._elementReplacer=new VK,this._replacedRoots=new Map,this._dataFromRoots=new Map,e.config.define("sourceEditing.allowCollaborationFeatures",!1)}init(){this._checkCompatibility();const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("sourceEditing",()=>{const i=this._createButton(ze);return i.set({label:t("Source"),icon:ERe,tooltip:!0,class:"ck-source-editing-button"}),i}),e.ui.componentFactory.add("menuBar:sourceEditing",()=>{const i=this._createButton(Yt);return i.set({label:t("Show source"),role:"menuitemcheckbox"}),i}),this._isAllowedToHandleSourceEditingMode()&&(this.on("change:isSourceEditingMode",(i,r,s)=>{s?(this._hideVisibleDialog(),this._showSourceEditing(),this._disableCommands()):(this._hideSourceEditing(),this._enableCommands())}),this.on("change:isEnabled",(i,r,s)=>this._handleReadOnlyMode(!s)),this.listenTo(e,"change:isReadOnly",(i,r,s)=>this._handleReadOnlyMode(s))),e.data.on("get",()=>{this.isSourceEditingMode&&this.updateEditorData()},{priority:"high"})}updateEditorData(){const e=this.editor,t={};for(const[i,r]of this._replacedRoots){const s=this._dataFromRoots.get(i),o=r.dataset.value;s!==o&&(t[i]=o,this._dataFromRoots.set(i,o))}Object.keys(t).length&&e.data.set(t,{batchType:{isUndoable:!0},suppressErrorInCollaboration:!0})}_checkCompatibility(){const e=this.editor,t=e.config.get("sourceEditing.allowCollaborationFeatures");if(!t&&e.plugins.has("RealTimeCollaborativeEditing"))throw new z("source-editing-incompatible-with-real-time-collaboration",null);!t&&["CommentsEditing","TrackChangesEditing","RevisionHistory"].some(r=>e.plugins.has(r))&&console.warn("You initialized the editor with the source editing feature and at least one of the collaboration features. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the collaboration features."),e.plugins.has("RestrictedEditingModeEditing")&&console.warn("You initialized the editor with the source editing feature and restricted editing feature. Please be advised that the source editing feature may not work, and be careful when editing document source that contains markers created by the restricted editing feature.")}_showSourceEditing(){const e=this.editor,t=e.editing.view,i=e.model;i.change(r=>{r.setSelection(null),r.removeSelectionAttribute(i.document.selection.getAttributeKeys())});for(const[r,s]of t.domRoots){const o=dze(e.data.get({rootName:r})),a=Zi(s.ownerDocument,"textarea",{rows:"1","aria-label":"Source code editing area"}),l=Zi(s.ownerDocument,"div",{class:"ck-source-editing-area","data-value":o},[a]);a.value=o,a.setSelectionRange(0,0),a.addEventListener("input",()=>{l.dataset.value=a.value,e.ui.update()}),t.change(d=>{const f=t.document.getRoot(r);d.addClass("ck-hidden",f)}),e.ui.setEditableElement("sourceEditing:"+r,a),this._replacedRoots.set(r,l),this._elementReplacer.replace(s,l),this._dataFromRoots.set(r,o)}this._hideDocumentOutline(),this._refreshAnnotationsVisibility(),this._focusSourceEditing()}_hideSourceEditing(){const t=this.editor.editing.view;this.updateEditorData(),t.change(i=>{for(const[r]of this._replacedRoots)i.removeClass("ck-hidden",t.document.getRoot(r))}),this._elementReplacer.restore(),this._replacedRoots.clear(),this._dataFromRoots.clear(),this._showDocumentOutline(),this._refreshAnnotationsVisibility(),t.focus()}_hideDocumentOutline(){this.editor.plugins.has("DocumentOutlineUI")&&(this.editor.plugins.get("DocumentOutlineUI").view.element.style.display="none")}_showDocumentOutline(){this.editor.plugins.has("DocumentOutlineUI")&&(this.editor.plugins.get("DocumentOutlineUI").view.element.style.display="")}_refreshAnnotationsVisibility(){this.editor.plugins.has("Annotations")&&this.editor.plugins.get("Annotations").refreshVisibility()}_focusSourceEditing(){const e=this.editor,[t]=this._replacedRoots.values(),i=t.querySelector("textarea");e.editing.view.document.isFocused=!1,i.focus()}_disableCommands(){const e=this.editor;for(const t of e.commands.commands())t.forceDisabled(t0);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").forceDisabled(t0)}_enableCommands(){const e=this.editor;for(const t of e.commands.commands())t.clearForceDisabled(t0);e.plugins.has("CommentsArchiveUI")&&e.plugins.get("CommentsArchiveUI").clearForceDisabled(t0)}_handleReadOnlyMode(e){if(this.isSourceEditingMode)for(const[,t]of this._replacedRoots)t.querySelector("textarea").readOnly=e}_isAllowedToHandleSourceEditingMode(){const t=this.editor.ui.view.editable;return t&&!t.hasExternalElement}_hideVisibleDialog(){if(this.editor.plugins.has("Dialog")){const e=this.editor.plugins.get("Dialog");e.isOpen&&e.hide()}}_createButton(e){const t=this.editor,i=new e(t.locale);return i.set({withText:!0,isToggleable:!0}),i.bind("isOn").to(this,"isSourceEditingMode"),i.bind("isEnabled").to(this,"isEnabled",t,"isReadOnly",t.plugins.get(zm),"hasAny",(r,s,o)=>!(!r||s||o)),this.listenTo(i,"execute",()=>{this.isSourceEditingMode=!this.isSourceEditingMode}),i}}function dze(n){return fze(n)?YSe(n):n}function fze(n){return n.startsWith("<")}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class hze extends ze{styleDefinition;previewView;constructor(e,t){super(e),this.styleDefinition=t,this.previewView=this._createPreview(),this.set({label:t.name,class:"ck-style-grid__button",withText:!0}),this.extendTemplate({attributes:{role:"option"}}),this.children.add(this.previewView,0)}_createPreview(){const e=new Me(this.locale);return e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset_all-excluded","ck-style-grid__button__preview","ck-content"],"aria-hidden":"true"},children:[this.styleDefinition.previewTemplate]}),e}}class mze extends Me{focusTracker;keystrokes;children;constructor(e,t){super(e),this.focusTracker=new Ut,this.keystrokes=new tn,this.set("activeStyles",[]),this.set("enabledStyles",[]),this.children=this.createCollection(),this.children.delegate("execute").to(this);for(const i of t){const r=new hze(e,i);this.children.add(r)}this.on("change:activeStyles",()=>{for(const i of this.children)i.isOn=this.activeStyles.includes(i.styleDefinition.name)}),this.on("change:enabledStyles",()=>{for(const i of this.children)i.isEnabled=this.enabledStyles.includes(i.styleDefinition.name)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-grid"],role:"listbox"},children:this.children})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element);yw({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.children,numberOfColumns:3,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection}),this.keystrokes.listenTo(this.element)}focus(){this.children.first.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}class HL extends Me{gridView;labelView;constructor(e,t,i){super(e),this.labelView=new ns(e),this.labelView.text=t,this.gridView=new mze(e,i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel__style-group"],role:"group","aria-labelledby":this.labelView.id},children:[this.labelView,this.gridView]})}}class gze extends Me{focusTracker;keystrokes;children;blockStylesGroupView;inlineStylesGroupView;_focusables;_focusCycler;constructor(e,t){super(e);const i=e.t;this.focusTracker=new Ut,this.keystrokes=new tn,this.children=this.createCollection(),this.blockStylesGroupView=new HL(e,i("Block styles"),t.block),this.inlineStylesGroupView=new HL(e,i("Text styles"),t.inline),this.set("activeStyles",[]),this.set("enabledStyles",[]),this._focusables=new Ai,this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["shift + tab"],focusNext:["tab"]}}),t.block.length&&this.children.add(this.blockStylesGroupView),t.inline.length&&this.children.add(this.inlineStylesGroupView),this.blockStylesGroupView.gridView.delegate("execute").to(this),this.inlineStylesGroupView.gridView.delegate("execute").to(this),this.blockStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.inlineStylesGroupView.gridView.bind("activeStyles","enabledStyles").to(this,"activeStyles","enabledStyles"),this.setTemplate({tag:"div",attributes:{class:["ck","ck-style-panel"]},children:this.children})}render(){super.render(),this._focusables.add(this.blockStylesGroupView.gridView),this._focusables.add(this.inlineStylesGroupView.gridView),this.focusTracker.add(this.blockStylesGroupView.gridView.element),this.focusTracker.add(this.inlineStylesGroupView.gridView.element),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}const pze=["caption","colgroup","dd","dt","figcaption","legend","li","optgroup","option","rp","rt","summary","tbody","td","tfoot","th","thead","tr"];class vc extends H{_htmlSupport;static get pluginName(){return"StyleUtils"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this.decorate("isStyleEnabledForBlock"),this.decorate("isStyleActiveForBlock"),this.decorate("getAffectedBlocks"),this.decorate("isStyleEnabledForInlineSelection"),this.decorate("isStyleActiveForInlineSelection"),this.decorate("getAffectedInlineSelectable"),this.decorate("getStylePreview"),this.decorate("configureGHSDataFilter")}init(){this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport")}normalizeConfig(e,t=[]){const i={block:[],inline:[]};for(const r of t){const s=[],o=[];for(const l of e.getDefinitionsForView(r.element)){const d="appliesToBlock"in l?l.appliesToBlock:!1;if(l.isBlock||d){if(typeof d=="string")s.push(d);else if(l.isBlock){const f=l;s.push(l.model),f.paragraphLikeModel&&s.push(f.paragraphLikeModel)}}else o.push(l.model)}const a=this.getStylePreview(r,[{text:"AaBbCcDdEeFfGgHhIiJj"}]);s.length?i.block.push({...r,previewTemplate:a,modelElements:s,isBlock:!0}):i.inline.push({...r,previewTemplate:a,ghsAttributes:o})}return i}isStyleEnabledForBlock(e,t){const i=this.editor.model,r=this._htmlSupport.getGhsAttributeNameForElement(e.element);return i.schema.checkAttribute(t,r)?e.modelElements.includes(t.name):!1}isStyleActiveForBlock(e,t){const i=this._htmlSupport.getGhsAttributeNameForElement(e.element),r=t.getAttribute(i);return this.hasAllClasses(r,e.classes)}getAffectedBlocks(e,t){return e.modelElements.includes(t.name)?[t]:null}isStyleEnabledForInlineSelection(e,t){const i=this.editor.model;for(const r of e.ghsAttributes)if(i.schema.checkAttributeInSelection(t,r))return!0;return!1}isStyleActiveForInlineSelection(e,t){for(const i of e.ghsAttributes){const r=this._getValueFromFirstAllowedNode(t,i);if(this.hasAllClasses(r,e.classes))return!0}return!1}getAffectedInlineSelectable(e,t){return t}getStylePreview(e,t){const{element:i,classes:r}=e;return{tag:vze(i)?i:"div",attributes:{class:r},children:t}}hasAllClasses(e,t){return kr(e)&&bze(e)&&t.every(i=>e.classes.includes(i))}configureGHSDataFilter({block:e,inline:t}){const i=this.editor.plugins.get("DataFilter");i.loadAllowedConfig(e.map(WL)),i.loadAllowedConfig(t.map(WL))}_getValueFromFirstAllowedNode(e,t){const r=this.editor.model.schema;if(e.isCollapsed)return e.getAttribute(t);for(const s of e.getRanges())for(const o of s.getItems())if(r.checkAttribute(o,t))return o.getAttribute(t);return null}}function bze(n){return!!n.classes&&Array.isArray(n.classes)}function vze(n){return!pze.includes(n)}function WL({element:n,classes:e}){return{name:n,classes:e}}class wze extends H{static get pluginName(){return"StyleUI"}static get isOfficialPlugin(){return!0}static get requires(){return[vc]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),i=e.plugins.get("StyleUtils"),r=e.config.get("style.definitions"),s=i.normalizeConfig(t,r);e.ui.componentFactory.add("style",o=>{const a=o.t,l=ii(o),d=e.commands.get("style");return l.once("change:isOpen",()=>{const f=new gze(o,s);l.panelView.children.add(f),f.delegate("execute").to(l),f.bind("activeStyles").to(d,"value"),f.bind("enabledStyles").to(d,"enabledStyles")}),l.bind("isEnabled").to(d),l.buttonView.withText=!0,l.buttonView.bind("label").to(d,"value",f=>f.length>1?a("Multiple styles"):f.length===1?f[0]:a("Styles")),l.bind("class").to(d,"value",f=>{const m=["ck-style-dropdown"];return f.length>1&&m.push("ck-style-dropdown_multiple-active"),m.join(" ")}),l.on("execute",f=>{e.execute("style",{styleName:f.source.styleDefinition.name}),e.editing.view.focus()}),l})}}class yze extends Je{_styleDefinitions;_styleUtils;constructor(e,t){super(e),this.set("value",[]),this.set("enabledStyles",[]),this._styleDefinitions=t,this._styleUtils=this.editor.plugins.get(vc)}refresh(){const e=this.editor.model,t=e.document.selection,i=new Set,r=new Set;for(const o of this._styleDefinitions.inline)this._styleUtils.isStyleEnabledForInlineSelection(o,t)&&r.add(o.name),this._styleUtils.isStyleActiveForInlineSelection(o,t)&&i.add(o.name);const s=sn(t.getSelectedBlocks())||t.getFirstPosition().parent;if(s){const o=s.getAncestors({includeSelf:!0,parentFirst:!0});for(const a of o){if(a.is("rootElement"))break;for(const l of this._styleDefinitions.block)this._styleUtils.isStyleEnabledForBlock(l,a)&&(r.add(l.name),this._styleUtils.isStyleActiveForBlock(l,a)&&i.add(l.name));if(e.schema.isObject(a))break}}this.enabledStyles=Array.from(r).sort(),this.isEnabled=this.enabledStyles.length>0,this.value=this.isEnabled?Array.from(i).sort():[]}execute({styleName:e,forceValue:t}){if(!this.enabledStyles.includes(e)){vt("style-command-executed-with-incorrect-style-name");return}const i=this.editor.model,r=i.document.selection,s=this.editor.plugins.get("GeneralHtmlSupport"),o=[...this._styleDefinitions.inline,...this._styleDefinitions.block],a=o.filter(({name:f})=>this.value.includes(f)),l=o.find(({name:f})=>f==e),d=t===void 0?!this.value.includes(l.name):t;i.change(()=>{let f;Aze(l)?f=this._findAffectedBlocks(kze(r),l):f=[this._styleUtils.getAffectedInlineSelectable(l,r)];for(const m of f)d?s.addModelHtmlClass(l.element,l.classes,m):s.removeModelHtmlClass(l.element,_ze(a,l),m)})}_findAffectedBlocks(e,t){const i=new Set;for(const r of e){const s=r.getAncestors({includeSelf:!0,parentFirst:!0});for(const o of s){if(o.is("rootElement"))break;const a=this._styleUtils.getAffectedBlocks(t,o);if(a){for(const l of a)i.add(l);break}}}return i}}function _ze(n,e){return n.reduce((t,i)=>i.name===e.name?t:t.filter(r=>!i.classes.includes(r)),e.classes)}function Aze(n){return"isBlock"in n}function kze(n){const e=Array.from(n.getSelectedBlocks());return e.length?e:[n.getFirstPosition().parent]}class xze extends H{_listUtils;_styleUtils;_htmlSupport;static get pluginName(){return"ListStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[vc,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("ListEditing")&&(this._styleUtils=e.plugins.get(vc),this._listUtils=this.editor.plugins.get("ListUtils"),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[i,r])=>{this._isStyleEnabledForBlock(i,r)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForBlock",(t,[i,r])=>{this._isStyleActiveForBlock(i,r)&&(t.return=!0,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[i,r])=>{const s=this._getAffectedBlocks(i,r);s&&(t.return=s,t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getStylePreview",(t,[i,r])=>{const s=this._getStylePreview(i,r);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabledForBlock(e,t){const i=this.editor.model;if(!["ol","ul","li"].includes(e.element)||!this._listUtils.isListItemBlock(t))return!1;const r=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(e.element=="ol"||e.element=="ul"){if(!i.schema.checkAttribute(t,r))return!1;const o=this._listUtils.isNumberedListType(t.getAttribute("listType"))?"ol":"ul";return e.element==o}else return i.schema.checkAttribute(t,r)}_isStyleActiveForBlock(e,t){const i=this._htmlSupport.getGhsAttributeNameForElement(e.element),r=t.getAttribute(i);return this._styleUtils.hasAllClasses(r,e.classes)}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?e.element=="li"?this._listUtils.expandListBlocksToCompleteItems(t,{withNested:!1}):this._listUtils.expandListBlocksToCompleteList(t):null}_getStylePreview(e,t){const{element:i,classes:r}=e;return i=="ol"||i=="ul"?{tag:i,attributes:{class:r},children:[{tag:"li",children:t}]}:i=="li"?{tag:"ol",children:[{tag:i,attributes:{class:r},children:t}]}:null}}class Cze extends H{_tableUtils;_styleUtils;static get pluginName(){return"TableStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[vc]}init(){const e=this.editor;e.plugins.has("TableEditing")&&(this._styleUtils=e.plugins.get(vc),this._tableUtils=this.editor.plugins.get("TableUtils"),this.listenTo(this._styleUtils,"isStyleEnabledForBlock",(t,[i,r])=>{this._isApplicable(i,r)&&(t.return=this._isStyleEnabledForBlock(i,r),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedBlocks",(t,[i,r])=>{this._isApplicable(i,r)&&(t.return=this._getAffectedBlocks(i,r),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"configureGHSDataFilter",(t,[{block:i}])=>{this.editor.plugins.get("DataFilter").loadAllowedConfig(i.filter(s=>s.element=="figcaption").map(s=>({name:"caption",classes:s.classes})))}))}_isApplicable(e,t){return["td","th"].includes(e.element)?t.name=="tableCell":["thead","tbody"].includes(e.element)?t.name=="table":!1}_isStyleEnabledForBlock(e,t){if(["td","th"].includes(e.element)){const i=this._tableUtils.getCellLocation(t),s=t.parent.parent,o=s.getAttribute("headingRows")||0,a=s.getAttribute("headingColumns")||0,l=i.row<o||i.column<a;return e.element=="th"?l:!l}if(["thead","tbody"].includes(e.element)){const i=t.getAttribute("headingRows")||0;return e.element=="thead"?i>0:i<this._tableUtils.getRows(t)}/* istanbul ignore next -- @preserve */return!1}_getAffectedBlocks(e,t){return this._isStyleEnabledForBlock(e,t)?[t]:null}}class Sze extends H{_styleUtils;_htmlSupport;static get pluginName(){return"LinkStyleSupport"}static get isOfficialPlugin(){return!0}static get requires(){return[vc,"GeneralHtmlSupport"]}init(){const e=this.editor;e.plugins.has("LinkEditing")&&(this._styleUtils=e.plugins.get(vc),this._htmlSupport=this.editor.plugins.get("GeneralHtmlSupport"),this.listenTo(this._styleUtils,"isStyleEnabledForInlineSelection",(t,[i,r])=>{i.element=="a"&&(t.return=this._isStyleEnabled(i,r),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"isStyleActiveForInlineSelection",(t,[i,r])=>{i.element=="a"&&(t.return=this._isStyleActive(i,r),t.stop())},{priority:"high"}),this.listenTo(this._styleUtils,"getAffectedInlineSelectable",(t,[i,r])=>{if(i.element!="a")return;const s=this._getAffectedSelectable(i,r);s&&(t.return=s,t.stop())},{priority:"high"}))}_isStyleEnabled(e,t){const i=this.editor.model;if(t.isCollapsed)return t.hasAttribute("linkHref");for(const r of t.getRanges())for(const s of r.getItems())if((s.is("$textProxy")||i.schema.isInline(s))&&s.hasAttribute("linkHref"))return!0;return!1}_isStyleActive(e,t){const i=this.editor.model,r=this._htmlSupport.getGhsAttributeNameForElement(e.element);if(t.isCollapsed){if(t.hasAttribute("linkHref")){const s=t.getAttribute(r);if(this._styleUtils.hasAllClasses(s,e.classes))return!0}return!1}for(const s of t.getRanges())for(const o of s.getItems())if((o.is("$textProxy")||i.schema.isInline(o))&&o.hasAttribute("linkHref")){const a=o.getAttribute(r);return this._styleUtils.hasAllClasses(a,e.classes)}return!1}_getAffectedSelectable(e,t){const i=this.editor.model;if(t.isCollapsed){const s=t.getAttribute("linkHref");return xw(t.getFirstPosition(),"linkHref",s,i)}const r=[];for(const s of t.getRanges()){const o=i.createRange(GL(s.start,"linkHref",!0,i),GL(s.end,"linkHref",!1,i));for(const a of o.getItems())(a.is("$textProxy")||i.schema.isInline(a))&&a.hasAttribute("linkHref")&&r.push(this.editor.model.createRangeOn(a))}return Eze(r)}}function GL(n,e,t,i){const r=n.textNode||(t?n.nodeAfter:n.nodeBefore);if(!r||!r.hasAttribute(e))return n;const s=r.getAttribute(e);return vI(n,e,s,t,i)}function Eze(n){for(let e=1;e<n.length;e++){const t=n[e-1].getJoined(n[e]);t&&n.splice(--e,2,t)}return n}class Tze extends H{static get pluginName(){return"StyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["GeneralHtmlSupport",vc,xze,Cze,Sze]}init(){const e=this.editor,t=e.plugins.get("DataSchema"),i=e.plugins.get("StyleUtils"),r=e.config.get("style.definitions"),s=i.normalizeConfig(t,r);e.commands.add("style",new yze(e,s)),i.configureGHSDataFilter(s)}}class Ize extends H{static get pluginName(){return"Style"}static get isOfficialPlugin(){return!0}static get requires(){return[Tze,wze]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function z5(n,e){const{modelAttribute:t,styleName:i,attributeName:r,attributeType:s,viewElement:o,defaultValue:a,shouldUpcast:l=()=>!0,reduceBoxSides:d=!1}=e;n.for("upcast").attributeToAttribute({view:{name:o,styles:{[i]:/[\s\S]+/}},model:{key:t,value:(f,m,p)=>{if(!l(f))return;const w=ic(a,"",p),A=f.getNormalizedStyle(i),x=d?P0(A):A;if(w!==x)return x;m.consumable.consume(f,{styles:i})}}}),r&&n.for("upcast").attributeToAttribute({view:{name:o,attributes:{[r]:/.+/}},model:{key:t,value:(f,m,p)=>{if(f.name=="figure"||f.hasStyle(i)||f.name=="table"&&f.parent.name=="figure"&&f.parent.hasStyle(i))return;const w=ic(a,"",p);let A=f.getAttribute(r);if(A&&s=="length"&&!A.endsWith("px")&&(A+="px"),w!==A)return A;m.consumable.consume(f,{attributes:r})}}})}function DI(n,e,t,i){n.for("upcast").add(r=>r.on("element:"+e,(s,o,a)=>{if(!o.modelRange)return;const l=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(x=>o.viewItem.hasStyle(x));if(!l.length)return;const d={styles:l};if(!a.consumable.test(o.viewItem,d))return;const f=[...o.modelRange.getItems({shallow:!0})].pop(),m=f.findAncestor("table",{includeSelf:!0});let p=i;m&&m.getAttribute("tableType")=="layout"&&(p={style:"none",color:"",width:""}),a.consumable.consume(o.viewItem,d);const w={style:o.viewItem.getNormalizedStyle("border-style"),color:o.viewItem.getNormalizedStyle("border-color"),width:o.viewItem.getNormalizedStyle("border-width")},A={style:P0(w.style),color:P0(w.color),width:P0(w.width)};A.style!==p.style&&a.writer.setAttribute(t.style,A.style,f),A.color!==p.color&&a.writer.setAttribute(t.color,A.color,f),A.width!==p.width&&a.writer.setAttribute(t.width,A.width,f)}))}function Bb(n,e){const{modelElement:t,modelAttribute:i,styleName:r}=e;n.for("downcast").attributeToAttribute({model:{name:t,key:i},view:s=>({key:"style",value:{[r]:s}})})}function I0(n,e){const{modelAttribute:t,styleName:i}=e;n.for("downcast").add(r=>r.on(`attribute:${t}:table`,(s,o,a)=>{const{item:l,attributeNewValue:d}=o,{mapper:f,writer:m}=a;if(!a.consumable.consume(o.item,s.name))return;const p=[...f.toViewElement(l).getChildren()].find(w=>w.is("element","table"));d?m.setStyle(i,d,p):m.removeStyle(i,p)}))}function ic(n,e,t){const i=t.modelRange&&sn(t.modelRange.getItems({shallow:!0})),r=i&&i.is("element")&&i.findAncestor("table",{includeSelf:!0});return r&&r.getAttribute("tableType")==="layout"?e:n}function P0(n){if(!n)return;const e=["top","right","bottom","left"];if(!e.every(s=>n[s]))return n;const i=n.top;return e.every(s=>n[s]===i)?i:n}function ui(n,e,t,i,r=1){e!=null&&r!==void 0&&r!==null&&e>r?i.setAttribute(n,e,t):i.removeAttribute(n,t)}function Hu(n,e,t={}){const i=n.createElement("tableCell",t);return n.insertElement("paragraph",i),n.insert(i,e),i}function NI(n,e){const t=e.parent.parent,i=parseInt(t.getAttribute("headingColumns")||"0"),{column:r}=n.getCellLocation(e);return!!i&&r<i}function R0(n,e,t){const{modelAttribute:i}=t;n.extend("tableCell",{allowAttributes:[i]}),n.setAttributeProperties(i,{isFormatting:!0}),z5(e,{viewElement:/^(td|th)$/,...t}),Bb(e,{modelElement:"tableCell",...t})}function Ba(n){const e=n.getSelectedElement();return e&&e.is("element","table")?e:n.getFirstPosition().findAncestor("table")}function Pze(){return n=>{n.on("element:figure",(e,t,i)=>{if(!i.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const r=Dze(t.viewItem);if(!r||!i.consumable.test(r,{name:!0}))return;i.consumable.consume(t.viewItem,{name:!0,classes:"table"});const s=i.convertItem(r,t.modelCursor),o=sn(s.modelRange.getItems());if(!o){i.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}i.convertChildren(t.viewItem,i.writer.createPositionAt(o,"end")),i.updateConversionResult(o,t)})}}function Rze(){return n=>{n.on("element:table",(e,t,i)=>{const r=t.viewItem;if(!i.consumable.test(r,{name:!0}))return;const{rows:s,headingRows:o,headingColumns:a}=Nze(r),l={};a&&(l.headingColumns=a),o&&(l.headingRows=o);const d=i.writer.createElement("table",l);if(i.safeInsert(d,t.modelCursor)){if(i.consumable.consume(r,{name:!0}),s.forEach(f=>i.convertItem(f,i.writer.createPositionAt(d,"end"))),i.convertChildren(r,i.writer.createPositionAt(d,"end")),d.isEmpty){const f=i.writer.createElement("tableRow");i.writer.insert(f,i.writer.createPositionAt(d,"end")),Hu(i.writer,i.writer.createPositionAt(f,"end"))}i.updateConversionResult(d,t)}})}}function Oze(){return n=>{n.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function YL(n){return e=>{e.on(`element:${n}`,(t,i,{writer:r})=>{if(!i.modelRange)return;const s=i.modelRange.start.nodeAfter,o=r.createPositionAt(s,0);if(i.viewItem.isEmpty){r.insertElement("paragraph",o);return}const a=Array.from(s.getChildren());if(a.every(l=>l.is("element","$marker"))){const l=r.createElement("paragraph");r.insert(l,r.createPositionAt(s,0));for(const d of a)r.move(r.createRangeOn(d),r.createPositionAt(l,"end"))}},{priority:"low"})}}function Dze(n){for(const e of n.getChildren())if(e.is("element","table"))return e}function Nze(n){let e=0,t;const i=[],r=[];let s;for(const o of Array.from(n.getChildren())){if(o.name!=="tbody"&&o.name!=="thead"&&o.name!=="tfoot")continue;o.name==="thead"&&!s&&(s=o);const a=Array.from(o.getChildren()).filter(d=>d.is("element","tr"));let l=null;for(const d of a){const f=Array.from(d.getChildren()).filter(m=>m.is("element","td")||m.is("element","th"));if(s&&o===s||o.name==="tbody"&&f.length>0&&(l===null||f.length===l)&&f.every(m=>m.is("element","th")))e++,i.push(d);else{r.push(d);const m=Mze(d);(!t||m<t)&&(t=m)}l=Math.max(l||0,f.length)}}return{headingRows:e,headingColumns:t||0,rows:[...i,...r]}}function Mze(n){let e=0,t=0;const i=Array.from(n.getChildren()).filter(r=>r.name==="th"||r.name==="td");for(;t<i.length&&i[t].name==="th";){const r=i[t],s=parseInt(r.getAttribute("colspan")||"1");e=e+s,t++}return e}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class an{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{const r=e.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();const s=parseInt(r.getAttribute("colspan")||"1"),o=parseInt(r.getAttribute("rowspan")||"1");(s>1||o>1)&&this._recordSpans(r,o,s),this._shouldSkipSlot()||(t=this._formatOutValue(r)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new Bze(this,e,t,i)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,r=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||i||r}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,i){const r={cell:e,row:this._row,column:this._column};for(let s=this._row;s<this._row+t;s++)for(let o=this._column;o<this._column+i;o++)(s!=this._row||o!=this._column)&&this._markSpannedCell(s,o,r)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}}class Bze{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(e,t,i,r){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function KL(n,e){return(t,{writer:i})=>{const r=t.getAttribute("headingRows")||0,s=i.createContainerElement("table",null,[]),o=i.createContainerElement("figure",{class:"table"},s);r>0&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("thead",null,i.createSlot(a=>a.is("element","tableRow")&&a.index<r))),r<n.getRows(t)&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("tbody",null,i.createSlot(a=>a.is("element","tableRow")&&a.index>=r)));for(const{positionOffset:a,filter:l}of e.additionalSlots)i.insert(i.createPositionAt(s,a),i.createSlot(l));return i.insert(i.createPositionAt(s,"after"),i.createSlot(a=>a.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:l})=>l(a)))),e.asWidget?Lze(o,i):o}}function Vze(){return(n,{writer:e})=>n.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function qL(n={}){return(e,{writer:t})=>{const i=e.parent,r=i.parent,s=r.getChildIndex(i),o=new an(r,{row:s}),a=r.getAttribute("headingRows")||0,l=r.getAttribute("headingColumns")||0;let d=null;for(const f of o)if(f.cell==e){const p=f.row<a||f.column<l?"th":"td";d=n.asWidget?x5(t.createEditableElement(p),t,{withAriaRole:!1}):t.createContainerElement(p);break}return d}}function ZL(n={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!sJ(e))return null;if(n.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function sJ(n){return n.parent.childCount==1&&!Fze(n)}function Lze(n,e){return e.setCustomProperty("table",!0,n),Cc(n,e,{hasSelectionHandle:!0})}function Fze(n){for(const e of n.getAttributeKeys())if(!(e.startsWith("selection:")||e=="htmlEmptyBlock"))return!0;return!1}class zze extends Je{refresh(){const e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=jze(t,i)}execute(e={}){const t=this.editor,i=t.model,r=t.plugins.get("TableUtils"),s=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&o&&(e.headingColumns=o),i.change(a=>{const l=r.createTable(a,e);i.insertObject(l,null,null,{findOptimalPosition:"auto"}),a.setSelection(a.createPositionAt(l.getNodeByPath([0,0,0]),0))})}}function jze(n,e){const t=n.getFirstPosition().parent,i=t===t.root?t:t.parent;return e.checkChild(i,"table")}class QL extends Je{order;constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),r=this.order==="above",s=i.getSelectionAffectedTableCells(t),o=i.getRowIndexes(s),a=r?o.first:o.last,l=s[0].findAncestor("table");i.insertRows(l,{at:r?a:a+1,copyStructureFromAbove:!r})}}class JL extends Je{order;constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),r=this.order==="left",s=i.getSelectionAffectedTableCells(t),o=i.getColumnIndexes(s),a=r?o.first:o.last,l=s[0].findAncestor("table");i.insertColumns(l,{columns:1,at:r?a:a+1})}}class XL extends Je{direction;constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function oJ(n,e,t){const{startRow:i,startColumn:r,endRow:s,endColumn:o}=e,a=t.createElement("table"),l=n.getAttribute("tableType");l&&t.setAttribute("tableType",l,a);const d=s-i+1;for(let m=0;m<d;m++)t.insertElement("tableRow",a,"end");const f=[...new an(n,{startRow:i,endRow:s,startColumn:r,endColumn:o,includeAllSlots:!0})];for(const{row:m,column:p,cell:w,isAnchor:A,cellAnchorRow:x,cellAnchorColumn:S}of f){const P=m-i,I=a.getChild(P);if(!A)(x<i||S<r)&&Hu(t,t.createPositionAt(I,"end"));else{const O=t.cloneElement(w);t.append(O,I),dJ(O,m,p,s,o,t)}}return Uze(a,n,i,r,t),a}function aJ(n,e,t=0){const i=[],r=new an(n,{startRow:t,endRow:e-1});for(const s of r){const{row:o,cellHeight:a}=s,l=o+a-1;o<e&&e<=l&&i.push(s)}return i}function lJ(n,e,t){const i=n.parent,r=i.parent,s=i.index,o=parseInt(n.getAttribute("rowspan")),a=e-s,l={},d=o-a;d>1&&(l.rowspan=d);const f=parseInt(n.getAttribute("colspan")||"1");f>1&&(l.colspan=f);const m=s,p=m+a,w=[...new an(r,{startRow:m,endRow:p,includeAllSlots:!0})];let A=null,x;for(const S of w){const{row:P,column:I,cell:O}=S;O===n&&x===void 0&&(x=I),x!==void 0&&x===I&&P===p&&(A=Hu(t,S.getPositionBefore(),l))}return ui("rowspan",a,n,t),A}function cJ(n,e){const t=[],i=new an(n);for(const r of i){const{column:s,cellWidth:o}=r,a=s+o-1;s<e&&e<=a&&t.push(r)}return t}function uJ(n,e,t,i){const r=parseInt(n.getAttribute("colspan")),s=t-e,o={},a=r-s;a>1&&(o.colspan=a);const l=parseInt(n.getAttribute("rowspan")||"1");l>1&&(o.rowspan=l);const d=Hu(i,i.createPositionAfter(n),o);return ui("colspan",s,n,i),d}function dJ(n,e,t,i,r,s){const o=parseInt(n.getAttribute("colspan")||"1"),a=parseInt(n.getAttribute("rowspan")||"1");if(t+o-1>r){const f=r-t+1;ui("colspan",f,n,s,1)}if(e+a-1>i){const f=i-e+1;ui("rowspan",f,n,s,1)}}function Uze(n,e,t,i,r){const s=parseInt(e.getAttribute("headingRows")||"0");if(s>0){const a=s-t;ui("headingRows",a,n,r,0)}const o=parseInt(e.getAttribute("headingColumns")||"0");if(o>0){const a=o-i;ui("headingColumns",a,n,r,0)}}function MI(n,e){const t=e.getColumns(n),i=new Array(t).fill(0);for(const{column:s}of new an(n))i[s]++;const r=i.reduce((s,o,a)=>o?s:[...s,a],[]);if(r.length>0){const s=r[r.length-1];return e.removeColumns(n,{at:s}),!0}return!1}function BI(n,e){const t=[],i=e.getRows(n);for(let r=0;r<i;r++)n.getChild(r).isEmpty&&t.push(r);if(t.length>0){const r=t[t.length-1];return e.removeRows(n,{at:r}),!0}return!1}function j5(n,e){MI(n,e)||BI(n,e)}function fJ(n,e){const t=Array.from(new an(n,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:s})=>s===1))return e.lastRow;const r=t[0].cellHeight-1;return e.lastRow+r}function hJ(n,e){const t=Array.from(new an(n,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:s})=>s===1))return e.lastColumn;const r=t[0].cellWidth-1;return e.lastColumn+r}class n0 extends Je{direction;isHorizontal;constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],s=this.value,o=this.direction;e.change(a=>{const l=o=="right"||o=="down",d=l?r:s,f=l?s:r,m=f.parent;Wze(f,d,a);const p=this.isHorizontal?"colspan":"rowspan",w=parseInt(r.getAttribute(p)||"1"),A=parseInt(s.getAttribute(p)||"1");a.setAttribute(p,w+A,d),a.setSelection(a.createRangeIn(d));const x=this.editor.plugins.get("TableUtils"),S=m.findAncestor("table");j5(S,x)})}_getMergeableCell(){const t=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),r=i.getTableCellsContainingSelection(t.selection)[0];if(!r)return;const s=this.isHorizontal?$ze(r,this.direction,i):Hze(r,this.direction,i);if(!s)return;const o=this.isHorizontal?"rowspan":"colspan",a=parseInt(r.getAttribute(o)||"1");if(parseInt(s.getAttribute(o)||"1")===a)return s}}function $ze(n,e,t){const r=n.parent.parent,s=e=="right"?n.nextSibling:n.previousSibling,o=(r.getAttribute("headingColumns")||0)>0;if(!s)return;const a=e=="right"?n:s,l=e=="right"?s:n,{column:d}=t.getCellLocation(a),{column:f}=t.getCellLocation(l),m=parseInt(a.getAttribute("colspan")||"1"),p=NI(t,a),w=NI(t,l);return o&&p!=w?void 0:d+m===f?s:void 0}function Hze(n,e,t){const i=n.parent,r=i.parent,s=r.getChildIndex(i);if(e=="down"&&s===t.getRows(r)-1||e=="up"&&s===0)return null;const o=parseInt(n.getAttribute("rowspan")||"1"),a=r.getAttribute("headingRows")||0,l=e=="down"&&s+o===a,d=e=="up"&&s===a;if(a&&(l||d))return null;const f=parseInt(n.getAttribute("rowspan")||"1"),m=e=="down"?s+f:s,p=[...new an(r,{endRow:m})],A=p.find(S=>S.cell===n).column,x=p.find(({row:S,cellHeight:P,column:I})=>I!==A?!1:e=="down"?S===m:m===S+P);return x&&x.cell?x.cell:null}function Wze(n,e,t){eF(n)||(eF(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function eF(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class Gze extends Je{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const r=i.findAncestor("table"),o=e.getRows(r)-1,a=e.getRowIndexes(t),l=a.first===0&&a.last===o;this.isEnabled=!l}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(i),s=i[0],o=s.findAncestor("table"),a=t.getCellLocation(s).column;e.change(l=>{const d=r.last-r.first+1;t.removeRows(o,{at:r.first,rows:d});const f=Yze(o,r.first,a,t.getRows(o));l.setSelection(l.createPositionAt(f,0))})}}function Yze(n,e,t,i){const r=n.getChild(Math.min(e,i-1));let s=r.getChild(0),o=0;for(const a of r.getChildren()){if(o>t)return s;s=a,o+=parseInt(a.getAttribute("colspan")||"1")}return s}class Kze extends Je{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const r=i.findAncestor("table"),s=e.getColumns(r),{first:o,last:a}=e.getColumnIndexes(t);this.isEnabled=a-o<s-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,i]=Zze(this.editor.model.document.selection,e),r=t.parent.parent,s=[...new an(r)],o={first:s.find(l=>l.cell===t).column,last:s.find(l=>l.cell===i).column},a=qze(s,t,i,o);this.editor.model.change(l=>{const d=o.last-o.first+1;e.removeColumns(r,{at:o.first,columns:d}),l.setSelection(l.createPositionAt(a,0))})}}function qze(n,e,t,i){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:i.first?n.reverse().find(({column:s})=>s<i.first).cell:n.reverse().find(({column:s})=>s>i.last).cell}function Zze(n,e){const t=e.getSelectionAffectedTableCells(n),i=t[0],r=t.pop(),s=[i,r];return i.isBefore(r)?s:s.reverse()}class Qze extends Je{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection);if(i.length===0){this.isEnabled=!1,this.value=!1;return}const r=i[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(r,"headingRows"),this.value=i.every(s=>this._isInHeading(s,s.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=t.getSelectionAffectedTableCells(i.document.selection),s=r[0].findAncestor("table"),{first:o,last:a}=t.getRowIndexes(r),l=this.value?o:a+1,d=s.getAttribute("headingRows")||0;i.change(f=>{if(l){const m=l>d?d:0,p=aJ(s,l,m);for(const{cell:w}of p)lJ(w,l,f)}ui("headingRows",l,s,f,0)})}_isInHeading(e,t){const i=parseInt(t.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}}class Jze extends Je{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection);if(i.length===0){this.isEnabled=!1,this.value=!1;return}const r=i[0].findAncestor("table");this.isEnabled=t.schema.checkAttribute(r,"headingColumns"),this.value=i.every(s=>NI(e,s))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=t.getSelectionAffectedTableCells(i.document.selection),s=r[0].findAncestor("table"),{first:o,last:a}=t.getColumnIndexes(r),l=this.value?o:a+1;i.change(d=>{if(l){const f=cJ(s,l);for(const{cell:m,column:p}of f)uJ(m,p,l,d)}ui("headingColumns",l,s,d,0)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Xze=5,VI=40,e7e=2,t7e=3;function n7e(n){const e=new Set;for(const t of n.document.differ.getChanges()){let i=null;switch(t.type){case"insert":i=["table","tableRow","tableCell"].includes(t.name)?t.position:null;break;case"remove":i=["tableRow","tableCell"].includes(t.name)?t.position:null;break;case"attribute":t.range.start.nodeAfter&&(i=["table","tableRow","tableCell"].includes(t.range.start.nodeAfter.name)?t.range.start:null);break}if(!i)continue;const r=i.nodeAfter&&i.nodeAfter.is("element","table")?i.nodeAfter:i.findAncestor("table");for(const s of n.createRangeOn(r).getItems())s.is("element","table")&&Pw(s)&&e.add(s)}return e}function i7e(n,e){return VI*100/mJ(n,e)}function mJ(n,e){const t=tF(n,"tbody",e)||tF(n,"thead",e),i=e.editing.view.domConverter.mapViewToDom(t);return LI(i)}function tF(n,e,t){return[...[...t.editing.mapper.toViewElement(n).getChildren()].find(s=>s.is("element","table")).getChildren()].find(s=>s.is("element",e))}function LI(n){const e=Re.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseFloat(e.width)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth):parseFloat(e.width)}function r7e(n,e){const t=e.getCellLocation(n).column,i=n.getAttribute("colspan")||1;return{leftEdge:t,rightEdge:t+i-1}}function ts(n){const e=Math.pow(10,e7e),t=typeof n=="number"?n:parseFloat(n);return Math.round(t*e)/e}function s7e(n,e,t){return n<=e?ts(e):n>=t?ts(t):ts(n)}function o7e(n,e){return Array(n).fill(e)}function Tv(n){return n.map(e=>typeof e=="number"?e:parseFloat(e)).filter(e=>!Number.isNaN(e)).reduce((e,t)=>e+t,0)}function U5(n){const e=n.map(r=>r==="auto"||r===void 0?"auto":parseFloat(r.replace("%","")));let t=a7e(e);const i=Tv(t);return i!==100&&(t=t.map(r=>ts(r*100/i)).map((r,s,o)=>{if(!(s===o.length-1))return r;const l=Tv(o);return ts(r+100-l)})),t.map(r=>r+"%")}function a7e(n){const e=n.filter(r=>r==="auto").length;if(e===0)return n.map(r=>ts(r));const t=Tv(n),i=Math.max((100-t)/e,Xze);return n.map(r=>r==="auto"?i:r).map(r=>ts(r))}function l7e(n){const e=Re.window.getComputedStyle(n);return e.boxSizing==="border-box"?parseInt(e.width):parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderWidth)}function gJ(n,e,t,i){for(let r=0;r<Math.max(t.length,n.length);r++){const s=n[r],o=t[r];o?s?i.setAttribute("columnWidth",o,s):i.appendElement("tableColumn",{columnWidth:o},e):i.remove(s)}}function Pw(n){if(n.is("element","tableColumnGroup"))return n;const e=n.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function Rw(n){const e=Pw(n);return e?Array.from(e.getChildren()):[]}function c7e(n){return Rw(n).map(e=>e.getAttribute("columnWidth"))}function u7e(n,e){return Rw(n).reduce((i,r)=>{const s=r.getAttribute("columnWidth"),o=r.getAttribute("colSpan");if(!o)return i.push(s),i;for(let a=0;a<o;a++)i.push(s);return e.removeAttribute("colSpan",r),i},[])}class Ji extends H{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,i=t.parent,r=i.getChildIndex(t),s=new an(i,{row:r});for(const{cell:o,row:a,column:l}of s)if(o===e)return{row:a,column:l};/* istanbul ignore next -- @preserve */}createTable(e,t){const i=e.createElement("table"),r=t.rows||2,s=t.columns||2;return BE(e,i,0,r,s),t.headingRows&&ui("headingRows",Math.min(t.headingRows,r),i,e,0),t.headingColumns&&ui("headingColumns",Math.min(t.headingColumns,s),i,e,0),i}insertRows(e,t={}){const i=this.editor.model,r=t.at||0,s=t.rows||1,o=t.copyStructureFromAbove!==void 0,a=t.copyStructureFromAbove?r-1:r,l=this.getRows(e),d=this.getColumns(e);if(r>l)throw new z("tableutils-insertrows-insert-out-of-range",this,{options:t});i.change(f=>{const m=e.getAttribute("headingRows")||0;if(m>r&&ui("headingRows",m+s,e,f,0),!o&&(r===0||r===l)){BE(f,e,r,s,d);return}const p=o?Math.max(r,a):r,w=new an(e,{endRow:p}),A=new Array(d).fill(1);for(const{row:x,column:S,cellHeight:P,cellWidth:I,cell:O}of w){const M=x+P-1,B=x<r&&r<=M,W=x<=a&&a<=M;B?(f.setAttribute("rowspan",P+s,O),A[S]=-I):o&&W&&(A[S]=I)}for(let x=0;x<s;x++){const S=f.createElement("tableRow");f.insert(S,e,r);for(let P=0;P<A.length;P++){const I=A[P],O=f.createPositionAt(S,"end");I>0&&Hu(f,O,I>1?{colspan:I}:void 0),P+=Math.abs(I)-1}}})}insertColumns(e,t={}){const i=this.editor.model,r=t.at||0,s=t.columns||1;i.change(o=>{const a=e.getAttribute("headingColumns");r<a&&o.setAttribute("headingColumns",a+s,e);const l=this.getColumns(e);if(r===0||l===r){for(const f of e.getChildren())f.is("element","tableRow")&&rm(s,o,o.createPositionAt(f,r?"end":0));return}const d=new an(e,{column:r,includeAllSlots:!0});for(const f of d){const{row:m,cell:p,cellAnchorColumn:w,cellAnchorRow:A,cellWidth:x,cellHeight:S}=f;if(w<r){o.setAttribute("colspan",x+s,p);const P=A+S-1;for(let I=m;I<=P;I++)d.skipRow(I)}else rm(s,o,f.getPositionBefore())}})}removeRows(e,t){const i=this.editor.model,r=t.rows||1,s=this.getRows(e),o=t.at,a=o+r-1;if(a>s-1)throw new z("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});i.change(l=>{const d={first:o,last:a},{cellsToMove:f,cellsToTrim:m}=h7e(e,d);if(f.size){const p=a+1;m7e(e,p,f,l)}for(let p=a;p>=o;p--)l.remove(e.getChild(p));for(const{rowspan:p,cell:w}of m)ui("rowspan",p,w,l);f7e(e,d,l),MI(e,this)||BI(e,this)})}removeColumns(e,t){const i=this.editor.model,r=t.at,s=t.columns||1,o=t.at+s-1;i.change(a=>{d7e(e,{first:r,last:o},a);const l=Rw(e);for(let d=o;d>=r;d--){for(const{cell:f,column:m,cellWidth:p}of[...new an(e)])m<=d&&p>1&&m+p>d?ui("colspan",p-1,f,a):m===d&&a.remove(f);if(l[d]){const f=d===0?l[1]:l[d-1],m=parseFloat(l[d].getAttribute("columnWidth")),p=parseFloat(f.getAttribute("columnWidth"));a.remove(l[d]),a.setAttribute("columnWidth",m+p+"%",f)}}BI(e,this)||MI(e,this)})}splitCellVertically(e,t=2){const i=this.editor.model,s=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");i.change(l=>{if(a>1){const{newCellsSpan:d,updatedSpan:f}=nF(a,t);ui("colspan",f,e,l);const m={};d>1&&(m.colspan=d),o>1&&(m.rowspan=o);const p=a>t?t-1:a-1;rm(p,l,l.createPositionAfter(e),m)}if(a<t){const d=t-a,f=[...new an(s)],{column:m}=f.find(({cell:x})=>x===e),p=f.filter(({cell:x,cellWidth:S,column:P})=>{const I=x!==e&&P===m,O=P<m&&P+S>m;return I||O});for(const{cell:x,cellWidth:S}of p)l.setAttribute("colspan",S+d,x);const w={};o>1&&(w.rowspan=o),rm(d,l,l.createPositionAfter(e),w);const A=s.getAttribute("headingColumns")||0;A>m&&ui("headingColumns",A+d,s,l)}})}splitCellHorizontally(e,t=2){const i=this.editor.model,r=e.parent,s=r.parent,o=s.getChildIndex(r),a=parseInt(e.getAttribute("rowspan")||"1"),l=parseInt(e.getAttribute("colspan")||"1");i.change(d=>{if(a>1){const f=[...new an(s,{startRow:o,endRow:o+a-1,includeAllSlots:!0})],{newCellsSpan:m,updatedSpan:p}=nF(a,t);ui("rowspan",p,e,d);const{column:w}=f.find(({cell:S})=>S===e),A={};m>1&&(A.rowspan=m),l>1&&(A.colspan=l);let x=0;for(const S of f){const{column:P,row:I}=S,O=I>=o+p,M=P===w;x>=m&&M&&(x=0),O&&M&&(x||rm(1,d,S.getPositionBefore(),A),x++)}}if(a<t){const f=t-a,m=[...new an(s,{startRow:0,endRow:o})];for(const{cell:A,cellHeight:x,row:S}of m)if(A!==e&&S+x>o){const P=x+f;d.setAttribute("rowspan",P,A)}const p={};l>1&&(p.colspan=l),BE(d,s,o+1,f,1,p);const w=s.getAttribute("headingRows")||0;w>o&&ui("headingRows",w+f,s,d)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,r)=>{const s=parseInt(r.getAttribute("colspan")||"1");return i+s},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,i)=>i.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new an(e,t)}getSelectedTableCells(e){const t=[];for(const i of this.sortRanges(e.getRanges())){const r=i.getContainedElement();r&&r.is("element","tableCell")&&t.push(r)}return t}getTableCellsContainingSelection(e){const t=[];for(const i of e.getRanges()){const r=i.start.findAncestor("tableCell");r&&t.push(r)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),r=[...new an(t)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,i=new Set;let r=0;for(const o of e){const{row:a,column:l}=this.getCellLocation(o),d=parseInt(o.getAttribute("rowspan"))||1,f=parseInt(o.getAttribute("colspan"))||1;t.add(a),i.add(l),d>1&&t.add(a+d-1),f>1&&i.add(l+f-1),r+=d*f}return p7e(t,i)==r}sortRanges(e){return Array.from(e).sort(g7e)}_getFirstLastIndexesObject(e){const t=e.sort((s,o)=>s-o),i=t[0],r=t[t.length-1];return{first:i,last:r}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),i=this.getRowIndexes(e),r=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,r))return!1;const s=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,o)}_areIndexesInSameSection({first:e,last:t},i){const r=e<i,s=t<i;return r===s}}function BE(n,e,t,i,r,s={}){for(let o=0;o<i;o++){const a=n.createElement("tableRow");n.insert(a,e,t),rm(r,n,n.createPositionAt(a,"end"),s)}}function rm(n,e,t,i={}){for(let r=0;r<n;r++)Hu(e,t,i)}function nF(n,e){if(n<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(n/e),i=n-t*e+t;return{newCellsSpan:t,updatedSpan:i}}function d7e(n,e,t){const i=n.getAttribute("headingColumns")||0;if(i&&e.first<i){const r=Math.min(i-1,e.last)-e.first+1;t.setAttribute("headingColumns",i-r,n)}}function f7e(n,{first:e,last:t},i){const r=n.getAttribute("headingRows")||0;if(e<r){const s=t<r?r-(t-e+1):e;ui("headingRows",s,n,i,0)}}function h7e(n,{first:e,last:t}){const i=new Map,r=[];for(const{row:s,column:o,cellHeight:a,cell:l}of new an(n,{endRow:t})){const d=s+a-1;if(s>=e&&s<=t&&d>t){const p=t-s+1,w=a-p;i.set(o,{cell:l,rowspan:w})}if(s<e&&d>=e){let p;d>=t?p=t-e+1:p=d-e+1,r.push({cell:l,rowspan:a-p})}}return{cellsToMove:i,cellsToTrim:r}}function m7e(n,e,t,i){const s=[...new an(n,{includeAllSlots:!0,row:e})],o=n.getChild(e);let a;for(const{column:l,cell:d,isAnchor:f}of s)if(t.has(l)){const{cell:m,rowspan:p}=t.get(l),w=a?i.createPositionAfter(a):i.createPositionAt(o,0);i.move(i.createRangeOn(m),w),ui("rowspan",p,m,i),a=m}else f&&(a=d)}function g7e(n,e){const t=n.start,i=e.start;return t.isBefore(i)?-1:1}function p7e(n,e){const t=Array.from(n.values()),i=Array.from(e.values()),r=Math.max(...t),s=Math.min(...t),o=Math.max(...i),a=Math.min(...i);return(r-s+1)*(o-a+1)}class b7e extends Je{refresh(){const e=this.editor.plugins.get(Ji),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Ji);e.change(i=>{const r=t.getSelectedTableCells(e.document.selection),s=r.shift(),{mergeWidth:o,mergeHeight:a}=w7e(s,r,t);ui("colspan",o,s,i),ui("rowspan",a,s,i);for(const d of r)v7e(d,s,i);const l=s.findAncestor("table");j5(l,t),i.setSelection(s,"in")})}}function v7e(n,e,t){iF(n)||(iF(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(n),t.createPositionAt(e,"end"))),t.remove(n)}function iF(n){const e=n.getChild(0);return n.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function w7e(n,e,t){let i=0,r=0;for(const d of e){const{row:f,column:m}=t.getCellLocation(d);i=rF(d,m,i,"colspan"),r=rF(d,f,r,"rowspan")}const{row:s,column:o}=t.getCellLocation(n),a=i-o,l=r-s;return{mergeWidth:a,mergeHeight:l}}function rF(n,e,t,i){const r=parseInt(n.getAttribute(i)||"1");return Math.max(t,e+r)}class y7e extends Je{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(i),s=i[0].findAncestor("table"),o=[];for(let a=r.first;a<=r.last;a++)for(const l of s.getChild(a).getChildren())o.push(e.createRangeOn(l));e.change(a=>{a.setSelection(o)})}}class _7e extends Je{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),r=i[0],s=i.pop(),o=r.findAncestor("table"),a=e.getCellLocation(r),l=e.getCellLocation(s),d=Math.min(a.column,l.column),f=Math.max(a.column,l.column),m=[];for(const p of new an(o,{startColumn:d,endColumn:f}))m.push(t.createRangeOn(p.cell));t.change(p=>{p.setSelection(m)})}}function A7e(n){n.document.registerPostFixer(e=>k7e(e,n))}function k7e(n,e){const t=e.document.differ.getChanges();let i=!1;const r=new Set;for(const s of t){let o=null;s.type=="insert"&&s.name=="table"&&(o=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(o=s.position.findAncestor("table")),T7e(s)&&(o=s.range.start.findAncestor("table")),o&&!r.has(o)&&(i=x7e(o,n)||i,i=C7e(o,n)||i,r.add(o))}return i}function x7e(n,e){let t=!1;const i=S7e(n);if(i.length){t=!0;for(const r of i)ui("rowspan",r.rowspan,r.cell,e,1)}return t}function C7e(n,e){let t=!1;const i=E7e(n),r=[];for(const[l,d]of i.entries())!d&&n.getChild(l).is("element","tableRow")&&r.push(l);if(r.length){t=!0;for(const l of r.reverse())e.remove(n.getChild(l)),i.splice(l,1)}const s=i.filter((l,d)=>n.getChild(d).is("element","tableRow")),o=s[0];if(!s.every(l=>l===o)){const l=s.reduce((d,f)=>f>d?f:d,0);for(const[d,f]of s.entries()){const m=l-f;if(m){for(let p=0;p<m;p++)Hu(e,e.createPositionAt(n.getChild(d),"end"));t=!0}}}return t}function S7e(n){const e=parseInt(n.getAttribute("headingRows")||"0"),t=Array.from(n.getChildren()).reduce((r,s)=>s.is("element","tableRow")?r+1:r,0),i=[];for(const{row:r,cell:s,cellHeight:o}of new an(n)){if(o<2)continue;const l=r<e?e:t;if(r+o>l){const d=l-r;i.push({cell:s,rowspan:d})}}return i}function E7e(n){const e=new Array(n.childCount).fill(0);for(const{rowIndex:t}of new an(n,{includeAllSlots:!0}))e[t]++;return e}function T7e(n){if(n.type!=="attribute")return!1;const e=n.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function I7e(n){n.document.registerPostFixer(e=>P7e(e,n))}function P7e(n,e){const t=e.document.differ.getChanges();let i=!1;for(const r of t)r.type=="insert"&&r.name=="table"&&(i=R7e(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableRow"&&(i=pJ(r.position.nodeAfter,n)||i),r.type=="insert"&&r.name=="tableCell"&&(i=FI(r.position.nodeAfter,n)||i),(r.type=="remove"||r.type=="insert")&&O7e(r)&&(i=FI(r.position.parent,n)||i);return i}function R7e(n,e){let t=!1;for(const i of n.getChildren())i.is("element","tableRow")&&(t=pJ(i,e)||t);return t}function pJ(n,e){let t=!1;for(const i of n.getChildren())t=FI(i,e)||t;return t}function FI(n,e){if(n.childCount==0)return e.insertElement("paragraph",n),!0;const t=Array.from(n.getChildren()).filter(i=>i.is("$text"));for(const i of t)e.wrap(e.createRangeOn(i),"paragraph");return!!t.length}function O7e(n){return n.position.parent.is("element","tableCell")?n.type=="insert"&&n.name=="$text"||n.type=="remove":!1}function D7e(n,e){const t=n.document.differ;for(const i of t.getChanges()){let r,s=!1;if(i.type=="attribute"){const d=i.range.start.nodeAfter;if(!d||!d.is("element","table")||i.attributeKey!="headingRows"&&i.attributeKey!="headingColumns")continue;r=d,s=i.attributeKey=="headingRows"}else(i.name=="tableRow"||i.name=="tableCell")&&(r=i.position.findAncestor("table"),s=i.name=="tableRow");if(!r)continue;const o=r.getAttribute("headingRows")||0,a=r.getAttribute("headingColumns")||0,l=new an(r);for(const d of l){const m=d.row<o||d.column<a?"th":"td",p=e.mapper.toViewElement(d.cell);p&&p.is("element")&&p.name!=m&&e.reconvertItem(s?d.cell.parent:d.cell)}}}function N7e(n,e){const t=n.document.differ,i=new Set;for(const r of t.getChanges()){const s=r.type=="attribute"?r.range.start.parent:r.position.parent;s.is("element","tableCell")&&i.add(s)}for(const r of i.values()){const s=Array.from(r.getChildren()).filter(o=>M7e(o,e.mapper));for(const o of s)e.reconvertItem(o)}}function M7e(n,e){if(!n.is("element","paragraph"))return!1;const t=e.toViewElement(n);return t?sJ(n)!==t.is("element","span"):!1}class Ow extends H{_additionalSlots;static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ji]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,i=t.schema,r=e.conversion,s=e.plugins.get(Ji);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(Pze()),r.for("upcast").add(Rze()),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:KL(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:KL(s,{additionalSlots:this._additionalSlots})}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(Oze()),r.for("downcast").elementToElement({model:"tableRow",view:Vze()}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(YL("td")),r.for("upcast").add(YL("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:qL({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:qL()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:ZL({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:ZL(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:sF("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:sF("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new zze(e)),e.commands.add("insertTableRowAbove",new QL(e,{order:"above"})),e.commands.add("insertTableRowBelow",new QL(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new JL(e,{order:"left"})),e.commands.add("insertTableColumnRight",new JL(e,{order:"right"})),e.commands.add("removeTableRow",new Gze(e)),e.commands.add("removeTableColumn",new Kze(e)),e.commands.add("splitTableCellVertically",new XL(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new XL(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new b7e(e)),e.commands.add("mergeTableCellRight",new n0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new n0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new n0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new n0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new Jze(e)),e.commands.add("setTableRowHeader",new Qze(e)),e.commands.add("selectTableRow",new y7e(e)),e.commands.add("selectTableColumn",new _7e(e)),A7e(t),I7e(t),this.listenTo(t.document,"change:data",()=>{D7e(t,e.editing),N7e(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function sF(n){return e=>{const t=parseInt(e.getAttribute(n));return Number.isNaN(t)||t<=0?null:t}}class s1 extends Me{items;keystrokes;focusTracker;constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new tn,this.focusTracker=new Ut,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,r)=>`${r}  ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(i=>{i.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,r)=>{const{row:s,column:o}=r.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(o,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,r,s)=>{if(!s)return;const{row:o,column:a}=s.dataset;this.set({rows:parseInt(o),columns:parseInt(a)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),yw({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((i,r)=>{const s=Math.floor(r/10),o=r%10,a=s<e&&o<t;i.set("isOn",a)})}_createGridButton(e,t,i,r){const s=new ze(e);return s.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":t,"data-column":i}}),s}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const i=Math.floor(t/10),r=t%10,s=`${i+1}  ${r+1}`;e.push(this._createGridButton(this.locale,i+1,r+1,s))}return this.createCollection(e)}}class B7e extends H{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t,r=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const o=e.commands.get("insertTable"),a=ii(s);a.bind("isEnabled").to(o),a.buttonView.set({icon:P6,label:t("Insert table"),tooltip:!0});let l;return a.on("change:isOpen",()=>{l||(l=new s1(s),a.panelView.children.add(l),l.delegate("execute").to(a),a.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}))}),a}),e.ui.componentFactory.add("menuBar:insertTable",s=>{const o=e.commands.get("insertTable"),a=new cr(s),l=new s1(s);return l.delegate("execute").to(a),a.on("change:isOpen",(d,f,m)=>{m||l.reset()}),l.on("execute",()=>{e.execute("insertTable",{rows:l.rows,columns:l.columns}),e.editing.view.focus()}),a.buttonView.set({label:t("Table"),icon:P6}),a.panelView.children.add(l),a.bind("isEnabled").to(o),a}),e.ui.componentFactory.add("tableColumn",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),ORe,o,s)}),e.ui.componentFactory.add("tableRow",s=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),NRe,o,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const o=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),DRe,o,s)})}_prepareDropdown(e,t,i,r){const s=this.editor,o=ii(r),a=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(a,"isEnabled",(...l)=>l.some(d=>d)),this.listenTo(o,"execute",l=>{s.execute(l.source.commandName),l.source instanceof _w||s.editing.view.focus()}),o}_prepareMergeSplitButtonDropdown(e,t,i,r){const s=this.editor,o=ii(r,$u),a="mergeTableCells",l=s.commands.get(a),d=this._fillDropdownWithListOptions(o,i);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([l,...d],"isEnabled",(...f)=>f.some(m=>m)),this.listenTo(o.buttonView,"execute",()=>{s.execute(a),s.editing.view.focus()}),this.listenTo(o,"execute",f=>{s.execute(f.source.commandName),s.editing.view.focus()}),o}_fillDropdownWithListOptions(e,t){const i=this.editor,r=[],s=new hi;for(const o of t)V7e(o,i,r,s);return ea(e,s),r}}function V7e(n,e,t,i){if(n.type==="button"||n.type==="switchbutton"){const r=n.model=new io(n.model),{commandName:s,bindIsOn:o}=n.model,a=e.commands.get(s);t.push(a),r.set({commandName:s}),r.bind("isEnabled").to(a),o&&r.bind("isOn").to(a,"value"),r.set({withText:!0})}i.add(n)}class Su extends H{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Ji,Ji]}init(){const e=this.editor,t=e.model,i=e.editing.view;this.listenTo(t,"deleteContent",(r,s)=>this._handleDeleteContent(r,s),{priority:"high"}),this.listenTo(i.document,"insertText",(r,s)=>this._handleInsertTextEvent(r,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ji),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);return i.length==0?null:i}getSelectionAsFragment(){const e=this.editor.plugins.get(Ji),t=this.getSelectedTableCells();return t?this.editor.model.change(i=>{const r=i.createDocumentFragment(),{first:s,last:o}=e.getColumnIndexes(t),{first:a,last:l}=e.getRowIndexes(t),d=t[0].findAncestor("table");let f=l,m=o;if(e.isSelectionRectangular(t)){const A={firstColumn:s,lastColumn:o,firstRow:a,lastRow:l};f=fJ(d,A),m=hJ(d,A)}const w=oJ(d,{startRow:a,startColumn:s,endRow:f,endColumn:m},i);return i.insert(w,r,0),r}):null}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(r=>{r.setSelection(i.cells.map(s=>r.createRangeOn(s)),{backward:i.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const e=this.editor.model.document.selection,i=sn(e.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(r=>r.on("selection",(s,o,a)=>{const l=a.writer;i(l);const d=this.getSelectedTableCells();if(!d)return;for(const m of d){const p=a.mapper.toViewElement(m);l.addClass("ck-editor__editable_selected",p),t.add(p)}const f=a.mapper.toViewElement(d[d.length-1]);l.setSelection(f,0)},{priority:"lowest"}));function i(r){for(const s of t)r.removeClass("ck-editor__editable_selected",s);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(i=>{const r=i.createPositionAt(t[0],0),s=e.model.schema.getNearestSelectionRange(r);i.setSelection(s)})}})}_handleDeleteContent(e,t){const i=this.editor.plugins.get(Ji),r=t[0],s=t[1],o=this.editor.model,a=!s||s.direction=="backward",l=i.getSelectedTableCells(r);l.length&&(e.stop(),o.change(d=>{const f=l[a?l.length-1:0];o.change(p=>{for(const w of l)o.deleteContent(p.createSelection(w,"in"))});const m=o.schema.getNearestSelectionRange(d.createPositionAt(f,0));r.is("documentSelection")?d.setSelection(m):r.setTo(m)}))}_handleInsertTextEvent(e,t){const i=this.editor,r=this.getSelectedTableCells();if(!r)return;const s=i.editing.view,o=i.editing.mapper,a=r.map(l=>s.createRangeOn(o.toViewElement(l)));t.selection=s.createSelection(a),t.preventDefault()}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils"),r=i.getCellLocation(e),s=i.getCellLocation(t),o=Math.min(r.row,s.row),a=Math.max(r.row,s.row),l=Math.min(r.column,s.column),d=parseInt(t.getAttribute("colspan")||"1")-1,f=Math.max(r.column,s.column+d),m=new Array(a-o+1).fill(null).map(()=>[]),p={startRow:o,endRow:a,startColumn:l,endColumn:f};for(const{row:x,cell:S}of new an(e.findAncestor("table"),p))m[x-o].push(S);const w=s.row<r.row,A=s.column<r.column;return w&&m.reverse(),A&&m.forEach(x=>x.reverse()),{cells:m.flat(),backward:w||A}}}class L7e extends H{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Mb,ss,Su,Ji]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",(i,r)=>this._onCopyCut(i,r)),this.listenTo(t,"cut",(i,r)=>this._onCopyCut(i,r)),this._listenToContentInsertion(),this.decorate("_replaceTableSlotCell")}_listenToContentInsertion(){const{editor:e}=this,t=e.plugins.get(ss),i=e.plugins.get(Su);let r=!1;t.on("contentInsertion",(s,o)=>{r=o.method==="paste"}),this.listenTo(e.model,"insertContent",(s,[o,a])=>{(r||i.getSelectedTableCells()!==null)&&this._onInsertContent(s,o,a)},{priority:"high"}),t.on("contentInsertion",()=>{r=!1},{priority:"lowest"})}_onCopyCut(e,t){const i=this.editor.editing.view,r=this.editor.plugins.get(Su),s=this.editor.plugins.get(Mb);r.getSelectedTableCells()&&(e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)||(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const o=s._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>r.getSelectionAsFragment());i.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(o),method:e.name})})))}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection"))return;const r=this.editor.model,s=this.editor.plugins.get(Ji),o=this.editor.plugins.get(Mb),a=this.getTableIfOnlyTableInContent(t,r);if(!a)return;const l=s.getSelectionAffectedTableCells(r.document.selection);if(!l.length){j5(a,s);return}e.stop(),t.is("documentFragment")?o._pasteMarkersIntoTransformedElement(t.markers,d=>this._replaceSelectedCells(a,l,d)):this.editor.model.change(d=>{this._replaceSelectedCells(a,l,d)})}_replaceSelectedCells(e,t,i){const r=this.editor.plugins.get(Ji),s={width:r.getColumns(e),height:r.getRows(e)},o=F7e(t,s,i,r),a=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,d={startRow:0,startColumn:0,endRow:Math.min(a,s.height)-1,endColumn:Math.min(l,s.width)-1};e=oJ(e,d,i);const f=t[0].findAncestor("table"),m=this._replaceSelectedCellsWithPasted(e,s,f,o,i);if(this.editor.plugins.get("TableSelection").isEnabled){const p=r.sortRanges(m.map(w=>i.createRangeOn(w)));i.setSelection(p)}else i.setSelection(m[0],0);return f}_replaceSelectedCellsWithPasted(e,t,i,r,s){const{width:o,height:a}=t,l=j7e(e,o,a),d=[...new an(i,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],f=[];let m;for(const S of d){const{row:P,column:I}=S;I===r.firstColumn&&(m=S.getPositionBefore());const O=P-r.firstRow,M=I-r.firstColumn,B=l[O%a][M%o],W=B?s.cloneElement(B):null,$=this._replaceTableSlotCell(S,W,m,s);$&&(dJ($,P,I,r.lastRow,r.lastColumn,s),f.push($),m=s.createPositionAfter($))}const p=parseInt(i.getAttribute("headingRows")||"0"),w=parseInt(i.getAttribute("headingColumns")||"0"),A=r.firstRow<p&&p<=r.lastRow,x=r.firstColumn<w&&w<=r.lastColumn;if(A){const S={first:r.firstColumn,last:r.lastColumn},P=zI(i,p,S,s,r.firstRow);f.push(...P)}if(x){const S={first:r.firstRow,last:r.lastRow},P=jI(i,w,S,s);f.push(...P)}return f}_replaceTableSlotCell(e,t,i,r){const{cell:s,isAnchor:o}=e;return o&&r.remove(s),t?(r.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const i=t.createRangeIn(e);for(const r of i.getItems())if(r.is("element","table")){const s=t.createRange(i.start,t.createPositionBefore(r));if(t.hasContent(s,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(r),i.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:r}return null}}function F7e(n,e,t,i){const r=n[0].findAncestor("table"),s=i.getColumnIndexes(n),o=i.getRowIndexes(n),a={firstColumn:s.first,lastColumn:s.last,firstRow:o.first,lastRow:o.last},l=n.length===1;return l&&(a.lastRow+=e.height-1,a.lastColumn+=e.width-1,z7e(r,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(n)?U7e(r,a,t):(a.lastRow=fJ(r,a),a.lastColumn=hJ(r,a)),a}function z7e(n,e,t,i){const r=i.getColumns(n),s=i.getRows(n);t>r&&i.insertColumns(n,{at:r,columns:t-r}),e>s&&i.insertRows(n,{at:s,rows:e-s})}function j7e(n,e,t){const i=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:r,row:s,cell:o}of new an(n))i[s][r]=o;return i}function U7e(n,e,t){const{firstRow:i,lastRow:r,firstColumn:s,lastColumn:o}=e,a={first:i,last:r},l={first:s,last:o};jI(n,s,a,t),jI(n,o+1,a,t),zI(n,i,l,t),zI(n,r+1,l,t,i)}function zI(n,e,t,i,r=0){return e<1?void 0:aJ(n,e,r).filter(({column:a,cellWidth:l})=>bJ(a,l,t)).map(({cell:a})=>lJ(a,e,i))}function jI(n,e,t,i){return e<1?void 0:cJ(n,e).filter(({row:o,cellHeight:a})=>bJ(o,a,t)).map(({cell:o,column:a})=>uJ(o,a,e,i))}function bJ(n,e,t){const i=n+e-1,{first:r,last:s}=t,o=n>=r&&n<=s,a=n<r&&i>=r;return o||a}class $7e extends H{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Su,Ji]}init(){const e=this.editor,i=e.editing.view.document,r=e.t;this.listenTo(i,"arrowKey",(...s)=>this._onArrowKey(...s),{context:"table"}),this.listenTo(i,"tab",(...s)=>this._handleTabOnSelectedTable(...s),{context:"figure"}),this.listenTo(i,"tab",(...s)=>this._handleTab(...s),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const i=this.editor,s=i.model.document.selection.getSelectedElement();!s||!s.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(o=>{o.setSelection(o.createRangeIn(s.getChild(0).getChild(0)))}))}_handleTab(e,t){const i=this.editor,r=this.editor.plugins.get(Ji),s=this.editor.plugins.get("TableSelection"),o=i.model.document.selection,a=!t.shiftKey;let l=r.getTableCellsContainingSelection(o)[0];if(l||(l=s.getFocusCell()),!l)return;t.preventDefault(),t.stopPropagation(),e.stop();const d=l.parent,f=d.parent,m=f.getChildIndex(d),p=d.getChildIndex(l),w=p===0;if(!a&&w&&m===0){i.model.change(P=>{P.setSelection(P.createRangeOn(f))});return}const A=p===d.childCount-1,x=m===r.getRows(f)-1;if(a&&x&&A&&(i.execute("insertTableRowBelow"),m===r.getRows(f)-1)){i.model.change(P=>{P.setSelection(P.createRangeOn(f))});return}let S;if(a&&A)S=f.getChild(m+1).getChild(0);else if(!a&&w){const P=f.getChild(m-1);S=P.getChild(P.childCount-1)}else S=d.getChild(p+(a?1:-1));i.model.change(P=>{P.setSelection(P.createRangeIn(S))})}_onArrowKey(e,t){const i=this.editor,r=t.keyCode,s=Uk(r,i.locale.contentLanguageDirection);this._handleArrowKeys(s,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const i=this.editor.plugins.get(Ji),r=this.editor.plugins.get("TableSelection"),s=this.editor.model,o=s.document.selection,a=["right","down"].includes(e),l=i.getSelectedTableCells(o);if(l.length){let f;return t?f=r.getFocusCell():f=a?l[l.length-1]:l[0],this._navigateFromCellInDirection(f,e,t),!0}const d=o.focus.findAncestor("tableCell");/* istanbul ignore if: paranoid check -- @preserve */if(!d)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==a&&!o.containsEntireContent(d))return!1}else{const f=o.getSelectedElement();if(!f||!s.schema.isObject(f))return!1}return this._isSelectionAtCellEdge(o,d,a)?(this._navigateFromCellInDirection(d,e,t),!0):!1}_isSelectionAtCellEdge(e,t,i){const r=this.editor.model,s=this.editor.model.schema,o=i?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(o).is("element","tableCell"))return r.createPositionAt(t,i?"end":0).isTouching(o);const a=r.createSelection(o);return r.modifySelection(a,{direction:i?"forward":"backward"}),o.isEqual(a.focus)}_navigateFromCellInDirection(e,t,i=!1){const r=this.editor.model,s=e.findAncestor("table"),o=[...new an(s,{includeAllSlots:!0})],{row:a,column:l}=o[o.length-1],d=o.find(({cell:I})=>I==e);let{row:f,column:m}=d;switch(t){case"left":m--;break;case"up":f--;break;case"right":m+=d.cellWidth;break;case"down":f+=d.cellHeight;break}const p=f<0||f>a,w=m<0&&f<=0,A=m>l&&f>=a;if(p||w||A){r.change(I=>{I.setSelection(I.createRangeOn(s))});return}m<0?(m=i?0:l,f--):m>l&&(m=i?l:0,f++);const x=o.find(I=>I.row==f&&I.column==m).cell,S=["right","down"].includes(t),P=this.editor.plugins.get("TableSelection");if(i&&P.isEnabled){const I=P.getAnchorCell()||e;P.setCellSelection(I,x)}else{const I=r.createPositionAt(x,S?0:"end");r.change(O=>{O.setSelection(I)})}}}class vJ extends Ja{domEventType=["mousemove","mouseleave"];onDomEvent(e){this.fire(e.type,e)}}class H7e extends H{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[Su,Ji]}init(){this.editor.editing.view.addObserver(vJ),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Ji);let i=!1;const r=e.plugins.get(Su);this.listenTo(e.editing.view.document,"mousedown",(s,o)=>{const a=e.model.document.selection;if(!this.isEnabled||!r.isEnabled||!o.domEvent.shiftKey)return;const l=r.getAnchorCell()||t.getTableCellsContainingSelection(a)[0];if(!l)return;const d=this._getModelTableCellFromDomEvent(o);d&&oF(l,d)&&(i=!0,r.setCellSelection(l,d),o.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",s=>{i&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,i,r=!1,s=!1;const o=e.plugins.get(Su);this.listenTo(e.editing.view.document,"mousedown",(a,l)=>{!this.isEnabled||!o.isEnabled||l.domEvent.shiftKey||l.domEvent.ctrlKey||l.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(l))}),this.listenTo(e.editing.view.document,"mousemove",(a,l)=>{if(!l.domEvent.buttons||!t)return;const d=this._getModelTableCellFromDomEvent(l);d&&oF(t,d)&&(i=d,!r&&i!=t&&(r=!0)),r&&(s=!0,o.setCellSelection(t,i),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1,s=!1,t=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",a=>{s&&a.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,i=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function oF(n,e){return n.parent.parent==e.parent.parent}class wJ extends H{static get requires(){return[Ow,B7e,Su,H7e,$7e,L7e,el]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}class yJ extends H{static get pluginName(){return"PlainTableOutput"}static get isOfficialPlugin(){return!0}static get requires(){return[wJ]}init(){const e=this.editor;e.conversion.for("dataDowncast").elementToStructure({model:"table",view:W7e,converterPriority:"high"}),e.plugins.has("TableCaption")&&e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(t,{writer:i})=>{if(t.parent.name==="table")return i.createContainerElement("caption")},converterPriority:"high"}),e.plugins.has("TableProperties")&&G7e(e),e.conversion.for("upcast").add(t=>{t.on("element:table",(i,r,s)=>{s.consumable.consume(r.viewItem,{classes:"table"})})})}}function W7e(n,{writer:e}){const t=n.getAttribute("headingRows")||0,i=e.createSlot(d=>d.is("element","tableRow")&&d.index<t),r=e.createSlot(d=>d.is("element","tableRow")&&d.index>=t),s=e.createSlot(d=>!d.is("element","tableRow")),o=e.createContainerElement("thead",null,i),a=e.createContainerElement("tbody",null,r),l=[];return t&&l.push(o),t<n.childCount&&l.push(a),e.createContainerElement("table",{class:"table"},[s,...l])}function G7e(n){const e={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[t,i]of Object.entries(e))n.conversion.for("dataDowncast").add(r=>r.on(`attribute:${i}:table`,(s,o,a)=>{const{item:l,attributeNewValue:d}=o,{mapper:f,writer:m}=a;if(!a.consumable.consume(l,s.name))return;const p=f.toViewElement(l);d?m.setStyle(t,d,p):m.removeStyle(t,p)},{priority:"high"}))}function o1(n){const e=_J(n);return e||sx(n)}function _J(n){const e=n.getSelectedElement();return e&&AJ(e)?e:null}function sx(n){const e=n.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&AJ(t))return t;t=t.parent}return null}function AJ(n){return!!n.getCustomProperty("table")&&Jn(n)}class Y7e extends H{static get requires(){return[$m]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,t=e.t,i=e.plugins.get($m),r=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");r&&i.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:sx}),s&&i.register("table",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:_J})}}class K7e extends Me{options;focusTracker;focusCycler;_focusables;dropdownView;inputView;keystrokes;_stillTyping;constructor(e,t){super(e),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=t,this.focusTracker=new Ut,this._focusables=new Ai,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new tn,this._stillTyping=!1,this.focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(i,r,s)=>this._setInputValue(s))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(e=>{this.focusTracker.add(e.element),this._focusables.add(e)}),this.keystrokes.listenTo(this.element)}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,t=e.t,i=this.bindTemplate,r=this._createColorSelector(e),s=ii(e),o=new Me;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:i.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",i.if("value","ck-hidden",a=>a!="")]}}]}),s.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),s.buttonView.children.add(o),s.buttonView.label=t("Color picker"),s.buttonView.tooltip=!0,s.panelPosition=e.uiLanguageDirection==="rtl"?"se":"sw",s.panelView.children.add(r),s.bind("isEnabled").to(this,"isReadOnly",a=>!a),s.on("change:isOpen",(a,l,d)=>{d&&(r.updateSelectedColors(),r.showColorGridsFragment())}),s}_createInputTextView(){const e=this.locale,t=new CZ(e);return t.extendTemplate({on:{blur:t.bindTemplate.to("blur")}}),t.value=this.value,t.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(t),t.on("input",()=>{const i=t.element.value,r=this.options.colorDefinitions.find(s=>i===s.label);this._stillTyping=!0,this.value=r&&r.color||i}),t.on("blur",()=>{this._stillTyping=!1,this._setInputValue(t.element.value)}),t.delegate("input").to(this),t}_createColorSelector(e){const t=e.t,i=this.options.defaultColorValue||"",r=t(i?"Restore default":"Remove color"),s=new w5(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:r,colorPickerLabel:t("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig===!1?!1:{...this.options.colorPickerConfig,hideInput:!0}});s.appendUI(),s.on("execute",(a,l)=>{if(l.source==="colorPickerSaveButton"){this.dropdownView.isOpen=!1;return}this.value=l.value||i,this.fire("input"),l.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)});let o=this.value;return s.on("colorPicker:cancel",()=>{this.value=o,this.fire("input"),this.dropdownView.isOpen=!1}),s.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{o=this.value}),s.bind("selectedColor").to(this,"value"),s}_setInputValue(e){if(!this._stillTyping){const t=aF(e),i=this.options.colorDefinitions.find(r=>t===aF(r.color));i?this.inputView.value=i.label:this.inputView.value=e||""}}}function aF(n){return n.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const $5=n=>n==="";function H5(n){return{none:n("None"),solid:n("Solid"),dotted:n("Dotted"),dashed:n("Dashed"),double:n("Double"),groove:n("Groove"),ridge:n("Ridge"),inset:n("Inset"),outset:n("Outset")}}function kJ(n){return n('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function xJ(n){return n('The value is invalid. Try "10px" or "2em" or simply "2".')}function a1(n){return n=n.trim().toLowerCase(),$5(n)||zq(n)}function Vb(n){return n=n.trim(),$5(n)||EJ(n)||qk(n)||jq(n)}function CJ(n){return n=n.trim(),$5(n)||EJ(n)||qk(n)}function SJ(n,e){const t=new hi,i=H5(n.t);for(const r in i){const s={type:"button",model:new io({_borderStyleValue:r,label:i[r],role:"menuitemradio",withText:!0})};r==="none"?s.model.bind("isOn").to(n,"borderStyle",o=>e==="none"?!o:o===r):s.model.bind("isOn").to(n,"borderStyle",o=>o===r),t.add(s)}return t}function UI(n){const{view:e,icons:t,toolbar:i,labels:r,propertyName:s,nameToValue:o,defaultValue:a}=n;for(const l in r){const d=new ze(e.locale);d.set({role:"radio",isToggleable:!0,label:r[l],icon:t[l],tooltip:r[l]});const f=o?o(l):l;d.bind("isOn").to(e,s,m=>{let p=m;return m===""&&a&&(p=a),f===p}),d.on("execute",()=>{!a&&f&&e[s]===f?e[s]=void 0:e[s]=f}),i.items.add(d)}}const l1=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function c1(n){return(e,t,i)=>{const r=new K7e(e.locale,{colorDefinitions:q7e(n.colorConfig),columns:n.columns,defaultColorValue:n.defaultColorValue,colorPickerConfig:n.colorPickerConfig});return r.inputView.set({id:t,ariaDescribedById:i}),r.bind("isReadOnly").to(e,"isEnabled",s=>!s),r.bind("hasError").to(e,"errorText",s=>!!s),r.on("input",()=>{e.errorText=null}),e.bind("isEmpty","isFocused").to(r),r}}function EJ(n){const e=parseFloat(n);return!Number.isNaN(e)&&n===String(e)}function q7e(n){return n.map(e=>({color:e.model,label:e.label,options:{hasBorder:e.hasBorder}}))}class Z7e extends Me{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;paddingInput;widthInput;heightInput;horizontalAlignmentToolbar;verticalAlignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=t;const{borderStyleDropdown:i,borderWidthInput:r,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:d,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{horizontalAlignmentToolbar:w,verticalAlignmentToolbar:A,alignmentLabel:x}=this._createAlignmentFields();this.focusTracker=new Ut,this.keystrokes=new tn,this.children=this.createCollection(),this.borderStyleDropdown=i,this.borderWidthInput=r,this.borderColorInput=s,this.backgroundInput=l,this.paddingInput=this._createPaddingField(),this.widthInput=d,this.heightInput=m,this.horizontalAlignmentToolbar=w,this.verticalAlignmentToolbar=A;const{saveButtonView:S,cancelButtonView:P}=this._createActionButtons();this.saveButtonView=S,this.cancelButtonView=P,this._focusables=new Ai,this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Xa(e,{label:this.t("Cell properties")})),this.children.add(new Qi(e,{labelView:o,children:[o,i,s,r],class:"ck-table-form__border-row"})),this.children.add(new Qi(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new Qi(e,{children:[new Qi(e,{labelView:p,children:[p,d,f,m],class:"ck-table-form__dimensions-row"}),new Qi(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Qi(e,{labelView:x,children:[x,w,A],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Qi(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},i=c1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,s=this.t,o=s("Style"),a=new ns(r);a.text=s("Border");const l=H5(s),d=new Xn(r,IZ);d.set({label:o,class:"ck-table-form__border-style"}),d.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),d.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),d.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),d.bind("isEmpty").to(this,"borderStyle",p=>!p),ea(d.fieldView,SJ(this,t.style),{role:"menu",ariaLabel:o});const f=new Xn(r,_r);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",i0),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Xn(r,i);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",i0),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,w,A,x)=>{i0(A)||(this.borderColor="",this.borderWidth=""),i0(x)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:d,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,i=new ns(e);i.text=t("Background");const r=c1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Xn(e,r);return s.set({label:t("Color"),class:"ck-table-cell-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:i,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,i=new ns(e);i.text=t("Dimensions");const r=new Xn(e,_r);r.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",()=>{this.width=r.fieldView.element.value});const s=new Me(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Xn(e,_r);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:i,widthInput:r,operatorLabel:s,heightInput:o}}_createPaddingField(){const e=this.locale,t=this.t,i=new Xn(e,_r);return i.set({label:t("Padding"),class:"ck-table-cell-properties-form__padding"}),i.fieldView.bind("value").to(this,"padding"),i.fieldView.on("input",()=>{this.padding=i.fieldView.element.value}),i}_createAlignmentFields(){const e=this.locale,t=this.t,i=new ns(e),r={left:c5,center:qq,right:Qq,justify:Zq,top:IPe,middle:TPe,bottom:EPe};i.text=t("Table cell text alignment");const s=new pc(e),o=e.contentLanguageDirection==="rtl";s.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Horizontal text alignment toolbar")}),UI({view:this,icons:r,toolbar:s,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:l=>{if(o){if(l==="left")return"right";if(l==="right")return"left"}return l},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const a=new pc(e);return a.set({isCompact:!0,role:"radiogroup",ariaLabel:t("Vertical text alignment toolbar")}),UI({view:this,icons:r,toolbar:a,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:s,verticalAlignmentToolbar:a,alignmentLabel:i}}_createActionButtons(){const e=this.locale,t=this.t,i=new ze(e),r=new ze(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return i.set({label:t("Save"),icon:vw,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),r.set({label:t("Cancel"),icon:cg,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:r}}get _horizontalAlignmentLabels(){const e=this.locale,t=this.t,i=t("Align cell text to the left"),r=t("Align cell text to the center"),s=t("Align cell text to the right"),o=t("Justify cell text");return e.uiLanguageDirection==="rtl"?{right:s,center:r,left:i,justify:o}:{left:i,center:r,right:s,justify:o}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function i0(n){return n!=="none"}const $I=[Rn.defaultPositions.northArrowSouth,Rn.defaultPositions.northArrowSouthWest,Rn.defaultPositions.northArrowSouthEast,Rn.defaultPositions.southArrowNorth,Rn.defaultPositions.southArrowNorthWest,Rn.defaultPositions.southArrowNorthEast,Rn.defaultPositions.viewportStickyNorth];function TJ(n,e){const t=n.plugins.get("ContextualBalloon"),i=n.editing.view.document.selection;let r;e==="cell"?sx(i)&&(r=PJ(n)):o1(i)&&(r=IJ(n)),r&&t.updatePosition(r)}function IJ(n){const e=n.model.document.selection,t=Ba(e),i=n.editing.mapper.toViewElement(t);return{target:n.editing.view.domConverter.mapViewToDom(i),positions:$I}}function PJ(n){const e=n.editing.mapper,t=n.editing.view.domConverter,i=n.model.document.selection;if(i.rangeCount>1)return{target:()=>Q7e(i.getRanges(),n),positions:$I};const r=RJ(i.getFirstPosition()),s=e.toViewElement(r);return{target:t.mapViewToDom(s),positions:$I}}function RJ(n){return n.nodeAfter&&n.nodeAfter.is("element","tableCell")?n.nodeAfter:n.findAncestor("tableCell")}function Q7e(n,e){const t=e.editing.mapper,i=e.editing.view.domConverter,r=Array.from(n).map(s=>{const o=RJ(s.start),a=t.toViewElement(o);return new rt(i.mapViewToDom(a))});return rt.getBoundingRect(r)}function Vf(n){if(!n||!kr(n))return n;const{top:e,right:t,bottom:i,left:r}=n;if(e==t&&t==i&&i==r)return e}function Lf(n,e){const t=parseFloat(n);return Number.isNaN(t)||String(t)!==String(n)?n:`${t}${e}`}function ox(n,e={}){const t={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...n};return e.includeAlignmentProperty&&!t.alignment&&(t.alignment="center"),e.includePaddingProperty&&!t.padding&&(t.padding=""),e.includeVerticalAlignmentProperty&&!t.verticalAlignment&&(t.verticalAlignment="middle"),e.includeHorizontalAlignmentProperty&&!t.horizontalAlignment&&(t.horizontalAlignment=e.isRightToLeftContent?"right":"left"),t}function OJ(n,e){return ox({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...n},e)}function W5(n,e){return ox({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...n},e)}const J7e=500,lF={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class X7e extends H{_defaultContentTableCellProperties;_defaultLayoutTableCellProperties;_balloon;view;_viewWithContentTableDefaults;_viewWithLayoutTableDefaults;_undoStepBatch;_isReady;static get requires(){return[xr]}static get pluginName(){return"TableCellPropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:l1,backgroundColors:l1})}init(){const e=this.editor,t=e.t;this._defaultContentTableCellProperties=W5(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._defaultLayoutTableCellProperties=ox(void 0,{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"}),this._balloon=e.plugins.get(xr),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",i=>{const r=new ze(i);r.set({label:t("Cell properties"),icon:RRe,tooltip:!0}),this.listenTo(r,"execute",()=>this._showView());const s=Object.values(lF).map(o=>e.commands.get(o));return r.bind("isEnabled").toMany(s,"isEnabled",(...o)=>o.some(a=>a)),r})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,i=t.config.get("table.tableCellProperties"),r=_v(i.borderColors),s=yv(t.locale,r),o=_v(i.backgroundColors),a=yv(t.locale,o),l=i.colorPicker!==!1,d=new Z7e(t.locale,{borderColors:s,backgroundColors:a,defaultTableCellProperties:e,colorPickerConfig:l?i.colorPicker||{}:!1}),f=t.t;d.render(),this.listenTo(d,"submit",()=>{this._hideView()}),this.listenTo(d,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),d.keystrokes.set("Esc",(w,A)=>{this._hideView(),A()}),Xo({emitter:d,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=kJ(f),p=xJ(f);return d.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),d.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:d.borderColorInput,commandName:"tableCellBorderColor",errorText:m,validator:a1})),d.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:d.borderWidthInput,commandName:"tableCellBorderWidth",errorText:p,validator:CJ})),d.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:d.paddingInput,commandName:"tableCellPadding",errorText:p,validator:Vb})),d.on("change:width",this._getValidatedPropertyChangeCallback({viewField:d.widthInput,commandName:"tableCellWidth",errorText:p,validator:Vb})),d.on("change:height",this._getValidatedPropertyChangeCallback({viewField:d.heightInput,commandName:"tableCellHeight",errorText:p,validator:Vb})),d.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:d.backgroundInput,commandName:"tableCellBackgroundColor",errorText:m,validator:a1})),d.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),d.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),d}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableCellBorderStyle");Object.entries(lF).map(([i,r])=>{const s=i,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableCellProperties[s]||"":this._defaultLayoutTableCellProperties[s]||"";return[i,e.get(r).value||o]}).forEach(([i,r])=>{(i==="borderColor"||i==="borderWidth")&&t.value==="none"||this.view.set(i,r)}),this._isReady=!0}_showView(){const e=this.editor,t=o1(e.editing.view.document.selection),i=t&&e.editing.mapper.toModelElement(t),r=!i||i.getAttribute("tableType")!=="layout";r&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableCellProperties):!r&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableCellProperties)),this.view=r?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:PJ(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;sx(t.selection)?this._isViewVisible&&TJ(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,i,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:i,validator:r,errorText:s}=e,o=Ps(()=>{i.errorText=s},J7e);return(a,l,d)=>{o.cancel(),this._isReady&&(r(d)?(this.editor.execute(t,{value:d,batch:this._undoStepBatch}),i.errorText=null):o())}}}class Sc extends Je{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,i){switch(super(e),this.attributeName=t,this._defaultContentTableValue=i,t){case"tableCellBorderStyle":this._defaultLayoutTableValue="none";break;case"tableCellHorizontalAlignment":this._defaultLayoutTableValue="left";break;case"tableCellVerticalAlignment":this._defaultLayoutTableValue="middle";break;default:this._defaultLayoutTableValue=void 0}}refresh(){const t=this.editor.model.document.selection,r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t),s=Ba(t);this._defaultValue=!s||s.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!r.length,this.value=this._getSingleValue(r)}execute(e={}){const{value:t,batch:i}=e,r=this.editor.model,o=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r.document.selection),a=this._getValueToSet(t);r.enqueueChange(i,l=>{a?o.forEach(d=>l.setAttribute(this.attributeName,a,d)):o.forEach(d=>l.removeAttribute(this.attributeName,d))})}_getAttribute(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const t=this._getAttribute(e[0]);return e.every(r=>this._getAttribute(r)===t)?t:void 0}}class e8e extends Sc{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){if(e=Lf(e,"px"),e!==this._defaultValue)return e}}class DJ extends H{static get pluginName(){return"TableCellWidthEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ow]}init(){const e=this.editor,t=W5(e.config.get("table.tableCellProperties.defaultProperties"));R0(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:t.width}),e.commands.add("tableCellWidth",new e8e(e,t.width))}}class t8e extends Sc{constructor(e,t){super(e,"tableCellPadding",t)}_getAttribute(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Lf(e,"px");if(t!==this._defaultValue)return t}}class n8e extends Sc{constructor(e,t){super(e,"tableCellHeight",t)}_getValueToSet(e){const t=Lf(e,"px");if(t!==this._defaultValue)return t}}class i8e extends Sc{constructor(e,t){super(e,"tableCellBackgroundColor",t)}}class r8e extends Sc{constructor(e,t){super(e,"tableCellVerticalAlignment",t)}}class s8e extends Sc{constructor(e,t){super(e,"tableCellHorizontalAlignment",t)}}class o8e extends Sc{constructor(e,t){super(e,"tableCellBorderStyle",t)}_getAttribute(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class a8e extends Sc{constructor(e,t){super(e,"tableCellBorderColor",t)}_getAttribute(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class l8e extends Sc{constructor(e,t){super(e,"tableCellBorderWidth",t)}_getAttribute(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Lf(e,"px");if(t!==this._defaultValue)return t}}const cF=/^(top|middle|bottom)$/,uF=/^(left|center|right|justify)$/;class c8e extends H{static get pluginName(){return"TableCellPropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ow,DJ]}init(){const e=this.editor,t=e.model.schema,i=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});const r=W5(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:e.locale.contentLanguageDirection==="rtl"});e.data.addStyleProcessorRules($q),u8e(t,i,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),e.commands.add("tableCellBorderStyle",new o8e(e,r.borderStyle)),e.commands.add("tableCellBorderColor",new a8e(e,r.borderColor)),e.commands.add("tableCellBorderWidth",new l8e(e,r.borderWidth)),R0(t,i,{modelAttribute:"tableCellHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:r.height}),e.commands.add("tableCellHeight",new n8e(e,r.height)),e.data.addStyleProcessorRules(iPe),R0(t,i,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:r.padding}),e.commands.add("tableCellPadding",new t8e(e,r.padding)),e.data.addStyleProcessorRules(l5),R0(t,i,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:r.backgroundColor}),e.commands.add("tableCellBackgroundColor",new i8e(e,r.backgroundColor)),d8e(t,i,r.horizontalAlignment),e.commands.add("tableCellHorizontalAlignment",new s8e(e,r.horizontalAlignment)),f8e(t,i,r.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new r8e(e,r.verticalAlignment))}}function u8e(n,e,t){const i={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};n.extend("tableCell",{allowAttributes:Object.values(i)});for(const r of Object.values(i))n.setAttributeProperties(r,{isFormatting:!0});DI(e,"td",i,t),DI(e,"th",i,t),Bb(e,{modelElement:"tableCell",modelAttribute:i.style,styleName:"border-style"}),Bb(e,{modelElement:"tableCell",modelAttribute:i.color,styleName:"border-color"}),Bb(e,{modelElement:"tableCell",modelAttribute:i.width,styleName:"border-width"})}function d8e(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),n.setAttributeProperties("tableCellHorizontalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:i=>({key:"style",value:{"text-align":i}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":uF}},model:{key:"tableCellHorizontalAlignment",value:(i,r,s)=>{const o=ic(t,"left",s),a=i.getStyle("text-align");if(a!==o)return a;r.consumable.consume(i,{styles:"text-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:uF}},model:{key:"tableCellHorizontalAlignment",value:(i,r,s)=>{const o=ic(t,"left",s),a=i.getAttribute("align");if(a!==o)return a;r.consumable.consume(i,{attributes:"align"})}}})}function f8e(n,e,t){n.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),n.setAttributeProperties("tableCellVerticalAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:i=>({key:"style",value:{"vertical-align":i}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":cF}},model:{key:"tableCellVerticalAlignment",value:(i,r,s)=>{const o=ic(t,"middle",s),a=i.getStyle("vertical-align");if(a!==o)return a;r.consumable.consume(i,{styles:"vertical-align"})}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:cF}},model:{key:"tableCellVerticalAlignment",value:(i,r,s)=>{const o=ic(t,"middle",s),a=i.getAttribute("valign");if(a!==o)return a;r.consumable.consume(i,{attributes:"valign"})}}})}class h8e extends H{static get pluginName(){return"TableCellProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[c8e,X7e]}}class m8e extends H{static get pluginName(){return"TableLayoutUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=this.editor.t;e.ui.componentFactory.add("insertTableLayout",i=>{const r=e.commands.get("insertTableLayout"),s=ii(i);s.bind("isEnabled").to(r),s.buttonView.set({icon:R6,label:t("Insert table layout"),tooltip:!0});let o;return s.on("change:isOpen",()=>{o||(o=new s1(i),s.panelView.children.add(o),o.delegate("execute").to(s),s.on("execute",()=>{e.execute("insertTableLayout",{rows:o.rows,columns:o.columns}),e.editing.view.focus()}))}),s}),e.ui.componentFactory.add("menuBar:insertTableLayout",i=>{const r=e.commands.get("insertTableLayout"),s=new cr(i),o=new s1(i);return o.delegate("execute").to(s),s.on("change:isOpen",(a,l,d)=>{d||o.reset()}),o.on("execute",()=>{e.execute("insertTableLayout",{rows:o.rows,columns:o.columns}),e.editing.view.focus()}),s.buttonView.set({label:t("Table layout"),icon:R6}),s.panelView.children.add(o),s.bind("isEnabled").to(r),s}),e.ui.componentFactory.add("tableType",()=>{const i=this.editor,r=i.t,s=new b5(i.locale);return s.set({label:r("Table type"),icon:sZ,tooltip:!0}),dF(i,s)})}afterInit(){const e=this.editor;if(!e.plugins.has("TablePropertiesUI"))return;const t=e.plugins.get("TablePropertiesUI");e.ui.componentFactory.add("tableProperties",i=>{const r=t._createTablePropertiesButton(),s=new $u(i,r);return dF(e,s)})}}function dF(n,e){const t=n.t,i=n.locale,r=n.commands.get("tableType"),s=ii(i,e),o=g8e(n);return ea(s,o,{ariaLabel:t("Table type options"),role:"menu"}),e.tooltip=t("Choose table type"),s.on("execute",a=>{const l=a.source.tableType;l&&r.execute(l)}),s}function g8e(n){const e=n.t,t=n.commands.get("tableType"),i=new hi;return i.add(fF(t,"layout",e("Layout table"))),i.add(fF(t,"content",e("Content table"))),i}function fF(n,e,t){const i=new io({label:t,role:"menuitemradio",withText:!0,tableType:e});return i.bind("isEnabled").to(n,"isEnabled"),i.bind("isOn").to(n,"value",r=>r===e),{type:"button",model:i}}class p8e extends Je{refresh(){const e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=b8e(t,i)}execute(e={}){const t=this.editor,i=t.model,r=t.plugins.get("TableUtils");i.change(s=>{const o={rows:e.rows||2,columns:e.columns||2},a=r.createTable(s,o);s.setAttribute("tableType","layout",a),i.insertObject(a,null,null,{findOptimalPosition:"auto"});const l=`${100/o.columns}%`,d=Array(o.columns).fill(l);t.commands.get("resizeColumnWidths").execute({tableWidth:"100%",columnWidths:d,table:a}),s.setSelection(s.createPositionAt(a.getNodeByPath([0,0,0]),0))})}}function b8e(n,e){const t=n.getFirstPosition().parent,i=t===t.root?t:t.parent;return e.checkChild(i,"table")}class v8e extends Je{refresh(){this.isEnabled=!0}execute(e={}){const{model:t,plugins:i}=this.editor;let{table:r=t.document.selection.getSelectedElement(),columnWidths:s,tableWidth:o}=e;s&&(s=Array.isArray(s)?s:s.split(",")),t.change(a=>{o?a.setAttribute("tableWidth",o,r):a.removeAttribute("tableWidth",r);const l=i.get("TableColumnResizeEditing").getColumnGroupElement(r);if(!s&&!l)return;if(!s)return a.remove(l);const d=U5(s);if(l)Array.from(l.getChildren()).forEach((f,m)=>a.setAttribute("columnWidth",d[m],f));else{const f=a.createElement("tableColumnGroup");d.forEach(m=>a.appendElement("tableColumn",{columnWidth:m},f)),a.append(f,r)}})}}function w8e(n){return e=>e.on("element:colgroup",(t,i,r)=>{const s=i.modelCursor.findAncestor("table"),o=Pw(s);if(!o)return;const a=Rw(o),l=n.getColumns(s);let d=u7e(o,r.writer);d=Array.from({length:l},(f,m)=>d[m]||"auto"),(d.length!=a.length||d.includes("auto"))&&gJ(a,o,U5(d),r.writer)},{priority:"low"})}function y8e(){return n=>n.on("insert:table",(e,t,i)=>{const r=i.writer,s=t.item,o=i.mapper.toViewElement(s),a=o.is("element","table")?o:Array.from(o.getChildren()).find(d=>d.is("element","table"));Pw(s)?r.addClass("ck-table-resized",a):r.removeClass("ck-table-resized",a)},{priority:"low"})}function _8e(){return n=>{n.on("element:table",(e,t,i)=>{i.consumable.consume(t.viewItem,{classes:"ck-table-resized"})})}}const hF=kc("px");class A8e extends H{_isResizingActive;_resizingData;_domEmitter;_tableUtilsPlugin;_initialMouseEventData=null;static get requires(){return[Ow,Ji]}static get pluginName(){return"TableColumnResizeEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Ur()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(t,i,r)=>{const s=r?"removeClass":"addClass";e.editing.view.change(o=>{for(const a of e.editing.view.document.roots)o[s]("ck-column-resize_disabled",e.editing.view.document.getRoot(a.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,t=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:s=>s.is("element","tableColumnGroup"),positionOffset:0});const r=new v8e(e);e.commands.add("resizeTableWidth",r),e.commands.add("resizeColumnWidths",r),this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",r,"isEnabled",(s,o,a)=>!s&&o&&a)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return Pw(e)}getTableColumnElements(e){return Rw(e)}getTableColumnsWidths(e){return c7e(e)}_extendSchema(){const e=this.editor.model.schema;e.extend("table",{allowAttributes:["tableWidth"]}),e.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),e.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0}),e.setAttributeProperties("columnWidth",{isFormatting:!0})}_registerPostFixer(){const t=this.editor.model;t.document.registerPostFixer(s=>{let o=!1;for(const a of n7e(t)){const l=this.getColumnGroupElement(a),d=this.getTableColumnElements(l),f=this.getTableColumnsWidths(l);let m=U5(f);m=i(m,a,this),!Fm(f,m)&&(gJ(d,l,m,s),o=!0)}return o});function i(s,o,a){const l=a._tableUtilsPlugin.getColumns(o);if(l-s.length===0)return s;const f=s.map(p=>Number(p.replace("%",""))),m=r(a.editor.model.document.differ,o);for(const p of m){const w=l-f.length;if(w===0)continue;const A=w>0,x=a._tableUtilsPlugin.getCellLocation(p).column;if(A){const S=i7e(o,a.editor),P=o7e(w,S);f.splice(x,0,...P)}else{const S=f.splice(x,Math.abs(w));f[x]+=Tv(S)}}return f.map(p=>p+"%")}function r(s,o){const a=new Set;for(const l of s.getChanges())if(l.type=="insert"&&l.position.nodeAfter&&l.position.nodeAfter.name=="tableCell"&&l.position.nodeAfter.getAncestors().includes(o))a.add(l.position.nodeAfter);else if(l.type=="remove"){const d=l.position.nodeBefore||l.position.nodeAfter;d.name=="tableCell"&&d.getAncestors().includes(o)&&a.add(d)}return a}}_registerConverters(){const t=this.editor.conversion;t.for("upcast").attributeToAttribute({view:{name:/^(figure|table)$/,styles:{width:/[\s\S]+/}},model:{key:"tableWidth",value:i=>{if(!i.parent.is("element","figure"))return i.getStyle("width")}}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:i=>({name:"figure",key:"style",value:{width:i}})}),t.elementToElement({model:"tableColumnGroup",view:"colgroup"}),t.elementToElement({model:"tableColumn",view:"col"}),t.for("downcast").add(y8e()),t.for("upcast").add(_8e()),t.for("upcast").add(w8e(this._tableUtilsPlugin)),t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:i=>{const r=i.getStyle("width");return!r||!r.endsWith("%")&&!r.endsWith("pt")?"auto":r}}}),t.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:i=>({key:"style",value:{width:i}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(vJ),e.document.on("mouseover",this._onMouseOverHandler.bind(this),{priority:"high"}),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),e.document.on("mouseout",this._onMouseOutHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(Re.window.document,"mousemove",gf(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(Re.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_recalculateResizerElement(e){const t=this.editor,i=t.editing.view.domConverter,r=i.mapViewToDom(e.findAncestor("table")),s=i.mapViewToDom(e.findAncestor(f=>["td","th"].includes(f.name))),o=new rt(r),a=new rt(s),l=hF(Number((o.top-a.top).toFixed(4))),d=hF(Number((a.bottom-o.bottom).toFixed(4)));t.editing.view.change(f=>{f.setStyle("top",l,e),f.setStyle("bottom",d,e)})}_resetResizerStyles(e){this.editor.editing.view.change(t=>{t.removeStyle("top",e),t.removeStyle("bottom",e)})}_onMouseOverHandler(e,t){const i=t.target;i.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&this._recalculateResizerElement(i)}_onMouseOutHandler(e,t){const i=t.target;i.hasClass("ck-table-column-resizer")&&this._isResizingAllowed&&(this._isResizingActive||this._resetResizerStyles(i))}_onMouseDownHandler(e,t){const i=t.target;if(!i.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const r=this.editor,s=r.editing.mapper.toModelElement(i.findAncestor("figure"));r.model.canEditAt(s)&&(t.preventDefault(),e.stop(),this._initialMouseEventData=t)}_startResizingAfterThreshold(){const e=this._initialMouseEventData,{target:t}=e,i=this.editor.editing.mapper.toModelElement(t.findAncestor("figure")),r=t.findAncestor("table"),s=o(i,this._tableUtilsPlugin,this.editor);Array.from(r.getChildren()).find(d=>d.is("element","colgroup"))||this.editor.editing.view.change(d=>{a(d,s,r)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(e,s),this.editor.editing.view.change(d=>l(d,r,this._resizingData));function o(d,f,m){const p=Array(f.getColumns(d)),w=new an(d);for(const A of w){const x=m.editing.mapper.toViewElement(A.cell),S=m.editing.view.domConverter.mapViewToDom(x),P=l7e(S);(!p[A.column]||P<p[A.column])&&(p[A.column]=ts(P))}return p}function a(d,f,m){const p=d.createContainerElement("colgroup");for(let w=0;w<f.length;w++){const A=d.createEmptyElement("col"),x=`${ts(f[w]/Tv(f)*100)}%`;d.setStyle("width",x,A),d.insert(d.createPositionAt(p,"end"),A)}d.insert(d.createPositionAt(m,0),p)}function l(d,f,m){const p=m.widths.viewFigureWidth/m.widths.viewFigureParentWidth;d.addClass("ck-table-resized",f),d.addClass("ck-table-column-resizer__active",m.elements.viewResizer),d.setStyle("width",`${ts(p*100)}%`,f.findAncestor("figure"))}}_onMouseMoveHandler(e,t){if(this._initialMouseEventData){const O=this._initialMouseEventData.domEvent;if(Math.abs(t.clientX-O.clientX)>=t7e)this._startResizingAfterThreshold(),this._initialMouseEventData=null;else return}if(!this._isResizingActive)return;if(!this._isResizingAllowed){this._onMouseUpHandler();return}const{columnPosition:i,flags:{isRightEdge:r,isTableCentered:s,isLtrContent:o},elements:{viewFigure:a,viewLeftColumn:l,viewRightColumn:d,viewResizer:f},widths:{viewFigureParentWidth:m,tableWidth:p,leftColumnWidth:w,rightColumnWidth:A}}=this._resizingData,x=-w+VI,S=r?m-p:A-VI,P=(o?1:-1)*(r&&s?2:1),I=s7e((t.clientX-i)*P,Math.min(x,0),Math.max(S,0));I!==0&&(this.editor.editing.view.change(O=>{const M=ts((w+I)*100/p);if(O.setStyle("width",`${M}%`,l),r){const B=ts((p+I)*100/m);O.setStyle("width",`${B}%`,a)}else{const B=ts((A-I)*100/p);O.setStyle("width",`${B}%`,d)}}),this._recalculateResizerElement(f))}_onMouseUpHandler(){if(this._initialMouseEventData=null,!this._isResizingActive)return;const{viewResizer:e,modelTable:t,viewFigure:i,viewColgroup:r}=this._resizingData.elements,s=this.editor,o=s.editing.view,a=this.getColumnGroupElement(t),l=Array.from(r.getChildren()).filter(S=>S.is("view:element")),d=a?this.getTableColumnsWidths(a):null,f=l.map(S=>S.getStyle("width")),m=!Fm(d,f),p=t.getAttribute("tableWidth"),w=i.getStyle("width"),A=p!==w;(m||A)&&(this._isResizingAllowed?s.execute("resizeTableWidth",{table:t,tableWidth:`${ts(w)}%`,columnWidths:f}):o.change(S=>{if(d)for(const P of l)S.setStyle("width",d.shift(),P);else S.remove(r);A&&(p?S.setStyle("width",p,i):S.removeStyle("width",i)),!d&&!p&&S.removeClass("ck-table-resized",[...i.getChildren()].find(P=>P.name==="table"))})),o.change(S=>{S.removeClass("ck-table-column-resizer__active",e)}),o.domConverter.mapViewToDom(e).matches(":hover")||this._resetResizerStyles(e),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,t){const i=this.editor,r=e.domEvent.clientX,s=e.target,o=s.findAncestor("td")||s.findAncestor("th"),a=i.editing.mapper.toModelElement(o),l=a.findAncestor("table"),d=r7e(a,this._tableUtilsPlugin).rightEdge,f=this._tableUtilsPlugin.getColumns(l)-1,m=d===f,p=!l.hasAttribute("tableAlignment"),w=i.locale.contentLanguageDirection!=="rtl",A=o.findAncestor("table"),x=A.findAncestor("figure"),S=[...A.getChildren()].find(L=>L.is("element","colgroup")),P=S.getChild(d),I=m?void 0:S.getChild(d+1),O=LI(i.editing.view.domConverter.mapViewToDom(x.parent)),M=LI(i.editing.view.domConverter.mapViewToDom(x)),B=mJ(l,i),W=t[d],$=m?void 0:t[d+1];return{columnPosition:r,flags:{isRightEdge:m,isTableCentered:p,isLtrContent:w},elements:{viewResizer:s,modelTable:l,viewFigure:x,viewColgroup:S,viewLeftColumn:P,viewRightColumn:I},widths:{viewFigureParentWidth:O,viewFigureWidth:M,tableWidth:B,leftColumnWidth:W,rightColumnWidth:$}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(e=>{e.on("insert:tableCell",(t,i,r)=>{const s=i.item,o=r.mapper.toViewElement(s),a=r.writer;a.insert(a.createPositionAt(o,"end"),a.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}class G5 extends H{static get requires(){return[A8e,DJ]}static get pluginName(){return"TableColumnResize"}static get isOfficialPlugin(){return!0}}class k8e extends Je{refresh(){const t=this.editor.model.document.selection,i=Ba(t);i?(this.isEnabled=!0,this.value=i.getAttribute("tableType")):(this.isEnabled=!1,this.value=null)}execute(e){const i=this.editor.model,r=i.document.selection,s=Ba(r);s.getAttribute("tableType")!==e&&i.change(a=>{a.setAttribute("tableType",e,s),i.schema.removeDisallowedAttributes([s],a);const l=s.getChildren();for(const d of l)i.schema.checkChild(s,d)||a.remove(d)})}}const x8e=["content","layout"];class C8e extends H{static get pluginName(){return"TableLayoutEditing"}static get requires(){return[G5]}static get isOfficialPlugin(){return!0}init(){this._defineSchema(),this._defineConverters(),this._defineClipboardPasteHandlers(),this._registerTableTypeAttributePostfixer(),this.editor.commands.add("insertTableLayout",new p8e(this.editor)),this.editor.commands.add("tableType",new k8e(this.editor))}_defineSchema(){const{schema:e}=this.editor.model;e.extend("table",{allowAttributes:"tableType"}),e.addChildCheck(VE,"caption"),e.addAttributeCheck(VE,"headingRows"),e.addAttributeCheck(VE,"headingColumns")}_defineConverters(){const{editor:e}=this,{conversion:t}=e,i=e.config.get("table.tableLayout.preferredExternalTableType");t.for("upcast").add(S8e(i)),t.for("dataDowncast").add(E8e()),t.for("editingDowncast").attributeToAttribute({model:{key:"tableType",values:["layout","content"]},view:{layout:{key:"class",value:["layout-table"]},content:{key:"class",value:["content-table"]}}})}_defineClipboardPasteHandlers(){const{plugins:e}=this.editor;if(!e.has("ClipboardPipeline"))return;const t=e.get("ClipboardPipeline");this.listenTo(t,"contentInsertion",(i,r)=>{r.sourceEditorId||this.editor.model.change(s=>{for(const{item:o}of s.createRangeIn(r.content))o.is("element","table")&&s.setAttribute("tableType","content",o)})})}_registerTableTypeAttributePostfixer(){const e=this.editor;e.model.document.registerPostFixer(t=>{const i=e.model.document.differ.getChanges();let r=!1;for(const s of i){if(s.type=="insert"&&s.name!="$text"){const o=s.position.nodeAfter,a=t.createRangeOn(o);for(const l of a.getItems())l.is("element","table")&&!l.hasAttribute("tableType")&&(t.setAttribute("tableType","content",l),r=!0)}if(s.type=="attribute"&&s.attributeKey=="tableType"){for(const o of s.range.getItems())if(o.is("element","table")){e.model.schema.removeDisallowedAttributes([o],t);const a=o.getChildren();for(const l of a)e.model.schema.checkChild(o,l)||(t.remove(l),r=!0)}}}return r})}}function S8e(n){return e=>{e.on("element:table",(t,i,r)=>{const s=i.viewItem;if(!r.consumable.test(s,{name:!0})||mF(s,n)=="content")return;const a=r.writer.createElement("table",{tableType:"layout"});if(r.safeInsert(a,i.modelCursor)){r.consumable.consume(s,{name:!0}),r.consumable.consume(s,{attributes:["role"]}),r.consumable.consume(s,{classes:["layout-table"]});for(const l of s.getChildren())if(l.is("element"))for(const d of l.getChildren())d.is("element","tr")&&r.convertItem(d,r.writer.createPositionAt(a,"end"));if(r.convertChildren(s,r.writer.createPositionAt(a,"end")),a.isEmpty){const l=r.writer.createElement("tableRow");r.writer.insert(l,r.writer.createPositionAt(a,"end")),Hu(r.writer,r.writer.createPositionAt(l,"end"))}r.updateConversionResult(a,i)}},{priority:"high"}),e.on("element:table",(t,i,r)=>{const{viewItem:s,modelRange:o}=i;o&&(r.writer.setAttribute("tableType",mF(s,n),o),r.consumable.consume(s,{classes:["layout-table"]}),r.consumable.consume(s,{classes:["content-table"]}))},{priority:"low"})}}function E8e(){return n=>n.on("attribute:tableType:table",(e,t,i)=>{const{item:r,attributeNewValue:s}=t,{mapper:o,writer:a}=i;if(!i.consumable.test(r,e.name))return;const l=o.toViewElement(r);a.addClass(`${s}-table`,l),s=="layout"&&a.setAttribute("role","presentation",l),i.consumable.consume(r,e.name)})}function mF(n,e){return n.hasClass("content-table")?"content":n.hasClass("layout-table")?"layout":e&&x8e.includes(e)?e:n.parent.is("element","figure")||Array.from(n.getChildren()).some(i=>i.is("element","caption"))?"content":"layout"}function VE(n){if(n.endsWith("table")&&n.last.getAttribute("tableType")=="layout")return!1}class T8e extends H{static get pluginName(){return"TableLayout"}static get isOfficialPlugin(){return!0}static get requires(){return[yJ,G5,C8e,m8e]}}class Ff extends Je{attributeName;_defaultValue;_defaultContentTableValue;_defaultLayoutTableValue;constructor(e,t,i){super(e),this.attributeName=t,this._defaultContentTableValue=i,this._defaultLayoutTableValue=t==="tableBorderStyle"?"none":void 0}refresh(){const t=this.editor.model.document.selection,i=Ba(t);this._defaultValue=!i||i.getAttribute("tableType")!=="layout"?this._defaultContentTableValue:this._defaultLayoutTableValue,this.isEnabled=!!i,this.value=this._getValue(i)}execute(e={}){const t=this.editor.model,i=t.document.selection,{value:r,batch:s}=e,o=Ba(i),a=this._getValueToSet(r);t.enqueueChange(s,l=>{a?l.setAttribute(this.attributeName,a,o):l.removeAttribute(this.attributeName,o)})}_getValue(e){if(!e)return;const t=e.getAttribute(this.attributeName);if(t!==this._defaultValue)return t}_getValueToSet(e){if(e!==this._defaultValue)return e}}class I8e extends Ff{constructor(e,t){super(e,"tableBackgroundColor",t)}}class P8e extends Ff{constructor(e,t){super(e,"tableBorderColor",t)}_getValue(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class R8e extends Ff{constructor(e,t){super(e,"tableBorderStyle",t)}_getValue(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}}class O8e extends Ff{constructor(e,t){super(e,"tableBorderWidth",t)}_getValue(e){if(!e)return;const t=Vf(e.getAttribute(this.attributeName));if(t!==this._defaultValue)return t}_getValueToSet(e){const t=Lf(e,"px");if(t!==this._defaultValue)return t}}class D8e extends Ff{constructor(e,t){super(e,"tableWidth",t)}_getValueToSet(e){if(e=Lf(e,"px"),e!==this._defaultValue)return e}}class N8e extends Ff{constructor(e,t){super(e,"tableHeight",t)}_getValueToSet(e){if(e=Lf(e,"px"),e!==this._defaultValue)return e}}class M8e extends Ff{constructor(e,t){super(e,"tableAlignment",t)}}const B8e=/^(left|center|right)$/,V8e=/^(left|none|right)$/;class L8e extends H{static get pluginName(){return"TablePropertiesEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ow]}init(){const e=this.editor,t=e.model.schema,i=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});const r=OJ(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});e.data.addStyleProcessorRules($q),F8e(t,i,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),e.commands.add("tableBorderColor",new P8e(e,r.borderColor)),e.commands.add("tableBorderStyle",new R8e(e,r.borderStyle)),e.commands.add("tableBorderWidth",new O8e(e,r.borderWidth)),z8e(t,i,r.alignment),e.commands.add("tableAlignment",new M8e(e,r.alignment)),gF(t,i,{modelAttribute:"tableWidth",styleName:"width",attributeName:"width",attributeType:"length",defaultValue:r.width}),e.commands.add("tableWidth",new D8e(e,r.width)),gF(t,i,{modelAttribute:"tableHeight",styleName:"height",attributeName:"height",attributeType:"length",defaultValue:r.height}),e.commands.add("tableHeight",new N8e(e,r.height)),e.data.addStyleProcessorRules(l5),j8e(t,i,{modelAttribute:"tableBackgroundColor",styleName:"background-color",attributeName:"bgcolor",attributeType:"color",defaultValue:r.backgroundColor}),e.commands.add("tableBackgroundColor",new I8e(e,r.backgroundColor))}}function F8e(n,e,t){const i={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};n.extend("table",{allowAttributes:Object.values(i)});for(const r of Object.values(i))n.setAttributeProperties(r,{isFormatting:!0});DI(e,"table",i,t),I0(e,{modelAttribute:i.color,styleName:"border-color"}),I0(e,{modelAttribute:i.style,styleName:"border-style"}),I0(e,{modelAttribute:i.width,styleName:"border-width"})}function z8e(n,e,t){n.extend("table",{allowAttributes:["tableAlignment"]}),n.setAttributeProperties("tableAlignment",{isFormatting:!0}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment",values:["left","center","right"]},view:{left:{key:"style",value:{float:"left"}},right:{key:"style",value:{float:"right"}},center:(i,r,s)=>({key:"style",value:s.item.getAttribute("tableType")!=="layout"?{float:"none"}:{"margin-left":"auto","margin-right":"auto"}})},converterPriority:"high"}),e.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:V8e}},model:{key:"tableAlignment",value:(i,r,s)=>{if(i.name=="figure"&&!i.hasClass("table"))return;const o=ic(t,"",s);let a=i.getStyle("float");if(a==="none"&&(a="center"),a!==o)return a;r.consumable.consume(i,{styles:"float"})}}}).attributeToAttribute({view:{name:/^(table|figure)$/,styles:{"margin-left":"auto","margin-right":"auto"}},model:{key:"tableAlignment",value:(i,r,s)=>{if(i.name=="figure"&&!i.hasClass("table"))return;const o=ic(t,"",s),a="center";if(a!==o)return a;r.consumable.consume(i,{styles:["margin-left","margin-right"]})}}}).attributeToAttribute({view:{name:"table",attributes:{align:B8e}},model:{key:"tableAlignment",value:(i,r,s)=>{const o=ic(t,"",s),a=i.getAttribute("align");if(a!==o)return a;r.consumable.consume(i,{attributes:"align"})}}})}function j8e(n,e,t){const{modelAttribute:i}=t;n.extend("table",{allowAttributes:[i]}),n.setAttributeProperties(i,{isFormatting:!0}),z5(e,{viewElement:"table",...t}),I0(e,t)}function gF(n,e,t){const{modelAttribute:i}=t;n.extend("table",{allowAttributes:[i]}),n.setAttributeProperties(i,{isFormatting:!0}),z5(e,{viewElement:/^(table|figure)$/,shouldUpcast:r=>!(r.name=="table"&&r.parent.name=="figure"||r.name=="figure"&&!r.hasClass("table")),...t}),Bb(e,{modelElement:"table",...t})}class U8e extends Me{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;widthInput;heightInput;alignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=t;const{borderStyleDropdown:i,borderWidthInput:r,borderColorInput:s,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:a,backgroundInput:l}=this._createBackgroundFields(),{widthInput:d,operatorLabel:f,heightInput:m,dimensionsLabel:p}=this._createDimensionFields(),{alignmentToolbar:w,alignmentLabel:A}=this._createAlignmentFields();this.focusTracker=new Ut,this.keystrokes=new tn,this.children=this.createCollection(),this.borderStyleDropdown=i,this.borderWidthInput=r,this.borderColorInput=s,this.backgroundInput=l,this.widthInput=d,this.heightInput=m,this.alignmentToolbar=w;const{saveButtonView:x,cancelButtonView:S}=this._createActionButtons();this.saveButtonView=x,this.cancelButtonView=S,this._focusables=new Ai,this._focusCycler=new si({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Xa(e,{label:this.t("Table properties")})),this.children.add(new Qi(e,{labelView:o,children:[o,i,s,r],class:"ck-table-form__border-row"})),this.children.add(new Qi(e,{labelView:a,children:[a,l],class:"ck-table-form__background-row"})),this.children.add(new Qi(e,{children:[new Qi(e,{labelView:p,children:[p,d,f,m],class:"ck-table-form__dimensions-row"}),new Qi(e,{labelView:A,children:[A,w],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Qi(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),xc({view:this}),[this.borderColorInput,this.backgroundInput].forEach(e=>{this._focusCycler.chain(e.fieldView.focusCycler)}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},i=c1({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,s=this.t,o=s("Style"),a=new ns(r);a.text=s("Border");const l=H5(s),d=new Xn(r,IZ);d.set({label:o,class:"ck-table-form__border-style"}),d.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),d.fieldView.buttonView.bind("label").to(this,"borderStyle",p=>l[p||"none"]),d.fieldView.on("execute",p=>{this.borderStyle=p.source._borderStyleValue}),d.bind("isEmpty").to(this,"borderStyle",p=>!p),ea(d.fieldView,SJ(this,t.style),{role:"menu",ariaLabel:o});const f=new Xn(r,_r);f.set({label:s("Width"),class:"ck-table-form__border-width"}),f.fieldView.bind("value").to(this,"borderWidth"),f.bind("isEnabled").to(this,"borderStyle",r0),f.fieldView.on("input",()=>{this.borderWidth=f.fieldView.element.value});const m=new Xn(r,i);return m.set({label:s("Color"),class:"ck-table-form__border-color"}),m.fieldView.bind("value").to(this,"borderColor"),m.bind("isEnabled").to(this,"borderStyle",r0),m.fieldView.on("input",()=>{this.borderColor=m.fieldView.value}),this.on("change:borderStyle",(p,w,A,x)=>{r0(A)||(this.borderColor="",this.borderWidth=""),r0(x)||(this.borderColor=t.color,this.borderWidth=t.width)}),{borderRowLabel:a,borderStyleDropdown:d,borderColorInput:m,borderWidthInput:f}}_createBackgroundFields(){const e=this.locale,t=this.t,i=new ns(e);i.text=t("Background");const r=c1({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),s=new Xn(e,r);return s.set({label:t("Color"),class:"ck-table-properties-form__background"}),s.fieldView.bind("value").to(this,"backgroundColor"),s.fieldView.on("input",()=>{this.backgroundColor=s.fieldView.value}),{backgroundRowLabel:i,backgroundInput:s}}_createDimensionFields(){const e=this.locale,t=this.t,i=new ns(e);i.text=t("Dimensions");const r=new Xn(e,_r);r.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",()=>{this.width=r.fieldView.element.value});const s=new Me(e);s.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:""}]});const o=new Xn(e,_r);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",()=>{this.height=o.fieldView.element.value}),{dimensionsLabel:i,widthInput:r,operatorLabel:s,heightInput:o}}_createAlignmentFields(){const e=this.locale,t=this.t,i=new ns(e);i.text=t("Alignment");const r=new pc(e);return r.set({role:"radiogroup",isCompact:!0,ariaLabel:t("Table alignment toolbar")}),UI({view:this,icons:{left:f5,center:HA,right:WA},toolbar:r,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:i,alignmentToolbar:r}}_createActionButtons(){const e=this.locale,t=this.t,i=new ze(e),r=new ze(e),s=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return i.set({label:t("Save"),icon:vw,class:"ck-button-save",type:"submit",withText:!0}),i.bind("isEnabled").toMany(s,"errorText",(...o)=>o.every(a=>!a)),r.set({label:t("Cancel"),icon:cg,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:i,cancelButtonView:r}}get _alignmentLabels(){const e=this.locale,t=this.t,i=t("Align table to the left"),r=t("Center table"),s=t("Align table to the right");return e.uiLanguageDirection==="rtl"?{right:s,center:r,left:i}:{left:i,center:r,right:s}}}function r0(n){return n!=="none"}const $8e=500,pF={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class H8e extends H{_defaultContentTableProperties;_defaultLayoutTableProperties;_balloon;view=null;_viewWithContentTableDefaults=null;_viewWithLayoutTableDefaults=null;_undoStepBatch;_isReady;static get requires(){return[xr]}static get pluginName(){return"TablePropertiesUI"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:l1,backgroundColors:l1})}init(){const e=this.editor;this._defaultContentTableProperties=OJ(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._defaultLayoutTableProperties=ox(),this._balloon=e.plugins.get(xr),e.ui.componentFactory.add("tableProperties",()=>this._createTablePropertiesButton())}_createTablePropertiesButton(){const e=this.editor,t=e.t,i=new ze(e.locale);i.set({label:t("Table properties"),icon:sZ,tooltip:!0}),this.listenTo(i,"execute",()=>this._showView());const r=Object.values(pF).map(s=>e.commands.get(s));return i.bind("isEnabled").toMany(r,"isEnabled",(...s)=>s.some(o=>o)),i}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(e){const t=this.editor,i=t.config.get("table.tableProperties"),r=_v(i.borderColors),s=yv(t.locale,r),o=_v(i.backgroundColors),a=yv(t.locale,o),l=i.colorPicker!==!1,d=new U8e(t.locale,{borderColors:s,backgroundColors:a,defaultTableProperties:e,colorPickerConfig:l?i.colorPicker||{}:!1}),f=t.t;d.render(),this.listenTo(d,"submit",()=>{this._hideView()}),this.listenTo(d,"cancel",()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()}),d.keystrokes.set("Esc",(w,A)=>{this._hideView(),A()}),Xo({emitter:d,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const m=kJ(f),p=xJ(f);return d.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),d.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:d.borderColorInput,commandName:"tableBorderColor",errorText:m,validator:a1})),d.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:d.borderWidthInput,commandName:"tableBorderWidth",errorText:p,validator:CJ})),d.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:d.backgroundInput,commandName:"tableBackgroundColor",errorText:m,validator:a1})),d.on("change:width",this._getValidatedPropertyChangeCallback({viewField:d.widthInput,commandName:"tableWidth",errorText:p,validator:Vb})),d.on("change:height",this._getValidatedPropertyChangeCallback({viewField:d.heightInput,commandName:"tableHeight",errorText:p,validator:Vb})),d.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),d}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableBorderStyle");Object.entries(pF).map(([i,r])=>{const s=i,o=this.view===this._viewWithContentTableDefaults?this._defaultContentTableProperties[s]||"":this._defaultLayoutTableProperties[s]||"";return[s,e.get(r).value||o]}).forEach(([i,r])=>{(i==="borderColor"||i==="borderWidth")&&t.value==="none"||this.view.set(i,r)}),this._isReady=!0}_showView(){const e=this.editor,t=o1(e.editing.view.document.selection),i=t&&e.editing.mapper.toModelElement(t),r=!i||i.getAttribute("tableType")!=="layout";r&&!this._viewWithContentTableDefaults?this._viewWithContentTableDefaults=this._createPropertiesView(this._defaultContentTableProperties):!r&&!this._viewWithLayoutTableDefaults&&(this._viewWithLayoutTableDefaults=this._createPropertiesView(this._defaultLayoutTableProperties)),this.view=r?this._viewWithContentTableDefaults:this._viewWithLayoutTableDefaults,this.listenTo(e.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:IJ(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor,t=e.editing.view.document;o1(t.selection)?this._isViewVisible&&TJ(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,i,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:i,validator:r,errorText:s}=e,o=Ps(()=>{i.errorText=s},$8e);return(a,l,d)=>{o.cancel(),this._isReady&&(r(d)?(this.editor.execute(t,{value:d,batch:this._undoStepBatch}),i.errorText=null):o())}}}class W8e extends H{static get pluginName(){return"TableProperties"}static get isOfficialPlugin(){return!0}static get requires(){return[L8e,H8e]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function G8e(n){n.document.registerPostFixer(e=>Y8e(e,n))}function Y8e(n,e){const t=e.document.differ.getChanges();let i=!1;for(const r of t){if(r.type!="insert")continue;const s=r.position.parent;if(s.is("element","table")||r.name=="table"){const o=r.name=="table"?r.position.nodeAfter:s,a=Array.from(o.getChildren()).filter(d=>d.is("element","caption")),l=a.shift();if(!l)continue;for(const d of a)n.move(n.createRangeIn(d),l,"end"),n.remove(d);l.nextSibling&&(n.move(n.createRangeOn(l),o,"end"),i=!0),i=!!a.length||i}}return i}function bF(n){return!!n&&n.is("element","table")}function HI(n){for(const e of n.getChildren())if(e.is("element","caption"))return e;return null}function K8e(n){const e=Ba(n);return e?HI(e):null}function q8e(n){const e=n.parent;return n.name=="figcaption"&&e&&e.is("element","figure")&&e.hasClass("table")?{name:!0}:n.name=="caption"&&e&&e.is("element","table")?{name:!0}:null}class Z8e extends Je{refresh(){const e=this.editor,t=Ba(e.model.document.selection);this.isEnabled=!!t&&e.model.schema.checkChild(t,"caption"),this.isEnabled?this.value=!!HI(t):this.value=!1}execute({focusCaptionOnShow:e=!1}={}){this.editor.model.change(t=>{this.value?this._hideTableCaption(t):this._showTableCaption(t,e)})}_showTableCaption(e,t){const i=this.editor.model,r=Ba(i.document.selection),a=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(r)||e.createElement("caption");i.insertContent(a,r,"end"),t&&e.setSelection(a,"in")}_hideTableCaption(e){const t=this.editor.model,i=Ba(t.document.selection),r=this.editor.plugins.get("TableCaptionEditing"),s=HI(i);r._saveCaption(i,s),t.deleteContent(e.createSelection(s,"on"))}}class Q8e extends H{_savedCaptionsMap;static get pluginName(){return"TableCaptionEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema,i=e.editing.view,r=e.t;t.isRegistered("caption")?t.extend("caption",{allowIn:"table"}):t.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new Z8e(this.editor)),e.conversion.for("upcast").elementToElement({view:q8e,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(s,{writer:o})=>bF(s.parent)?o.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(s,{writer:o})=>{if(!bF(s.parent))return null;const a=o.createEditableElement("figcaption");return o.setCustomProperty("tableCaption",!0,a),a.placeholder=r("Enter table caption"),$k({view:i,element:a,keepOnFocus:!0}),x5(a,o)}}),G8e(e.model)}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?wn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class J8e extends H{static get pluginName(){return"TableCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.editing.view,i=e.t;e.ui.componentFactory.add("toggleTableCaption",r=>{const s=e.commands.get("toggleTableCaption"),o=new ze(r);return o.set({icon:Xq,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(s,"value","isEnabled"),o.bind("label").to(s,"value",a=>i(a?"Toggle caption off":"Toggle caption on")),this.listenTo(o,"execute",()=>{if(e.execute("toggleTableCaption",{focusCaptionOnShow:!0}),s.value){const a=K8e(e.model.document.selection),l=e.editing.mapper.toViewElement(a);if(!l)return;t.scrollToTheSelection(),t.change(d=>{d.addClass("table__caption_highlighted",l)})}e.editing.view.focus()}),o})}}class X8e extends H{static get pluginName(){return"TableCaption"}static get isOfficialPlugin(){return!0}static get requires(){return[Q8e,J8e]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 *//**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function NJ(n){if(n.is("$text")||n.is("$textProxy"))return n.data;const e=n;let t="",i=null;for(const r of e.getChildren()){const s=NJ(r);i&&i.is("element")&&(t+=`
`),t+=s,i=r}return t}class eje extends H{_config;_outputView;_wordsMatchRegExp;constructor(e){super(e),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=e.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=nt.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}static get isOfficialPlugin(){return!0}init(){this.editor.model.document.on("change:data",gf(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(t,i)=>{this._config.onUpdate(i)}),hc(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const e=this.editor,t=e.t,i=e.config.get("wordCount.displayWords"),r=e.config.get("wordCount.displayCharacters"),s=Mr.bind(this,this),o=[];return this._outputView||(this._outputView=new Me,(i||i===void 0)&&(this.bind("_wordsLabel").to(this,"words",a=>t("Words: %0",a)),o.push({tag:"div",children:[{text:[s.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(r||r===void 0)&&(this.bind("_charactersLabel").to(this,"characters",a=>t("Characters: %0",a)),o.push({tag:"div",children:[{text:[s.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:o}),this._outputView.render()),this._outputView.element}_getText(){let e="";for(const t of this.editor.model.document.getRoots())e!==""&&(e+=`
`),e+=NJ(t);return e}_getCharacters(e){return e.replace(/\n/g,"").length}_getWords(e){return(e.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const e=this._getText(),t=this.words=this._getWords(e),i=this.characters=this._getCharacters(e);this.fire("update",{words:t,characters:i})}}const tje="GPL";function MJ({props:n}){const e=C.useRef(null),t=C.useRef(null),i=C.useRef(null),[r,s]=C.useState(!1);C.useEffect(()=>(s(!0),()=>s(!1)),[]);const{editorConfig:o}=C.useMemo(()=>r?{editorConfig:{toolbar:{items:["undo","redo","|","sourceEditing","showBlocks","textPartLanguage","|","heading","style","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","subscript","superscript","code","removeFormat","|","emoji","horizontalLine","pageBreak","link","bookmark","insertImage","mediaEmbed","insertTable","insertTableLayout","highlight","blockQuote","codeBlock","htmlEmbed","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!1},plugins:[lDe,IDe,p3e,PDe,W5e,a4e,K5e,DDe,eNe,wNe,VDe,NNe,rMe,pMe,HMe,zMe,SMe,BMe,c3e,s3e,QMe,aBe,mBe,a3e,yBe,S3e,O3e,T3e,J3e,CQ,c6e,A6e,N5,k6e,xQ,E6e,I6e,zDe,gVe,AVe,iLe,mLe,VLe,sFe,fFe,tx,tze,yJ,sze,cze,CPe,uze,$De,Ize,GDe,qDe,wJ,X8e,h8e,G5,T8e,W8e,Y7e,N6e,_De,JMe,CLe,JDe,eje],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","insertTableLayout","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},htmlSupport:{allow:[{name:/^.*$/,styles:!0,attributes:!0,classes:!0}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:n?.initialData||"",licenseKey:tje,link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},mention:{feeds:[{marker:"@",feed:[]}]},placeholder:"Type or paste your content here!",style:{definitions:[{name:"Article category",element:"h3",classes:["category"]},{name:"Title",element:"h2",classes:["document-title"]},{name:"Subtitle",element:"h3",classes:["document-subtitle"]},{name:"Info box",element:"p",classes:["info-box"]},{name:"CTA Link Primary",element:"a",classes:["button","button--green"]},{name:"CTA Link Secondary",element:"a",classes:["button","button--black"]},{name:"Marker",element:"span",classes:["marker"]},{name:"Spoiler",element:"span",classes:["spoiler"]}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]}}}:{},[r]);return y.jsx("div",{className:"main-container",children:y.jsxs("div",{className:"editor-container editor-container_classic-editor editor-container_include-style editor-container_include-block-toolbar editor-container_include-word-count",ref:e,children:[y.jsx("div",{className:"editor-container__editor",children:y.jsx("div",{ref:t,children:o&&y.jsx(mK,{onChange:n.onChange,onReady:a=>{const l=a.plugins.get("WordCount");i.current.appendChild(l.wordCountContainer)},onAfterDestroy:()=>{i.current&&Array.from(i.current.children).forEach(a=>a.remove())},editor:VNe,config:o})})}),y.jsx("div",{className:"editor_container__word-count",ref:i})]})})}function nje(){const n=Ko(),[e,t]=C.useState(null),[i,r]=C.useState(null),s=Es(w=>w.user),{data:o}=ur(`${Gt("VITE_API_BASE_URL")}/auth/category/all`,{method:"get",credentials:"include"}),a=w=>{const A=w[0];r(A);const x=URL.createObjectURL(A);t(x)},l=Tn.object({category:Tn.string().min(2,"Category should be atleast two character long"),title:Tn.string().min(2,"Title should be atleast two character long"),slug:Tn.string().min(3,"Slug should be atleast three character long"),blogContent:Tn.string().min(3,"Blog Content should be atleast three character long")}),d=Mu({resolver:Lu(l),defaultValues:{category:"",title:"",slug:"",blogContent:""}}),f=(w,A)=>{const x=A.getData();d.setValue("blogContent",x)},m=d.watch("title");C.useEffect(()=>{if(m&&m.trim().length>0){const w=Ek(m,{lower:!0});d.setValue("slug",w)}else d.setValue("slug","")},[m,d]);const p=async w=>{try{const A={...w,author:s._id},x=new FormData;i&&x.append("file",i),x.append("data",JSON.stringify(A));const S=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/blog/add`,{method:"POST",credentials:"include",body:x}),P=await S.json();if(!S.ok){Pt("error",P?.message);return}d.reset(),r(null),t(null),n(zb),Pt("success",P?.message)}catch(A){Pt("error",A?.message)}};return y.jsx("div",{className:"flex justify-center items-start min-h-screen bg-gray-50 p-6",children:y.jsxs(Ha,{className:"w-full max-w-3xl shadow-xl rounded-2xl",children:[y.jsx(Nu,{className:"pb-4",children:y.jsx(Dv,{className:"text-2xl font-bold text-center text-gray-800",children:"Add Blog"})}),y.jsx(Wa,{children:y.jsx(Bu,{...d,children:y.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-8",children:[y.jsx("div",{children:y.jsx(ti,{control:d.control,name:"category",render:({field:w})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Category"}),y.jsx(Hn,{children:y.jsxs(rK,{onValueChange:w.onChange,children:[y.jsx(kO,{children:y.jsx(sK,{placeholder:"Select"})}),y.jsx(xO,{children:o&&o.data.length>0&&o.data.map(A=>y.jsx(CO,{value:A._id,children:A.name},A._id))})]})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx("div",{children:y.jsx(ti,{control:d.control,name:"title",render:({field:w})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Title"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter blog title",className:"rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 px-4 py-2",...w})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx("div",{children:y.jsx(ti,{control:d.control,name:"slug",render:({field:w})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Slug"}),y.jsx(Hn,{children:y.jsx(Ri,{placeholder:"auto-generated slug",readOnly:!0,className:"rounded-xl border-gray-300 bg-gray-100 text-gray-600 cursor-not-allowed px-4 py-2",...w})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsxs("div",{children:[y.jsx("span",{children:"Featured Image"}),y.jsx(ag,{onDrop:w=>a(w),children:({getRootProps:w,getInputProps:A})=>y.jsxs("div",{...w(),className:"bg-gray-100 rounded-lg ",children:[y.jsx("input",{...A(),placeholder:"Enter to select Img"}),y.jsx("div",{className:"inline-block border-dashed border rounded bg-gray-100 max-w-xs",children:e?y.jsx("img",{src:e,alt:"preview",className:"w-auto h-auto max-w-full max-h-40"}):y.jsx("span",{className:"text-gray-400 text-sm",children:"Upload"})})]})})]}),y.jsx("div",{className:"mb-3",children:y.jsx(ti,{control:d.control,name:"blogContent",render:({field:w})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Blog Content"}),y.jsx(Hn,{children:y.jsx(MJ,{props:{initialData:"",onChange:f}})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white py-3 text-lg font-medium",children:"Submit"})]})})})]})})}function ije(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var O0={exports:{}},rje=O0.exports,vF;function sje(){return vF||(vF=1,(function(n,e){(function(t,i){n.exports=i()})(rje,(function(){var t;function i(){return t.apply(null,arguments)}function r(b){t=b}function s(b){return b instanceof Array||Object.prototype.toString.call(b)==="[object Array]"}function o(b){return b!=null&&Object.prototype.toString.call(b)==="[object Object]"}function a(b,_){return Object.prototype.hasOwnProperty.call(b,_)}function l(b){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(b).length===0;var _;for(_ in b)if(a(b,_))return!1;return!0}function d(b){return b===void 0}function f(b){return typeof b=="number"||Object.prototype.toString.call(b)==="[object Number]"}function m(b){return b instanceof Date||Object.prototype.toString.call(b)==="[object Date]"}function p(b,_){var E=[],T,D=b.length;for(T=0;T<D;++T)E.push(_(b[T],T));return E}function w(b,_){for(var E in _)a(_,E)&&(b[E]=_[E]);return a(_,"toString")&&(b.toString=_.toString),a(_,"valueOf")&&(b.valueOf=_.valueOf),b}function A(b,_,E,T){return Mg(b,_,E,T,!0).utc()}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(b){return b._pf==null&&(b._pf=x()),b._pf}var P;Array.prototype.some?P=Array.prototype.some:P=function(b){var _=Object(this),E=_.length>>>0,T;for(T=0;T<E;T++)if(T in _&&b.call(this,_[T],T,_))return!0;return!1};function I(b){var _=null,E=!1,T=b._d&&!isNaN(b._d.getTime());if(T&&(_=S(b),E=P.call(_.parsedDateParts,function(D){return D!=null}),T=_.overflow<0&&!_.empty&&!_.invalidEra&&!_.invalidMonth&&!_.invalidWeekday&&!_.weekdayMismatch&&!_.nullInput&&!_.invalidFormat&&!_.userInvalidated&&(!_.meridiem||_.meridiem&&E),b._strict&&(T=T&&_.charsLeftOver===0&&_.unusedTokens.length===0&&_.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(b))b._isValid=T;else return T;return b._isValid}function O(b){var _=A(NaN);return b!=null?w(S(_),b):S(_).userInvalidated=!0,_}var M=i.momentProperties=[],B=!1;function W(b,_){var E,T,D,G=M.length;if(d(_._isAMomentObject)||(b._isAMomentObject=_._isAMomentObject),d(_._i)||(b._i=_._i),d(_._f)||(b._f=_._f),d(_._l)||(b._l=_._l),d(_._strict)||(b._strict=_._strict),d(_._tzm)||(b._tzm=_._tzm),d(_._isUTC)||(b._isUTC=_._isUTC),d(_._offset)||(b._offset=_._offset),d(_._pf)||(b._pf=S(_)),d(_._locale)||(b._locale=_._locale),G>0)for(E=0;E<G;E++)T=M[E],D=_[T],d(D)||(b[T]=D);return b}function $(b){W(this,b),this._d=new Date(b._d!=null?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),B===!1&&(B=!0,i.updateOffset(this),B=!1)}function L(b){return b instanceof $||b!=null&&b._isAMomentObject!=null}function ee(b){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+b)}function pe(b,_){var E=!0;return w(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,b),E){var T=[],D,G,he,qe=arguments.length;for(G=0;G<qe;G++){if(D="",typeof arguments[G]=="object"){D+=`
[`+G+"] ";for(he in arguments[0])a(arguments[0],he)&&(D+=he+": "+arguments[0][he]+", ");D=D.slice(0,-2)}else D=arguments[G];T.push(D)}ee(b+`
Arguments: `+Array.prototype.slice.call(T).join("")+`
`+new Error().stack),E=!1}return _.apply(this,arguments)},_)}var Se={};function ge(b,_){i.deprecationHandler!=null&&i.deprecationHandler(b,_),Se[b]||(ee(_),Se[b]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function Ee(b){return typeof Function<"u"&&b instanceof Function||Object.prototype.toString.call(b)==="[object Function]"}function Te(b){var _,E;for(E in b)a(b,E)&&(_=b[E],Ee(_)?this[E]=_:this["_"+E]=_);this._config=b,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Be(b,_){var E=w({},b),T;for(T in _)a(_,T)&&(o(b[T])&&o(_[T])?(E[T]={},w(E[T],b[T]),w(E[T],_[T])):_[T]!=null?E[T]=_[T]:delete E[T]);for(T in b)a(b,T)&&!a(_,T)&&o(b[T])&&(E[T]=w({},E[T]));return E}function Y(b){b!=null&&this.set(b)}var de;Object.keys?de=Object.keys:de=function(b){var _,E=[];for(_ in b)a(b,_)&&E.push(_);return E};var Q={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function be(b,_,E){var T=this._calendar[b]||this._calendar.sameElse;return Ee(T)?T.call(_,E):T}function V(b,_,E){var T=""+Math.abs(b),D=_-T.length,G=b>=0;return(G?E?"+":"":"-")+Math.pow(10,Math.max(0,D)).toString().substr(1)+T}var fe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ae={},q={};function U(b,_,E,T){var D=T;typeof T=="string"&&(D=function(){return this[T]()}),b&&(q[b]=D),_&&(q[_[0]]=function(){return V(D.apply(this,arguments),_[1],_[2])}),E&&(q[E]=function(){return this.localeData().ordinal(D.apply(this,arguments),b)})}function ce(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")}function re(b){var _=b.match(fe),E,T;for(E=0,T=_.length;E<T;E++)q[_[E]]?_[E]=q[_[E]]:_[E]=ce(_[E]);return function(D){var G="",he;for(he=0;he<T;he++)G+=Ee(_[he])?_[he].call(D,b):_[he];return G}}function we(b,_){return b.isValid()?(_=Ie(_,b.localeData()),Ae[_]=Ae[_]||re(_),Ae[_](b)):b.localeData().invalidDate()}function Ie(b,_){var E=5;function T(D){return _.longDateFormat(D)||D}for(Pe.lastIndex=0;E>=0&&Pe.test(b);)b=b.replace(Pe,T),Pe.lastIndex=0,E-=1;return b}var ye={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Fe(b){var _=this._longDateFormat[b],E=this._longDateFormat[b.toUpperCase()];return _||!E?_:(this._longDateFormat[b]=E.match(fe).map(function(T){return T==="MMMM"||T==="MM"||T==="DD"||T==="dddd"?T.slice(1):T}).join(""),this._longDateFormat[b])}var Oe="Invalid date";function at(){return this._invalidDate}var ct="%d",gn=/\d{1,2}/;function cn(b){return this._ordinal.replace("%d",b)}var st={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Mn(b,_,E,T){var D=this._relativeTime[E];return Ee(D)?D(b,_,E,T):D.replace(/%d/i,b)}function Ct(b,_){var E=this._relativeTime[b>0?"future":"past"];return Ee(E)?E(_):E.replace(/%s/i,_)}var F={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function J(b){return typeof b=="string"?F[b]||F[b.toLowerCase()]:void 0}function ue(b){var _={},E,T;for(T in b)a(b,T)&&(E=J(T),E&&(_[E]=b[T]));return _}var Ne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Z(b){var _=[],E;for(E in b)a(b,E)&&_.push({unit:E,priority:Ne[E]});return _.sort(function(T,D){return T.priority-D.priority}),_}var se=/\d/,me=/\d\d/,$e=/\d{3}/,Ke=/\d{4}/,bt=/[+-]?\d{6}/,gt=/\d\d?/,oi=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,wt=/\d{1,3}/,ki=/\d{1,4}/,pn=/[+-]?\d{1,6}/,xi=/\d+/,Ci=/[+-]?\d+/,ta=/Z|[+-]\d\d:?\d\d/gi,tl=/Z|[+-]\d\d(?::?\d\d)?/gi,Dw=/[+-]?\d+(\.\d{1,3})?/,nl=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ls=/^[1-9]\d?/,hg=/^([1-9]\d|\d)/,Wu;Wu={};function Ze(b,_,E){Wu[b]=Ee(_)?_:function(T,D){return T&&E?E:_}}function mg(b,_){return a(Wu,b)?Wu[b](_._strict,_._locale):new RegExp(gg(b))}function gg(b){return Fs(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_,E,T,D,G){return E||T||D||G}))}function Fs(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $r(b){return b<0?Math.ceil(b)||0:Math.floor(b)}function yt(b){var _=+b,E=0;return _!==0&&isFinite(_)&&(E=$r(_)),E}var Si={};function xt(b,_){var E,T=_,D;for(typeof b=="string"&&(b=[b]),f(_)&&(T=function(G,he){he[_]=yt(G)}),D=b.length,E=0;E<D;E++)Si[b[E]]=T}function zs(b,_){xt(b,function(E,T,D,G){D._w=D._w||{},_(E,D._w,D,G)})}function pg(b,_,E){_!=null&&a(Si,b)&&Si[b](_,E._a,E,b)}function zf(b){return b%4===0&&b%100!==0||b%400===0}var $i=0,js=1,fr=2,Yn=3,Hi=4,hr=5,os=6,Ec=7,Ei=8;U("Y",0,0,function(){var b=this.year();return b<=9999?V(b,4):"+"+b}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),Ze("Y",Ci),Ze("YY",gt,me),Ze("YYYY",ki,Ke),Ze("YYYYY",pn,bt),Ze("YYYYYY",pn,bt),xt(["YYYYY","YYYYYY"],$i),xt("YYYY",function(b,_){_[$i]=b.length===2?i.parseTwoDigitYear(b):yt(b)}),xt("YY",function(b,_){_[$i]=i.parseTwoDigitYear(b)}),xt("Y",function(b,_){_[$i]=parseInt(b,10)});function Tc(b){return zf(b)?366:365}i.parseTwoDigitYear=function(b){return yt(b)+(yt(b)>68?1900:2e3)};var bg=as("FullYear",!0);function il(){return zf(this.year())}function as(b,_){return function(E){return E!=null?(vg(this,b,E),i.updateOffset(this,_),this):Gu(this,b)}}function Gu(b,_){if(!b.isValid())return NaN;var E=b._d,T=b._isUTC;switch(_){case"Milliseconds":return T?E.getUTCMilliseconds():E.getMilliseconds();case"Seconds":return T?E.getUTCSeconds():E.getSeconds();case"Minutes":return T?E.getUTCMinutes():E.getMinutes();case"Hours":return T?E.getUTCHours():E.getHours();case"Date":return T?E.getUTCDate():E.getDate();case"Day":return T?E.getUTCDay():E.getDay();case"Month":return T?E.getUTCMonth():E.getMonth();case"FullYear":return T?E.getUTCFullYear():E.getFullYear();default:return NaN}}function vg(b,_,E){var T,D,G,he,qe;if(!(!b.isValid()||isNaN(E))){switch(T=b._d,D=b._isUTC,_){case"Milliseconds":return void(D?T.setUTCMilliseconds(E):T.setMilliseconds(E));case"Seconds":return void(D?T.setUTCSeconds(E):T.setSeconds(E));case"Minutes":return void(D?T.setUTCMinutes(E):T.setMinutes(E));case"Hours":return void(D?T.setUTCHours(E):T.setHours(E));case"Date":return void(D?T.setUTCDate(E):T.setDate(E));case"FullYear":break;default:return}G=E,he=b.month(),qe=b.date(),qe=qe===29&&he===1&&!zf(G)?28:qe,D?T.setUTCFullYear(G,he,qe):T.setFullYear(G,he,qe)}}function Nw(b){return b=J(b),Ee(this[b])?this[b]():this}function ax(b,_){if(typeof b=="object"){b=ue(b);var E=Z(b),T,D=E.length;for(T=0;T<D;T++)this[E[T].unit](b[E[T].unit])}else if(b=J(b),Ee(this[b]))return this[b](_);return this}function jf(b,_){return(b%_+_)%_}var Cn;Array.prototype.indexOf?Cn=Array.prototype.indexOf:Cn=function(b){var _;for(_=0;_<this.length;++_)if(this[_]===b)return _;return-1};function ls(b,_){if(isNaN(b)||isNaN(_))return NaN;var E=jf(_,12);return b+=(_-E)/12,E===1?zf(b)?29:28:31-E%7%2}U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)}),U("MMMM",0,0,function(b){return this.localeData().months(this,b)}),Ze("M",gt,Ls),Ze("MM",gt,me),Ze("MMM",function(b,_){return _.monthsShortRegex(b)}),Ze("MMMM",function(b,_){return _.monthsRegex(b)}),xt(["M","MM"],function(b,_){_[js]=yt(b)-1}),xt(["MMM","MMMM"],function(b,_,E,T){var D=E._locale.monthsParse(b,T,E._strict);D!=null?_[js]=D:S(E).invalidMonth=b});var wg="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yg="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_g=nl,Ag=nl;function lx(b,_){return b?s(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||rl).test(_)?"format":"standalone"][b.month()]:s(this._months)?this._months:this._months.standalone}function Mw(b,_){return b?s(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[rl.test(_)?"format":"standalone"][b.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Hr(b,_,E){var T,D,G,he=b.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],T=0;T<12;++T)G=A([2e3,T]),this._shortMonthsParse[T]=this.monthsShort(G,"").toLocaleLowerCase(),this._longMonthsParse[T]=this.months(G,"").toLocaleLowerCase();return E?_==="MMM"?(D=Cn.call(this._shortMonthsParse,he),D!==-1?D:null):(D=Cn.call(this._longMonthsParse,he),D!==-1?D:null):_==="MMM"?(D=Cn.call(this._shortMonthsParse,he),D!==-1?D:(D=Cn.call(this._longMonthsParse,he),D!==-1?D:null)):(D=Cn.call(this._longMonthsParse,he),D!==-1?D:(D=Cn.call(this._shortMonthsParse,he),D!==-1?D:null))}function Bw(b,_,E){var T,D,G;if(this._monthsParseExact)return Hr.call(this,b,_,E);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),T=0;T<12;T++){if(D=A([2e3,T]),E&&!this._longMonthsParse[T]&&(this._longMonthsParse[T]=new RegExp("^"+this.months(D,"").replace(".","")+"$","i"),this._shortMonthsParse[T]=new RegExp("^"+this.monthsShort(D,"").replace(".","")+"$","i")),!E&&!this._monthsParse[T]&&(G="^"+this.months(D,"")+"|^"+this.monthsShort(D,""),this._monthsParse[T]=new RegExp(G.replace(".",""),"i")),E&&_==="MMMM"&&this._longMonthsParse[T].test(b))return T;if(E&&_==="MMM"&&this._shortMonthsParse[T].test(b))return T;if(!E&&this._monthsParse[T].test(b))return T}}function Vw(b,_){if(!b.isValid())return b;if(typeof _=="string"){if(/^\d+$/.test(_))_=yt(_);else if(_=b.localeData().monthsParse(_),!f(_))return b}var E=_,T=b.date();return T=T<29?T:Math.min(T,ls(b.year(),E)),b._isUTC?b._d.setUTCMonth(E,T):b._d.setMonth(E,T),b}function Yu(b){return b!=null?(Vw(this,b),i.updateOffset(this,!0),this):Gu(this,"Month")}function Lw(){return ls(this.year(),this.month())}function Uf(b){return this._monthsParseExact?(a(this,"_monthsRegex")||Cr.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=_g),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)}function cx(b){return this._monthsParseExact?(a(this,"_monthsRegex")||Cr.call(this),b?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ag),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)}function Cr(){function b(dt,Mt){return Mt.length-dt.length}var _=[],E=[],T=[],D,G,he,qe;for(D=0;D<12;D++)G=A([2e3,D]),he=Fs(this.monthsShort(G,"")),qe=Fs(this.months(G,"")),_.push(he),E.push(qe),T.push(qe),T.push(he);_.sort(b),E.sort(b),T.sort(b),this._monthsRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_.join("|")+")","i")}function kg(b,_,E,T,D,G,he){var qe;return b<100&&b>=0?(qe=new Date(b+400,_,E,T,D,G,he),isFinite(qe.getFullYear())&&qe.setFullYear(b)):qe=new Date(b,_,E,T,D,G,he),qe}function Ic(b){var _,E;return b<100&&b>=0?(E=Array.prototype.slice.call(arguments),E[0]=b+400,_=new Date(Date.UTC.apply(null,E)),isFinite(_.getUTCFullYear())&&_.setUTCFullYear(b)):_=new Date(Date.UTC.apply(null,arguments)),_}function Pc(b,_,E){var T=7+_-E,D=(7+Ic(b,0,T).getUTCDay()-_)%7;return-D+T-1}function sl(b,_,E,T,D){var G=(7+E-T)%7,he=Pc(b,T,D),qe=1+7*(_-1)+G+he,dt,Mt;return qe<=0?(dt=b-1,Mt=Tc(dt)+qe):qe>Tc(b)?(dt=b+1,Mt=qe-Tc(b)):(dt=b,Mt=qe),{year:dt,dayOfYear:Mt}}function Rc(b,_,E){var T=Pc(b.year(),_,E),D=Math.floor((b.dayOfYear()-T-1)/7)+1,G,he;return D<1?(he=b.year()-1,G=D+Us(he,_,E)):D>Us(b.year(),_,E)?(G=D-Us(b.year(),_,E),he=b.year()+1):(he=b.year(),G=D),{week:G,year:he}}function Us(b,_,E){var T=Pc(b,_,E),D=Pc(b+1,_,E);return(Tc(b)-T+D)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),Ze("w",gt,Ls),Ze("ww",gt,me),Ze("W",gt,Ls),Ze("WW",gt,me),zs(["w","ww","W","WW"],function(b,_,E,T){_[T.substr(0,1)]=yt(b)});function Oc(b){return Rc(b,this._week.dow,this._week.doy).week}var ux={dow:0,doy:6};function Fw(){return this._week.dow}function zw(){return this._week.doy}function xg(b){var _=this.localeData().week(this);return b==null?_:this.add((b-_)*7,"d")}function dx(b){var _=Rc(this,1,4).week;return b==null?_:this.add((b-_)*7,"d")}U("d",0,"do","day"),U("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)}),U("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)}),U("dddd",0,0,function(b){return this.localeData().weekdays(this,b)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),Ze("d",gt),Ze("e",gt),Ze("E",gt),Ze("dd",function(b,_){return _.weekdaysMinRegex(b)}),Ze("ddd",function(b,_){return _.weekdaysShortRegex(b)}),Ze("dddd",function(b,_){return _.weekdaysRegex(b)}),zs(["dd","ddd","dddd"],function(b,_,E,T){var D=E._locale.weekdaysParse(b,T,E._strict);D!=null?_.d=D:S(E).invalidWeekday=b}),zs(["d","e","E"],function(b,_,E,T){_[T]=yt(b)});function fx(b,_){return typeof b!="string"?b:isNaN(b)?(b=_.weekdaysParse(b),typeof b=="number"?b:null):parseInt(b,10)}function $f(b,_){return typeof b=="string"?_.weekdaysParse(b)%7||7:isNaN(b)?null:b}function Ku(b,_){return b.slice(_,7).concat(b.slice(0,_))}var Cg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ol="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jw=nl,Sg=nl,Uw=nl;function qu(b,_){var E=s(this._weekdays)?this._weekdays:this._weekdays[b&&b!==!0&&this._weekdays.isFormat.test(_)?"format":"standalone"];return b===!0?Ku(E,this._week.dow):b?E[b.day()]:E}function fo(b){return b===!0?Ku(this._weekdaysShort,this._week.dow):b?this._weekdaysShort[b.day()]:this._weekdaysShort}function Eg(b){return b===!0?Ku(this._weekdaysMin,this._week.dow):b?this._weekdaysMin[b.day()]:this._weekdaysMin}function Zu(b,_,E){var T,D,G,he=b.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],T=0;T<7;++T)G=A([2e3,1]).day(T),this._minWeekdaysParse[T]=this.weekdaysMin(G,"").toLocaleLowerCase(),this._shortWeekdaysParse[T]=this.weekdaysShort(G,"").toLocaleLowerCase(),this._weekdaysParse[T]=this.weekdays(G,"").toLocaleLowerCase();return E?_==="dddd"?(D=Cn.call(this._weekdaysParse,he),D!==-1?D:null):_==="ddd"?(D=Cn.call(this._shortWeekdaysParse,he),D!==-1?D:null):(D=Cn.call(this._minWeekdaysParse,he),D!==-1?D:null):_==="dddd"?(D=Cn.call(this._weekdaysParse,he),D!==-1||(D=Cn.call(this._shortWeekdaysParse,he),D!==-1)?D:(D=Cn.call(this._minWeekdaysParse,he),D!==-1?D:null)):_==="ddd"?(D=Cn.call(this._shortWeekdaysParse,he),D!==-1||(D=Cn.call(this._weekdaysParse,he),D!==-1)?D:(D=Cn.call(this._minWeekdaysParse,he),D!==-1?D:null)):(D=Cn.call(this._minWeekdaysParse,he),D!==-1||(D=Cn.call(this._weekdaysParse,he),D!==-1)?D:(D=Cn.call(this._shortWeekdaysParse,he),D!==-1?D:null))}function na(b,_,E){var T,D,G;if(this._weekdaysParseExact)return Zu.call(this,b,_,E);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),T=0;T<7;T++){if(D=A([2e3,1]).day(T),E&&!this._fullWeekdaysParse[T]&&(this._fullWeekdaysParse[T]=new RegExp("^"+this.weekdays(D,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[T]=new RegExp("^"+this.weekdaysShort(D,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[T]=new RegExp("^"+this.weekdaysMin(D,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[T]||(G="^"+this.weekdays(D,"")+"|^"+this.weekdaysShort(D,"")+"|^"+this.weekdaysMin(D,""),this._weekdaysParse[T]=new RegExp(G.replace(".",""),"i")),E&&_==="dddd"&&this._fullWeekdaysParse[T].test(b))return T;if(E&&_==="ddd"&&this._shortWeekdaysParse[T].test(b))return T;if(E&&_==="dd"&&this._minWeekdaysParse[T].test(b))return T;if(!E&&this._weekdaysParse[T].test(b))return T}}function Tg(b){if(!this.isValid())return b!=null?this:NaN;var _=Gu(this,"Day");return b!=null?(b=fx(b,this.localeData()),this.add(b-_,"d")):_}function Hf(b){if(!this.isValid())return b!=null?this:NaN;var _=(this.day()+7-this.localeData()._week.dow)%7;return b==null?_:this.add(b-_,"d")}function $w(b){if(!this.isValid())return b!=null?this:NaN;if(b!=null){var _=$f(b,this.localeData());return this.day(this.day()%7?_:_-7)}else return this.day()||7}function Wf(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Wi.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=jw),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gf(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Wi.call(this),b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Sg),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Hw(b){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Wi.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Uw),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wi(){function b(ir,Ws){return Ws.length-ir.length}var _=[],E=[],T=[],D=[],G,he,qe,dt,Mt;for(G=0;G<7;G++)he=A([2e3,1]).day(G),qe=Fs(this.weekdaysMin(he,"")),dt=Fs(this.weekdaysShort(he,"")),Mt=Fs(this.weekdays(he,"")),_.push(qe),E.push(dt),T.push(Mt),D.push(qe),D.push(dt),D.push(Mt);_.sort(b),E.sort(b),T.sort(b),D.sort(b),this._weekdaysRegex=new RegExp("^("+D.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_.join("|")+")","i")}function ho(){return this.hours()%12||12}function Yf(){return this.hours()||24}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,ho),U("k",["kk",2],0,Yf),U("hmm",0,0,function(){return""+ho.apply(this)+V(this.minutes(),2)}),U("hmmss",0,0,function(){return""+ho.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)});function Nc(b,_){U(b,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_)})}Nc("a",!0),Nc("A",!1);function Ww(b,_){return _._meridiemParse}Ze("a",Ww),Ze("A",Ww),Ze("H",gt,hg),Ze("h",gt,Ls),Ze("k",gt,Ls),Ze("HH",gt,me),Ze("hh",gt,me),Ze("kk",gt,me),Ze("hmm",oi),Ze("hmmss",It),Ze("Hmm",oi),Ze("Hmmss",It),xt(["H","HH"],Yn),xt(["k","kk"],function(b,_,E){var T=yt(b);_[Yn]=T===24?0:T}),xt(["a","A"],function(b,_,E){E._isPm=E._locale.isPM(b),E._meridiem=b}),xt(["h","hh"],function(b,_,E){_[Yn]=yt(b),S(E).bigHour=!0}),xt("hmm",function(b,_,E){var T=b.length-2;_[Yn]=yt(b.substr(0,T)),_[Hi]=yt(b.substr(T)),S(E).bigHour=!0}),xt("hmmss",function(b,_,E){var T=b.length-4,D=b.length-2;_[Yn]=yt(b.substr(0,T)),_[Hi]=yt(b.substr(T,2)),_[hr]=yt(b.substr(D)),S(E).bigHour=!0}),xt("Hmm",function(b,_,E){var T=b.length-2;_[Yn]=yt(b.substr(0,T)),_[Hi]=yt(b.substr(T))}),xt("Hmmss",function(b,_,E){var T=b.length-4,D=b.length-2;_[Yn]=yt(b.substr(0,T)),_[Hi]=yt(b.substr(T,2)),_[hr]=yt(b.substr(D))});function Ig(b){return(b+"").toLowerCase().charAt(0)==="p"}var Pg=/[ap]\.?m?\.?/i,Qu=as("Hours",!0);function Kf(b,_,E){return b>11?E?"pm":"PM":E?"am":"AM"}var Rg={calendar:Q,longDateFormat:ye,invalidDate:Oe,ordinal:ct,dayOfMonthOrdinalParse:gn,relativeTime:st,months:wg,monthsShort:yg,week:ux,weekdays:Cg,weekdaysMin:Dc,weekdaysShort:ol,meridiemParse:Pg},Sn={},Ju={},Xu;function Og(b,_){var E,T=Math.min(b.length,_.length);for(E=0;E<T;E+=1)if(b[E]!==_[E])return E;return T}function Gw(b){return b&&b.toLowerCase().replace("_","-")}function hx(b){for(var _=0,E,T,D,G;_<b.length;){for(G=Gw(b[_]).split("-"),E=G.length,T=Gw(b[_+1]),T=T?T.split("-"):null;E>0;){if(D=qf(G.slice(0,E).join("-")),D)return D;if(T&&T.length>=E&&Og(G,T)>=E-1)break;E--}_++}return Xu}function mx(b){return!!(b&&b.match("^[^/\\\\]*$"))}function qf(b){var _=null,E;if(Sn[b]===void 0&&n&&n.exports&&mx(b))try{_=Xu._abbr,E=ije,E("./locale/"+b),ia(_)}catch{Sn[b]=null}return Sn[b]}function ia(b,_){var E;return b&&(d(_)?E=mo(b):E=Zf(b,_),E?Xu=E:typeof console<"u"&&console.warn&&console.warn("Locale "+b+" not found. Did you forget to load it?")),Xu._abbr}function Zf(b,_){if(_!==null){var E,T=Rg;if(_.abbr=b,Sn[b]!=null)ge("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),T=Sn[b]._config;else if(_.parentLocale!=null)if(Sn[_.parentLocale]!=null)T=Sn[_.parentLocale]._config;else if(E=qf(_.parentLocale),E!=null)T=E._config;else return Ju[_.parentLocale]||(Ju[_.parentLocale]=[]),Ju[_.parentLocale].push({name:b,config:_}),null;return Sn[b]=new Y(Be(T,_)),Ju[b]&&Ju[b].forEach(function(D){Zf(D.name,D.config)}),ia(b),Sn[b]}else return delete Sn[b],null}function gx(b,_){if(_!=null){var E,T,D=Rg;Sn[b]!=null&&Sn[b].parentLocale!=null?Sn[b].set(Be(Sn[b]._config,_)):(T=qf(b),T!=null&&(D=T._config),_=Be(D,_),T==null&&(_.abbr=b),E=new Y(_),E.parentLocale=Sn[b],Sn[b]=E),ia(b)}else Sn[b]!=null&&(Sn[b].parentLocale!=null?(Sn[b]=Sn[b].parentLocale,b===ia()&&ia(b)):Sn[b]!=null&&delete Sn[b]);return Sn[b]}function mo(b){var _;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return Xu;if(!s(b)){if(_=qf(b),_)return _;b=[b]}return hx(b)}function px(){return de(Sn)}function Dg(b){var _,E=b._a;return E&&S(b).overflow===-2&&(_=E[js]<0||E[js]>11?js:E[fr]<1||E[fr]>ls(E[$i],E[js])?fr:E[Yn]<0||E[Yn]>24||E[Yn]===24&&(E[Hi]!==0||E[hr]!==0||E[os]!==0)?Yn:E[Hi]<0||E[Hi]>59?Hi:E[hr]<0||E[hr]>59?hr:E[os]<0||E[os]>999?os:-1,S(b)._overflowDayOfYear&&(_<$i||_>fr)&&(_=fr),S(b)._overflowWeeks&&_===-1&&(_=Ec),S(b)._overflowWeekday&&_===-1&&(_=Ei),S(b).overflow=_),b}var Ng=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bx=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vx=/Z|[+-]\d\d(?::?\d\d)?/,Qf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wx=/^\/?Date\((-?\d+)/i,yx=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_x={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Yw(b){var _,E,T=b._i,D=Ng.exec(T)||bx.exec(T),G,he,qe,dt,Mt=Qf.length,ir=Jf.length;if(D){for(S(b).iso=!0,_=0,E=Mt;_<E;_++)if(Qf[_][1].exec(D[1])){he=Qf[_][0],G=Qf[_][2]!==!1;break}if(he==null){b._isValid=!1;return}if(D[3]){for(_=0,E=ir;_<E;_++)if(Jf[_][1].exec(D[3])){qe=(D[2]||" ")+Jf[_][0];break}if(qe==null){b._isValid=!1;return}}if(!G&&qe!=null){b._isValid=!1;return}if(D[4])if(vx.exec(D[4]))dt="Z";else{b._isValid=!1;return}b._f=he+(qe||"")+(dt||""),th(b)}else b._isValid=!1}function Ax(b,_,E,T,D,G){var he=[kx(b),yg.indexOf(_),parseInt(E,10),parseInt(T,10),parseInt(D,10)];return G&&he.push(parseInt(G,10)),he}function kx(b){var _=parseInt(b,10);return _<=49?2e3+_:_<=999?1900+_:_}function xx(b){return b.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cx(b,_,E){if(b){var T=ol.indexOf(b),D=new Date(_[0],_[1],_[2]).getDay();if(T!==D)return S(E).weekdayMismatch=!0,E._isValid=!1,!1}return!0}function Sx(b,_,E){if(b)return _x[b];if(_)return 0;var T=parseInt(E,10),D=T%100,G=(T-D)/100;return G*60+D}function Xf(b){var _=yx.exec(xx(b._i)),E;if(_){if(E=Ax(_[4],_[3],_[2],_[5],_[6],_[7]),!Cx(_[1],E,b))return;b._a=E,b._tzm=Sx(_[8],_[9],_[10]),b._d=Ic.apply(null,b._a),b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),S(b).rfc2822=!0}else b._isValid=!1}function ed(b){var _=wx.exec(b._i);if(_!==null){b._d=new Date(+_[1]);return}if(Yw(b),b._isValid===!1)delete b._isValid;else return;if(Xf(b),b._isValid===!1)delete b._isValid;else return;b._strict?b._isValid=!1:i.createFromInputFallback(b)}i.createFromInputFallback=pe("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});function Mc(b,_,E){return b??_??E}function Kw(b){var _=new Date(i.now());return b._useUTC?[_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()]:[_.getFullYear(),_.getMonth(),_.getDate()]}function eh(b){var _,E,T=[],D,G,he;if(!b._d){for(D=Kw(b),b._w&&b._a[fr]==null&&b._a[js]==null&&qw(b),b._dayOfYear!=null&&(he=Mc(b._a[$i],D[$i]),(b._dayOfYear>Tc(he)||b._dayOfYear===0)&&(S(b)._overflowDayOfYear=!0),E=Ic(he,0,b._dayOfYear),b._a[js]=E.getUTCMonth(),b._a[fr]=E.getUTCDate()),_=0;_<3&&b._a[_]==null;++_)b._a[_]=T[_]=D[_];for(;_<7;_++)b._a[_]=T[_]=b._a[_]==null?_===2?1:0:b._a[_];b._a[Yn]===24&&b._a[Hi]===0&&b._a[hr]===0&&b._a[os]===0&&(b._nextDay=!0,b._a[Yn]=0),b._d=(b._useUTC?Ic:kg).apply(null,T),G=b._useUTC?b._d.getUTCDay():b._d.getDay(),b._tzm!=null&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),b._nextDay&&(b._a[Yn]=24),b._w&&typeof b._w.d<"u"&&b._w.d!==G&&(S(b).weekdayMismatch=!0)}}function qw(b){var _,E,T,D,G,he,qe,dt,Mt;_=b._w,_.GG!=null||_.W!=null||_.E!=null?(G=1,he=4,E=Mc(_.GG,b._a[$i],Rc(rn(),1,4).year),T=Mc(_.W,1),D=Mc(_.E,1),(D<1||D>7)&&(dt=!0)):(G=b._locale._week.dow,he=b._locale._week.doy,Mt=Rc(rn(),G,he),E=Mc(_.gg,b._a[$i],Mt.year),T=Mc(_.w,Mt.week),_.d!=null?(D=_.d,(D<0||D>6)&&(dt=!0)):_.e!=null?(D=_.e+G,(_.e<0||_.e>6)&&(dt=!0)):D=G),T<1||T>Us(E,G,he)?S(b)._overflowWeeks=!0:dt!=null?S(b)._overflowWeekday=!0:(qe=sl(E,T,D,G,he),b._a[$i]=qe.year,b._dayOfYear=qe.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function th(b){if(b._f===i.ISO_8601){Yw(b);return}if(b._f===i.RFC_2822){Xf(b);return}b._a=[],S(b).empty=!0;var _=""+b._i,E,T,D,G,he,qe=_.length,dt=0,Mt,ir;for(D=Ie(b._f,b._locale).match(fe)||[],ir=D.length,E=0;E<ir;E++)G=D[E],T=(_.match(mg(G,b))||[])[0],T&&(he=_.substr(0,_.indexOf(T)),he.length>0&&S(b).unusedInput.push(he),_=_.slice(_.indexOf(T)+T.length),dt+=T.length),q[G]?(T?S(b).empty=!1:S(b).unusedTokens.push(G),pg(G,T,b)):b._strict&&!T&&S(b).unusedTokens.push(G);S(b).charsLeftOver=qe-dt,_.length>0&&S(b).unusedInput.push(_),b._a[Yn]<=12&&S(b).bigHour===!0&&b._a[Yn]>0&&(S(b).bigHour=void 0),S(b).parsedDateParts=b._a.slice(0),S(b).meridiem=b._meridiem,b._a[Yn]=Zw(b._locale,b._a[Yn],b._meridiem),Mt=S(b).era,Mt!==null&&(b._a[$i]=b._locale.erasConvertYear(Mt,b._a[$i])),eh(b),Dg(b)}function Zw(b,_,E){var T;return E==null?_:b.meridiemHour!=null?b.meridiemHour(_,E):(b.isPM!=null&&(T=b.isPM(E),T&&_<12&&(_+=12),!T&&_===12&&(_=0)),_)}function Bc(b){var _,E,T,D,G,he,qe=!1,dt=b._f.length;if(dt===0){S(b).invalidFormat=!0,b._d=new Date(NaN);return}for(D=0;D<dt;D++)G=0,he=!1,_=W({},b),b._useUTC!=null&&(_._useUTC=b._useUTC),_._f=b._f[D],th(_),I(_)&&(he=!0),G+=S(_).charsLeftOver,G+=S(_).unusedTokens.length*10,S(_).score=G,qe?G<T&&(T=G,E=_):(T==null||G<T||he)&&(T=G,E=_,he&&(qe=!0));w(b,E||_)}function Ex(b){if(!b._d){var _=ue(b._i),E=_.day===void 0?_.date:_.day;b._a=p([_.year,_.month,E,_.hour,_.minute,_.second,_.millisecond],function(T){return T&&parseInt(T,10)}),eh(b)}}function Tx(b){var _=new $(Dg(Qw(b)));return _._nextDay&&(_.add(1,"d"),_._nextDay=void 0),_}function Qw(b){var _=b._i,E=b._f;return b._locale=b._locale||mo(b._l),_===null||E===void 0&&_===""?O({nullInput:!0}):(typeof _=="string"&&(b._i=_=b._locale.preparse(_)),L(_)?new $(Dg(_)):(m(_)?b._d=_:s(E)?Bc(b):E?th(b):Jw(b),I(b)||(b._d=null),b))}function Jw(b){var _=b._i;d(_)?b._d=new Date(i.now()):m(_)?b._d=new Date(_.valueOf()):typeof _=="string"?ed(b):s(_)?(b._a=p(_.slice(0),function(E){return parseInt(E,10)}),eh(b)):o(_)?Ex(b):f(_)?b._d=new Date(_):i.createFromInputFallback(b)}function Mg(b,_,E,T,D){var G={};return(_===!0||_===!1)&&(T=_,_=void 0),(E===!0||E===!1)&&(T=E,E=void 0),(o(b)&&l(b)||s(b)&&b.length===0)&&(b=void 0),G._isAMomentObject=!0,G._useUTC=G._isUTC=D,G._l=E,G._i=b,G._f=_,G._strict=T,Tx(G)}function rn(b,_,E,T){return Mg(b,_,E,T,!1)}var td=pe("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=rn.apply(null,arguments);return this.isValid()&&b.isValid()?b<this?this:b:O()}),Ix=pe("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=rn.apply(null,arguments);return this.isValid()&&b.isValid()?b>this?this:b:O()});function nd(b,_){var E,T;if(_.length===1&&s(_[0])&&(_=_[0]),!_.length)return rn();for(E=_[0],T=1;T<_.length;++T)(!_[T].isValid()||_[T][b](E))&&(E=_[T]);return E}function Xw(){var b=[].slice.call(arguments,0);return nd("isBefore",b)}function ey(){var b=[].slice.call(arguments,0);return nd("isAfter",b)}var Bg=function(){return Date.now?Date.now():+new Date},al=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ty(b){var _,E=!1,T,D=al.length;for(_ in b)if(a(b,_)&&!(Cn.call(al,_)!==-1&&(b[_]==null||!isNaN(b[_]))))return!1;for(T=0;T<D;++T)if(b[al[T]]){if(E)return!1;parseFloat(b[al[T]])!==yt(b[al[T]])&&(E=!0)}return!0}function ny(){return this._isValid}function iy(){return Di(NaN)}function nh(b){var _=ue(b),E=_.year||0,T=_.quarter||0,D=_.month||0,G=_.week||_.isoWeek||0,he=_.day||0,qe=_.hour||0,dt=_.minute||0,Mt=_.second||0,ir=_.millisecond||0;this._isValid=ty(_),this._milliseconds=+ir+Mt*1e3+dt*6e4+qe*1e3*60*60,this._days=+he+G*7,this._months=+D+T*3+E*12,this._data={},this._locale=mo(),this._bubble()}function ih(b){return b instanceof nh}function Vg(b){return b<0?Math.round(-1*b)*-1:Math.round(b)}function Px(b,_,E){var T=Math.min(b.length,_.length),D=Math.abs(b.length-_.length),G=0,he;for(he=0;he<T;he++)yt(b[he])!==yt(_[he])&&G++;return G+D}function ry(b,_){U(b,0,0,function(){var E=this.utcOffset(),T="+";return E<0&&(E=-E,T="-"),T+V(~~(E/60),2)+_+V(~~E%60,2)})}ry("Z",":"),ry("ZZ",""),Ze("Z",tl),Ze("ZZ",tl),xt(["Z","ZZ"],function(b,_,E){E._useUTC=!0,E._tzm=ll(tl,b)});var Sr=/([\+\-]|\d\d)/gi;function ll(b,_){var E=(_||"").match(b),T,D,G;return E===null?null:(T=E[E.length-1]||[],D=(T+"").match(Sr)||["-",0,0],G=+(D[1]*60)+yt(D[2]),G===0?0:D[0]==="+"?G:-G)}function rh(b,_){var E,T;return _._isUTC?(E=_.clone(),T=(L(b)||m(b)?b.valueOf():rn(b).valueOf())-E.valueOf(),E._d.setTime(E._d.valueOf()+T),i.updateOffset(E,!1),E):rn(b).local()}function sh(b){return-Math.round(b._d.getTimezoneOffset())}i.updateOffset=function(){};function sy(b,_,E){var T=this._offset||0,D;if(!this.isValid())return b!=null?this:NaN;if(b!=null){if(typeof b=="string"){if(b=ll(tl,b),b===null)return this}else Math.abs(b)<16&&!E&&(b=b*60);return!this._isUTC&&_&&(D=sh(this)),this._offset=b,this._isUTC=!0,D!=null&&this.add(D,"m"),T!==b&&(!_||this._changeInProgress?dy(this,Di(b-T,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?T:sh(this)}function oy(b,_){return b!=null?(typeof b!="string"&&(b=-b),this.utcOffset(b,_),this):-this.utcOffset()}function Lg(b){return this.utcOffset(0,b)}function Rx(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(sh(this),"m")),this}function Vc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var b=ll(ta,this._i);b!=null?this.utcOffset(b):this.utcOffset(0,!0)}return this}function Fg(b){return this.isValid()?(b=b?rn(b).utcOffset():0,(this.utcOffset()-b)%60===0):!1}function id(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zg(){if(!d(this._isDSTShifted))return this._isDSTShifted;var b={},_;return W(b,this),b=Qw(b),b._a?(_=b._isUTC?A(b._a):rn(b._a),this._isDSTShifted=this.isValid()&&Px(b._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ay(){return this.isValid()?!this._isUTC:!1}function cl(){return this.isValid()?this._isUTC:!1}function ul(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ly=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Di(b,_){var E=b,T=null,D,G,he;return ih(b)?E={ms:b._milliseconds,d:b._days,M:b._months}:f(b)||!isNaN(+b)?(E={},_?E[_]=+b:E.milliseconds=+b):(T=jg.exec(b))?(D=T[1]==="-"?-1:1,E={y:0,d:yt(T[fr])*D,h:yt(T[Yn])*D,m:yt(T[Hi])*D,s:yt(T[hr])*D,ms:yt(Vg(T[os]*1e3))*D}):(T=ly.exec(b))?(D=T[1]==="-"?-1:1,E={y:ra(T[2],D),M:ra(T[3],D),w:ra(T[4],D),d:ra(T[5],D),h:ra(T[6],D),m:ra(T[7],D),s:ra(T[8],D)}):E==null?E={}:typeof E=="object"&&("from"in E||"to"in E)&&(he=cy(rn(E.from),rn(E.to)),E={},E.ms=he.milliseconds,E.M=he.months),G=new nh(E),ih(b)&&a(b,"_locale")&&(G._locale=b._locale),ih(b)&&a(b,"_isValid")&&(G._isValid=b._isValid),G}Di.fn=nh.prototype,Di.invalid=iy;function ra(b,_){var E=b&&parseFloat(b.replace(",","."));return(isNaN(E)?0:E)*_}function Ug(b,_){var E={};return E.months=_.month()-b.month()+(_.year()-b.year())*12,b.clone().add(E.months,"M").isAfter(_)&&--E.months,E.milliseconds=+_-+b.clone().add(E.months,"M"),E}function cy(b,_){var E;return b.isValid()&&_.isValid()?(_=rh(_,b),b.isBefore(_)?E=Ug(b,_):(E=Ug(_,b),E.milliseconds=-E.milliseconds,E.months=-E.months),E):{milliseconds:0,months:0}}function uy(b,_){return function(E,T){var D,G;return T!==null&&!isNaN(+T)&&(ge(_,"moment()."+_+"(period, number) is deprecated. Please use moment()."+_+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),G=E,E=T,T=G),D=Di(E,T),dy(this,D,b),this}}function dy(b,_,E,T){var D=_._milliseconds,G=Vg(_._days),he=Vg(_._months);b.isValid()&&(T=T??!0,he&&Vw(b,Gu(b,"Month")+he*E),G&&vg(b,"Date",Gu(b,"Date")+G*E),D&&b._d.setTime(b._d.valueOf()+D*E),T&&i.updateOffset(b,G||he))}var Ox=uy(1,"add"),fy=uy(-1,"subtract");function $g(b){return typeof b=="string"||b instanceof String}function Hg(b){return L(b)||m(b)||$g(b)||f(b)||hy(b)||cs(b)||b===null||b===void 0}function cs(b){var _=o(b)&&!l(b),E=!1,T=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],D,G,he=T.length;for(D=0;D<he;D+=1)G=T[D],E=E||a(b,G);return _&&E}function hy(b){var _=s(b),E=!1;return _&&(E=b.filter(function(T){return!f(T)&&$g(b)}).length===0),_&&E}function Wr(b){var _=o(b)&&!l(b),E=!1,T=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],D,G;for(D=0;D<T.length;D+=1)G=T[D],E=E||a(b,G);return _&&E}function Gr(b,_){var E=b.diff(_,"days",!0);return E<-6?"sameElse":E<-1?"lastWeek":E<0?"lastDay":E<1?"sameDay":E<2?"nextDay":E<7?"nextWeek":"sameElse"}function Lc(b,_){arguments.length===1&&(arguments[0]?Hg(arguments[0])?(b=arguments[0],_=void 0):Wr(arguments[0])&&(_=arguments[0],b=void 0):(b=void 0,_=void 0));var E=b||rn(),T=rh(E,this).startOf("day"),D=i.calendarFormat(this,T)||"sameElse",G=_&&(Ee(_[D])?_[D].call(this,E):_[D]);return this.format(G||this.localeData().calendar(D,this,rn(E)))}function Wg(){return new $(this)}function oh(b,_){var E=L(b)?b:rn(b);return this.isValid()&&E.isValid()?(_=J(_)||"millisecond",_==="millisecond"?this.valueOf()>E.valueOf():E.valueOf()<this.clone().startOf(_).valueOf()):!1}function ah(b,_){var E=L(b)?b:rn(b);return this.isValid()&&E.isValid()?(_=J(_)||"millisecond",_==="millisecond"?this.valueOf()<E.valueOf():this.clone().endOf(_).valueOf()<E.valueOf()):!1}function Gg(b,_,E,T){var D=L(b)?b:rn(b),G=L(_)?_:rn(_);return this.isValid()&&D.isValid()&&G.isValid()?(T=T||"()",(T[0]==="("?this.isAfter(D,E):!this.isBefore(D,E))&&(T[1]===")"?this.isBefore(G,E):!this.isAfter(G,E))):!1}function Fc(b,_){var E=L(b)?b:rn(b),T;return this.isValid()&&E.isValid()?(_=J(_)||"millisecond",_==="millisecond"?this.valueOf()===E.valueOf():(T=E.valueOf(),this.clone().startOf(_).valueOf()<=T&&T<=this.clone().endOf(_).valueOf())):!1}function my(b,_){return this.isSame(b,_)||this.isAfter(b,_)}function lh(b,_){return this.isSame(b,_)||this.isBefore(b,_)}function zc(b,_,E){var T,D,G;if(!this.isValid())return NaN;if(T=rh(b,this),!T.isValid())return NaN;switch(D=(T.utcOffset()-this.utcOffset())*6e4,_=J(_),_){case"year":G=ch(this,T)/12;break;case"month":G=ch(this,T);break;case"quarter":G=ch(this,T)/3;break;case"second":G=(this-T)/1e3;break;case"minute":G=(this-T)/6e4;break;case"hour":G=(this-T)/36e5;break;case"day":G=(this-T-D)/864e5;break;case"week":G=(this-T-D)/6048e5;break;default:G=this-T}return E?G:$r(G)}function ch(b,_){if(b.date()<_.date())return-ch(_,b);var E=(_.year()-b.year())*12+(_.month()-b.month()),T=b.clone().add(E,"months"),D,G;return _-T<0?(D=b.clone().add(E-1,"months"),G=(_-T)/(T-D)):(D=b.clone().add(E+1,"months"),G=(_-T)/(D-T)),-(E+G)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Er(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Yg(b){if(!this.isValid())return null;var _=b!==!0,E=_?this.clone().utc():this;return E.year()<0||E.year()>9999?we(E,_?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ee(Date.prototype.toISOString)?_?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",we(E,"Z")):we(E,_?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function go(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var b="moment",_="",E,T,D,G;return this.isLocal()||(b=this.utcOffset()===0?"moment.utc":"moment.parseZone",_="Z"),E="["+b+'("]',T=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",D="-MM-DD[T]HH:mm:ss.SSS",G=_+'[")]',this.format(E+T+D+G)}function gy(b){b||(b=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var _=we(this,b);return this.localeData().postformat(_)}function uh(b,_){return this.isValid()&&(L(b)&&b.isValid()||rn(b).isValid())?Di({to:this,from:b}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function dl(b){return this.from(rn(),b)}function Kg(b,_){return this.isValid()&&(L(b)&&b.isValid()||rn(b).isValid())?Di({from:this,to:b}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function qg(b){return this.to(rn(),b)}function fl(b){var _;return b===void 0?this._locale._abbr:(_=mo(b),_!=null&&(this._locale=_),this)}var hl=pe("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===void 0?this.localeData():this.locale(b)});function rd(){return this._locale}var ml=1e3,Ni=60*ml,tr=60*Ni,sa=(365*400+97)*24*tr;function mr(b,_){return(b%_+_)%_}function $s(b,_,E){return b<100&&b>=0?new Date(b+400,_,E)-sa:new Date(b,_,E).valueOf()}function oa(b,_,E){return b<100&&b>=0?Date.UTC(b+400,_,E)-sa:Date.UTC(b,_,E)}function py(b){var _,E;if(b=J(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(E=this._isUTC?oa:$s,b){case"year":_=E(this.year(),0,1);break;case"quarter":_=E(this.year(),this.month()-this.month()%3,1);break;case"month":_=E(this.year(),this.month(),1);break;case"week":_=E(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_=E(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_=E(this.year(),this.month(),this.date());break;case"hour":_=this._d.valueOf(),_-=mr(_+(this._isUTC?0:this.utcOffset()*Ni),tr);break;case"minute":_=this._d.valueOf(),_-=mr(_,Ni);break;case"second":_=this._d.valueOf(),_-=mr(_,ml);break}return this._d.setTime(_),i.updateOffset(this,!0),this}function Zg(b){var _,E;if(b=J(b),b===void 0||b==="millisecond"||!this.isValid())return this;switch(E=this._isUTC?oa:$s,b){case"year":_=E(this.year()+1,0,1)-1;break;case"quarter":_=E(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_=E(this.year(),this.month()+1,1)-1;break;case"week":_=E(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_=E(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_=E(this.year(),this.month(),this.date()+1)-1;break;case"hour":_=this._d.valueOf(),_+=tr-mr(_+(this._isUTC?0:this.utcOffset()*Ni),tr)-1;break;case"minute":_=this._d.valueOf(),_+=Ni-mr(_,Ni)-1;break;case"second":_=this._d.valueOf(),_+=ml-mr(_,ml)-1;break}return this._d.setTime(_),i.updateOffset(this,!0),this}function Qg(){return this._d.valueOf()-(this._offset||0)*6e4}function nr(){return Math.floor(this.valueOf()/1e3)}function Bn(){return new Date(this.valueOf())}function Zt(){var b=this;return[b.year(),b.month(),b.date(),b.hour(),b.minute(),b.second(),b.millisecond()]}function gl(){var b=this;return{years:b.year(),months:b.month(),date:b.date(),hours:b.hours(),minutes:b.minutes(),seconds:b.seconds(),milliseconds:b.milliseconds()}}function Hs(){return this.isValid()?this.toISOString():null}function Jg(){return I(this)}function pl(){return w({},S(this))}function by(){return S(this).overflow}function vy(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Ze("N",ld),Ze("NN",ld),Ze("NNN",ld),Ze("NNNN",cd),Ze("NNNNN",dh),xt(["N","NN","NNN","NNNN","NNNNN"],function(b,_,E,T){var D=E._locale.erasParse(b,T,E._strict);D?S(E).era=D:S(E).invalidEra=b}),Ze("y",xi),Ze("yy",xi),Ze("yyy",xi),Ze("yyyy",xi),Ze("yo",vl),xt(["y","yy","yyy","yyyy"],$i),xt(["yo"],function(b,_,E,T){var D;E._locale._eraYearOrdinalRegex&&(D=b.match(E._locale._eraYearOrdinalRegex)),E._locale.eraYearOrdinalParse?_[$i]=E._locale.eraYearOrdinalParse(b,D):_[$i]=parseInt(b,10)});function sd(b,_){var E,T,D,G=this._eras||mo("en")._eras;for(E=0,T=G.length;E<T;++E){switch(typeof G[E].since){case"string":D=i(G[E].since).startOf("day"),G[E].since=D.valueOf();break}switch(typeof G[E].until){case"undefined":G[E].until=1/0;break;case"string":D=i(G[E].until).startOf("day").valueOf(),G[E].until=D.valueOf();break}}return G}function od(b,_,E){var T,D,G=this.eras(),he,qe,dt;for(b=b.toUpperCase(),T=0,D=G.length;T<D;++T)if(he=G[T].name.toUpperCase(),qe=G[T].abbr.toUpperCase(),dt=G[T].narrow.toUpperCase(),E)switch(_){case"N":case"NN":case"NNN":if(qe===b)return G[T];break;case"NNNN":if(he===b)return G[T];break;case"NNNNN":if(dt===b)return G[T];break}else if([he,qe,dt].indexOf(b)>=0)return G[T]}function wy(b,_){var E=b.since<=b.until?1:-1;return _===void 0?i(b.since).year():i(b.since).year()+(_-b.offset)*E}function ad(){var b,_,E,T=this.localeData().eras();for(b=0,_=T.length;b<_;++b)if(E=this.clone().startOf("day").valueOf(),T[b].since<=E&&E<=T[b].until||T[b].until<=E&&E<=T[b].since)return T[b].name;return""}function Xg(){var b,_,E,T=this.localeData().eras();for(b=0,_=T.length;b<_;++b)if(E=this.clone().startOf("day").valueOf(),T[b].since<=E&&E<=T[b].until||T[b].until<=E&&E<=T[b].since)return T[b].narrow;return""}function bl(){var b,_,E,T=this.localeData().eras();for(b=0,_=T.length;b<_;++b)if(E=this.clone().startOf("day").valueOf(),T[b].since<=E&&E<=T[b].until||T[b].until<=E&&E<=T[b].since)return T[b].abbr;return""}function po(){var b,_,E,T,D=this.localeData().eras();for(b=0,_=D.length;b<_;++b)if(E=D[b].since<=D[b].until?1:-1,T=this.clone().startOf("day").valueOf(),D[b].since<=T&&T<=D[b].until||D[b].until<=T&&T<=D[b].since)return(this.year()-i(D[b].since).year())*E+D[b].offset;return this.year()}function aa(b){return a(this,"_erasNameRegex")||Ti.call(this),b?this._erasNameRegex:this._erasRegex}function bo(b){return a(this,"_erasAbbrRegex")||Ti.call(this),b?this._erasAbbrRegex:this._erasRegex}function ep(b){return a(this,"_erasNarrowRegex")||Ti.call(this),b?this._erasNarrowRegex:this._erasRegex}function ld(b,_){return _.erasAbbrRegex(b)}function cd(b,_){return _.erasNameRegex(b)}function dh(b,_){return _.erasNarrowRegex(b)}function vl(b,_){return _._eraYearOrdinalRegex||xi}function Ti(){var b=[],_=[],E=[],T=[],D,G,he,qe,dt,Mt=this.eras();for(D=0,G=Mt.length;D<G;++D)he=Fs(Mt[D].name),qe=Fs(Mt[D].abbr),dt=Fs(Mt[D].narrow),_.push(he),b.push(qe),E.push(dt),T.push(he),T.push(qe),T.push(dt);this._erasRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+b.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+E.join("|")+")","i")}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wl(b,_){U(0,[b,b.length],0,_)}wl("gggg","weekYear"),wl("ggggg","weekYear"),wl("GGGG","isoWeekYear"),wl("GGGGG","isoWeekYear"),Ze("G",Ci),Ze("g",Ci),Ze("GG",gt,me),Ze("gg",gt,me),Ze("GGGG",ki,Ke),Ze("gggg",ki,Ke),Ze("GGGGG",pn,bt),Ze("ggggg",pn,bt),zs(["gggg","ggggg","GGGG","GGGGG"],function(b,_,E,T){_[T.substr(0,2)]=yt(b)}),zs(["gg","GG"],function(b,_,E,T){_[T]=i.parseTwoDigitYear(b)});function yy(b){return jc.call(this,b,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Dx(b){return jc.call(this,b,this.isoWeek(),this.isoWeekday(),1,4)}function Nx(){return Us(this.year(),1,4)}function Mx(){return Us(this.isoWeekYear(),1,4)}function mi(){var b=this.localeData()._week;return Us(this.year(),b.dow,b.doy)}function tp(){var b=this.localeData()._week;return Us(this.weekYear(),b.dow,b.doy)}function jc(b,_,E,T,D){var G;return b==null?Rc(this,T,D).year:(G=Us(b,T,D),_>G&&(_=G),ud.call(this,b,_,E,T,D))}function ud(b,_,E,T,D){var G=sl(b,_,E,T,D),he=Ic(G.year,0,G.dayOfYear);return this.year(he.getUTCFullYear()),this.month(he.getUTCMonth()),this.date(he.getUTCDate()),this}U("Q",0,"Qo","quarter"),Ze("Q",se),xt("Q",function(b,_){_[js]=(yt(b)-1)*3});function np(b){return b==null?Math.ceil((this.month()+1)/3):this.month((b-1)*3+this.month()%3)}U("D",["DD",2],"Do","date"),Ze("D",gt,Ls),Ze("DD",gt,me),Ze("Do",function(b,_){return b?_._dayOfMonthOrdinalParse||_._ordinalParse:_._dayOfMonthOrdinalParseLenient}),xt(["D","DD"],fr),xt("Do",function(b,_){_[fr]=yt(b.match(gt)[0])});var yl=as("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),Ze("DDD",wt),Ze("DDDD",$e),xt(["DDD","DDDD"],function(b,_,E){E._dayOfYear=yt(b)});function Uc(b){var _=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return b==null?_:this.add(b-_,"d")}U("m",["mm",2],0,"minute"),Ze("m",gt,hg),Ze("mm",gt,me),xt(["m","mm"],Hi);var Bx=as("Minutes",!1);U("s",["ss",2],0,"second"),Ze("s",gt,hg),Ze("ss",gt,me),xt(["s","ss"],hr);var _y=as("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return this.millisecond()*10}),U(0,["SSSSS",5],0,function(){return this.millisecond()*100}),U(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),U(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),U(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),U(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ze("S",wt,se),Ze("SS",wt,me),Ze("SSS",wt,$e);var la,ip;for(la="SSSS";la.length<=9;la+="S")Ze(la,xi);function _l(b,_){_[os]=yt(("0."+b)*1e3)}for(la="S";la.length<=9;la+="S")xt(la,_l);ip=as("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");function rp(){return this._isUTC?"UTC":""}function fh(){return this._isUTC?"Coordinated Universal Time":""}var De=$.prototype;De.add=Ox,De.calendar=Lc,De.clone=Wg,De.diff=zc,De.endOf=Zg,De.format=gy,De.from=uh,De.fromNow=dl,De.to=Kg,De.toNow=qg,De.get=Nw,De.invalidAt=by,De.isAfter=oh,De.isBefore=ah,De.isBetween=Gg,De.isSame=Fc,De.isSameOrAfter=my,De.isSameOrBefore=lh,De.isValid=Jg,De.lang=hl,De.locale=fl,De.localeData=rd,De.max=Ix,De.min=td,De.parsingFlags=pl,De.set=ax,De.startOf=py,De.subtract=fy,De.toArray=Zt,De.toObject=gl,De.toDate=Bn,De.toISOString=Yg,De.inspect=go,typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),De.toJSON=Hs,De.toString=Er,De.unix=nr,De.valueOf=Qg,De.creationData=vy,De.eraName=ad,De.eraNarrow=Xg,De.eraAbbr=bl,De.eraYear=po,De.year=bg,De.isLeapYear=il,De.weekYear=yy,De.isoWeekYear=Dx,De.quarter=De.quarters=np,De.month=Yu,De.daysInMonth=Lw,De.week=De.weeks=xg,De.isoWeek=De.isoWeeks=dx,De.weeksInYear=mi,De.weeksInWeekYear=tp,De.isoWeeksInYear=Nx,De.isoWeeksInISOWeekYear=Mx,De.date=yl,De.day=De.days=Tg,De.weekday=Hf,De.isoWeekday=$w,De.dayOfYear=Uc,De.hour=De.hours=Qu,De.minute=De.minutes=Bx,De.second=De.seconds=_y,De.millisecond=De.milliseconds=ip,De.utcOffset=sy,De.utc=Lg,De.local=Rx,De.parseZone=Vc,De.hasAlignedHourOffset=Fg,De.isDST=id,De.isLocal=ay,De.isUtcOffset=cl,De.isUtc=ul,De.isUTC=ul,De.zoneAbbr=rp,De.zoneName=fh,De.dates=pe("dates accessor is deprecated. Use date instead.",yl),De.months=pe("months accessor is deprecated. Use month instead",Yu),De.years=pe("years accessor is deprecated. Use year instead",bg),De.zone=pe("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",oy),De.isDSTShifted=pe("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zg);function dd(b){return rn(b*1e3)}function Ay(){return rn.apply(null,arguments).parseZone()}function fd(b){return b}var zt=Y.prototype;zt.calendar=be,zt.longDateFormat=Fe,zt.invalidDate=at,zt.ordinal=cn,zt.preparse=fd,zt.postformat=fd,zt.relativeTime=Mn,zt.pastFuture=Ct,zt.set=Te,zt.eras=sd,zt.erasParse=od,zt.erasConvertYear=wy,zt.erasAbbrRegex=bo,zt.erasNameRegex=aa,zt.erasNarrowRegex=ep,zt.months=lx,zt.monthsShort=Mw,zt.monthsParse=Bw,zt.monthsRegex=cx,zt.monthsShortRegex=Uf,zt.week=Oc,zt.firstDayOfYear=zw,zt.firstDayOfWeek=Fw,zt.weekdays=qu,zt.weekdaysMin=Eg,zt.weekdaysShort=fo,zt.weekdaysParse=na,zt.weekdaysRegex=Wf,zt.weekdaysShortRegex=Gf,zt.weekdaysMinRegex=Hw,zt.isPM=Ig,zt.meridiem=Kf;function hd(b,_,E,T){var D=mo(),G=A().set(T,_);return D[E](G,b)}function md(b,_,E){if(f(b)&&(_=b,b=void 0),b=b||"",_!=null)return hd(b,_,E,"month");var T,D=[];for(T=0;T<12;T++)D[T]=hd(b,T,E,"month");return D}function hh(b,_,E,T){typeof b=="boolean"?(f(_)&&(E=_,_=void 0),_=_||""):(_=b,E=_,b=!1,f(_)&&(E=_,_=void 0),_=_||"");var D=mo(),G=b?D._week.dow:0,he,qe=[];if(E!=null)return hd(_,(E+G)%7,T,"day");for(he=0;he<7;he++)qe[he]=hd(_,(he+G)%7,T,"day");return qe}function gd(b,_){return md(b,_,"months")}function ky(b,_){return md(b,_,"monthsShort")}function xy(b,_,E){return hh(b,_,E,"weekdays")}function ca(b,_,E){return hh(b,_,E,"weekdaysShort")}function sp(b,_,E){return hh(b,_,E,"weekdaysMin")}ia("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var _=b%10,E=yt(b%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th";return b+E}}),i.lang=pe("moment.lang is deprecated. Use moment.locale instead.",ia),i.langData=pe("moment.langData is deprecated. Use moment.localeData instead.",mo);var us=Math.abs;function ua(){var b=this._data;return this._milliseconds=us(this._milliseconds),this._days=us(this._days),this._months=us(this._months),b.milliseconds=us(b.milliseconds),b.seconds=us(b.seconds),b.minutes=us(b.minutes),b.hours=us(b.hours),b.months=us(b.months),b.years=us(b.years),this}function vo(b,_,E,T){var D=Di(_,E);return b._milliseconds+=T*D._milliseconds,b._days+=T*D._days,b._months+=T*D._months,b._bubble()}function pd(b,_){return vo(this,b,_,1)}function op(b,_){return vo(this,b,_,-1)}function mh(b){return b<0?Math.floor(b):Math.ceil(b)}function bd(){var b=this._milliseconds,_=this._days,E=this._months,T=this._data,D,G,he,qe,dt;return b>=0&&_>=0&&E>=0||b<=0&&_<=0&&E<=0||(b+=mh(gh(E)+_)*864e5,_=0,E=0),T.milliseconds=b%1e3,D=$r(b/1e3),T.seconds=D%60,G=$r(D/60),T.minutes=G%60,he=$r(G/60),T.hours=he%24,_+=$r(he/24),dt=$r($c(_)),E+=dt,_-=mh(gh(dt)),qe=$r(E/12),E%=12,T.days=_,T.months=E,T.years=qe,this}function $c(b){return b*4800/146097}function gh(b){return b*146097/4800}function Cy(b){if(!this.isValid())return NaN;var _,E,T=this._milliseconds;if(b=J(b),b==="month"||b==="quarter"||b==="year")switch(_=this._days+T/864e5,E=this._months+$c(_),b){case"month":return E;case"quarter":return E/3;case"year":return E/12}else switch(_=this._days+Math.round(gh(this._months)),b){case"week":return _/7+T/6048e5;case"day":return _+T/864e5;case"hour":return _*24+T/36e5;case"minute":return _*1440+T/6e4;case"second":return _*86400+T/1e3;case"millisecond":return Math.floor(_*864e5)+T;default:throw new Error("Unknown unit "+b)}}function gr(b){return function(){return this.as(b)}}var vd=gr("ms"),Sy=gr("s"),ap=gr("m"),lp=gr("h"),da=gr("d"),St=gr("w"),on=gr("M"),ai=gr("Q"),ph=gr("y"),Hc=vd;function Al(){return Di(this)}function bh(b){return b=J(b),this.isValid()?this[b+"s"]():NaN}function ds(b){return function(){return this.isValid()?this._data[b]:NaN}}var Wc=ds("milliseconds"),Vx=ds("seconds"),Kn=ds("minutes"),cp=ds("hours"),up=ds("days"),Ey=ds("months"),Ty=ds("years");function Lx(){return $r(this.days()/7)}var fs=Math.round,fa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function dp(b,_,E,T,D){return D.relativeTime(_||1,!!E,b,T)}function pr(b,_,E,T){var D=Di(b).abs(),G=fs(D.as("s")),he=fs(D.as("m")),qe=fs(D.as("h")),dt=fs(D.as("d")),Mt=fs(D.as("M")),ir=fs(D.as("w")),Ws=fs(D.as("y")),wo=G<=E.ss&&["s",G]||G<E.s&&["ss",G]||he<=1&&["m"]||he<E.m&&["mm",he]||qe<=1&&["h"]||qe<E.h&&["hh",qe]||dt<=1&&["d"]||dt<E.d&&["dd",dt];return E.w!=null&&(wo=wo||ir<=1&&["w"]||ir<E.w&&["ww",ir]),wo=wo||Mt<=1&&["M"]||Mt<E.M&&["MM",Mt]||Ws<=1&&["y"]||["yy",Ws],wo[2]=_,wo[3]=+b>0,wo[4]=T,dp.apply(null,wo)}function li(b){return b===void 0?fs:typeof b=="function"?(fs=b,!0):!1}function fp(b,_){return fa[b]===void 0?!1:_===void 0?fa[b]:(fa[b]=_,b==="s"&&(fa.ss=_-1),!0)}function wd(b,_){if(!this.isValid())return this.localeData().invalidDate();var E=!1,T=fa,D,G;return typeof b=="object"&&(_=b,b=!1),typeof b=="boolean"&&(E=b),typeof _=="object"&&(T=Object.assign({},fa,_),_.s!=null&&_.ss==null&&(T.ss=_.s-1)),D=this.localeData(),G=pr(this,!E,T,D),E&&(G=D.pastFuture(+this,G)),D.postformat(G)}var Gc=Math.abs;function ha(b){return(b>0)-(b<0)||+b}function Yr(){if(!this.isValid())return this.localeData().invalidDate();var b=Gc(this._milliseconds)/1e3,_=Gc(this._days),E=Gc(this._months),T,D,G,he,qe=this.asSeconds(),dt,Mt,ir,Ws;return qe?(T=$r(b/60),D=$r(T/60),b%=60,T%=60,G=$r(E/12),E%=12,he=b?b.toFixed(3).replace(/\.?0+$/,""):"",dt=qe<0?"-":"",Mt=ha(this._months)!==ha(qe)?"-":"",ir=ha(this._days)!==ha(qe)?"-":"",Ws=ha(this._milliseconds)!==ha(qe)?"-":"",dt+"P"+(G?Mt+G+"Y":"")+(E?Mt+E+"M":"")+(_?ir+_+"D":"")+(D||T||b?"T":"")+(D?Ws+D+"H":"")+(T?Ws+T+"M":"")+(b?Ws+he+"S":"")):"P0D"}var Dt=nh.prototype;Dt.isValid=ny,Dt.abs=ua,Dt.add=pd,Dt.subtract=op,Dt.as=Cy,Dt.asMilliseconds=vd,Dt.asSeconds=Sy,Dt.asMinutes=ap,Dt.asHours=lp,Dt.asDays=da,Dt.asWeeks=St,Dt.asMonths=on,Dt.asQuarters=ai,Dt.asYears=ph,Dt.valueOf=Hc,Dt._bubble=bd,Dt.clone=Al,Dt.get=bh,Dt.milliseconds=Wc,Dt.seconds=Vx,Dt.minutes=Kn,Dt.hours=cp,Dt.days=up,Dt.weeks=Lx,Dt.months=Ey,Dt.years=Ty,Dt.humanize=wd,Dt.toISOString=Yr,Dt.toString=Yr,Dt.toJSON=Yr,Dt.locale=fl,Dt.localeData=rd,Dt.toIsoString=pe("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yr),Dt.lang=hl,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Ze("x",Ci),Ze("X",Dw),xt("X",function(b,_,E){E._d=new Date(parseFloat(b)*1e3)}),xt("x",function(b,_,E){E._d=new Date(yt(b))});//! moment.js
return i.version="2.30.1",r(rn),i.fn=De,i.min=Xw,i.max=ey,i.now=Bg,i.utc=A,i.unix=dd,i.months=gd,i.isDate=m,i.locale=ia,i.invalid=O,i.duration=Di,i.isMoment=L,i.weekdays=xy,i.parseZone=Ay,i.localeData=mo,i.isDuration=ih,i.monthsShort=ky,i.weekdaysMin=sp,i.defineLocale=Zf,i.updateLocale=gx,i.locales=px,i.weekdaysShort=ca,i.normalizeUnits=J,i.relativeTimeRounding=li,i.relativeTimeThreshold=fp,i.calendarFormat=Gr,i.prototype=De,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}))})(O0)),O0.exports}var oje=sje();const aje=vf(oje);function lje(){const[n,e]=C.useState(!1),{data:t,loading:i}=ur(`${Gt("VITE_API_BASE_URL")}/auth/blog/all-blog`,{method:"get",credentials:"include"},[n]),r=async s=>{await Sk(`${Gt("VITE_API_BASE_URL")}/auth/blog/delete`,s)?(e(!n),Pt("success","Date deleted")):Pt("error","Date not deleted")};return i?y.jsx(Ka,{}):y.jsx("div",{children:y.jsxs(Ha,{children:[y.jsx(Nu,{children:y.jsx("div",{children:y.jsx(ni,{children:y.jsx(ei,{to:i2,children:"Add Blog"})})})}),y.jsx(Wa,{children:y.jsxs(dw,{children:[y.jsx(fw,{children:y.jsxs(Ss,{children:[y.jsx(Pi,{children:"Author"}),y.jsx(Pi,{children:"Category"}),y.jsx(Pi,{children:"Title"}),y.jsx(Pi,{children:"Slug"}),y.jsx(Pi,{children:"Dated"}),y.jsx(Pi,{children:"Action"})]})}),y.jsx(hw,{children:t&&t?.data?.length>0?t.data.map(s=>y.jsxs(Ss,{children:[y.jsx(zn,{children:s?.author?.name}),y.jsx(zn,{children:s?.category?.name}),y.jsx(zn,{children:s?.title}),y.jsx(zn,{children:s?.slug}),y.jsx(zn,{children:aje(s?.createdAt).format("DD-MM-YYYY")}),y.jsxs(zn,{className:"flex gap-2",children:[y.jsx(ni,{variant:"outline",className:"hover:bg-violet-400 hover:text-white",asChild:!0,children:y.jsx(ei,{to:GF,state:{blogId:s._id},children:y.jsx(vz,{})})}),y.jsx(ni,{variant:"outline",className:"hover:bg-red-400 hover:text-white",onClick:()=>r(s._id),children:y.jsx(v1,{})})]})]},s?._id)):y.jsx(Ss,{children:y.jsx(zn,{colSpan:"3",children:"Data not found"})})})]})})]})})}var LE;const cje=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uje=(LE=String.fromCodePoint)!==null&&LE!==void 0?LE:(n=>{let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e});function dje(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=cje.get(n))!==null&&e!==void 0?e:n}function BJ(n){const e=typeof atob=="function"?atob(n):typeof Buffer.from=="function"?Buffer.from(n,"base64").toString("binary"):new Buffer(n,"base64").toString("binary"),t=e.length&-2,i=new Uint16Array(t/2);for(let r=0,s=0;r<t;r+=2){const o=e.charCodeAt(r),a=e.charCodeAt(r+1);i[s++]=o|a<<8}return i}const fje=BJ("QR08ALkAAgH6AYsDNQR2BO0EPgXZBQEGLAbdBxMISQrvCmQLfQurDKQNLw4fD4YPpA+6D/IPAAAAAAAAAAAAAAAAKhBMEY8TmxUWF2EYLBkxGuAa3RsJHDscWR8YIC8jSCSIJcMl6ie3Ku8rEC0CLjoupS7kLgAIRU1hYmNmZ2xtbm9wcnN0dVQAWgBeAGUAaQBzAHcAfgCBAIQAhwCSAJoAoACsALMAbABpAGcAO4DGAMZAUAA7gCYAJkBjAHUAdABlADuAwQDBQHIiZXZlAAJhAAFpeW0AcgByAGMAO4DCAMJAEGRyAADgNdgE3XIAYQB2AGUAO4DAAMBA8CFoYZFj4SFjcgBhZAAAoFMqAAFncIsAjgBvAG4ABGFmAADgNdg43fAlbHlGdW5jdGlvbgCgYSBpAG4AZwA7gMUAxUAAAWNzpACoAHIAAOA12Jzc6SFnbgCgVCJpAGwAZABlADuAwwDDQG0AbAA7gMQAxEAABGFjZWZvcnN1xQDYANoA7QDxAPYA+QD8AAABY3LJAM8AayNzbGFzaAAAoBYidgHTANUAAKDnKmUAZAAAoAYjeQARZIABY3J0AOAA5QDrAGEidXNlAACgNSLuI291bGxpcwCgLCFhAJJjcgAA4DXYBd1wAGYAAOA12Dnd5SF2ZdhiYwDyAOoAbSJwZXEAAKBOIgAHSE9hY2RlZmhpbG9yc3UXARoBHwE6AVIBVQFiAWQBZgGCAakB6QHtAfIBYwB5ACdkUABZADuAqQCpQIABY3B5ACUBKAE1AfUhdGUGYWmg0iJ0KGFsRGlmZmVyZW50aWFsRAAAoEUhbCJleXMAAKAtIQACYWVpb0EBRAFKAU0B8iFvbgxhZABpAGwAO4DHAMdAcgBjAAhhbiJpbnQAAKAwIm8AdAAKYQABZG5ZAV0BaSJsbGEAuGB0I2VyRG90ALdg8gA5AWkAp2NyImNsZQAAAkRNUFRwAXQBeQF9AW8AdAAAoJkiaSJudXMAAKCWIuwhdXMAoJUiaSJtZXMAAKCXIm8AAAFjc4cBlAFrKndpc2VDb250b3VySW50ZWdyYWwAAKAyImUjQ3VybHkAAAFEUZwBpAFvJXVibGVRdW90ZQAAoB0gdSJvdGUAAKAZIAACbG5wdbABtgHNAdgBbwBuAGWgNyIAoHQqgAFnaXQAvAHBAcUB8iJ1ZW50AKBhIm4AdAAAoC8i7yV1ckludGVncmFsAKAuIgABZnLRAdMBAKACIe8iZHVjdACgECJuLnRlckNsb2Nrd2lzZUNvbnRvdXJJbnRlZ3JhbAAAoDMi7yFzcwCgLypjAHIAAOA12J7ccABDoNMiYQBwAACgTSKABURKU1phY2VmaW9zAAsCEgIVAhgCGwIsAjQCOQI9AnMCfwNvoEUh9CJyYWhkAKARKWMAeQACZGMAeQAFZGMAeQAPZIABZ3JzACECJQIoAuchZXIAoCEgcgAAoKEhaAB2AACg5CoAAWF5MAIzAvIhb24OYRRkbAB0oAciYQCUY3IAAOA12AfdAAFhZkECawIAAWNtRQJnAvIjaXRpY2FsAAJBREdUUAJUAl8CYwJjInV0ZQC0YG8AdAFZAloC2WJiJGxlQWN1dGUA3WJyImF2ZQBgYGkibGRlANxi7yFuZACgxCJmJWVyZW50aWFsRAAAoEYhcAR9AgAAAAAAAIECjgIAABoDZgAA4DXYO91EoagAhQKJAm8AdAAAoNwgcSJ1YWwAAKBQIuIhbGUAA0NETFJVVpkCqAK1Au8C/wIRA28AbgB0AG8AdQByAEkAbgB0AGUAZwByAGEA7ADEAW8AdAKvAgAAAACwAqhgbiNBcnJvdwAAoNMhAAFlb7kC0AJmAHQAgAFBUlQAwQLGAs0CciJyb3cAAKDQIekkZ2h0QXJyb3cAoNQhZQDlACsCbgBnAAABTFLWAugC5SFmdAABQVLcAuECciJyb3cAAKD4J+kkZ2h0QXJyb3cAoPon6SRnaHRBcnJvdwCg+SdpImdodAAAAUFU9gL7AnIicm93AACg0iFlAGUAAKCoInAAQQIGAwAAAAALA3Iicm93AACg0SFvJHduQXJyb3cAAKDVIWUlcnRpY2FsQmFyAACgJSJuAAADQUJMUlRhJAM2AzoDWgNxA3oDciJyb3cAAKGTIUJVLAMwA2EAcgAAoBMpcCNBcnJvdwAAoPUhciJldmUAEWPlIWZ00gJDAwAASwMAAFIDaSVnaHRWZWN0b3IAAKBQKWUkZVZlY3RvcgAAoF4p5SJjdG9yQqC9IWEAcgAAoFYpaSJnaHQA1AFiAwAAaQNlJGVWZWN0b3IAAKBfKeUiY3RvckKgwSFhAHIAAKBXKWUAZQBBoKQiciJyb3cAAKCnIXIAcgBvAPcAtAIAAWN0gwOHA3IAAOA12J/c8iFvaxBhAAhOVGFjZGZnbG1vcHFzdHV4owOlA6kDsAO/A8IDxgPNA9ID8gP9AwEEFAQeBCAEJQRHAEphSAA7gNAA0EBjAHUAdABlADuAyQDJQIABYWl5ALYDuQO+A/Ihb24aYXIAYwA7gMoAykAtZG8AdAAWYXIAAOA12AjdcgBhAHYAZQA7gMgAyEDlIm1lbnQAoAgiAAFhcNYD2QNjAHIAEmF0AHkAUwLhAwAAAADpA20lYWxsU3F1YXJlAACg+yVlJ3J5U21hbGxTcXVhcmUAAKCrJQABZ3D2A/kDbwBuABhhZgAA4DXYPN3zImlsb26VY3UAAAFhaQYEDgRsAFSgdSppImxkZQAAoEIi7CNpYnJpdW0AoMwhAAFjaRgEGwRyAACgMCFtAACgcyphAJdjbQBsADuAywDLQAABaXApBC0E8yF0cwCgAyLvJG5lbnRpYWxFAKBHIYACY2Zpb3MAPQQ/BEMEXQRyBHkAJGRyAADgNdgJ3WwibGVkAFMCTAQAAAAAVARtJWFsbFNxdWFyZQAAoPwlZSdyeVNtYWxsU3F1YXJlAACgqiVwA2UEAABpBAAAAABtBGYAAOA12D3dwSFsbACgACLyI2llcnRyZgCgMSFjAPIAcQQABkpUYWJjZGZnb3JzdIgEiwSOBJMElwSkBKcEqwStBLIE5QTqBGMAeQADZDuAPgA+QO0hbWFkoJMD3GNyImV2ZQAeYYABZWl5AJ0EoASjBOQhaWwiYXIAYwAcYRNkbwB0ACBhcgAA4DXYCt0AoNkicABmAADgNdg+3eUiYXRlcgADRUZHTFNUvwTIBM8E1QTZBOAEcSJ1YWwATKBlIuUhc3MAoNsidSRsbEVxdWFsAACgZyJyI2VhdGVyAACgoirlIXNzAKB3IuwkYW50RXF1YWwAoH4qaSJsZGUAAKBzImMAcgAA4DXYotwAoGsiAARBYWNmaW9zdfkE/QQFBQgFCwUTBSIFKwVSIkRjeQAqZAABY3QBBQQFZQBrAMdiXmDpIXJjJGFyAACgDCFsJWJlcnRTcGFjZQAAoAsh8AEYBQAAGwVmAACgDSHpJXpvbnRhbExpbmUAoAAlAAFjdCYFKAXyABIF8iFvayZhbQBwAEQBMQU5BW8AdwBuAEgAdQBtAPAAAAFxInVhbAAAoE8iAAdFSk9hY2RmZ21ub3N0dVMFVgVZBVwFYwVtBXAFcwV6BZAFtgXFBckFzQVjAHkAFWTsIWlnMmFjAHkAAWRjAHUAdABlADuAzQDNQAABaXlnBWwFcgBjADuAzgDOQBhkbwB0ADBhcgAAoBEhcgBhAHYAZQA7gMwAzEAAoREhYXB/BYsFAAFjZ4MFhQVyACphaSNuYXJ5SQAAoEghbABpAGUA8wD6AvQBlQUAAKUFZaAsIgABZ3KaBZ4F8iFhbACgKyLzI2VjdGlvbgCgwiJpI3NpYmxlAAABQ1SsBbEFbyJtbWEAAKBjIGkibWVzAACgYiCAAWdwdAC8Bb8FwwVvAG4ALmFmAADgNdhA3WEAmWNjAHIAAKAQIWkibGRlAChh6wHSBQAA1QVjAHkABmRsADuAzwDPQIACY2Zvc3UA4QXpBe0F8gX9BQABaXnlBegFcgBjADRhGWRyAADgNdgN3XAAZgAA4DXYQd3jAfcFAAD7BXIAAOA12KXc8iFjeQhk6yFjeQRkgANISmFjZm9zAAwGDwYSBhUGHQYhBiYGYwB5ACVkYwB5AAxk8CFwYZpjAAFleRkGHAbkIWlsNmEaZHIAAOA12A7dcABmAADgNdhC3WMAcgAA4DXYptyABUpUYWNlZmxtb3N0AD0GQAZDBl4GawZkB2gHcAd0B80H2gdjAHkACWQ7gDwAPECAAmNtbnByAEwGTwZSBlUGWwb1IXRlOWHiIWRhm2NnAACg6ifsI2FjZXRyZgCgEiFyAACgniGAAWFleQBkBmcGagbyIW9uPWHkIWlsO2EbZAABZnNvBjQHdAAABUFDREZSVFVWYXKABp4GpAbGBssG3AYDByEHwQIqBwABbnKEBowGZyVsZUJyYWNrZXQAAKDoJ/Ihb3cAoZAhQlKTBpcGYQByAACg5CHpJGdodEFycm93AKDGIWUjaWxpbmcAAKAII28A9QGqBgAAsgZiJWxlQnJhY2tldAAAoOYnbgDUAbcGAAC+BmUkZVZlY3RvcgAAoGEp5SJjdG9yQqDDIWEAcgAAoFkpbCJvb3IAAKAKI2kiZ2h0AAABQVbSBtcGciJyb3cAAKCUIeUiY3RvcgCgTikAAWVy4AbwBmUAAKGjIkFW5gbrBnIicm93AACgpCHlImN0b3IAoFopaSNhbmdsZQBCorIi+wYAAAAA/wZhAHIAAKDPKXEidWFsAACgtCJwAIABRFRWAAoHEQcYB+8kd25WZWN0b3IAoFEpZSRlVmVjdG9yAACgYCnlImN0b3JCoL8hYQByAACgWCnlImN0b3JCoLwhYQByAACgUilpAGcAaAB0AGEAcgByAG8A9wDMAnMAAANFRkdMU1Q/B0cHTgdUB1gHXwfxJXVhbEdyZWF0ZXIAoNoidSRsbEVxdWFsAACgZiJyI2VhdGVyAACgdiLlIXNzAKChKuwkYW50RXF1YWwAoH0qaSJsZGUAAKByInIAAOA12A/dZaDYIuYjdGFycm93AKDaIWkiZG90AD9hgAFucHcAege1B7kHZwAAAkxSbHKCB5QHmwerB+UhZnQAAUFSiAeNB3Iicm93AACg9SfpJGdodEFycm93AKD3J+kkZ2h0QXJyb3cAoPYn5SFmdAABYXLcAqEHaQBnAGgAdABhAHIAcgBvAPcA5wJpAGcAaAB0AGEAcgByAG8A9wDuAmYAAOA12EPdZQByAAABTFK/B8YHZSRmdEFycm93AACgmSHpJGdodEFycm93AKCYIYABY2h0ANMH1QfXB/IAWgYAoLAh8iFva0FhAKBqIgAEYWNlZmlvc3XpB+wH7gf/BwMICQgOCBEIcAAAoAUpeQAcZAABZGzyB/kHaSR1bVNwYWNlAACgXyBsI2ludHJmAACgMyFyAADgNdgQ3e4jdXNQbHVzAKATInAAZgAA4DXYRN1jAPIA/gecY4AESmFjZWZvc3R1ACEIJAgoCDUIgQiFCDsKQApHCmMAeQAKZGMidXRlAENhgAFhZXkALggxCDQI8iFvbkdh5CFpbEVhHWSAAWdzdwA7CGEIfQjhInRpdmWAAU1UVgBECEwIWQhlJWRpdW1TcGFjZQAAoAsgaABpAAABY25SCFMIawBTAHAAYQBjAOUASwhlAHIAeQBUAGgAaQDuAFQI9CFlZAABR0xnCHUIcgBlAGEAdABlAHIARwByAGUAYQB0AGUA8gDrBGUAcwBzAEwAZQBzAPMA2wdMImluZQAKYHIAAOA12BHdAAJCbnB0jAiRCJkInAhyImVhawAAoGAgwiZyZWFraW5nU3BhY2WgYGYAAKAVIUOq7CqzCMIIzQgAAOcIGwkAAAAAAAAtCQAAbwkAAIcJAACdCcAJGQoAADQKAAFvdbYIvAjuI2dydWVudACgYiJwIkNhcAAAoG0ibyh1YmxlVmVydGljYWxCYXIAAKAmIoABbHF4ANII1wjhCOUibWVudACgCSL1IWFsVKBgImkibGRlAADgQiI4A2kic3RzAACgBCJyI2VhdGVyAACjbyJFRkdMU1T1CPoIAgkJCQ0JFQlxInVhbAAAoHEidSRsbEVxdWFsAADgZyI4A3IjZWF0ZXIAAOBrIjgD5SFzcwCgeSLsJGFudEVxdWFsAOB+KjgDaSJsZGUAAKB1IvUhbXBEASAJJwnvI3duSHVtcADgTiI4A3EidWFsAADgTyI4A2UAAAFmczEJRgn0JFRyaWFuZ2xlQqLqIj0JAAAAAEIJYQByAADgzyk4A3EidWFsAACg7CJzAICibiJFR0xTVABRCVYJXAlhCWkJcSJ1YWwAAKBwInIjZWF0ZXIAAKB4IuUhc3MA4GoiOAPsJGFudEVxdWFsAOB9KjgDaSJsZGUAAKB0IuUic3RlZAABR0x1CX8J8iZlYXRlckdyZWF0ZXIA4KIqOAPlI3NzTGVzcwDgoSo4A/IjZWNlZGVzAKGAIkVTjwmVCXEidWFsAADgryo4A+wkYW50RXF1YWwAoOAiAAFlaaAJqQl2JmVyc2VFbGVtZW50AACgDCLnJWh0VHJpYW5nbGVCousitgkAAAAAuwlhAHIAAODQKTgDcSJ1YWwAAKDtIgABcXXDCeAJdSNhcmVTdQAAAWJwywnVCfMhZXRF4I8iOANxInVhbAAAoOIi5SJyc2V0ReCQIjgDcSJ1YWwAAKDjIoABYmNwAOYJ8AkNCvMhZXRF4IIi0iBxInVhbAAAoIgi4yJlZWRzgKGBIkVTVAD6CQAKBwpxInVhbAAA4LAqOAPsJGFudEVxdWFsAKDhImkibGRlAADgfyI4A+UicnNldEXggyLSIHEidWFsAACgiSJpImxkZQCAoUEiRUZUACIKJwouCnEidWFsAACgRCJ1JGxsRXF1YWwAAKBHImkibGRlAACgSSJlJXJ0aWNhbEJhcgAAoCQiYwByAADgNdip3GkAbABkAGUAO4DRANFAnWMAB0VhY2RmZ21vcHJzdHV2XgphCmgKcgp2CnoKgQqRCpYKqwqtCrsKyArNCuwhaWdSYWMAdQB0AGUAO4DTANNAAAFpeWwKcQpyAGMAO4DUANRAHmRiImxhYwBQYXIAAOA12BLdcgBhAHYAZQA7gNIA0kCAAWFlaQCHCooKjQpjAHIATGFnAGEAqWNjInJvbgCfY3AAZgAA4DXYRt3lI25DdXJseQABRFGeCqYKbyV1YmxlUXVvdGUAAKAcIHUib3RlAACgGCAAoFQqAAFjbLEKtQpyAADgNdiq3GEAcwBoADuA2ADYQGkAbAHACsUKZABlADuA1QDVQGUAcwAAoDcqbQBsADuA1gDWQGUAcgAAAUJQ0wrmCgABYXLXCtoKcgAAoD4gYQBjAAABZWvgCuIKAKDeI2UAdAAAoLQjYSVyZW50aGVzaXMAAKDcI4AEYWNmaGlsb3JzAP0KAwsFCwkLCwsMCxELIwtaC3IjdGlhbEQAAKACInkAH2RyAADgNdgT3WkApmOgY/Ujc01pbnVzsWAAAWlwFQsgC24AYwBhAHIAZQBwAGwAYQBuAOUACgVmAACgGSGAobsqZWlvACoLRQtJC+MiZWRlc4CheiJFU1QANAs5C0ALcSJ1YWwAAKCvKuwkYW50RXF1YWwAoHwiaSJsZGUAAKB+Im0AZQAAoDMgAAFkcE0LUQv1IWN0AKAPIm8jcnRpb24AYaA3ImwAAKAdIgABY2leC2ILcgAA4DXYq9yoYwACVWZvc2oLbwtzC3cLTwBUADuAIgAiQHIAAOA12BTdcABmAACgGiFjAHIAAOA12KzcAAZCRWFjZWZoaW9yc3WPC5MLlwupC7YL2AvbC90LhQyTDJoMowzhIXJyAKAQKUcAO4CuAK5AgAFjbnIAnQugC6ML9SF0ZVRhZwAAoOsncgB0oKAhbAAAoBYpgAFhZXkArwuyC7UL8iFvblhh5CFpbFZhIGR2oBwhZSJyc2UAAAFFVb8LzwsAAWxxwwvIC+UibWVudACgCyL1JGlsaWJyaXVtAKDLIXAmRXF1aWxpYnJpdW0AAKBvKXIAAKAcIW8AoWPnIWh0AARBQ0RGVFVWYewLCgwQDDIMNwxeDHwM9gIAAW5y8Av4C2clbGVCcmFja2V0AACg6SfyIW93AKGSIUJM/wsDDGEAcgAAoOUhZSRmdEFycm93AACgxCFlI2lsaW5nAACgCSNvAPUBFgwAAB4MYiVsZUJyYWNrZXQAAKDnJ24A1AEjDAAAKgxlJGVWZWN0b3IAAKBdKeUiY3RvckKgwiFhAHIAAKBVKWwib29yAACgCyMAAWVyOwxLDGUAAKGiIkFWQQxGDHIicm93AACgpiHlImN0b3IAoFspaSNhbmdsZQBCorMiVgwAAAAAWgxhAHIAAKDQKXEidWFsAACgtSJwAIABRFRWAGUMbAxzDO8kd25WZWN0b3IAoE8pZSRlVmVjdG9yAACgXCnlImN0b3JCoL4hYQByAACgVCnlImN0b3JCoMAhYQByAACgUykAAXB1iQyMDGYAAKAdIe4kZEltcGxpZXMAoHAp6SRnaHRhcnJvdwCg2yEAAWNongyhDHIAAKAbIQCgsSHsJGVEZWxheWVkAKD0KYAGSE9hY2ZoaW1vcXN0dQC/DMgMzAzQDOIM5gwKDQ0NFA0ZDU8NVA1YDQABQ2PDDMYMyCFjeSlkeQAoZEYiVGN5ACxkYyJ1dGUAWmEAorwqYWVpedgM2wzeDOEM8iFvbmBh5CFpbF5hcgBjAFxhIWRyAADgNdgW3e8hcnQAAkRMUlXvDPYM/QwEDW8kd25BcnJvdwAAoJMhZSRmdEFycm93AACgkCHpJGdodEFycm93AKCSIXAjQXJyb3cAAKCRIechbWGjY+EkbGxDaXJjbGUAoBgicABmAADgNdhK3XICHw0AAAAAIg10AACgGiLhIXJlgKGhJUlTVQAqDTINSg3uJXRlcnNlY3Rpb24AoJMidQAAAWJwNw1ADfMhZXRFoI8icSJ1YWwAAKCRIuUicnNldEWgkCJxInVhbAAAoJIibiJpb24AAKCUImMAcgAA4DXYrtxhAHIAAKDGIgACYmNtcF8Nag2ODZANc6DQImUAdABFoNAicSJ1YWwAAKCGIgABY2huDYkNZSJlZHMAgKF7IkVTVAB4DX0NhA1xInVhbAAAoLAq7CRhbnRFcXVhbACgfSJpImxkZQAAoH8iVABoAGEA9ADHCwCgESIAodEiZXOVDZ8NciJzZXQARaCDInEidWFsAACghyJlAHQAAKDRIoAFSFJTYWNmaGlvcnMAtQ27Db8NyA3ODdsN3w3+DRgOHQ4jDk8AUgBOADuA3gDeQMEhREUAoCIhAAFIY8MNxg1jAHkAC2R5ACZkAAFidcwNzQ0JYKRjgAFhZXkA1A3XDdoN8iFvbmRh5CFpbGJhImRyAADgNdgX3QABZWnjDe4N8gHoDQAA7Q3lImZvcmUAoDQiYQCYYwABY27yDfkNayNTcGFjZQAA4F8gCiDTInBhY2UAoAkg7CFkZYChPCJFRlQABw4MDhMOcSJ1YWwAAKBDInUkbGxFcXVhbAAAoEUiaSJsZGUAAKBIInAAZgAA4DXYS93pI3BsZURvdACg2yAAAWN0Jw4rDnIAAOA12K/c8iFva2Zh4QpFDlYOYA5qDgAAbg5yDgAAAAAAAAAAAAB5DnwOqA6zDgAADg8RDxYPGg8AAWNySA5ODnUAdABlADuA2gDaQHIAb6CfIeMhaXIAoEkpcgDjAVsOAABdDnkADmR2AGUAbGEAAWl5Yw5oDnIAYwA7gNsA20AjZGIibGFjAHBhcgAA4DXYGN1yAGEAdgBlADuA2QDZQOEhY3JqYQABZGl/Dp8OZQByAAABQlCFDpcOAAFhcokOiw5yAF9gYQBjAAABZWuRDpMOAKDfI2UAdAAAoLUjYSVyZW50aGVzaXMAAKDdI28AbgBQoMMi7CF1cwCgjiIAAWdwqw6uDm8AbgByYWYAAOA12EzdAARBREVUYWRwc78O0g7ZDuEOBQPqDvMOBw9yInJvdwDCoZEhyA4AAMwOYQByAACgEilvJHduQXJyb3cAAKDFIW8kd25BcnJvdwAAoJUhcSV1aWxpYnJpdW0AAKBuKWUAZQBBoKUiciJyb3cAAKClIW8AdwBuAGEAcgByAG8A9wAQA2UAcgAAAUxS+Q4AD2UkZnRBcnJvdwAAoJYh6SRnaHRBcnJvdwCglyFpAGyg0gNvAG4ApWPpIW5nbmFjAHIAAOA12LDcaSJsZGUAaGFtAGwAO4DcANxAgAREYmNkZWZvc3YALQ8xDzUPNw89D3IPdg97D4AP4SFzaACgqyJhAHIAAKDrKnkAEmThIXNobKCpIgCg5ioAAWVyQQ9DDwCgwSKAAWJ0eQBJD00Paw9hAHIAAKAWIGmgFiDjIWFsAAJCTFNUWA9cD18PZg9hAHIAAKAjIukhbmV8YGUkcGFyYXRvcgAAoFgnaSJsZGUAAKBAItQkaGluU3BhY2UAoAogcgAA4DXYGd1wAGYAAOA12E3dYwByAADgNdix3GQiYXNoAACgqiKAAmNlZm9zAI4PkQ+VD5kPng/pIXJjdGHkIWdlAKDAInIAAOA12BrdcABmAADgNdhO3WMAcgAA4DXYstwAAmZpb3OqD64Prw+0D3IAAOA12BvdnmNwAGYAAOA12E/dYwByAADgNdiz3IAEQUlVYWNmb3N1AMgPyw/OD9EP2A/gD+QP6Q/uD2MAeQAvZGMAeQAHZGMAeQAuZGMAdQB0AGUAO4DdAN1AAAFpedwP3w9yAGMAdmErZHIAAOA12BzdcABmAADgNdhQ3WMAcgAA4DXYtNxtAGwAeGEABEhhY2RlZm9z/g8BEAUQDRAQEB0QIBAkEGMAeQAWZGMidXRlAHlhAAFheQkQDBDyIW9ufWEXZG8AdAB7YfIBFRAAABwQbwBXAGkAZAB0AOgAVAhhAJZjcgAAoCghcABmAACgJCFjAHIAAOA12LXc4QtCEEkQTRAAAGcQbRByEAAAAAAAAAAAeRCKEJcQ8hD9EAAAGxEhETIROREAAD4RYwB1AHQAZQA7gOEA4UByImV2ZQADYYCiPiJFZGl1eQBWEFkQWxBgEGUQAOA+IjMDAKA/InIAYwA7gOIA4kB0AGUAO4C0ALRAMGRsAGkAZwA7gOYA5kByoGEgAOA12B7dcgBhAHYAZQA7gOAA4EAAAWVwfBCGEAABZnCAEIQQ8yF5bQCgNSHoAIMQaABhALFjAAFhcI0QWwAAAWNskRCTEHIAAWFnAACgPypkApwQAAAAALEQAKInImFkc3ajEKcQqRCuEG4AZAAAoFUqAKBcKmwib3BlAACgWCoAoFoqAKMgImVsbXJzersQvRDAEN0Q5RDtEACgpCllAACgICJzAGQAYaAhImEEzhDQENIQ1BDWENgQ2hDcEACgqCkAoKkpAKCqKQCgqykAoKwpAKCtKQCgrikAoK8pdAB2oB8iYgBkoL4iAKCdKQABcHTpEOwQaAAAoCIixWDhIXJyAKB8IwABZ3D1EPgQbwBuAAVhZgAA4DXYUt0Ao0giRWFlaW9wBxEJEQ0RDxESERQRAKBwKuMhaXIAoG8qAKBKImQAAKBLInMAJ2DyIW94ZaBIIvEADhFpAG4AZwA7gOUA5UCAAWN0eQAmESoRKxFyAADgNdi23CpgbQBwAGWgSCLxAPgBaQBsAGQAZQA7gOMA40BtAGwAO4DkAORAAAFjaUERRxFvAG4AaQBuAPQA6AFuAHQAAKARKgAITmFiY2RlZmlrbG5vcHJzdWQRaBGXEZ8RpxGrEdIR1hErEjASexKKEn0RThNbE3oTbwB0AACg7SoAAWNybBGJEWsAAAJjZXBzdBF4EX0RghHvIW5nAKBMInAjc2lsb24A9mNyImltZQAAoDUgaQBtAGWgPSJxAACgzSJ2AY0RkRFlAGUAAKC9ImUAZABnoAUjZQAAoAUjcgBrAHSgtSPiIXJrAKC2IwABb3mjEaYRbgDnAHcRMWTxIXVvAKAeIIACY21wcnQAtBG5Eb4RwRHFEeEhdXPloDUi5ABwInR5dgAAoLApcwDpAH0RbgBvAPUA6gCAAWFodwDLEcwRzhGyYwCgNiHlIWVuAKBsInIAAOA12B/dZwCAA2Nvc3R1dncA4xHyEQUSEhIhEiYSKRKAAWFpdQDpEesR7xHwAKMFcgBjAACg7yVwAACgwyKAAWRwdAD4EfwRABJvAHQAAKAAKuwhdXMAoAEqaSJtZXMAAKACKnECCxIAAAAADxLjIXVwAKAGKmEAcgAAoAUm8iNpYW5nbGUAAWR1GhIeEu8hd24AoL0lcAAAoLMlcCJsdXMAAKAEKmUA5QBCD+UAkg9hInJvdwAAoA0pgAFha28ANhJoEncSAAFjbjoSZRJrAIABbHN0AEESRxJNEm8jemVuZ2UAAKDrKXEAdQBhAHIA5QBcBPIjaWFuZ2xlgKG0JWRscgBYElwSYBLvIXduAKC+JeUhZnQAoMIlaSJnaHQAAKC4JWsAAKAjJLEBbRIAAHUSsgFxEgAAcxIAoJIlAKCRJTQAAKCTJWMAawAAoIglAAFlb38ShxJx4D0A5SD1IWl2AOBhIuUgdAAAoBAjAAJwdHd4kRKVEpsSnxJmAADgNdhT3XSgpSJvAG0AAKClIvQhaWUAoMgiAAZESFVWYmRobXB0dXayEsES0RLgEvcS+xIKExoTHxMjEygTNxMAAkxSbHK5ErsSvRK/EgCgVyUAoFQlAKBWJQCgUyUAolAlRFVkdckSyxLNEs8SAKBmJQCgaSUAoGQlAKBnJQACTFJsctgS2hLcEt4SAKBdJQCgWiUAoFwlAKBZJQCjUSVITFJobHLrEu0S7xLxEvMS9RIAoGwlAKBjJQCgYCUAoGslAKBiJQCgXyVvAHgAAKDJKQACTFJscgITBBMGEwgTAKBVJQCgUiUAoBAlAKAMJQCiACVEVWR1EhMUExYTGBMAoGUlAKBoJQCgLCUAoDQlaSJudXMAAKCfIuwhdXMAoJ4iaSJtZXMAAKCgIgACTFJsci8TMRMzEzUTAKBbJQCgWCUAoBglAKAUJQCjAiVITFJobHJCE0QTRhNIE0oTTBMAoGolAKBhJQCgXiUAoDwlAKAkJQCgHCUAAWV2UhNVE3YA5QD5AGIAYQByADuApgCmQAACY2Vpb2ITZhNqE24TcgAA4DXYt9xtAGkAAKBPIG0A5aA9IogRbAAAoVwAYmh0E3YTAKDFKfMhdWIAoMgnbAF+E4QTbABloCIgdAAAoCIgcAAAoU4iRWWJE4sTAKCuKvGgTyI8BeEMqRMAAN8TABQDFB8UAAAjFDQUAAAAAIUUAAAAAI0UAAAAANcU4xT3FPsUAACIFQAAlhWAAWNwcgCuE7ET1RP1IXRlB2GAoikiYWJjZHMAuxO/E8QTzhPSE24AZAAAoEQqciJjdXAAAKBJKgABYXXIE8sTcAAAoEsqcAAAoEcqbwB0AACgQCoA4CkiAP4AAWVv2RPcE3QAAKBBIO4ABAUAAmFlaXXlE+8T9RP4E/AB6hMAAO0TcwAAoE0qbwBuAA1hZABpAGwAO4DnAOdAcgBjAAlhcABzAHOgTCptAACgUCpvAHQAC2GAAWRtbgAIFA0UEhRpAGwAO4C4ALhAcCJ0eXYAAKCyKXQAAIGiADtlGBQZFKJAcgBkAG8A9ABiAXIAAOA12CDdgAFjZWkAKBQqFDIUeQBHZGMAawBtoBMn4SFyawCgEyfHY3IAAKPLJUVjZWZtcz8UQRRHFHcUfBSAFACgwykAocYCZWxGFEkUcQAAoFciZQBhAlAUAAAAAGAUciJyb3cAAAFsclYUWhTlIWZ0AKC6IWkiZ2h0AACguyGAAlJTYWNkAGgUaRRrFG8UcxSuYACgyCRzAHQAAKCbIukhcmMAoJoi4SFzaACgnSJuImludAAAoBAqaQBkAACg7yrjIWlyAKDCKfUhYnN1oGMmaQB0AACgYybsApMUmhS2FAAAwxRvAG4AZaA6APGgVCKrAG0CnxQAAAAAoxRhAHSgLABAYAChASJmbKcUqRTuABMNZQAAAW14rhSyFOUhbnQAoAEiZQDzANIB5wG6FAAAwBRkoEUibwB0AACgbSpuAPQAzAGAAWZyeQDIFMsUzhQA4DXYVN1vAOQA1wEAgakAO3MeAdMUcgAAoBchAAFhb9oU3hRyAHIAAKC1IXMAcwAAoBcnAAFjdeYU6hRyAADgNdi43AABYnDuFPIUZaDPKgCg0SploNAqAKDSKuQhb3QAoO8igANkZWxwcnZ3AAYVEBUbFSEVRBVlFYQV4SFycgABbHIMFQ4VAKA4KQCgNSlwAhYVAAAAABkVcgAAoN4iYwAAoN8i4SFycnCgtiEAoD0pgKIqImJjZG9zACsVMBU6FT4VQRVyImNhcAAAoEgqAAFhdTQVNxVwAACgRipwAACgSipvAHQAAKCNInIAAKBFKgDgKiIA/gACYWxydksVURVuFXMVcgByAG2gtyEAoDwpeQCAAWV2dwBYFWUVaRVxAHACXxUAAAAAYxVyAGUA4wAXFXUA4wAZFWUAZQAAoM4iZSJkZ2UAAKDPImUAbgA7gKQApEBlI2Fycm93AAABbHJ7FX8V5SFmdACgtiFpImdodAAAoLchZQDkAG0VAAFjaYsVkRVvAG4AaQBuAPQAkwFuAHQAAKAxImwiY3R5AACgLSOACUFIYWJjZGVmaGlqbG9yc3R1d3oAuBW7Fb8V1RXgFegV+RUKFhUWHxZUFlcWZRbFFtsW7xb7FgUXChdyAPIAtAJhAHIAAKBlKQACZ2xyc8YVyhXOFdAV5yFlcgCgICDlIXRoAKA4IfIA9QxoAHagECAAoKMiawHZFd4VYSJyb3cAAKAPKWEA4wBfAgABYXnkFecV8iFvbg9hNGQAoUYhYW/tFfQVAAFnciEC8RVyAACgyiF0InNlcQAAoHcqgAFnbG0A/xUCFgUWO4CwALBAdABhALRjcCJ0eXYAAKCxKQABaXIOFhIW8yFodACgfykA4DXYId1hAHIAAAFschsWHRYAoMMhAKDCIYACYWVnc3YAKBauAjYWOhY+Fm0AAKHEIm9zLhY0Fm4AZABzoMQi9SFpdACgZiZhIm1tYQDdY2kAbgAAoPIiAKH3AGlvQxZRFmQAZQAAgfcAO29KFksW90BuI3RpbWVzAACgxyJuAPgAUBZjAHkAUmRjAG8CXhYAAAAAYhZyAG4AAKAeI28AcAAAoA0jgAJscHR1dwBuFnEWdRaSFp4W7CFhciRgZgAA4DXYVd0AotkCZW1wc30WhBaJFo0WcQBkoFAibwB0AACgUSJpIm51cwAAoDgi7CF1cwCgFCLxInVhcmUAoKEiYgBsAGUAYgBhAHIAdwBlAGQAZwDlANcAbgCAAWFkaAClFqoWtBZyAHIAbwD3APUMbwB3AG4AYQByAHIAbwB3APMA8xVhI3Jwb29uAAABbHK8FsAWZQBmAPQAHBZpAGcAaAD0AB4WYgHJFs8WawBhAHIAbwD3AJILbwLUFgAAAADYFnIAbgAAoB8jbwBwAACgDCOAAWNvdADhFukW7BYAAXJ55RboFgDgNdi53FVkbAAAoPYp8iFvaxFhAAFkcvMW9xZvAHQAAKDxImkA5qC/JVsSAAFhaP8WAhdyAPIANQNhAPIA1wvhIm5nbGUAoKYpAAFjaQ4XEBd5AF9k5yJyYXJyAKD/JwAJRGFjZGVmZ2xtbm9wcXJzdHV4MRc4F0YXWxcyBF4XaRd5F40XrBe0F78X2RcVGCEYLRg1GEAYAAFEbzUXgRZvAPQA+BUAAWNzPBdCF3UAdABlADuA6QDpQPQhZXIAoG4qAAJhaW95TRdQF1YXWhfyIW9uG2FyAGOgViI7gOoA6kDsIW9uAKBVIk1kbwB0ABdhAAFEcmIXZhdvAHQAAKBSIgDgNdgi3XKhmipuF3QXYQB2AGUAO4DoAOhAZKCWKm8AdAAAoJgqgKGZKmlscwCAF4UXhxfuInRlcnMAoOcjAKATIWSglSpvAHQAAKCXKoABYXBzAJMXlheiF2MAcgATYXQAeQBzogUinxcAAAAAoRdlAHQAAKAFInAAMaADIDMBqRerFwCgBCAAoAUgAAFnc7AXsRdLYXAAAKACIAABZ3C4F7sXbwBuABlhZgAA4DXYVt2AAWFscwDFF8sXzxdyAHOg1SJsAACg4yl1AHMAAKBxKmkAAKG1A2x21RfYF28AbgC1Y/VjAAJjc3V24BfoF/0XEBgAAWlv5BdWF3IAYwAAoFYiaQLuFwAAAADwF+0ADQThIW50AAFnbPUX+Rd0AHIAAKCWKuUhc3MAoJUqgAFhZWkAAxgGGAoYbABzAD1gcwB0AACgXyJ2AESgYSJEAACgeCrwImFyc2wAoOUpAAFEYRkYHRhvAHQAAKBTInIAcgAAoHEpgAFjZGkAJxgqGO0XcgAAoC8hbwD0AIwCAAFhaDEYMhi3YzuA8ADwQAABbXI5GD0YbAA7gOsA60BvAACgrCCAAWNpcABGGEgYSxhsACFgcwD0ACwEAAFlb08YVxhjAHQAYQB0AGkAbwDuABoEbgBlAG4AdABpAGEAbADlADME4Ql1GAAAgRgAAIMYiBgAAAAAoRilGAAAqhgAALsYvhjRGAAA1xgnGWwAbABpAG4AZwBkAG8AdABzAGUA8QBlF3kARGRtImFsZQAAoEAmgAFpbHIAjRiRGJ0Y7CFpZwCgA/tpApcYAAAAAJoYZwAAoAD7aQBnAACgBPsA4DXYI93sIWlnAKAB++whaWcA4GYAagCAAWFsdACvGLIYthh0AACgbSZpAGcAAKAC+24AcwAAoLElbwBmAJJh8AHCGAAAxhhmAADgNdhX3QABYWvJGMwYbADsAGsEdqDUIgCg2SphI3J0aW50AACgDSoAAWFv2hgiGQABY3PeGB8ZsQPnGP0YBRkSGRUZAAAdGbID7xjyGPQY9xj5GAAA+xg7gL0AvUAAoFMhO4C8ALxAAKBVIQCgWSEAoFshswEBGQAAAxkAoFQhAKBWIbQCCxkOGQAAAAAQGTuAvgC+QACgVyEAoFwhNQAAoFghtgEZGQAAGxkAoFohAKBdITgAAKBeIWwAAKBEIHcAbgAAoCIjYwByAADgNdi73IAIRWFiY2RlZmdpamxub3JzdHYARhlKGVoZXhlmGWkZkhmWGZkZnRmgGa0ZxhnLGc8Z4BkjGmygZyIAoIwqgAFjbXAAUBlTGVgZ9SF0ZfVhbQBhAOSgswM6FgCghipyImV2ZQAfYQABaXliGWUZcgBjAB1hM2RvAHQAIWGAoWUibHFzAMYEcBl6GfGhZSLOBAAAdhlsAGEAbgD0AN8EgKF+KmNkbACBGYQZjBljAACgqSpvAHQAb6CAKmyggioAoIQqZeDbIgD+cwAAoJQqcgAA4DXYJN3noGsirATtIWVsAKA3IWMAeQBTZIChdyJFYWoApxmpGasZAKCSKgCgpSoAoKQqAAJFYWVztBm2Gb0ZwhkAoGkicABwoIoq8iFveACgiipxoIgq8aCIKrUZaQBtAACg5yJwAGYAAOA12FjdYQB2AOUAYwIAAWNp0xnWGXIAAKAKIW0AAKFzImVs3BneGQCgjioAoJAqAIM+ADtjZGxxco0E6xn0GfgZ/BkBGgABY2nvGfEZAKCnKnIAAKB6Km8AdAAAoNci0CFhcgCglSl1ImVzdAAAoHwqgAJhZGVscwAKGvQZFhrVBCAa8AEPGgAAFBpwAHIAbwD4AFkZcgAAoHgpcQAAAWxxxAQbGmwAZQBzAPMASRlpAO0A5AQAAWVuJxouGnIjdG5lcXEAAOBpIgD+xQAsGgAFQWFiY2Vma29zeUAaQxpmGmoabRqDGocalhrCGtMacgDyAMwCAAJpbG1yShpOGlAaVBpyAHMA8ABxD2YAvWBpAGwA9AASBQABZHJYGlsaYwB5AEpkAKGUIWN3YBpkGmkAcgAAoEgpAKCtIWEAcgAAoA8h6SFyYyVhgAFhbHIAcxp7Gn8a8iF0c3WgZSZpAHQAAKBlJuwhaXAAoCYg4yFvbgCguSJyAADgNdgl3XMAAAFld4wakRphInJvdwAAoCUpYSJyb3cAAKAmKYACYW1vcHIAnxqjGqcauhq+GnIAcgAAoP8h9CFodACgOyJrAAABbHKsGrMaZSRmdGFycm93AACgqSHpJGdodGFycm93AKCqIWYAAOA12Fnd4iFhcgCgFSCAAWNsdADIGswa0BpyAADgNdi93GEAcwDoAGka8iFvaydhAAFicNca2xr1IWxsAKBDIOghZW4AoBAg4Qr2GgAA/RoAAAgbExsaGwAAIRs7GwAAAAA+G2IbmRuVG6sbAACyG80b0htjAHUAdABlADuA7QDtQAChYyBpeQEbBhtyAGMAO4DuAO5AOGQAAWN4CxsNG3kANWRjAGwAO4ChAKFAAAFmcssCFhsA4DXYJt1yAGEAdgBlADuA7ADsQIChSCFpbm8AJxsyGzYbAAFpbisbLxtuAHQAAKAMKnQAAKAtIuYhaW4AoNwpdABhAACgKSHsIWlnM2GAAWFvcABDG1sbXhuAAWNndABJG0sbWRtyACthgAFlbHAAcQVRG1UbaQBuAOUAyAVhAHIA9AByBWgAMWFmAACgtyJlAGQAtWEAoggiY2ZvdGkbbRt1G3kb4SFyZQCgBSFpAG4AdKAeImkAZQAAoN0pZABvAPQAWxsAoisiY2VscIEbhRuPG5QbYQBsAACguiIAAWdyiRuNG2UAcgDzACMQ4wCCG2EicmhrAACgFyryIW9kAKA8KgACY2dwdJ8boRukG6gbeQBRZG8AbgAvYWYAAOA12FrdYQC5Y3UAZQBzAHQAO4C/AL9AAAFjabUbuRtyAADgNdi+3G4AAKIIIkVkc3bCG8QbyBvQAwCg+SJvAHQAAKD1Inag9CIAoPMiaaBiIOwhZGUpYesB1hsAANkbYwB5AFZkbAA7gO8A70AAA2NmbW9zdeYb7hvyG/Ub+hsFHAABaXnqG+0bcgBjADVhOWRyAADgNdgn3eEhdGg3YnAAZgAA4DXYW93jAf8bAAADHHIAAOA12L/c8iFjeVhk6yFjeVRkAARhY2ZnaGpvcxUcGhwiHCYcKhwtHDAcNRzwIXBhdqC6A/BjAAFleR4cIRzkIWlsN2E6ZHIAAOA12CjdciJlZW4AOGFjAHkARWRjAHkAXGRwAGYAAOA12FzdYwByAADgNdjA3IALQUJFSGFiY2RlZmdoamxtbm9wcnN0dXYAXhxtHHEcdRx5HN8cBx0dHTwd3B3tHfEdAR4EHh0eLB5FHrwewx7hHgkfPR9LH4ABYXJ0AGQcZxxpHHIA8gBvB/IAxQLhIWlsAKAbKeEhcnIAoA4pZ6BmIgCgiyphAHIAAKBiKWMJjRwAAJAcAACVHAAAAAAAAAAAAACZHJwcAACmHKgcrRwAANIc9SF0ZTph7SJwdHl2AKC0KXIAYQDuAFoG4iFkYbtjZwAAoegnZGyhHKMcAKCRKeUAiwYAoIUqdQBvADuAqwCrQHIAgKOQIWJmaGxwc3QAuhy/HMIcxBzHHMoczhxmoOQhcwAAoB8pcwAAoB0p6wCyGnAAAKCrIWwAAKA5KWkAbQAAoHMpbAAAoKIhAKGrKmFl1hzaHGkAbAAAoBkpc6CtKgDgrSoA/oABYWJyAOUc6RztHHIAcgAAoAwpcgBrAACgcicAAWFr8Rz4HGMAAAFla/Yc9xx7YFtgAAFlc/wc/hwAoIspbAAAAWR1Ax0FHQCgjykAoI0pAAJhZXV5Dh0RHRodHB3yIW9uPmEAAWRpFR0YHWkAbAA8YewAowbiAPccO2QAAmNxcnMkHScdLB05HWEAAKA2KXUAbwDyoBwgqhEAAWR1MB00HeghYXIAoGcpcyJoYXIAAKBLKWgAAKCyIQCiZCJmZ3FzRB1FB5Qdnh10AIACYWhscnQATh1WHWUdbB2NHXIicm93AHSgkCFhAOkAzxxhI3Jwb29uAAABZHVeHWId7yF3bgCgvSFwAACgvCHlJGZ0YXJyb3dzAKDHIWkiZ2h0AIABYWhzAHUdex2DHXIicm93APOglCGdBmEAcgBwAG8AbwBuAPMAzgtxAHUAaQBnAGEAcgByAG8A9wBlGugkcmVldGltZXMAoMsi8aFkIk0HAACaHWwAYQBuAPQAXgcAon0qY2Rnc6YdqR2xHbcdYwAAoKgqbwB0AG+gfypyoIEqAKCDKmXg2iIA/nMAAKCTKoACYWRlZ3MAwB3GHcod1h3ZHXAAcAByAG8A+ACmHG8AdAAAoNYicQAAAWdxzx3SHXQA8gBGB2cAdADyAHQcdADyAFMHaQDtAGMHgAFpbHIA4h3mHeod8yFodACgfClvAG8A8gDKBgDgNdgp3UWgdiIAoJEqYQH1Hf4dcgAAAWR1YB35HWygvCEAoGopbABrAACghCVjAHkAWWQAomoiYWNodAweDx4VHhkecgDyAGsdbwByAG4AZQDyAGAW4SFyZACgaylyAGkAAKD6JQABaW8hHiQe5CFvdEBh9SFzdGGgsCPjIWhlAKCwIwACRWFlczMeNR48HkEeAKBoInAAcKCJKvIhb3gAoIkqcaCHKvGghyo0HmkAbQAAoOYiAARhYm5vcHR3elIeXB5fHoUelh6mHqsetB4AAW5yVh5ZHmcAAKDsJ3IAAKD9IXIA6wCwBmcAgAFsbXIAZh52Hnse5SFmdAABYXKIB2weaQBnAGgAdABhAHIAcgBvAPcAkwfhInBzdG8AoPwnaQBnAGgAdABhAHIAcgBvAPcAmgdwI2Fycm93AAABbHKNHpEeZQBmAPQAxhxpImdodAAAoKwhgAFhZmwAnB6fHqIecgAAoIUpAOA12F3ddQBzAACgLSppIm1lcwAAoDQqYQGvHrMecwB0AACgFyLhAIoOZaHKJbkeRhLuIWdlAKDKJWEAcgBsoCgAdAAAoJMpgAJhY2htdADMHs8e1R7bHt0ecgDyAJ0GbwByAG4AZQDyANYWYQByAGSgyyEAoG0pAKAOIHIAaQAAoL8iAANhY2hpcXTrHu8e1QfzHv0eBh/xIXVvAKA5IHIAAOA12MHcbQDloXIi+h4AAPweAKCNKgCgjyoAAWJ19xwBH28AcqAYIACgGiDyIW9rQmEAhDwAO2NkaGlscXJCBhcfxh0gHyQfKB8sHzEfAAFjaRsfHR8AoKYqcgAAoHkqcgBlAOUAkx3tIWVzAKDJIuEhcnIAoHYpdSJlc3QAAKB7KgABUGk1HzkfYQByAACglillocMlAgdfEnIAAAFkdUIfRx9zImhhcgAAoEop6CFhcgCgZikAAWVuTx9WH3IjdG5lcXEAAOBoIgD+xQBUHwAHRGFjZGVmaGlsbm9wc3VuH3Ifoh+rH68ftx+7H74f5h/uH/MfBwj/HwsgxCFvdACgOiIAAmNscHJ5H30fiR+eH3IAO4CvAK9AAAFldIEfgx8AoEImZaAgJ3MAZQAAoCAnc6CmIXQAbwCAoaYhZGx1AJQfmB+cH28AdwDuAHkDZQBmAPQA6gbwAOkO6yFlcgCgriUAAW95ph+qH+0hbWEAoCkqPGThIXNoAKAUIOElc3VyZWRhbmdsZQCgISJyAADgNdgq3W8AAKAnIYABY2RuAMQfyR/bH3IAbwA7gLUAtUBhoiMi0B8AANMf1x9zAPQAKxFpAHIAAKDwKm8AdAA7gLcAt0B1AHMA4qESIh4TAADjH3WgOCIAoCoqYwHqH+0fcAAAoNsq8gB+GnAAbAB1APMACAgAAWRw9x/7H+UhbHMAoKciZgAA4DXYXt0AAWN0AyAHIHIAAOA12MLc8CFvcwCgPiJsobwDECAVIPQiaW1hcACguCJhAPAAEyAADEdMUlZhYmNkZWZnaGlqbG1vcHJzdHV2dzwgRyBmIG0geSCqILgg2iDeIBEhFSEyIUMhTSFQIZwhnyHSIQAiIyKLIrEivyIUIwABZ3RAIEMgAODZIjgD9uBrItIgBwmAAWVsdABNIF8gYiBmAHQAAAFhclMgWCByInJvdwAAoM0h6SRnaHRhcnJvdwCgziEA4NgiOAP24Goi0iBfCekkZ2h0YXJyb3cAoM8hAAFEZHEgdSDhIXNoAKCvIuEhc2gAoK4igAJiY25wdACCIIYgiSCNIKIgbABhAACgByL1IXRlRGFnAADgICLSIACiSSJFaW9wlSCYIJwgniAA4HAqOANkAADgSyI4A3MASWFyAG8A+AAyCnUAcgBhoG4mbADzoG4mmwjzAa8gAACzIHAAO4CgAKBAbQBwAOXgTiI4AyoJgAJhZW91eQDBIMogzSDWINkg8AHGIAAAyCAAoEMqbwBuAEhh5CFpbEZhbgBnAGSgRyJvAHQAAOBtKjgDcAAAoEIqPWThIXNoAKATIACjYCJBYWRxc3jpIO0g+SD+IAIhDCFyAHIAAKDXIXIAAAFocvIg9SBrAACgJClvoJch9wAGD28AdAAA4FAiOAN1AGkA9gC7CAABZWkGIQohYQByAACgKCntAN8I6SFzdPOgBCLlCHIAAOA12CvdAAJFZXN0/wgcISshLiHxoXEiIiEAABMJ8aFxIgAJAAAnIWwAYQBuAPQAEwlpAO0AGQlyoG8iAKBvIoABQWFwADghOyE/IXIA8gBeIHIAcgAAoK4hYQByAACg8ipzogsiSiEAAAAAxwtkoPwiAKD6ImMAeQBaZIADQUVhZGVzdABcIV8hYiFmIWkhkyGWIXIA8gBXIADgZiI4A3IAcgAAoJohcgAAoCUggKFwImZxcwBwIYQhjiF0AAABYXJ1IXohcgByAG8A9wBlIWkAZwBoAHQAYQByAHIAbwD3AD4h8aFwImAhAACKIWwAYQBuAPQAZwlz4H0qOAMAoG4iaQDtAG0JcqBuImkA5aDqIkUJaQDkADoKAAFwdKMhpyFmAADgNdhf3YCBrAA7aW4AriGvIcchrEBuAIChCSJFZHYAtyG6Ib8hAOD5IjgDbwB0AADg9SI4A+EB1gjEIcYhAKD3IgCg9iJpAHagDCLhAagJzyHRIQCg/iIAoP0igAFhb3IA2CHsIfEhcgCAoSYiYXN0AOAh5SHpIWwAbABlAOwAywhsAADg/SrlIADgAiI4A2wiaW50AACgFCrjoYAi9yEAAPohdQDlAJsJY+CvKjgDZaCAIvEAkwkAAkFhaXQHIgoiFyIeInIA8gBsIHIAcgAAoZshY3cRIhQiAOAzKTgDAOCdITgDZyRodGFycm93AACgmyFyAGkA5aDrIr4JgANjaGltcHF1AC8iPCJHIpwhTSJQIloigKGBImNlcgA2Iv0JOSJ1AOUABgoA4DXYw9zvIXJ0bQKdIQAAAABEImEAcgDhAOEhbQBloEEi8aBEIiYKYQDyAMsIcwB1AAABYnBWIlgi5QDUCeUA3wmAAWJjcABgInMieCKAoYQiRWVzAGci7glqIgDgxSo4A2UAdABl4IIi0iBxAPGgiCJoImMAZaCBIvEA/gmAoYUiRWVzAH8iFgqCIgDgxio4A2UAdABl4IMi0iBxAPGgiSKAIgACZ2lscpIilCKaIpwi7AAMCWwAZABlADuA8QDxQOcAWwlpI2FuZ2xlAAABbHKkIqoi5SFmdGWg6iLxAEUJaSJnaHQAZaDrIvEAvgltoL0DAKEjAGVzuCK8InIAbwAAoBYhcAAAoAcggARESGFkZ2lscnMAziLSItYi2iLeIugi7SICIw8j4SFzaACgrSLhIXJyAKAEKXAAAOBNItIg4SFzaACgrCIAAWV04iLlIgDgZSLSIADgPgDSIG4iZmluAACg3imAAUFldADzIvci+iJyAHIAAKACKQDgZCLSIHLgPADSIGkAZQAA4LQi0iAAAUF0BiMKI3IAcgAAoAMp8iFpZQDgtSLSIGkAbQAA4Dwi0iCAAUFhbgAaIx4jKiNyAHIAAKDWIXIAAAFociMjJiNrAACgIylvoJYh9wD/DuUhYXIAoCcpUxJqFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVCMAAF4jaSN/I4IjjSOeI8AUAAAAAKYjwCMAANoj3yMAAO8jHiQvJD8kRCQAAWNzVyNsFHUAdABlADuA8wDzQAABaXlhI2cjcgBjoJoiO4D0APRAPmSAAmFiaW9zAHEjdCN3I3EBeiNzAOgAdhTsIWFjUWF2AACgOCrvIWxkAKC8KewhaWdTYQABY3KFI4kjaQByAACgvykA4DXYLN1vA5QjAAAAAJYjAACcI24A22JhAHYAZQA7gPIA8kAAoMEpAAFibaEjjAphAHIAAKC1KQACYWNpdKwjryO6I70jcgDyAFkUAAFpcrMjtiNyAACgvinvIXNzAKC7KW4A5QDZCgCgwCmAAWFlaQDFI8gjyyNjAHIATWFnAGEAyWOAAWNkbgDRI9Qj1iPyIW9uv2MAoLYpdQDzAHgBcABmAADgNdhg3YABYWVsAOQj5yPrI3IAAKC3KXIAcAAAoLkpdQDzAHwBAKMoImFkaW9zdvkj/CMPJBMkFiQbJHIA8gBeFIChXSplZm0AAyQJJAwkcgBvoDQhZgAAoDQhO4CqAKpAO4C6ALpA5yFvZgCgtiJyAACgVipsIm9wZQAAoFcqAKBbKoABY2xvACMkJSQrJPIACCRhAHMAaAA7gPgA+EBsAACgmCJpAGwBMyQ4JGQAZQA7gPUA9UBlAHMAYaCXInMAAKA2Km0AbAA7gPYA9kDiIWFyAKA9I+EKXiQAAHokAAB8JJQkAACYJKkkAAAAALUkEQsAAPAkAAAAAAQleiUAAIMlcgCAoSUiYXN0AGUkbyQBCwCBtgA7bGokayS2QGwAZQDsABgDaQJ1JAAAAAB4JG0AAKDzKgCg/Sp5AD9kcgCAAmNpbXB0AIUkiCSLJJkSjyRuAHQAJWBvAGQALmBpAGwAAKAwIOUhbmsAoDEgcgAA4DXYLd2AAWltbwCdJKAkpCR2oMYD1WNtAGEA9AD+B24AZQAAoA4m9KHAA64kAAC0JGMjaGZvcmsAAKDUItZjAAFhdbgkxCRuAAABY2u9JMIkawBooA8hAKAOIfYAaRpzAACkKwBhYmNkZW1zdNMkIRPXJNsk4STjJOck6yTjIWlyAKAjKmkAcgAAoCIqAAFvdYsW3yQAoCUqAKByKm4AO4CxALFAaQBtAACgJip3AG8AAKAnKoABaXB1APUk+iT+JO4idGludACgFSpmAADgNdhh3W4AZAA7gKMAo0CApHoiRWFjZWlub3N1ABMlFSUYJRslTCVRJVklSSV1JQCgsypwAACgtyp1AOUAPwtjoK8qgKJ6ImFjZW5zACclLSU0JTYlSSVwAHAAcgBvAPgAFyV1AHIAbAB5AGUA8QA/C/EAOAuAAWFlcwA8JUElRSXwInByb3gAoLkqcQBxAACgtSppAG0AAKDoImkA7QBEC20AZQDzoDIgIguAAUVhcwBDJVclRSXwAEAlgAFkZnAATwtfJXElgAFhbHMAZSVpJW0l7CFhcgCgLiPpIW5lAKASI/UhcmYAoBMjdKAdIu8AWQvyIWVsAKCwIgABY2l9JYElcgAA4DXYxdzIY24iY3NwAACgCCAAA2Zpb3BzdZElKxuVJZolnyWkJXIAAOA12C7dcABmAADgNdhi3XIiaW1lAACgVyBjAHIAAOA12MbcgAFhZW8AqiW6JcAldAAAAWVpryW2JXIAbgBpAG8AbgDzABkFbgB0AACgFipzAHQAZaA/APEACRj0AG0LgApBQkhhYmNkZWZoaWxtbm9wcnN0dXgA4yXyJfYl+iVpJpAmpia9JtUm5ib4JlonaCdxJ3UnnietJ7EnyCfiJ+cngAFhcnQA6SXsJe4lcgDyAJkM8gD6AuEhaWwAoBwpYQByAPIA3BVhAHIAAKBkKYADY2RlbnFydAAGJhAmEyYYJiYmKyZaJgABZXUKJg0mAOA9IjEDdABlAFVhaQDjACAN7SJwdHl2AKCzKWcAgKHpJ2RlbAAgJiImJCYAoJIpAKClKeUA9wt1AG8AO4C7ALtAcgAApZIhYWJjZmhscHN0dz0mQCZFJkcmSiZMJk4mUSZVJlgmcAAAoHUpZqDlIXMAAKAgKQCgMylzAACgHinrALka8ACVHmwAAKBFKWkAbQAAoHQpbAAAoKMhAKCdIQABYWleJmImaQBsAACgGilvAG6gNiJhAGwA8wB2C4ABYWJyAG8mciZ2JnIA8gAvEnIAawAAoHMnAAFha3omgSZjAAABZWt/JoAmfWBdYAABZXOFJocmAKCMKWwAAAFkdYwmjiYAoI4pAKCQKQACYWV1eZcmmiajJqUm8iFvbllhAAFkaZ4moSZpAGwAV2HsAA8M4gCAJkBkAAJjbHFzrSawJrUmuiZhAACgNylkImhhcgAAoGkpdQBvAPKgHSCjAWgAAKCzIYABYWNnAMMm0iaUC2wAgKEcIWlwcwDLJs4migxuAOUAoAxhAHIA9ADaC3QAAKCtJYABaWxyANsm3ybjJvMhaHQAoH0pbwBvAPIANgwA4DXYL90AAWFv6ib1JnIAAAFkde8m8SYAoMEhbKDAIQCgbCl2oMED8WOAAWducwD+Jk4nUCdoAHQAAANhaGxyc3QKJxInISc1Jz0nRydyInJvdwB0oJIhYQDpAFYmYSNycG9vbgAAAWR1GiceJ28AdwDuAPAmcAAAoMAh5SFmdAABYWgnJy0ncgByAG8AdwDzAAkMYQByAHAAbwBvAG4A8wATBGklZ2h0YXJyb3dzAACgySFxAHUAaQBnAGEAcgByAG8A9wBZJugkcmVldGltZXMAoMwiZwDaYmkAbgBnAGQAbwB0AHMAZQDxABwYgAFhaG0AYCdjJ2YncgDyAAkMYQDyABMEAKAPIG8idXN0AGGgsSPjIWhlAKCxI+0haWQAoO4qAAJhYnB0fCeGJ4knmScAAW5ygCeDJ2cAAKDtJ3IAAKD+IXIA6wAcDIABYWZsAI8nkieVJ3IAAKCGKQDgNdhj3XUAcwAAoC4qaSJtZXMAAKA1KgABYXCiJ6gncgBnoCkAdAAAoJQp7yJsaW50AKASKmEAcgDyADwnAAJhY2hxuCe8J6EMwCfxIXVvAKA6IHIAAOA12MfcAAFidYAmxCdvAPKgGSCoAYABaGlyAM4n0ifWJ3IAZQDlAE0n7SFlcwCgyiJpAIChuSVlZmwAXAxjEt4n9CFyaQCgzinsInVoYXIAoGgpAKAeIWENBSgJKA0oSyhVKIYoAACLKLAoAAAAAOMo5ygAABApJCkxKW0pcSmHKaYpAACYKgAAAACxKmMidXRlAFthcQB1AO8ABR+ApHsiRWFjZWlucHN5ABwoHignKCooLygyKEEoRihJKACgtCrwASMoAAAlKACguCpvAG4AYWF1AOUAgw1koLAqaQBsAF9hcgBjAF1hgAFFYXMAOCg6KD0oAKC2KnAAAKC6KmkAbQAAoOki7yJsaW50AKATKmkA7QCIDUFkbwB0AGKixSKRFgAAAABTKACgZiqAA0FhY21zdHgAYChkKG8ocyh1KHkogihyAHIAAKDYIXIAAAFocmkoayjrAJAab6CYIfcAzAd0ADuApwCnQGkAO2D3IWFyAKApKW0AAAFpbn4ozQBuAHUA8wDOAHQAAKA2J3IA7+A12DDdIxkAAmFjb3mRKJUonSisKHIAcAAAoG8mAAFoeZkonChjAHkASWRIZHIAdABtAqUoAAAAAKgoaQDkAFsPYQByAGEA7ABsJDuArQCtQAABZ22zKLsobQBhAAChwwNmdroouijCY4CjPCJkZWdsbnByAMgozCjPKNMo1yjaKN4obwB0AACgairxoEMiCw5FoJ4qAKCgKkWgnSoAoJ8qZQAAoEYi7CF1cwCgJCrhIXJyAKByKWEAcgDyAPwMAAJhZWl07Sj8KAEpCCkAAWxz8Sj4KGwAcwBlAHQAbQDpAH8oaABwAACgMyrwImFyc2wAoOQpAAFkbFoPBSllAACgIyNloKoqc6CsKgDgrCoA/oABZmxwABUpGCkfKfQhY3lMZGKgLwBhoMQpcgAAoD8jZgAA4DXYZN1hAAABZHIoKRcDZQBzAHWgYCZpAHQAAKBgJoABY3N1ADYpRilhKQABYXU6KUApcABzoJMiAOCTIgD+cABzoJQiAOCUIgD+dQAAAWJwSylWKQChjyJlcz4NUCllAHQAZaCPIvEAPw0AoZAiZXNIDVspZQB0AGWgkCLxAEkNAKGhJWFmZilbBHIAZQFrKVwEAKChJWEAcgDyAAMNAAJjZW10dyl7KX8pgilyAADgNdjI3HQAbQDuAM4AaQDsAAYpYQByAOYAVw0AAWFyiimOKXIA5qAGJhESAAFhbpIpoylpImdodAAAAWVwmSmgKXAAcwBpAGwAbwDuANkXaADpAKAkcwCvYIACYmNtbnAArin8KY4NJSooKgCkgiJFZGVtbnByc7wpvinCKcgpzCnUKdgp3CkAoMUqbwB0AACgvSpkoIYibwB0AACgwyr1IWx0AKDBKgABRWXQKdIpAKDLKgCgiiLsIXVzAKC/KuEhcnIAoHkpgAFlaXUA4inxKfQpdAAAoYIiZW7oKewpcQDxoIYivSllAHEA8aCKItEpbQAAoMcqAAFicPgp+ikAoNUqAKDTKmMAgKJ7ImFjZW5zAAcqDSoUKhYqRihwAHAAcgBvAPgAIyh1AHIAbAB5AGUA8QCDDfEAfA2AAWFlcwAcKiIqPShwAHAAcgBvAPgAPChxAPEAOShnAACgaiYApoMiMTIzRWRlaGxtbnBzPCo/KkIqRSpHKlIqWCpjKmcqaypzKncqO4C5ALlAO4CyALJAO4CzALNAAKDGKgABb3NLKk4qdAAAoL4qdQBiAACg2CpkoIcibwB0AACgxCpzAAABb3VdKmAqbAAAoMknYgAAoNcq4SFycgCgeyn1IWx0AKDCKgABRWVvKnEqAKDMKgCgiyLsIXVzAKDAKoABZWl1AH0qjCqPKnQAAKGDImVugyqHKnEA8aCHIkYqZQBxAPGgiyJwKm0AAKDIKgABYnCTKpUqAKDUKgCg1iqAAUFhbgCdKqEqrCpyAHIAAKDZIXIAAAFocqYqqCrrAJUab6CZIfcAxQf3IWFyAKAqKWwAaQBnADuA3wDfQOELzyrZKtwq6SrsKvEqAAD1KjQrAAAAAAAAAAAAAEwrbCsAAHErvSsAAAAAAADRK3IC1CoAAAAA2CrnIWV0AKAWI8RjcgDrAOUKgAFhZXkA4SrkKucq8iFvbmVh5CFpbGNhQmRvAPQAIg5sInJlYwAAoBUjcgAA4DXYMd0AAmVpa2/7KhIrKCsuK/IBACsAAAkrZQAAATRm6g0EK28AcgDlAOsNYQBzorgDECsAAAAAEit5AG0A0WMAAWNuFislK2sAAAFhcxsrIStwAHAAcgBvAPgAFw5pAG0AAKA8InMA8AD9DQABYXMsKyEr8AAXDnIAbgA7gP4A/kDsATgrOyswG2QA5QBnAmUAcwCAgdcAO2JkAEMrRCtJK9dAYaCgInIAAKAxKgCgMCqAAWVwcwBRK1MraSvhAAkh4qKkIlsrXysAAAAAYytvAHQAAKA2I2kAcgAAoPEqb+A12GXdcgBrAACg2irhAHgociJpbWUAAKA0IIABYWlwAHYreSu3K2QA5QC+DYADYWRlbXBzdACFK6MrmiunK6wrsCuzK24iZ2xlAACitSVkbHFykCuUK5ornCvvIXduAKC/JeUhZnRloMMl8QACBwCgXCJpImdodABloLkl8QBdDG8AdAAAoOwlaSJudXMAAKA6KuwhdXMAoDkqYgAAoM0p6SFtZQCgOyrlInppdW0AoOIjgAFjaHQAwivKK80rAAFyecYrySsA4DXYydxGZGMAeQBbZPIhb2tnYQABaW/UK9creAD0ANERaCJlYWQAAAFsct4r5ytlAGYAdABhAHIAcgBvAPcAXQbpJGdodGFycm93AKCgIQAJQUhhYmNkZmdobG1vcHJzdHV3CiwNLBEsHSwnLDEsQCxLLFIsYix6LIQsjyzLLOgs7Sz/LAotcgDyAAkDYQByAACgYykAAWNyFSwbLHUAdABlADuA+gD6QPIACQ1yAOMBIywAACUseQBeZHYAZQBtYQABaXkrLDAscgBjADuA+wD7QENkgAFhYmgANyw6LD0scgDyANEO7CFhY3FhYQDyAOAOAAFpckQsSCzzIWh0AKB+KQDgNdgy3XIAYQB2AGUAO4D5APlAYQFWLF8scgAAAWxyWixcLACgvyEAoL4hbABrAACggCUAAWN0Zix2LG8CbCwAAAAAcyxyAG4AZaAcI3IAAKAcI28AcAAAoA8jcgBpAACg+CUAAWFsfiyBLGMAcgBrYTuAqACoQAABZ3CILIssbwBuAHNhZgAA4DXYZt0AA2FkaGxzdZksniynLLgsuyzFLHIAcgBvAPcACQ1vAHcAbgBhAHIAcgBvAPcA2A5hI3Jwb29uAAABbHKvLLMsZQBmAPQAWyxpAGcAaAD0AF0sdQDzAKYOaQAAocUDaGzBLMIs0mNvAG4AxWPwI2Fycm93cwCgyCGAAWNpdADRLOEs5CxvAtcsAAAAAN4scgBuAGWgHSNyAACgHSNvAHAAAKAOI24AZwBvYXIAaQAAoPklYwByAADgNdjK3IABZGlyAPMs9yz6LG8AdAAAoPAi7CFkZWlhaQBmoLUlAKC0JQABYW0DLQYtcgDyAMosbAA7gPwA/EDhIm5nbGUAoKcpgAdBQkRhY2RlZmxub3Byc3oAJy0qLTAtNC2bLZ0toS2/LcMtxy3TLdgt3C3gLfwtcgDyABADYQByAHag6CoAoOkqYQBzAOgA/gIAAW5yOC08LechcnQAoJwpgANla25wcnN0AJkpSC1NLVQtXi1iLYItYQBwAHAA4QAaHG8AdABoAGkAbgDnAKEXgAFoaXIAoSmzJFotbwBwAPQAdCVooJUh7wD4JgABaXVmLWotZwBtAOEAuygAAWJwbi14LXMjZXRuZXEAceCKIgD+AODLKgD+cyNldG5lcQBx4IsiAP4A4MwqAP4AAWhyhi2KLWUAdADhABIraSNhbmdsZQAAAWxyki2WLeUhZnQAoLIiaSJnaHQAAKCzInkAMmThIXNoAKCiIoABZWxyAKcttC24LWKiKCKuLQAAAACyLWEAcgAAoLsicQAAoFoi7CFpcACg7iIAAWJ0vC1eD2EA8gBfD3IAAOA12DPddAByAOkAlS1zAHUAAAFicM0t0C0A4IIi0iAA4IMi0iBwAGYAAOA12GfdcgBvAPAAWQt0AHIA6QCaLQABY3XkLegtcgAA4DXYy9wAAWJw7C30LW4AAAFFZXUt8S0A4IoiAP5uAAABRWV/LfktAOCLIgD+6SJnemFnAKCaKYADY2Vmb3BycwANLhAuJS4pLiMuLi40LukhcmN1YQABZGkULiEuAAFiZxguHC5hAHIAAKBfKmUAcaAnIgCgWSLlIXJwAKAYIXIAAOA12DTdcABmAADgNdho3WWgQCJhAHQA6ABqD2MAcgAA4DXYzNzjCuQRUC4AAFQuAABYLmIuAAAAAGMubS5wLnQuAAAAAIguki4AAJouJxIqEnQAcgDpAB0ScgAA4DXYNd0AAUFhWy5eLnIA8gDnAnIA8gCTB75jAAFBYWYuaS5yAPIA4AJyAPIAjAdhAPAAeh5pAHMAAKD7IoABZHB0APgReS6DLgABZmx9LoAuAOA12GnddQDzAP8RaQBtAOUABBIAAUFhiy6OLnIA8gDuAnIA8gCaBwABY3GVLgoScgAA4DXYzdwAAXB0nS6hLmwAdQDzACUScgDpACASAARhY2VmaW9zdbEuvC7ELsguzC7PLtQu2S5jAAABdXm2LrsudABlADuA/QD9QE9kAAFpecAuwy5yAGMAd2FLZG4AO4ClAKVAcgAA4DXYNt1jAHkAV2RwAGYAAOA12GrdYwByAADgNdjO3AABY23dLt8ueQBOZGwAO4D/AP9AAAVhY2RlZmhpb3N38y73Lv8uAi8MLxAvEy8YLx0vIi9jInV0ZQB6YQABYXn7Lv4u8iFvbn5hN2RvAHQAfGEAAWV0Bi8KL3QAcgDmAB8QYQC2Y3IAAOA12DfdYwB5ADZk5yJyYXJyAKDdIXAAZgAA4DXYa91jAHIAAOA12M/cAAFqbiYvKC8AoA0gagAAoAwg"),hje=BJ("AAJhZ2xxBwARABMAFQBtAg0AAAAAAA8AcAAmYG8AcwAnYHQAPmB0ADxg9SFvdCJg");var Ir;(function(n){n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.FLAG13=8192]="FLAG13",n[n.BRANCH_LENGTH=8064]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE"})(Ir||(Ir={}));var Qn;(function(n){n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z"})(Qn||(Qn={}));const wF=32;function WI(n){return n>=Qn.ZERO&&n<=Qn.NINE}function mje(n){return n>=Qn.UPPER_A&&n<=Qn.UPPER_F||n>=Qn.LOWER_A&&n<=Qn.LOWER_F}function gje(n){return n>=Qn.UPPER_A&&n<=Qn.UPPER_Z||n>=Qn.LOWER_A&&n<=Qn.LOWER_Z||WI(n)}function pje(n){return n===Qn.EQUALS||gje(n)}var qi;(function(n){n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity"})(qi||(qi={}));var Ul;(function(n){n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute"})(Ul||(Ul={}));class bje{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=qi.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ul.Strict}startEntity(e){this.decodeMode=e,this.state=qi.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case qi.EntityStart:return e.charCodeAt(t)===Qn.NUM?(this.state=qi.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=qi.NamedEntity,this.stateNamedEntity(e,t));case qi.NumericStart:return this.stateNumericStart(e,t);case qi.NumericDecimal:return this.stateNumericDecimal(e,t);case qi.NumericHex:return this.stateNumericHex(e,t);case qi.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|wF)===Qn.LOWER_X?(this.state=qi.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=qi.NumericDecimal,this.stateNumericDecimal(e,t))}stateNumericHex(e,t){for(;t<e.length;){const i=e.charCodeAt(t);if(WI(i)||mje(i)){const r=i<=Qn.NINE?i-Qn.ZERO:(i|wF)-Qn.LOWER_A+10;this.result=this.result*16+r,this.consumed++,t++}else return this.emitNumericEntity(i,3)}return-1}stateNumericDecimal(e,t){for(;t<e.length;){const i=e.charCodeAt(t);if(WI(i))this.result=this.result*10+(i-Qn.ZERO),this.consumed++,t++;else return this.emitNumericEntity(i,2)}return-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Qn.SEMI)this.consumed+=1;else if(this.decodeMode===Ul.Strict)return 0;return this.emitCodePoint(dje(this.result),this.consumed),this.errors&&(e!==Qn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&Ir.VALUE_LENGTH)>>14;for(;t<e.length;){if(s===0&&(r&Ir.FLAG13)!==0){const a=(r&Ir.BRANCH_LENGTH)>>7,l=r&Ir.JUMP_TABLE;if(t+a>e.length)return-1;if(e.charCodeAt(t)!==l)return this.result===0?0:this.emitNotTerminatedNamedEntity();t++,this.excess++;const d=a-1;for(let f=1;f<a;f+=2){const m=i[this.treeIndex+1+(f-1>>1)],p=m&255;if(e.charCodeAt(t)!==p)return this.result===0?0:this.emitNotTerminatedNamedEntity();t++,this.excess++;const w=m>>8&255;if(f+1<a){if(e.charCodeAt(t)!==w)return this.result===0?0:this.emitNotTerminatedNamedEntity();t++,this.excess++}}this.treeIndex+=1+(d+1>>1),r=i[this.treeIndex],s=(r&Ir.VALUE_LENGTH)>>14}if(t>=e.length)break;const o=e.charCodeAt(t);if(o===Qn.SEMI&&s!==0&&(r&Ir.FLAG13)!==0)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);if(this.treeIndex=vje(i,r,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ul.Attribute&&(s===0||pje(o))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&Ir.VALUE_LENGTH)>>14,s!==0){if(o===Qn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ul.Strict&&(r&Ir.FLAG13)===0&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}t++,this.excess++}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:i}=this,r=(i[t]&Ir.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){const{decodeTree:r}=this;return this.emitCodePoint(t===1?r[e]&~(Ir.VALUE_LENGTH|Ir.FLAG13):r[e+1],i),t===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case qi.NamedEntity:return this.result!==0&&(this.decodeMode!==Ul.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case qi.NumericDecimal:return this.emitNumericEntity(0,2);case qi.NumericHex:return this.emitNumericEntity(0,3);case qi.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case qi.EntityStart:return 0}}}function VJ(n){let e="";const t=new bje(n,i=>e+=uje(i));return function(r,s){let o=0,a=0;for(;(a=r.indexOf("&",a))>=0;){e+=r.slice(o,a),t.startEntity(s);const d=t.write(r,a+1);if(d<0){o=a+t.end();break}o=a+d,a=d===0?o+1:o}const l=e+r.slice(o);return e="",l}}function vje(n,e,t,i){const r=(e&Ir.BRANCH_LENGTH)>>7,s=e&Ir.JUMP_TABLE;if(r===0)return s!==0&&i===s?t:-1;if(s){const d=i-s;return d<0||d>=r?-1:n[t+d]-1}const o=r+1>>1;let a=0,l=r-1;for(;a<=l;){const d=a+l>>>1,f=d>>1,p=n[t+f]>>(d&1)*8&255;if(p<i)a=d+1;else if(p>i)l=d-1;else return n[t+o+d]}return-1}const wje=VJ(fje),yje=VJ(hje);function _je(n,e=Ul.Legacy){return wje(n,e)}function Aje(n){return yje(n,Ul.Strict)}var u1;(function(n){n[n.XML=0]="XML",n[n.HTML=1]="HTML"})(u1||(u1={}));var yF;(function(n){n[n.UTF8=0]="UTF8",n[n.ASCII=1]="ASCII",n[n.Extensive=2]="Extensive",n[n.Attribute=3]="Attribute",n[n.Text=4]="Text"})(yF||(yF={}));function LJ(n,e=u1.XML){if((typeof e=="number"?e:e.level)===u1.HTML){const i=typeof e=="object"?e.mode:void 0;return _je(n,i)}return Aje(n)}function kje(){const n=Ko(),[e,t]=C.useState(null),r=oo().state?.blogId,[s,o]=C.useState(null);Es(P=>P.user);const{data:a}=ur(`${Gt("VITE_API_BASE_URL")}/auth/category/all`,{method:"get",credentials:"include"}),l=P=>{const I=P[0];o(I);const O=URL.createObjectURL(I);t(O)},d=Tn.object({category:Tn.string().min(2,"Category should be atleast two character long"),title:Tn.string().min(2,"Title should be atleast two character long"),slug:Tn.string().min(3,"Slug should be atleast three character long"),blogContent:Tn.string().min(3,"Blog Content should be atleast three character long")}),f=Mu({resolver:Lu(d),defaultValues:{category:"",title:"",slug:"",blogContent:""}}),{data:m,loading:p,error:w}=ur(r?`${Gt("VITE_API_BASE_URL")}/auth/blog/edit/${r}`:null,{method:"get",credentials:"include"},[r]);C.useEffect(()=>{!m?.data||!a?.data?.length||(f.reset({category:m.data.category?._id||"",title:m.data.title||"",slug:m.data.slug||"",blogContent:m.data.blogContent||""}),m.data.featuredImage&&t(m.data.featuredImage))},[m,a,f]),C.useEffect(()=>{w&&Wt(w.message)},[w]);const A=(P,I)=>{const O=I.getData();f.setValue("blogContent",O)},x=f.watch("title");C.useEffect(()=>{if(x&&x.trim().length>0){const P=Ek(x,{lower:!0});f.setValue("slug",P)}else f.setValue("slug","")},[x,f]);const S=async P=>{try{const I=new FormData;s?I.append("file",s):I.append("featuredImage",m?.data?.featuredImage||""),I.append("data",JSON.stringify(P)),I.append("blog_id",r);const O=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/blog/update/${r}`,{method:"PUT",credentials:"include",body:I}),M=await O.json();if(!O.ok){Pt("error",M?.message);return}f.reset(),o(null),t(null),n(zb),Pt("success",M?.message)}catch(I){Pt("error",I?.message)}};return p?y.jsx("div",{children:y.jsx(Ka,{})}):w?y.jsx("div",{className:"flex justify-center items-center min-h-screen",children:y.jsxs("p",{className:"text-red-500",children:["Error loading blog: ",w.message]})}):y.jsx("div",{className:"flex justify-center items-start min-h-screen bg-gray-50 p-6",children:y.jsxs(Ha,{className:"w-full max-w-3xl shadow-xl rounded-2xl",children:[y.jsx(Nu,{className:"pb-4",children:y.jsx(Dv,{className:"text-2xl font-bold text-center text-gray-800",children:"Edit Blog"})}),y.jsx(Wa,{children:y.jsx(Bu,{...f,children:y.jsxs("form",{onSubmit:f.handleSubmit(S),className:"space-y-8",children:[y.jsx("div",{children:y.jsx(ti,{control:f.control,name:"category",render:({field:P})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Category"}),y.jsx(Hn,{children:y.jsxs(rK,{value:P.value,onValueChange:P.onChange,children:[y.jsx(kO,{children:y.jsx(sK,{placeholder:"Select"})}),y.jsx(xO,{children:a&&a?.data?.length>0&&a?.data?.map(I=>y.jsx(CO,{value:I._id,children:I?.name},I._id))})]})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx("div",{children:y.jsx(ti,{control:f.control,name:"title",render:({field:P})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Title"}),y.jsx(Hn,{children:y.jsx(Ri,{type:"text",placeholder:"Enter blog title",className:"rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 px-4 py-2",...P})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx("div",{children:y.jsx(ti,{control:f.control,name:"slug",render:({field:P})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Slug"}),y.jsx(Hn,{children:y.jsx(Ri,{placeholder:"auto-generated slug",readOnly:!0,className:"rounded-xl border-gray-300 bg-gray-100 text-gray-600 cursor-not-allowed px-4 py-2",...P})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsxs("div",{children:[y.jsx("span",{children:"Featured Image"}),y.jsx(ag,{onDrop:P=>l(P),children:({getRootProps:P,getInputProps:I})=>y.jsxs("div",{...P(),className:"bg-gray-100 rounded-lg ",children:[y.jsx("input",{...I(),placeholder:"Enter to select Img"}),y.jsx("div",{className:"inline-block border-dashed border rounded bg-gray-100 max-w-xs",children:e?y.jsx("img",{src:e,alt:"preview",className:"w-auto h-auto max-w-full max-h-40"}):y.jsx("span",{className:"text-gray-400 text-sm",children:"Upload"})})]})})]}),y.jsx("div",{className:"mb-3",children:y.jsx(ti,{control:f.control,name:"blogContent",render:({field:P})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Blog Content"}),y.jsx(Hn,{children:y.jsx(MJ,{props:{initialData:P.value?LJ(P.value):"",onChange:A}})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})})}),y.jsx(ni,{type:"submit",className:"w-full rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white py-3 text-lg font-medium",children:"Submit"})]})})})]})})}function xje({blogId:n,newComments:e}){const t=Es(o=>o.user),{data:i,loading:r,error:s}=ur(`${Gt("VITE_API_BASE_URL")}/auth/comment/get/${n}`,{method:"get",credentials:"include"});return r?y.jsx("p",{className:"text-gray-500",children:"Loading comments..."}):s?y.jsx("p",{className:"text-red-500",children:"Failed to load comments."}):y.jsxs("div",{className:"mt-8",children:[y.jsx("h4",{className:"text-xl font-semibold mb-6 border-b pb-2",children:y.jsxs("span",{children:[i?.data.length+e.length," Comments"]})}),e.map(o=>y.jsxs("div",{className:"flex gap-3 mb-4 p-4 border rounded-xl bg-indigo-50 shadow-sm",children:[y.jsx(jb,{className:"w-12 h-12 rounded-full overflow-hidden",children:y.jsx(Ub,{src:t.userData?.avatar||eA})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-semibold text-gray-800",children:t?.userData.name}),y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:We(o?.createdAt).format("DD MMM YYYY")}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:o?.comment})]})]},o._id)),y.jsx("div",{className:"space-y-4",children:i?.data.length>0?i.data.map(o=>y.jsxs("div",{className:"flex gap-3 p-4 border rounded-xl shadow-sm hover:shadow-md transition bg-white",children:[y.jsx(jb,{className:"w-12 h-12 rounded-full overflow-hidden",children:y.jsx(Ub,{src:o?.user.avatar||eA})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-semibold text-gray-800",children:o?.user.name}),y.jsx("p",{className:"text-xs text-gray-500 mb-1",children:We(o?.createdAt).format("DD MMM YYYY")}),y.jsx("p",{className:"text-gray-700 leading-relaxed",children:o?.comment})]})]},o._id)):y.jsx("p",{className:"text-gray-500 text-center italic",children:"No comments yet. Be the first one "})})]})}function Cje({blogId:n}){const[e,t]=C.useState([]),i=Es(a=>a.user),r=Tn.object({comment:Tn.string().min(2,"Comment should be at least 2 characters long")}),s=Mu({resolver:Lu(r),defaultValues:{comment:""}}),o=async a=>{try{const l={...a,blogId:n,user:i.userData._id},d=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/comment/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)}),f=await d.json();if(!d.ok){Pt("error",f?.message);return}t(m=>[f.data,...m]),s.reset(),Pt("success",f?.message)}catch(l){Pt("error",l?.message)}};return y.jsxs("div",{className:"mt-10",children:[y.jsxs("h4",{className:"flex items-center gap-2 text-2xl font-bold mb-6",children:[y.jsx(qde,{className:"text-indigo-600"})," Comments"]}),i&&i.status?y.jsx(Bu,{...s,children:y.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-6 mb-10",children:[y.jsx(ti,{control:s.control,name:"comment",render:({field:a})=>y.jsxs(Un,{children:[y.jsx($n,{className:"font-medium text-gray-700",children:"Write a comment"}),y.jsx(Hn,{children:y.jsx(yO,{...a,placeholder:"Type your comment...",className:"w-full rounded-xl border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"})}),y.jsx(Wn,{className:"text-red-500 text-sm mt-1"})]})}),y.jsx(ni,{type:"submit",className:"rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 text-lg font-medium shadow-md",children:"Post Comment"})]})}):y.jsx(ni,{asChild:!0,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:y.jsx(ei,{to:Xd,children:"Sign In to Comment"})}),y.jsx(xje,{blogId:n,newComments:e})]})}function Sje(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Heart"},child:[{tag:"path",attr:{d:"M12,20.043a.977.977,0,0,1-.7-.288L4.63,13.08A5.343,5.343,0,0,1,6.053,4.513,5.266,5.266,0,0,1,12,5.371a5.272,5.272,0,0,1,5.947-.858A5.343,5.343,0,0,1,19.37,13.08l-6.676,6.675A.977.977,0,0,1,12,20.043ZM8.355,4.963A4.015,4.015,0,0,0,6.511,5.4,4.4,4.4,0,0,0,4.122,8.643a4.345,4.345,0,0,0,1.215,3.73l6.675,6.675,6.651-6.675a4.345,4.345,0,0,0,1.215-3.73A4.4,4.4,0,0,0,17.489,5.4a4.338,4.338,0,0,0-4.968.852h0a.744.744,0,0,1-1.042,0A4.474,4.474,0,0,0,8.355,4.963Z"},child:[]}]}]})(n)}function Eje({blogId:n}){const[e,t]=C.useState(0),[i,r]=C.useState(!1),s=Es(l=>l.user),{data:o}=ur(`${Gt("VITE_API_BASE_URL")}/auth/like/get-like-count/${n}`,{method:"get",credentials:"include"});C.useEffect(()=>{o?.data&&(t(o.data.likeCount),r(o.data.hasUserLiked))},[o]);const a=async()=>{try{if(!s.status)return Pt("error","Please login into your account");const l=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/like/do-like`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user:s.userData._id,blogId:n})});if(!l.ok){Pt("error",l.statusText);return}const d=await l.json(),f=await fetch(`${Gt("VITE_API_BASE_URL")}/auth/like/get-like-count/${n}`,{method:"get",credentials:"include"});if(f.ok){const m=await f.json();m.data&&(t(m.data.likeCount),r(m.data.hasUserLiked))}}catch(l){Pt("error",l.message)}};return y.jsxs("button",{type:"button",onClick:a,className:"flex justify-between items-center gap-1",children:[i?y.jsx(hie,{fill:"red"}):y.jsx(Sje,{}),e]})}function Tje({categorySlug:n,currentBlog:e}){const{data:t,loading:i,error:r}=ur(`${Gt("VITE_API_BASE_URL")}/auth/blog/get-related-blog/${n}/${e}`,{method:"get",credentials:"include"},[n]);return i?y.jsx("div",{className:"text-center py-6 text-gray-500",children:"Loading related blogs..."}):r?y.jsxs("div",{className:"text-center text-red-500",children:["Error: ",r.message]}):y.jsxs("div",{className:"mt-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 border-b pb-2",children:"Related Blogs"}),y.jsx("div",{className:"flex flex-col gap-4",children:t&&t?.data.length>0?t?.data.map(s=>y.jsxs(ei,{to:r2(n,s.slug),className:"group bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition duration-300 flex items-center",children:[y.jsx("div",{className:"w-32 h-24 flex-shrink-0 overflow-hidden",children:y.jsx("img",{src:s?.featuredImage,alt:s?.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"})}),y.jsx("div",{className:"p-4 flex-1",children:y.jsx("h4",{className:"font-semibold text-lg text-gray-800 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors",children:s?.title})})]},s._id)):y.jsx("div",{className:"text-gray-500 text-center py-6",children:"No Related Blogs Found"})})]})}function Ije(){const{category:n,blog:e}=NF(),{data:t,loading:i,error:r}=ur(`${Gt("VITE_API_BASE_URL")}/auth/blog/get-blog/${e}`,{method:"get",credentials:"include"},[e,n]);return i?y.jsx(Ka,{}):r?y.jsxs("div",{className:"text-red-500",children:["Error: ",r.message]}):y.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-10 p-6 lg:p-10 bg-gray-50 min-h-screen",children:[t&&y.jsxs("article",{className:"lg:w-[70%] bg-white border rounded-2xl shadow-md p-8 transition hover:shadow-lg",children:[y.jsx("h1",{className:"text-4xl font-extrabold mb-3 text-gray-900 leading-tight",children:t?.data.title}),y.jsxs("div",{className:"flex flex-wrap items-center justify-between border-b pb-4 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(jb,{className:"w-12 h-12 rounded-full border shadow-sm",children:y.jsx(Ub,{src:t?.data.author.avatar})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-800",children:t?.data.author.name}),y.jsx("p",{className:"text-sm text-gray-500",children:We(t?.data.createdAt).format("DD MMM YYYY")})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Eje,{blogId:t?.data._id}),y.jsx("span",{className:"text-xs px-3 py-1 bg-indigo-100 text-indigo-600 font-medium rounded-full shadow-sm",children:t?.data.category.name})]})]}),t?.data.featuredImage&&y.jsx("div",{className:"mb-8",children:y.jsx("img",{src:t?.data.featuredImage,alt:t?.data.title,className:"w-full h-[400px] object-cover                rounded-xl shadow"})}),y.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:LJ(t?.data.blogContent)||""}}),y.jsx("div",{className:"mt-12 border-t ",children:y.jsx(Cje,{blogId:t?.data._id})})]}),y.jsx("aside",{className:"lg:w-[30%] space-y-6",children:y.jsxs("div",{className:"sticky top-24 bg-white border rounded-2xl shadow-md p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Related Blogs"}),t&&y.jsx(Tje,{categorySlug:n,currentBlog:e})]})})]})}function Pje(){const{category:n}=NF(),{data:e,loading:t}=ur(`${Gt("VITE_API_BASE_URL")}/auth/blog/get-category-related-blog/${n}`,{method:"get",credentials:"include"},[n]);return t?y.jsx(Ka,{}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500 text-white rounded-2xl shadow-lg p-8 mb-10",children:[y.jsxs("div",{className:"flex items-center justify-center gap-3 text-3xl font-extrabold",children:[y.jsx(Sme,{className:"text-4xl"}),y.jsx("h4",{children:e?.data?.categoryData?.name||"Category"})]}),y.jsxs("p",{className:"text-center text-lg mt-3 opacity-90",children:["Explore the latest blogs curated under ",y.jsx("span",{className:"font-semibold",children:n}),"."]})]}),y.jsxs("div",{className:"container mx-auto px-4 py-6",children:[y.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-gray-800",children:"Latest Blogs"}),e?.data?.blog&&e.data.blog.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.data.blog.map(i=>y.jsx("div",{className:"hover:scale-105 transition-transform duration-300",children:y.jsx(P2,{props:i})},i._id))}):y.jsx("div",{className:"text-center col-span-full text-gray-500 text-lg",children:" No blogs found in this category."})]})]})}function Rje(){const[n]=Pte(),e=n.get("q"),{data:t}=ur(`${Gt("VITE_API_BASE_URL")}/auth/search?q=${e}`,{method:"get",credentials:"include"},[e]);return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsxs("div",{className:"bg-gradient-to-r from-violet-500 via-purple-500 to-pink-500 text-white rounded-2xl shadow-lg p-8 mb-10",children:[y.jsxs("h4",{className:"text-3xl font-extrabold text-center",children:["Search Results for: ",y.jsx("span",{className:"italic",children:e})]}),y.jsxs("p",{className:"text-center text-lg mt-3 opacity-90",children:["We found ",t?.data?.length||0," blog(s) matching your search."]})]}),y.jsxs("div",{className:"container mx-auto px-4 py-6",children:[y.jsx("h1",{className:"text-4xl font-bold mb-10 text-center text-gray-800",children:"Latest Blogs"}),t?.data&&t.data.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.data.map(i=>y.jsx("div",{className:"hover:scale-105 transition-transform duration-300",children:y.jsx(P2,{props:i})},i._id))}):y.jsxs("div",{className:"text-center col-span-full mt-16",children:[y.jsxs("p",{className:"text-gray-500 text-lg",children:[" No results found for ",y.jsx("span",{className:"font-semibold",children:e}),"."]}),y.jsx("p",{className:"text-gray-400 mt-2",children:"Try searching with different keywords."})]})]})]})}function Oje(){const[n,e]=C.useState(!1),{data:t,loading:i}=ur(`${Gt("VITE_API_BASE_URL")}/auth/comment/get-all-comments`,{method:"get",credentials:"include"},[n]),r=async s=>{await Sk(`${Gt("VITE_API_BASE_URL")}/auth/comment/delete-comment/${s}`)?(e(!n),Pt("success","Comment deleted successfully")):Pt("error","Failed to delete comment")};return i?y.jsx(Ka,{}):y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsx(Ha,{className:"shadow-lg border border-gray-200",children:y.jsxs(Wa,{className:"p-6",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 text-center",children:"Manage Comments"}),y.jsxs(dw,{children:[y.jsx(fw,{children:y.jsxs(Ss,{className:"bg-gray-100",children:[y.jsx(Pi,{className:"font-semibold text-gray-700",children:"Blog"}),y.jsx(Pi,{className:"font-semibold text-gray-700",children:"Comment By"}),y.jsx(Pi,{className:"font-semibold text-gray-700",children:"Comment"}),y.jsx(Pi,{className:"font-semibold text-gray-700 text-center",children:"Action"})]})}),y.jsx(hw,{children:t&&t.data.length>0?t.data.map(s=>y.jsxs(Ss,{className:"hover:bg-violet-50 transition-colors",children:[y.jsx(zn,{className:"font-medium text-gray-800",children:s?.blogId?.title}),y.jsx(zn,{children:s?.user?.name}),y.jsx(zn,{className:"text-gray-600",children:s?.comment}),y.jsx(zn,{className:"flex justify-center",children:y.jsx(ni,{size:"sm",variant:"outline",className:"hover:bg-red-500 hover:text-white rounded-full",onClick:()=>r(s._id),children:y.jsx(v1,{})})})]},s._id)):y.jsx(Ss,{children:y.jsx(zn,{colSpan:"4",className:"text-center py-6 text-gray-500",children:" No comments found"})})})]})]})})})}function Dje(){const[n,e]=C.useState(!1),{data:t,loading:i}=ur(`${Gt("VITE_API_BASE_URL")}/auth/user/get-all-user`,{method:"get",credentials:"include"},[n]),r=async s=>{await Sk(`${Gt("VITE_API_BASE_URL")}/auth/user/delete-user/${s}`)?(e(!n),Pt("success","User deleted")):Pt("error","Failed to delete user")};return i?y.jsx(Ka,{}):y.jsx("div",{className:"p-6",children:y.jsx(Ha,{className:"shadow-lg rounded-2xl border border-gray-200",children:y.jsxs(Wa,{children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Users"}),y.jsxs(dw,{className:"w-full border rounded-lg overflow-hidden",children:[y.jsx(fw,{className:"bg-gray-100",children:y.jsxs(Ss,{children:[y.jsx(Pi,{className:"text-gray-700",children:"Role"}),y.jsx(Pi,{className:"text-gray-700",children:"Name"}),y.jsx(Pi,{className:"text-gray-700",children:"Email"}),y.jsx(Pi,{className:"text-gray-700",children:"Avatar"}),y.jsx(Pi,{className:"text-gray-700",children:"Joined"}),y.jsx(Pi,{className:"text-gray-700 text-center",children:"Action"})]})}),y.jsx(hw,{children:t&&t.data.length>0?t.data.map((s,o)=>y.jsxs(Ss,{className:o%2===0?"bg-white":"bg-gray-50",children:[y.jsx(zn,{children:y.jsx("span",{className:`px-3 py-1 text-sm rounded-full font-medium ${s.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:s?.role})}),y.jsx(zn,{className:"font-medium",children:s?.name}),y.jsx(zn,{className:"text-gray-600",children:s?.email}),y.jsx(zn,{children:y.jsx("img",{src:s?.avatar||eA,alt:s?.name,className:"w-10 h-10 rounded-full border border-gray-200 object-cover"})}),y.jsx(zn,{className:"text-gray-500",children:We(s.createdAt).format("DD MMM YYYY")}),y.jsx(zn,{className:"text-center",children:y.jsx(ni,{variant:"outline",size:"icon",className:"hover:bg-red-500 hover:text-white rounded-full",onClick:()=>r(s._id),children:y.jsx(v1,{})})})]},s._id)):y.jsx(Ss,{children:y.jsx(zn,{colSpan:"6",className:"text-center py-6 text-gray-500",children:"No users found"})})})]})]})})})}function Nje(){const n=Es(e=>e.user);return n&&n.status?y.jsx(f1,{}):y.jsx(VF,{to:Xd})}function Mje(){const n=Es(e=>e.user);return console.log(n),n&&n.status&&n.userData.role==="admin"?y.jsx(f1,{}):y.jsx(VF,{to:Xd})}function Bje(){return y.jsx(Cte,{children:y.jsxs(tte,{children:[y.jsxs(pi,{path:Fb,element:y.jsx(Rme,{}),children:[y.jsx(pi,{index:!0,element:y.jsx(_ae,{})}),y.jsx(pi,{path:r2(),element:y.jsx(Ije,{})}),y.jsx(pi,{path:$E(),element:y.jsx(Pje,{})}),y.jsx(pi,{path:YF(),element:y.jsx(Rje,{})}),y.jsxs(pi,{element:y.jsx(Nje,{}),children:[y.jsx(pi,{path:zb,element:y.jsx(lje,{})}),y.jsx(pi,{path:i2,element:y.jsx(nje,{})}),y.jsx(pi,{path:GF,element:y.jsx(kje,{})}),y.jsx(pi,{path:HE,element:y.jsx(Oje,{})}),y.jsx(pi,{path:$F,element:y.jsx(Oke,{})})]}),y.jsxs(pi,{element:y.jsx(Mje,{}),children:[y.jsx(pi,{path:z0,element:y.jsx(Bke,{})}),y.jsx(pi,{path:HF,element:y.jsx(zke,{})}),y.jsx(pi,{path:WF,element:y.jsx(jke,{})}),y.jsx(pi,{path:WE,element:y.jsx(Dje,{})})]})]}),y.jsx(pi,{path:Xd,element:y.jsx(DM,{}),children:y.jsx(pi,{index:!0,element:y.jsx(P1e,{})})}),y.jsx(pi,{path:n2,element:y.jsx(DM,{}),children:y.jsx(pi,{index:!0,element:y.jsx(R1e,{})})})]})})}function D0(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D0=function(t){return typeof t}:D0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(n)}function FE(){}var Vje={getItem:FE,setItem:FE,removeItem:FE};function Lje(n){if((typeof self>"u"?"undefined":D0(self))!=="object"||!(n in self))return!1;try{var e=self[n],t="redux-persist ".concat(n," test");e.setItem(t,"test"),e.getItem(t),e.removeItem(t)}catch{return!1}return!0}function Fje(n){var e="".concat(n,"Storage");return Lje(e)?self[e]:Vje}function zje(n){var e=Fje(n);return{getItem:function(i){return new Promise(function(r,s){r(e.getItem(i))})},setItem:function(i,r){return new Promise(function(s,o){s(e.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(e.removeItem(i))})}}}const jje=zje("session");var Y5="persist:",FJ="persist/FLUSH",K5="persist/REHYDRATE",zJ="persist/PAUSE",jJ="persist/PERSIST",UJ="persist/PURGE",$J="persist/REGISTER",Uje=-1;function N0(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N0=function(t){return typeof t}:N0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(n)}function _F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $je(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_F(t,!0).forEach(function(i){Hje(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_F(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Hje(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Wje(n,e,t,i){i.debug;var r=$je({},t);return n&&N0(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&e[s]===t[s]&&(r[s]=n[s])}),r}function Gje(n){var e=n.blacklist||null,t=n.whitelist||null,i=n.transforms||[],r=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:Y5).concat(n.key),o=n.storage,a;n.serialize===!1?a=function(B){return B}:typeof n.serialize=="function"?a=n.serialize:a=Yje;var l=n.writeFailHandler||null,d={},f={},m=[],p=null,w=null,A=function(B){Object.keys(B).forEach(function(W){P(W)&&d[W]!==B[W]&&m.indexOf(W)===-1&&m.push(W)}),Object.keys(d).forEach(function(W){B[W]===void 0&&P(W)&&m.indexOf(W)===-1&&d[W]!==void 0&&m.push(W)}),p===null&&(p=setInterval(x,r)),d=B};function x(){if(m.length===0){p&&clearInterval(p),p=null;return}var M=m.shift(),B=i.reduce(function(W,$){return $.in(W,M,d)},d[M]);if(B!==void 0)try{f[M]=a(B)}catch(W){console.error("redux-persist/createPersistoid: error serializing state",W)}else delete f[M];m.length===0&&S()}function S(){Object.keys(f).forEach(function(M){d[M]===void 0&&delete f[M]}),w=o.setItem(s,a(f)).catch(I)}function P(M){return!(t&&t.indexOf(M)===-1&&M!=="_persist"||e&&e.indexOf(M)!==-1)}function I(M){l&&l(M)}var O=function(){for(;m.length!==0;)x();return w||Promise.resolve()};return{update:A,flush:O}}function Yje(n){return JSON.stringify(n)}function Kje(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Y5).concat(n.key),i=n.storage;n.debug;var r;return n.deserialize===!1?r=function(o){return o}:typeof n.deserialize=="function"?r=n.deserialize:r=qje,i.getItem(t).then(function(s){if(s)try{var o={},a=r(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(d,f){return f.out(d,l,a)},r(a[l]))}),o}catch(l){throw l}else return})}function qje(n){return JSON.parse(n)}function Zje(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Y5).concat(n.key);return e.removeItem(t,Qje)}function Qje(n){}function AF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ml(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AF(t,!0).forEach(function(i){Jje(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AF(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Jje(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xje(n,e){if(n==null)return{};var t=eUe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function eUe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var tUe=5e3;function nUe(n,e){var t=n.version!==void 0?n.version:Uje;n.debug;var i=n.stateReconciler===void 0?Wje:n.stateReconciler,r=n.getStoredState||Kje,s=n.timeout!==void 0?n.timeout:tUe,o=null,a=!1,l=!0,d=function(m){return m._persist.rehydrated&&o&&!l&&o.update(m),m};return function(f,m){var p=f||{},w=p._persist,A=Xje(p,["_persist"]),x=A;if(m.type===jJ){var S=!1,P=function(L,ee){S||(m.rehydrate(n.key,L,ee),S=!0)};if(s&&setTimeout(function(){!S&&P(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),l=!1,o||(o=Gje(n)),w)return Ml({},e(x,m),{_persist:w});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(n.key),r(n).then(function($){var L=n.migrate||function(ee,pe){return Promise.resolve(ee)};L($,t).then(function(ee){P(ee)},function(ee){P(void 0,ee)})},function($){P(void 0,$)}),Ml({},e(x,m),{_persist:{version:t,rehydrated:!1}})}else{if(m.type===UJ)return a=!0,m.result(Zje(n)),Ml({},e(x,m),{_persist:w});if(m.type===FJ)return m.result(o&&o.flush()),Ml({},e(x,m),{_persist:w});if(m.type===zJ)l=!0;else if(m.type===K5){if(a)return Ml({},x,{_persist:Ml({},w,{rehydrated:!0})});if(m.key===n.key){var I=e(x,m),O=m.payload,M=i!==!1&&O!==void 0?i(O,f,I,n):I,B=Ml({},M,{_persist:Ml({},w,{rehydrated:!0})});return d(B)}}}if(!w)return e(f,m);var W=e(x,m);return W===x?f:d(Ml({},W,{_persist:w}))}}function kF(n){return sUe(n)||rUe(n)||iUe()}function iUe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rUe(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function sUe(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function xF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xF(t,!0).forEach(function(i){oUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xF(t).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oUe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var HJ={registry:[],bootstrapped:!1},aUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:HJ,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $J:return GI({},e,{registry:[].concat(kF(e.registry),[t.key])});case K5:var i=e.registry.indexOf(t.key),r=kF(e.registry);return r.splice(i,1),GI({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function lUe(n,e,t){var i=nP(aUe,HJ,void 0),r=function(l){i.dispatch({type:$J,key:l})},s=function(l,d,f){var m={type:K5,payload:d,err:f,key:l};n.dispatch(m),i.dispatch(m)},o=GI({},i,{purge:function(){var l=[];return n.dispatch({type:UJ,result:function(f){l.push(f)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:FJ,result:function(f){l.push(f)}}),Promise.all(l)},pause:function(){n.dispatch({type:zJ})},persist:function(){n.dispatch({type:jJ,register:r,rehydrate:s})}});return o.persist(),o}const cUe=X8({user:mhe,category:Mke}),uUe={key:"root",storage:jje},dUe=nUe(uUe,cUe),WJ=ehe({reducer:dUe,middleware:n=>n({serializableCheck:!1})}),fUe=lUe(WJ);function M0(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M0=function(t){return typeof t}:M0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(n)}function hUe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function mUe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function gUe(n,e,t){return e&&mUe(n.prototype,e),n}function pUe(n,e){return e&&(M0(e)==="object"||typeof e=="function")?e:B0(n)}function YI(n){return YI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},YI(n)}function B0(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bUe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&KI(n,e)}function KI(n,e){return KI=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},KI(n,e)}function V0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var GJ=(function(n){bUe(e,n);function e(){var t,i;hUe(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=pUe(this,(t=YI(e)).call.apply(t,[this].concat(s))),V0(B0(i),"state",{bootstrapped:!1}),V0(B0(i),"_unsubscribe",void 0),V0(B0(i),"handlePersistorState",function(){var a=i.props.persistor,l=a.getState(),d=l.bootstrapped;d&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return gUe(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e})(C.PureComponent);V0(GJ,"defaultProps",{children:null,loading:null});cee.createRoot(document.getElementById("root")).render(y.jsx(Vne,{store:WJ,children:y.jsxs(GJ,{loading:y.jsx("div",{children:"Loading..."}),persistor:fUe,children:[y.jsx(Pfe,{}),y.jsx(Bje,{})]})}))});export default vUe();
